/*! For license information please see main.09be3bf8.js.LICENSE.txt */
!function(){var e={7228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n},e.exports.__esModule=!0,e.exports.default=e.exports},2858:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3646:function(e,t,i){var n=i(7228);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},1506:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},4575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},9100:function(e,t,i){var n=i(9489),r=i(7067);function o(t,i,a){return r()?(e.exports=o=Reflect.construct,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=o=function(e,t,i){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return i&&n(o,i.prototype),o},e.exports.__esModule=!0,e.exports.default=e.exports),o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},3913:function(e){function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},3269:function(e,t,i){var n=i(379);e.exports=function(e,t){var i="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=n(e))||t&&e&&"number"===typeof e.length){i&&(e=i);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==i.return||i.return()}finally{if(l)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},9842:function(e,t,i){var n=i(9754),r=i(7067),o=i(8585);e.exports=function(e){var t=r();return function(){var i,r=n(e);if(t){var a=n(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return o(this,i)}},e.exports.__esModule=!0,e.exports.default=e.exports},9713:function(e){e.exports=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},e.exports.__esModule=!0,e.exports.default=e.exports},6525:function(e,t,i){var n=i(8331);function r(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=r=Reflect.get,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=r=function(e,t,i){var r=n(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:i):o.value}},e.exports.__esModule=!0,e.exports.default=e.exports),r.apply(this,arguments)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},9754:function(e){function t(i){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2205:function(e,t,i){var n=i(9489);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},430:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},7067:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},6860:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},3884:function(e){e.exports=function(e,t){var i=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(l){s=!0,r=l}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},8206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},8585:function(e,t,i){var n=i(8).default,r=i(1506);e.exports=function(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9489:function(e){function t(i,n){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(i,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3038:function(e,t,i){var n=i(2858),r=i(3884),o=i(379),a=i(521);e.exports=function(e,t){return n(e)||r(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},8331:function(e,t,i){var n=i(9754);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},8551:function(e,t,i){var n=i(2858),r=i(6860),o=i(379),a=i(521);e.exports=function(e){return n(e)||r(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},319:function(e,t,i){var n=i(3646),r=i(6860),o=i(379),a=i(8206);e.exports=function(e){return n(e)||r(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},8:function(e){function t(i){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},379:function(e,t,i){var n=i(7228);e.exports=function(e,t){if(e){if("string"===typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},5957:function(e,t,i){var n=i(9754),r=i(9489),o=i(430),a=i(9100);function s(t){var i="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof i){if(i.has(e))return i.get(e);i.set(e,t)}function t(){return a(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},5462:function(e,t,i){"use strict";var n=i(9220),r=i(1725),o=i(5117);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(a(227));function s(e,t,i,n,r,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(i,u)}catch(c){this.onError(c)}}var l=!1,u=null,c=!1,h=null,d={onError:function(e){l=!0,u=e}};function p(e,t,i,n,r,o,a,c,h){l=!1,u=null,s.apply(d,arguments)}var f=null,m=null,g=null;function y(e,t,i){var n=e.type||"unknown-event";e.currentTarget=g(i),function(e,t,i,n,r,o,s,d,f){if(p.apply(this,arguments),l){if(!l)throw Error(a(198));var m=u;l=!1,u=null,c||(c=!0,h=m)}}(n,t,void 0,e),e.currentTarget=null}var v=null,b={};function x(){if(v)for(var e in b){var t=b[e],i=v.indexOf(e);if(!(-1<i))throw Error(a(96,e));if(!w[i]){if(!t.extractEvents)throw Error(a(97,e));for(var n in w[i]=t,i=t.eventTypes){var r=void 0,o=i[n],s=t,l=n;if(S.hasOwnProperty(l))throw Error(a(99,l));S[l]=o;var u=o.phasedRegistrationNames;if(u){for(r in u)u.hasOwnProperty(r)&&_(u[r],s,l);r=!0}else o.registrationName?(_(o.registrationName,s,l),r=!0):r=!1;if(!r)throw Error(a(98,n,e))}}}}function _(e,t,i){if(k[e])throw Error(a(100,e));k[e]=t,C[e]=t.eventTypes[i].dependencies}var w=[],S={},k={},C={};function T(e){var t,i=!1;for(t in e)if(e.hasOwnProperty(t)){var n=e[t];if(!b.hasOwnProperty(t)||b[t]!==n){if(b[t])throw Error(a(102,t));b[t]=n,i=!0}}i&&x()}var E=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),A=null,P=null,M=null;function L(e){if(e=m(e)){if("function"!==typeof A)throw Error(a(280));var t=e.stateNode;t&&(t=f(t),A(e.stateNode,e.type,t))}}function O(e){P?M?M.push(e):M=[e]:P=e}function R(){if(P){var e=P,t=M;if(M=P=null,L(e),t)for(e=0;e<t.length;e++)L(t[e])}}function I(e,t){return e(t)}function D(e,t,i,n,r){return e(t,i,n,r)}function z(){}var B=I,F=!1,N=!1;function j(){null===P&&null===M||(z(),R())}function V(e,t,i){if(N)return e(t,i);N=!0;try{return B(e,t,i)}finally{N=!1,j()}}var U=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W=Object.prototype.hasOwnProperty,H={},G={};function q(e,t,i,n,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=o}var Z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){Z[e]=new q(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];Z[t]=new q(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){Z[e]=new q(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){Z[e]=new q(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){Z[e]=new q(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){Z[e]=new q(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){Z[e]=new q(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){Z[e]=new q(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){Z[e]=new q(e,5,!1,e.toLowerCase(),null,!1)}));var X=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(X,Y);Z[t]=new q(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(X,Y);Z[t]=new q(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(X,Y);Z[t]=new q(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){Z[e]=new q(e,1,!1,e.toLowerCase(),null,!1)})),Z.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){Z[e]=new q(e,1,!1,e.toLowerCase(),null,!0)}));var $=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function K(e,t,i,n){var r=Z.hasOwnProperty(t)?Z[t]:null;(null!==r?0===r.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,i,n){if(null===t||"undefined"===typeof t||function(e,t,i,n){if(null!==i&&0===i.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,i,r,n)&&(i=null),n||null===r?function(e){return!!W.call(G,e)||!W.call(H,e)&&(U.test(e)?G[e]=!0:(H[e]=!0,!1))}(t)&&(null===i?e.removeAttribute(t):e.setAttribute(t,""+i)):r.mustUseProperty?e[r.propertyName]=null===i?3!==r.type&&"":i:(t=r.attributeName,n=r.attributeNamespace,null===i?e.removeAttribute(t):(i=3===(r=r.type)||4===r&&!0===i?"":""+i,n?e.setAttributeNS(n,t,i):e.setAttribute(t,i))))}$.hasOwnProperty("ReactCurrentDispatcher")||($.ReactCurrentDispatcher={current:null}),$.hasOwnProperty("ReactCurrentBatchConfig")||($.ReactCurrentBatchConfig={suspense:null});var Q=/^(.*)[\\\/]/,J="function"===typeof Symbol&&Symbol.for,ee=J?Symbol.for("react.element"):60103,te=J?Symbol.for("react.portal"):60106,ie=J?Symbol.for("react.fragment"):60107,ne=J?Symbol.for("react.strict_mode"):60108,re=J?Symbol.for("react.profiler"):60114,oe=J?Symbol.for("react.provider"):60109,ae=J?Symbol.for("react.context"):60110,se=J?Symbol.for("react.concurrent_mode"):60111,le=J?Symbol.for("react.forward_ref"):60112,ue=J?Symbol.for("react.suspense"):60113,ce=J?Symbol.for("react.suspense_list"):60120,he=J?Symbol.for("react.memo"):60115,de=J?Symbol.for("react.lazy"):60116,pe=J?Symbol.for("react.block"):60121,fe="function"===typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=fe&&e[fe]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ie:return"Fragment";case te:return"Portal";case re:return"Profiler";case ne:return"StrictMode";case ue:return"Suspense";case ce:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case he:return ge(e.type);case pe:return ge(e.render);case de:if(e=1===e._status?e._result:null)return ge(e)}return null}function ye(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var i="";break e;default:var n=e._debugOwner,r=e._debugSource,o=ge(e.type);i=null,n&&(i=ge(n.type)),n=o,o="",r?o=" (at "+r.fileName.replace(Q,"")+":"+r.lineNumber+")":i&&(o=" (created by "+i+")"),i="\n    in "+(n||"Unknown")+o}t+=i,e=e.return}while(e);return t}function ve(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function xe(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var r=i.get,o=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function _e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),n="";return e&&(n=be(e)?e.checked?"true":"false":e.value),(e=n)!==i&&(t.setValue(e),!0)}function we(e,t){var i=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:e._wrapperState.initialChecked})}function Se(e,t){var i=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;i=ve(null!=t.value?t.value:i),e._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ke(e,t){null!=(t=t.checked)&&K(e,"checked",t,!1)}function Ce(e,t){ke(e,t);var i=ve(t.value),n=t.type;if(null!=i)"number"===n?(0===i&&""===e.value||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ee(e,t.type,i):t.hasOwnProperty("defaultValue")&&Ee(e,t.type,ve(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Te(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}""!==(i=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==i&&(e.name=i)}function Ee(e,t,i){"number"===t&&e.ownerDocument.activeElement===e||(null==i?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}function Ae(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Pe(e,t,i,n){if(e=e.options,t){t={};for(var r=0;r<i.length;r++)t["$"+i[r]]=!0;for(i=0;i<e.length;i++)r=t.hasOwnProperty("$"+e[i].value),e[i].selected!==r&&(e[i].selected=r),r&&n&&(e[i].defaultSelected=!0)}else{for(i=""+ve(i),t=null,r=0;r<e.length;r++){if(e[r].value===i)return e[r].selected=!0,void(n&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Me(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Le(e,t){var i=t.value;if(null==i){if(i=t.children,t=t.defaultValue,null!=i){if(null!=t)throw Error(a(92));if(Array.isArray(i)){if(!(1>=i.length))throw Error(a(93));i=i[0]}t=i}null==t&&(t=""),i=t}e._wrapperState={initialValue:ve(i)}}function Oe(e,t){var i=ve(t.value),n=ve(t.defaultValue);null!=i&&((i=""+i)!==e.value&&(e.value=i),null==t.defaultValue&&e.defaultValue!==i&&(e.defaultValue=i)),null!=n&&(e.defaultValue=""+n)}function Re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ie="http://www.w3.org/1999/xhtml",De="http://www.w3.org/2000/svg";function ze(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Be(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ze(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,Ne,je=(Ne=function(e,t){if(e.namespaceURI!==De||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,i,n){MSApp.execUnsafeLocalFunction((function(){return Ne(e,t)}))}:Ne);function Ve(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&3===i.nodeType)return void(i.nodeValue=t)}e.textContent=t}function Ue(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var We={animationend:Ue("Animation","AnimationEnd"),animationiteration:Ue("Animation","AnimationIteration"),animationstart:Ue("Animation","AnimationStart"),transitionend:Ue("Transition","TransitionEnd")},He={},Ge={};function qe(e){if(He[e])return He[e];if(!We[e])return e;var t,i=We[e];for(t in i)if(i.hasOwnProperty(t)&&t in Ge)return He[e]=i[t];return e}E&&(Ge=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);var Ze=qe("animationend"),Xe=qe("animationiteration"),Ye=qe("animationstart"),$e=qe("transitionend"),Ke="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qe=new("function"===typeof WeakMap?WeakMap:Map);function Je(e){var t=Qe.get(e);return void 0===t&&(t=new Map,Qe.set(e,t)),t}function et(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(i=t.return),e=t.return}while(e)}return 3===t.tag?i:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function it(e){if(et(e)!==e)throw Error(a(188))}function nt(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(a(188));return t!==e?null:e}for(var i=e,n=t;;){var r=i.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(n=r.return)){i=n;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===i)return it(r),e;if(o===n)return it(r),t;o=o.sibling}throw Error(a(188))}if(i.return!==n.return)i=r,n=o;else{for(var s=!1,l=r.child;l;){if(l===i){s=!0,i=r,n=o;break}if(l===n){s=!0,n=r,i=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===i){s=!0,i=o,n=r;break}if(l===n){s=!0,n=o,i=r;break}l=l.sibling}if(!s)throw Error(a(189))}}if(i.alternate!==n)throw Error(a(190))}if(3!==i.tag)throw Error(a(188));return i.stateNode.current===i?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function ot(e,t,i){Array.isArray(e)?e.forEach(t,i):e&&t.call(i,e)}var at=null;function st(e){if(e){var t=e._dispatchListeners,i=e._dispatchInstances;if(Array.isArray(t))for(var n=0;n<t.length&&!e.isPropagationStopped();n++)y(e,t[n],i[n]);else t&&y(e,t,i);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function lt(e){if(null!==e&&(at=rt(at,e)),e=at,at=null,e){if(ot(e,st),at)throw Error(a(95));if(c)throw e=h,c=!1,h=null,e}}function ut(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!E)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ht=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ht.length&&ht.push(e)}function pt(e,t,i,n){if(ht.length){var r=ht.pop();return r.topLevelType=e,r.eventSystemFlags=n,r.nativeEvent=t,r.targetInst=i,r}return{topLevelType:e,eventSystemFlags:n,nativeEvent:t,targetInst:i,ancestors:[]}}function ft(e){var t=e.targetInst,i=t;do{if(!i){e.ancestors.push(i);break}var n=i;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}if(!n)break;5!==(t=i.tag)&&6!==t||e.ancestors.push(i),i=Mi(n)}while(i);for(i=0;i<e.ancestors.length;i++){t=e.ancestors[i];var r=ut(e.nativeEvent);n=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===i&&(a|=64);for(var s=null,l=0;l<w.length;l++){var u=w[l];u&&(u=u.extractEvents(n,t,o,r,a))&&(s=rt(s,u))}lt(s)}}function mt(e,t,i){if(!i.has(e)){switch(e){case"scroll":Yt(t,"scroll",!0);break;case"focus":case"blur":Yt(t,"focus",!0),Yt(t,"blur",!0),i.set("blur",null),i.set("focus",null);break;case"cancel":case"close":ct(e)&&Yt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ke.indexOf(e)&&Xt(e,t)}i.set(e,null)}}var gt,yt,vt,bt=!1,xt=[],_t=null,wt=null,St=null,kt=new Map,Ct=new Map,Tt=[],Et="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),At="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Pt(e,t,i,n,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|i,nativeEvent:r,container:n}}function Mt(e,t){switch(e){case"focus":case"blur":_t=null;break;case"dragenter":case"dragleave":wt=null;break;case"mouseover":case"mouseout":St=null;break;case"pointerover":case"pointerout":kt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ct.delete(t.pointerId)}}function Lt(e,t,i,n,r,o){return null===e||e.nativeEvent!==o?(e=Pt(t,i,n,r,o),null!==t&&(null!==(t=Li(t))&&yt(t)),e):(e.eventSystemFlags|=n,e)}function Ot(e){var t=Mi(e.target);if(null!==t){var i=et(t);if(null!==i)if(13===(t=i.tag)){if(null!==(t=tt(i)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){vt(i)}))}else if(3===t&&i.stateNode.hydrate)return void(e.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}e.blockedOn=null}function Rt(e){if(null!==e.blockedOn)return!1;var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var i=Li(t);return null!==i&&yt(i),e.blockedOn=t,!1}return!0}function It(e,t,i){Rt(e)&&i.delete(t)}function Dt(){for(bt=!1;0<xt.length;){var e=xt[0];if(null!==e.blockedOn){null!==(e=Li(e.blockedOn))&&gt(e);break}var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:xt.shift()}null!==_t&&Rt(_t)&&(_t=null),null!==wt&&Rt(wt)&&(wt=null),null!==St&&Rt(St)&&(St=null),kt.forEach(It),Ct.forEach(It)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,bt||(bt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Dt)))}function Bt(e){function t(t){return zt(t,e)}if(0<xt.length){zt(xt[0],e);for(var i=1;i<xt.length;i++){var n=xt[i];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==_t&&zt(_t,e),null!==wt&&zt(wt,e),null!==St&&zt(St,e),kt.forEach(t),Ct.forEach(t),i=0;i<Tt.length;i++)(n=Tt[i]).blockedOn===e&&(n.blockedOn=null);for(;0<Tt.length&&null===(i=Tt[0]).blockedOn;)Ot(i),null===i.blockedOn&&Tt.shift()}var Ft={},Nt=new Map,jt=new Map,Vt=["abort","abort",Ze,"animationEnd",Xe,"animationIteration",Ye,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",$e,"transitionEnd","waiting","waiting"];function Ut(e,t){for(var i=0;i<e.length;i+=2){var n=e[i],r=e[i+1],o="on"+(r[0].toUpperCase()+r.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[n],eventPriority:t},jt.set(n,t),Nt.set(n,o),Ft[r]=o}}Ut("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ut("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ut(Vt,2);for(var Wt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ht=0;Ht<Wt.length;Ht++)jt.set(Wt[Ht],0);var Gt=o.unstable_UserBlockingPriority,qt=o.unstable_runWithPriority,Zt=!0;function Xt(e,t){Yt(t,e,!1)}function Yt(e,t,i){var n=jt.get(t);switch(void 0===n?2:n){case 0:n=$t.bind(null,t,1,e);break;case 1:n=Kt.bind(null,t,1,e);break;default:n=Qt.bind(null,t,1,e)}i?e.addEventListener(t,n,!0):e.addEventListener(t,n,!1)}function $t(e,t,i,n){F||z();var r=Qt,o=F;F=!0;try{D(r,e,t,i,n)}finally{(F=o)||j()}}function Kt(e,t,i,n){qt(Gt,Qt.bind(null,e,t,i,n))}function Qt(e,t,i,n){if(Zt)if(0<xt.length&&-1<Et.indexOf(e))e=Pt(null,e,t,i,n),xt.push(e);else{var r=Jt(e,t,i,n);if(null===r)Mt(e,n);else if(-1<Et.indexOf(e))e=Pt(r,e,t,i,n),xt.push(e);else if(!function(e,t,i,n,r){switch(t){case"focus":return _t=Lt(_t,e,t,i,n,r),!0;case"dragenter":return wt=Lt(wt,e,t,i,n,r),!0;case"mouseover":return St=Lt(St,e,t,i,n,r),!0;case"pointerover":var o=r.pointerId;return kt.set(o,Lt(kt.get(o)||null,e,t,i,n,r)),!0;case"gotpointercapture":return o=r.pointerId,Ct.set(o,Lt(Ct.get(o)||null,e,t,i,n,r)),!0}return!1}(r,e,t,i,n)){Mt(e,n),e=pt(e,n,null,t);try{V(ft,e)}finally{dt(e)}}}}function Jt(e,t,i,n){if(null!==(i=Mi(i=ut(n)))){var r=et(i);if(null===r)i=null;else{var o=r.tag;if(13===o){if(null!==(i=tt(r)))return i;i=null}else if(3===o){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}e=pt(e,n,i,t);try{V(ft,e)}finally{dt(e)}return null}var ei={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ti=["Webkit","ms","Moz","O"];function ii(e,t,i){return null==t||"boolean"===typeof t||""===t?"":i||"number"!==typeof t||0===t||ei.hasOwnProperty(e)&&ei[e]?(""+t).trim():t+"px"}function ni(e,t){for(var i in e=e.style,t)if(t.hasOwnProperty(i)){var n=0===i.indexOf("--"),r=ii(i,t[i],n);"float"===i&&(i="cssFloat"),n?e.setProperty(i,r):e[i]=r}}Object.keys(ei).forEach((function(e){ti.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ei[t]=ei[e]}))}));var ri=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oi(e,t){if(t){if(ri[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62,""))}}function ai(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var si=Ie;function li(e,t){var i=Je(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=C[t];for(var n=0;n<t.length;n++)mt(t[n],e,i)}function ui(){}function ci(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function hi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function di(e,t){var i,n=hi(e);for(e=0;n;){if(3===n.nodeType){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hi(n)}}function pi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fi(){for(var e=window,t=ci();t instanceof e.HTMLIFrameElement;){try{var i="string"===typeof t.contentWindow.location.href}catch(n){i=!1}if(!i)break;t=ci((e=t.contentWindow).document)}return t}function mi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gi="$?",yi="$!",vi=null,bi=null;function xi(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function _i(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var wi="function"===typeof setTimeout?setTimeout:void 0,Si="function"===typeof clearTimeout?clearTimeout:void 0;function ki(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var i=e.data;if("$"===i||i===yi||i===gi){if(0===t)return e;t--}else"/$"===i&&t++}e=e.previousSibling}return null}var Ti=Math.random().toString(36).slice(2),Ei="__reactInternalInstance$"+Ti,Ai="__reactEventHandlers$"+Ti,Pi="__reactContainere$"+Ti;function Mi(e){var t=e[Ei];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Pi]||i[Ei]){if(i=t.alternate,null!==t.child||null!==i&&null!==i.child)for(e=Ci(e);null!==e;){if(i=e[Ei])return i;e=Ci(e)}return t}i=(e=i).parentNode}return null}function Li(e){return!(e=e[Ei]||e[Pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Oi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Ri(e){return e[Ai]||null}function Ii(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Di(e,t){var i=e.stateNode;if(!i)return null;var n=f(i);if(!n)return null;i=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(i&&"function"!==typeof i)throw Error(a(231,t,typeof i));return i}function zi(e,t,i){(t=Di(e,i.dispatchConfig.phasedRegistrationNames[t]))&&(i._dispatchListeners=rt(i._dispatchListeners,t),i._dispatchInstances=rt(i._dispatchInstances,e))}function Bi(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,i=[];t;)i.push(t),t=Ii(t);for(t=i.length;0<t--;)zi(i[t],"captured",e);for(t=0;t<i.length;t++)zi(i[t],"bubbled",e)}}function Fi(e,t,i){e&&i&&i.dispatchConfig.registrationName&&(t=Di(e,i.dispatchConfig.registrationName))&&(i._dispatchListeners=rt(i._dispatchListeners,t),i._dispatchInstances=rt(i._dispatchInstances,e))}function Ni(e){e&&e.dispatchConfig.registrationName&&Fi(e._targetInst,null,e)}function ji(e){ot(e,Bi)}var Vi=null,Ui=null,Wi=null;function Hi(){if(Wi)return Wi;var e,t,i=Ui,n=i.length,r="value"in Vi?Vi.value:Vi.textContent,o=r.length;for(e=0;e<n&&i[e]===r[e];e++);var a=n-e;for(t=1;t<=a&&i[n-t]===r[o-t];t++);return Wi=r.slice(e,1<t?1-t:void 0)}function Gi(){return!0}function qi(){return!1}function Zi(e,t,i,n){for(var r in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=i,e=this.constructor.Interface)e.hasOwnProperty(r)&&((t=e[r])?this[r]=t(i):"target"===r?this.target=n:this[r]=i[r]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Gi:qi,this.isPropagationStopped=qi,this}function Xi(e,t,i,n){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,t,i,n),r}return new this(e,t,i,n)}function Yi(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function $i(e){e.eventPool=[],e.getPooled=Xi,e.release=Yi}r(Zi.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){this.isPersistent=Gi},isPersistent:qi,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=qi,this._dispatchInstances=this._dispatchListeners=null}}),Zi.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Zi.extend=function(e){function t(){}function i(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var o=new t;return r(o,i.prototype),i.prototype=o,i.prototype.constructor=i,i.Interface=r({},n.Interface,e),i.extend=n.extend,$i(i),i},$i(Zi);var Ki=Zi.extend({data:null}),Qi=Zi.extend({data:null}),Ji=[9,13,27,32],en=E&&"CompositionEvent"in window,tn=null;E&&"documentMode"in document&&(tn=document.documentMode);var nn=E&&"TextEvent"in window&&!tn,rn=E&&(!en||tn&&8<tn&&11>=tn),on=String.fromCharCode(32),an={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},sn=!1;function ln(e,t){switch(e){case"keyup":return-1!==Ji.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var cn=!1;var hn={eventTypes:an,extractEvents:function(e,t,i,n){var r;if(en)e:{switch(e){case"compositionstart":var o=an.compositionStart;break e;case"compositionend":o=an.compositionEnd;break e;case"compositionupdate":o=an.compositionUpdate;break e}o=void 0}else cn?ln(e,i)&&(o=an.compositionEnd):"keydown"===e&&229===i.keyCode&&(o=an.compositionStart);return o?(rn&&"ko"!==i.locale&&(cn||o!==an.compositionStart?o===an.compositionEnd&&cn&&(r=Hi()):(Ui="value"in(Vi=n)?Vi.value:Vi.textContent,cn=!0)),o=Ki.getPooled(o,t,i,n),r?o.data=r:null!==(r=un(i))&&(o.data=r),ji(o),r=o):r=null,(e=nn?function(e,t){switch(e){case"compositionend":return un(t);case"keypress":return 32!==t.which?null:(sn=!0,on);case"textInput":return(e=t.data)===on&&sn?null:e;default:return null}}(e,i):function(e,t){if(cn)return"compositionend"===e||!en&&ln(e,t)?(e=Hi(),Wi=Ui=Vi=null,cn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rn&&"ko"!==t.locale?null:t.data}}(e,i))?((t=Qi.getPooled(an.beforeInput,t,i,n)).data=e,ji(t)):t=null,null===r?t:null===t?r:[r,t]}},dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!dn[e.type]:"textarea"===t}var fn={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function mn(e,t,i){return(e=Zi.getPooled(fn.change,e,t,i)).type="change",O(i),ji(e),e}var gn=null,yn=null;function vn(e){lt(e)}function bn(e){if(_e(Oi(e)))return e}function xn(e,t){if("change"===e)return t}var _n=!1;function wn(){gn&&(gn.detachEvent("onpropertychange",Sn),yn=gn=null)}function Sn(e){if("value"===e.propertyName&&bn(yn))if(e=mn(yn,e,ut(e)),F)lt(e);else{F=!0;try{I(vn,e)}finally{F=!1,j()}}}function kn(e,t,i){"focus"===e?(wn(),yn=i,(gn=t).attachEvent("onpropertychange",Sn)):"blur"===e&&wn()}function Cn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return bn(yn)}function Tn(e,t){if("click"===e)return bn(t)}function En(e,t){if("input"===e||"change"===e)return bn(t)}E&&(_n=ct("input")&&(!document.documentMode||9<document.documentMode));var An={eventTypes:fn,_isInputEventSupported:_n,extractEvents:function(e,t,i,n){var r=t?Oi(t):window,o=r.nodeName&&r.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===r.type)var a=xn;else if(pn(r))if(_n)a=En;else{a=Cn;var s=kn}else(o=r.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(a=Tn);if(a&&(a=a(e,t)))return mn(a,i,n);s&&s(e,r,t),"blur"===e&&(e=r._wrapperState)&&e.controlled&&"number"===r.type&&Ee(r,"number",r.value)}},Pn=Zi.extend({view:null,detail:null}),Mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ln(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Mn[e])&&!!t[e]}function On(){return Ln}var Rn=0,In=0,Dn=!1,zn=!1,Bn=Pn.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:On,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Rn;return Rn=e.screenX,Dn?"mousemove"===e.type?e.screenX-t:0:(Dn=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=In;return In=e.screenY,zn?"mousemove"===e.type?e.screenY-t:0:(zn=!0,0)}}),Fn=Bn.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Nn={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},jn={eventTypes:Nn,extractEvents:function(e,t,i,n,r){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0===(32&r)&&(i.relatedTarget||i.fromElement)||!a&&!o)return null;(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=i.relatedTarget||i.toElement)?Mi(t):null)&&(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Bn,l=Nn.mouseLeave,u=Nn.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Fn,l=Nn.pointerLeave,u=Nn.pointerEnter,c="pointer");if(e=null==a?o:Oi(a),o=null==t?o:Oi(t),(l=s.getPooled(l,a,i,n)).type=c+"leave",l.target=e,l.relatedTarget=o,(i=s.getPooled(u,t,i,n)).type=c+"enter",i.target=o,i.relatedTarget=e,c=t,(n=a)&&c)e:{for(u=c,a=0,e=s=n;e;e=Ii(e))a++;for(e=0,t=u;t;t=Ii(t))e++;for(;0<a-e;)s=Ii(s),a--;for(;0<e-a;)u=Ii(u),e--;for(;a--;){if(s===u||s===u.alternate)break e;s=Ii(s),u=Ii(u)}s=null}else s=null;for(u=s,s=[];n&&n!==u&&(null===(a=n.alternate)||a!==u);)s.push(n),n=Ii(n);for(n=[];c&&c!==u&&(null===(a=c.alternate)||a!==u);)n.push(c),c=Ii(c);for(c=0;c<s.length;c++)Fi(s[c],"bubbled",l);for(c=n.length;0<c--;)Fi(n[c],"captured",i);return 0===(64&r)?[l]:[l,i]}};var Vn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Un=Object.prototype.hasOwnProperty;function Wn(e,t){if(Vn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++)if(!Un.call(t,i[n])||!Vn(e[i[n]],t[i[n]]))return!1;return!0}var Hn=E&&"documentMode"in document&&11>=document.documentMode,Gn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},qn=null,Zn=null,Xn=null,Yn=!1;function $n(e,t){var i=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Yn||null==qn||qn!==ci(i)?null:("selectionStart"in(i=qn)&&mi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},Xn&&Wn(Xn,i)?null:(Xn=i,(e=Zi.getPooled(Gn.select,Zn,e,t)).type="select",e.target=qn,ji(e),e))}var Kn={eventTypes:Gn,extractEvents:function(e,t,i,n,r,o){if(!(o=!(r=o||(n.window===n?n.document:9===n.nodeType?n:n.ownerDocument)))){e:{r=Je(r),o=C.onSelect;for(var a=0;a<o.length;a++)if(!r.has(o[a])){r=!1;break e}r=!0}o=!r}if(o)return null;switch(r=t?Oi(t):window,e){case"focus":(pn(r)||"true"===r.contentEditable)&&(qn=r,Zn=t,Xn=null);break;case"blur":Xn=Zn=qn=null;break;case"mousedown":Yn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Yn=!1,$n(i,n);case"selectionchange":if(Hn)break;case"keydown":case"keyup":return $n(i,n)}return null}},Qn=Zi.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Jn=Zi.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),er=Pn.extend({relatedTarget:null});function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ir={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rr=Pn.extend({key:function(e){if(e.key){var t=ir[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?nr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:On,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),or=Bn.extend({dataTransfer:null}),ar=Pn.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:On}),sr=Zi.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),lr=Bn.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ur={eventTypes:Ft,extractEvents:function(e,t,i,n){var r=Nt.get(e);if(!r)return null;switch(e){case"keypress":if(0===tr(i))return null;case"keydown":case"keyup":e=rr;break;case"blur":case"focus":e=er;break;case"click":if(2===i.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=or;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ar;break;case Ze:case Xe:case Ye:e=Qn;break;case $e:e=sr;break;case"scroll":e=Pn;break;case"wheel":e=lr;break;case"copy":case"cut":case"paste":e=Jn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Fn;break;default:e=Zi}return ji(t=e.getPooled(r,t,i,n)),t}};if(v)throw Error(a(101));v=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x(),f=Ri,m=Li,g=Oi,T({SimpleEventPlugin:ur,EnterLeaveEventPlugin:jn,ChangeEventPlugin:An,SelectEventPlugin:Kn,BeforeInputEventPlugin:hn});var cr=[],hr=-1;function dr(e){0>hr||(e.current=cr[hr],cr[hr]=null,hr--)}function pr(e,t){hr++,cr[hr]=e.current,e.current=t}var fr={},mr={current:fr},gr={current:!1},yr=fr;function vr(e,t){var i=e.type.contextTypes;if(!i)return fr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in i)o[r]=t[r];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function br(e){return null!==(e=e.childContextTypes)&&void 0!==e}function xr(){dr(gr),dr(mr)}function _r(e,t,i){if(mr.current!==fr)throw Error(a(168));pr(mr,t),pr(gr,i)}function wr(e,t,i){var n=e.stateNode;if(e=t.childContextTypes,"function"!==typeof n.getChildContext)return i;for(var o in n=n.getChildContext())if(!(o in e))throw Error(a(108,ge(t)||"Unknown",o));return r({},i,{},n)}function Sr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fr,yr=mr.current,pr(mr,e),pr(gr,gr.current),!0}function kr(e,t,i){var n=e.stateNode;if(!n)throw Error(a(169));i?(e=wr(e,t,yr),n.__reactInternalMemoizedMergedChildContext=e,dr(gr),dr(mr),pr(mr,e)):dr(gr),pr(gr,i)}var Cr=o.unstable_runWithPriority,Tr=o.unstable_scheduleCallback,Er=o.unstable_cancelCallback,Ar=o.unstable_requestPaint,Pr=o.unstable_now,Mr=o.unstable_getCurrentPriorityLevel,Lr=o.unstable_ImmediatePriority,Or=o.unstable_UserBlockingPriority,Rr=o.unstable_NormalPriority,Ir=o.unstable_LowPriority,Dr=o.unstable_IdlePriority,zr={},Br=o.unstable_shouldYield,Fr=void 0!==Ar?Ar:function(){},Nr=null,jr=null,Vr=!1,Ur=Pr(),Wr=1e4>Ur?Pr:function(){return Pr()-Ur};function Hr(){switch(Mr()){case Lr:return 99;case Or:return 98;case Rr:return 97;case Ir:return 96;case Dr:return 95;default:throw Error(a(332))}}function Gr(e){switch(e){case 99:return Lr;case 98:return Or;case 97:return Rr;case 96:return Ir;case 95:return Dr;default:throw Error(a(332))}}function qr(e,t){return e=Gr(e),Cr(e,t)}function Zr(e,t,i){return e=Gr(e),Tr(e,t,i)}function Xr(e){return null===Nr?(Nr=[e],jr=Tr(Lr,$r)):Nr.push(e),zr}function Yr(){if(null!==jr){var e=jr;jr=null,Er(e)}$r()}function $r(){if(!Vr&&null!==Nr){Vr=!0;var e=0;try{var t=Nr;qr(99,(function(){for(;e<t.length;e++){var i=t[e];do{i=i(!0)}while(null!==i)}})),Nr=null}catch(i){throw null!==Nr&&(Nr=Nr.slice(e+1)),Tr(Lr,Yr),i}finally{Vr=!1}}}function Kr(e,t,i){return 1073741821-(1+((1073741821-e+t/10)/(i/=10)|0))*i}function Qr(e,t){if(e&&e.defaultProps)for(var i in t=r({},t),e=e.defaultProps)void 0===t[i]&&(t[i]=e[i]);return t}var Jr={current:null},eo=null,to=null,io=null;function no(){io=to=eo=null}function ro(e){var t=Jr.current;dr(Jr),e.type._context._currentValue=t}function oo(e,t){for(;null!==e;){var i=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==i&&i.childExpirationTime<t&&(i.childExpirationTime=t);else{if(!(null!==i&&i.childExpirationTime<t))break;i.childExpirationTime=t}e=e.return}}function ao(e,t){eo=e,io=to=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ia=!0),e.firstContext=null)}function so(e,t){if(io!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(io=e,t=1073741823),t={context:e,observedBits:t,next:null},null===to){if(null===eo)throw Error(a(308));to=t,eo.dependencies={expirationTime:0,firstContext:t,responders:null}}else to=to.next=t;return e._currentValue}var lo=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function ho(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function po(e,t){if(null!==(e=e.updateQueue)){var i=(e=e.shared).pending;null===i?t.next=t:(t.next=i.next,i.next=t),e.pending=t}}function fo(e,t){var i=e.alternate;null!==i&&co(i,e),null===(i=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=i.next,i.next=t)}function mo(e,t,i,n){var o=e.updateQueue;lo=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,o.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var u=o.baseState,c=0,h=null,d=null,p=null;if(null!==l)for(var f=l;;){if((s=f.expirationTime)<n){var m={expirationTime:f.expirationTime,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null};null===p?(d=p=m,h=u):p=p.next=m,s>c&&(c=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null}),pl(s,f.suspenseConfig);e:{var g=e,y=f;switch(s=t,m=i,y.tag){case 1:if("function"===typeof(g=y.payload)){u=g.call(m,u,s);break e}u=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null===(s="function"===typeof(g=y.payload)?g.call(m,u,s):g)||void 0===s)break e;u=r({},u,s);break e;case 2:lo=!0}}null!==f.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[f]:s.push(f))}if(null===(f=f.next)||f===l){if(null===(s=o.shared.pending))break;f=a.next=s.next,s.next=l,o.baseQueue=a=s,o.shared.pending=null}}null===p?h=u:p.next=d,o.baseState=h,o.baseQueue=p,fl(c),e.expirationTime=c,e.memoizedState=u}}function go(e,t,i){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],r=n.callback;if(null!==r){if(n.callback=null,n=r,r=i,"function"!==typeof n)throw Error(a(191,n));n.call(r)}}}var yo=$.ReactCurrentBatchConfig,vo=(new n.Component).refs;function bo(e,t,i,n){i=null===(i=i(n,t=e.memoizedState))||void 0===i?t:r({},t,i),e.memoizedState=i,0===e.expirationTime&&(e.updateQueue.baseState=i)}var xo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,i){e=e._reactInternalFiber;var n=el(),r=yo.suspense;(r=ho(n=tl(n,e,r),r)).payload=t,void 0!==i&&null!==i&&(r.callback=i),po(e,r),il(e,n)},enqueueReplaceState:function(e,t,i){e=e._reactInternalFiber;var n=el(),r=yo.suspense;(r=ho(n=tl(n,e,r),r)).tag=1,r.payload=t,void 0!==i&&null!==i&&(r.callback=i),po(e,r),il(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var i=el(),n=yo.suspense;(n=ho(i=tl(i,e,n),n)).tag=2,void 0!==t&&null!==t&&(n.callback=t),po(e,n),il(e,i)}};function _o(e,t,i,n,r,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Wn(i,n)||!Wn(r,o))}function wo(e,t,i){var n=!1,r=fr,o=t.contextType;return"object"===typeof o&&null!==o?o=so(o):(r=br(t)?yr:mr.current,o=(n=null!==(n=t.contextTypes)&&void 0!==n)?vr(e,r):fr),t=new t(i,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=xo,e.stateNode=t,t._reactInternalFiber=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function So(e,t,i,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(i,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(i,n),t.state!==e&&xo.enqueueReplaceState(t,t.state,null)}function ko(e,t,i,n){var r=e.stateNode;r.props=i,r.state=e.memoizedState,r.refs=vo,uo(e);var o=t.contextType;"object"===typeof o&&null!==o?r.context=so(o):(o=br(t)?yr:mr.current,r.context=vr(e,o)),mo(e,i,r,n),r.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(bo(e,t,o,i),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&xo.enqueueReplaceState(r,r.state,null),mo(e,i,r,n),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.effectTag|=4)}var Co=Array.isArray;function To(e,t,i){if(null!==(e=i.ref)&&"function"!==typeof e&&"object"!==typeof e){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(a(309));var n=i.stateNode}if(!n)throw Error(a(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=n.refs;t===vo&&(t=n.refs={}),null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!==typeof e)throw Error(a(284));if(!i._owner)throw Error(a(290,e))}return e}function Eo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ao(e){function t(t,i){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=i,t.lastEffect=i):t.firstEffect=t.lastEffect=i,i.nextEffect=null,i.effectTag=8}}function i(i,n){if(!e)return null;for(;null!==n;)t(i,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Il(e,t)).index=0,e.sibling=null,e}function o(t,i,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<i?(t.effectTag=2,i):n:(t.effectTag=2,i):i}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,i,n){return null===t||6!==t.tag?((t=Bl(i,e.mode,n)).return=e,t):((t=r(t,i)).return=e,t)}function u(e,t,i,n){return null!==t&&t.elementType===i.type?((n=r(t,i.props)).ref=To(e,t,i),n.return=e,n):((n=Dl(i.type,i.key,i.props,null,e.mode,n)).ref=To(e,t,i),n.return=e,n)}function c(e,t,i,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==i.containerInfo||t.stateNode.implementation!==i.implementation?((t=Fl(i,e.mode,n)).return=e,t):((t=r(t,i.children||[])).return=e,t)}function h(e,t,i,n,o){return null===t||7!==t.tag?((t=zl(i,e.mode,n,o)).return=e,t):((t=r(t,i)).return=e,t)}function d(e,t,i){if("string"===typeof t||"number"===typeof t)return(t=Bl(""+t,e.mode,i)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(i=Dl(t.type,t.key,t.props,null,e.mode,i)).ref=To(e,null,t),i.return=e,i;case te:return(t=Fl(t,e.mode,i)).return=e,t}if(Co(t)||me(t))return(t=zl(t,e.mode,i,null)).return=e,t;Eo(e,t)}return null}function p(e,t,i,n){var r=null!==t?t.key:null;if("string"===typeof i||"number"===typeof i)return null!==r?null:l(e,t,""+i,n);if("object"===typeof i&&null!==i){switch(i.$$typeof){case ee:return i.key===r?i.type===ie?h(e,t,i.props.children,n,r):u(e,t,i,n):null;case te:return i.key===r?c(e,t,i,n):null}if(Co(i)||me(i))return null!==r?null:h(e,t,i,n,null);Eo(e,i)}return null}function f(e,t,i,n,r){if("string"===typeof n||"number"===typeof n)return l(t,e=e.get(i)||null,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return e=e.get(null===n.key?i:n.key)||null,n.type===ie?h(t,e,n.props.children,r,n.key):u(t,e,n,r);case te:return c(t,e=e.get(null===n.key?i:n.key)||null,n,r)}if(Co(n)||me(n))return h(t,e=e.get(i)||null,n,r,null);Eo(t,n)}return null}function m(r,a,s,l){for(var u=null,c=null,h=a,m=a=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=p(r,h,s[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(r,h),a=o(y,a,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===s.length)return i(r,h),u;if(null===h){for(;m<s.length;m++)null!==(h=d(r,s[m],l))&&(a=o(h,a,m),null===c?u=h:c.sibling=h,c=h);return u}for(h=n(r,h);m<s.length;m++)null!==(g=f(h,r,m,s[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(r,e)})),u}function g(r,s,l,u){var c=me(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var h=c=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=p(r,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(r,m),s=o(b,s,g),null===h?c=b:h.sibling=b,h=b,m=y}if(v.done)return i(r,m),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(r,v.value,u))&&(s=o(v,s,g),null===h?c=v:h.sibling=v,h=v);return c}for(m=n(r,m);!v.done;g++,v=l.next())null!==(v=f(m,r,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=o(v,s,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(r,e)})),c}return function(e,n,o,l){var u="object"===typeof o&&null!==o&&o.type===ie&&null===o.key;u&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case ee:e:{for(c=o.key,u=n;null!==u;){if(u.key===c){if(7===u.tag){if(o.type===ie){i(e,u.sibling),(n=r(u,o.props.children)).return=e,e=n;break e}}else if(u.elementType===o.type){i(e,u.sibling),(n=r(u,o.props)).ref=To(e,u,o),n.return=e,e=n;break e}i(e,u);break}t(e,u),u=u.sibling}o.type===ie?((n=zl(o.props.children,e.mode,l,o.key)).return=e,e=n):((l=Dl(o.type,o.key,o.props,null,e.mode,l)).ref=To(e,n,o),l.return=e,e=l)}return s(e);case te:e:{for(u=o.key;null!==n;){if(n.key===u){if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){i(e,n.sibling),(n=r(n,o.children||[])).return=e,e=n;break e}i(e,n);break}t(e,n),n=n.sibling}(n=Fl(o,e.mode,l)).return=e,e=n}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==n&&6===n.tag?(i(e,n.sibling),(n=r(n,o)).return=e,e=n):(i(e,n),(n=Bl(o,e.mode,l)).return=e,e=n),s(e);if(Co(o))return m(e,n,o,l);if(me(o))return g(e,n,o,l);if(c&&Eo(e,o),"undefined"===typeof o&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return i(e,n)}}var Po=Ao(!0),Mo=Ao(!1),Lo={},Oo={current:Lo},Ro={current:Lo},Io={current:Lo};function Do(e){if(e===Lo)throw Error(a(174));return e}function zo(e,t){switch(pr(Io,t),pr(Ro,e),pr(Oo,Lo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Be(null,"");break;default:t=Be(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}dr(Oo),pr(Oo,t)}function Bo(){dr(Oo),dr(Ro),dr(Io)}function Fo(e){Do(Io.current);var t=Do(Oo.current),i=Be(t,e.type);t!==i&&(pr(Ro,e),pr(Oo,i))}function No(e){Ro.current===e&&(dr(Oo),dr(Ro))}var jo={current:0};function Vo(e){for(var t=e;null!==t;){if(13===t.tag){var i=t.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||i.data===gi||i.data===yi))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Uo(e,t){return{responder:e,props:t}}var Wo=$.ReactCurrentDispatcher,Ho=$.ReactCurrentBatchConfig,Go=0,qo=null,Zo=null,Xo=null,Yo=!1;function $o(){throw Error(a(321))}function Ko(e,t){if(null===t)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Vn(e[i],t[i]))return!1;return!0}function Qo(e,t,i,n,r,o){if(Go=o,qo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Wo.current=null===e||null===e.memoizedState?_a:wa,e=i(n,r),t.expirationTime===Go){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Xo=Zo=null,t.updateQueue=null,Wo.current=Sa,e=i(n,r)}while(t.expirationTime===Go)}if(Wo.current=xa,t=null!==Zo&&null!==Zo.next,Go=0,Xo=Zo=qo=null,Yo=!1,t)throw Error(a(300));return e}function Jo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Xo?qo.memoizedState=Xo=e:Xo=Xo.next=e,Xo}function ea(){if(null===Zo){var e=qo.alternate;e=null!==e?e.memoizedState:null}else e=Zo.next;var t=null===Xo?qo.memoizedState:Xo.next;if(null!==t)Xo=t,Zo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Zo=e).memoizedState,baseState:Zo.baseState,baseQueue:Zo.baseQueue,queue:Zo.queue,next:null},null===Xo?qo.memoizedState=Xo=e:Xo=Xo.next=e}return Xo}function ta(e,t){return"function"===typeof t?t(e):t}function ia(e){var t=ea(),i=t.queue;if(null===i)throw Error(a(311));i.lastRenderedReducer=e;var n=Zo,r=n.baseQueue,o=i.pending;if(null!==o){if(null!==r){var s=r.next;r.next=o.next,o.next=s}n.baseQueue=r=o,i.pending=null}if(null!==r){r=r.next,n=n.baseState;var l=s=o=null,u=r;do{var c=u.expirationTime;if(c<Go){var h={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=h,o=n):l=l.next=h,c>qo.expirationTime&&(qo.expirationTime=c,fl(c))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),pl(c,u.suspenseConfig),n=u.eagerReducer===e?u.eagerState:e(n,u.action);u=u.next}while(null!==u&&u!==r);null===l?o=n:l.next=s,Vn(n,t.memoizedState)||(Ia=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,i.lastRenderedState=n}return[t.memoizedState,i.dispatch]}function na(e){var t=ea(),i=t.queue;if(null===i)throw Error(a(311));i.lastRenderedReducer=e;var n=i.dispatch,r=i.pending,o=t.memoizedState;if(null!==r){i.pending=null;var s=r=r.next;do{o=e(o,s.action),s=s.next}while(s!==r);Vn(o,t.memoizedState)||(Ia=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),i.lastRenderedState=o}return[o,n]}function ra(e){var t=Jo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ta,lastRenderedState:e}).dispatch=ba.bind(null,qo,e),[t.memoizedState,e]}function oa(e,t,i,n){return e={tag:e,create:t,destroy:i,deps:n,next:null},null===(t=qo.updateQueue)?(t={lastEffect:null},qo.updateQueue=t,t.lastEffect=e.next=e):null===(i=t.lastEffect)?t.lastEffect=e.next=e:(n=i.next,i.next=e,e.next=n,t.lastEffect=e),e}function aa(){return ea().memoizedState}function sa(e,t,i,n){var r=Jo();qo.effectTag|=e,r.memoizedState=oa(1|t,i,void 0,void 0===n?null:n)}function la(e,t,i,n){var r=ea();n=void 0===n?null:n;var o=void 0;if(null!==Zo){var a=Zo.memoizedState;if(o=a.destroy,null!==n&&Ko(n,a.deps))return void oa(t,i,o,n)}qo.effectTag|=e,r.memoizedState=oa(1|t,i,o,n)}function ua(e,t){return sa(516,4,e,t)}function ca(e,t){return la(516,4,e,t)}function ha(e,t){return la(4,2,e,t)}function da(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function pa(e,t,i){return i=null!==i&&void 0!==i?i.concat([e]):null,la(4,2,da.bind(null,t,e),i)}function fa(){}function ma(e,t){return Jo().memoizedState=[e,void 0===t?null:t],e}function ga(e,t){var i=ea();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&Ko(t,n[1])?n[0]:(i.memoizedState=[e,t],e)}function ya(e,t){var i=ea();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&Ko(t,n[1])?n[0]:(e=e(),i.memoizedState=[e,t],e)}function va(e,t,i){var n=Hr();qr(98>n?98:n,(function(){e(!0)})),qr(97<n?97:n,(function(){var n=Ho.suspense;Ho.suspense=void 0===t?null:t;try{e(!1),i()}finally{Ho.suspense=n}}))}function ba(e,t,i){var n=el(),r=yo.suspense;r={expirationTime:n=tl(n,e,r),suspenseConfig:r,action:i,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?r.next=r:(r.next=o.next,o.next=r),t.pending=r,o=e.alternate,e===qo||null!==o&&o===qo)Yo=!0,r.expirationTime=Go,qo.expirationTime=Go;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,i);if(r.eagerReducer=o,r.eagerState=s,Vn(s,a))return}catch(l){}il(e,n)}}var xa={readContext:so,useCallback:$o,useContext:$o,useEffect:$o,useImperativeHandle:$o,useLayoutEffect:$o,useMemo:$o,useReducer:$o,useRef:$o,useState:$o,useDebugValue:$o,useResponder:$o,useDeferredValue:$o,useTransition:$o},_a={readContext:so,useCallback:ma,useContext:so,useEffect:ua,useImperativeHandle:function(e,t,i){return i=null!==i&&void 0!==i?i.concat([e]):null,sa(4,2,da.bind(null,t,e),i)},useLayoutEffect:function(e,t){return sa(4,2,e,t)},useMemo:function(e,t){var i=Jo();return t=void 0===t?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var n=Jo();return t=void 0!==i?i(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ba.bind(null,qo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Jo().memoizedState=e},useState:ra,useDebugValue:fa,useResponder:Uo,useDeferredValue:function(e,t){var i=ra(e),n=i[0],r=i[1];return ua((function(){var i=Ho.suspense;Ho.suspense=void 0===t?null:t;try{r(e)}finally{Ho.suspense=i}}),[e,t]),n},useTransition:function(e){var t=ra(!1),i=t[0];return t=t[1],[ma(va.bind(null,t,e),[t,e]),i]}},wa={readContext:so,useCallback:ga,useContext:so,useEffect:ca,useImperativeHandle:pa,useLayoutEffect:ha,useMemo:ya,useReducer:ia,useRef:aa,useState:function(){return ia(ta)},useDebugValue:fa,useResponder:Uo,useDeferredValue:function(e,t){var i=ia(ta),n=i[0],r=i[1];return ca((function(){var i=Ho.suspense;Ho.suspense=void 0===t?null:t;try{r(e)}finally{Ho.suspense=i}}),[e,t]),n},useTransition:function(e){var t=ia(ta),i=t[0];return t=t[1],[ga(va.bind(null,t,e),[t,e]),i]}},Sa={readContext:so,useCallback:ga,useContext:so,useEffect:ca,useImperativeHandle:pa,useLayoutEffect:ha,useMemo:ya,useReducer:na,useRef:aa,useState:function(){return na(ta)},useDebugValue:fa,useResponder:Uo,useDeferredValue:function(e,t){var i=na(ta),n=i[0],r=i[1];return ca((function(){var i=Ho.suspense;Ho.suspense=void 0===t?null:t;try{r(e)}finally{Ho.suspense=i}}),[e,t]),n},useTransition:function(e){var t=na(ta),i=t[0];return t=t[1],[ga(va.bind(null,t,e),[t,e]),i]}},ka=null,Ca=null,Ta=!1;function Ea(e,t){var i=Ol(5,null,null,0);i.elementType="DELETED",i.type="DELETED",i.stateNode=t,i.return=e,i.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=i,e.lastEffect=i):e.firstEffect=e.lastEffect=i}function Aa(e,t){switch(e.tag){case 5:var i=e.type;return null!==(t=1!==t.nodeType||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Pa(e){if(Ta){var t=Ca;if(t){var i=t;if(!Aa(e,t)){if(!(t=ki(i.nextSibling))||!Aa(e,t))return e.effectTag=-1025&e.effectTag|2,Ta=!1,void(ka=e);Ea(ka,i)}ka=e,Ca=ki(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Ta=!1,ka=e}}function Ma(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ka=e}function La(e){if(e!==ka)return!1;if(!Ta)return Ma(e),Ta=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!_i(t,e.memoizedProps))for(t=Ca;t;)Ea(e,t),t=ki(t.nextSibling);if(Ma(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var i=e.data;if("/$"===i){if(0===t){Ca=ki(e.nextSibling);break e}t--}else"$"!==i&&i!==yi&&i!==gi||t++}e=e.nextSibling}Ca=null}}else Ca=ka?ki(e.stateNode.nextSibling):null;return!0}function Oa(){Ca=ka=null,Ta=!1}var Ra=$.ReactCurrentOwner,Ia=!1;function Da(e,t,i,n){t.child=null===e?Mo(t,null,i,n):Po(t,e.child,i,n)}function za(e,t,i,n,r){i=i.render;var o=t.ref;return ao(t,r),n=Qo(e,t,i,n,o,r),null===e||Ia?(t.effectTag|=1,Da(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Qa(e,t,r))}function Ba(e,t,i,n,r,o){if(null===e){var a=i.type;return"function"!==typeof a||Rl(a)||void 0!==a.defaultProps||null!==i.compare||void 0!==i.defaultProps?((e=Dl(i.type,null,n,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fa(e,t,a,n,r,o))}return a=e.child,r<o&&(r=a.memoizedProps,(i=null!==(i=i.compare)?i:Wn)(r,n)&&e.ref===t.ref)?Qa(e,t,o):(t.effectTag|=1,(e=Il(a,n)).ref=t.ref,e.return=t,t.child=e)}function Fa(e,t,i,n,r,o){return null!==e&&Wn(e.memoizedProps,n)&&e.ref===t.ref&&(Ia=!1,r<o)?(t.expirationTime=e.expirationTime,Qa(e,t,o)):ja(e,t,i,n,o)}function Na(e,t){var i=t.ref;(null===e&&null!==i||null!==e&&e.ref!==i)&&(t.effectTag|=128)}function ja(e,t,i,n,r){var o=br(i)?yr:mr.current;return o=vr(t,o),ao(t,r),i=Qo(e,t,i,n,o,r),null===e||Ia?(t.effectTag|=1,Da(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Qa(e,t,r))}function Va(e,t,i,n,r){if(br(i)){var o=!0;Sr(t)}else o=!1;if(ao(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),wo(t,i,n),ko(t,i,n,r),n=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=i.contextType;"object"===typeof u&&null!==u?u=so(u):u=vr(t,u=br(i)?yr:mr.current);var c=i.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||l!==u)&&So(t,a,n,u),lo=!1;var d=t.memoizedState;a.state=d,mo(t,n,a,r),l=t.memoizedState,s!==n||d!==l||gr.current||lo?("function"===typeof c&&(bo(t,i,c,n),l=t.memoizedState),(s=lo||_o(t,i,s,n,d,l,u))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=u,n=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),n=!1)}else a=t.stateNode,co(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Qr(t.type,s),l=a.context,"object"===typeof(u=i.contextType)&&null!==u?u=so(u):u=vr(t,u=br(i)?yr:mr.current),(h="function"===typeof(c=i.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||l!==u)&&So(t,a,n,u),lo=!1,l=t.memoizedState,a.state=l,mo(t,n,a,r),d=t.memoizedState,s!==n||l!==d||gr.current||lo?("function"===typeof c&&(bo(t,i,c,n),d=t.memoizedState),(c=lo||_o(t,i,s,n,l,d,u))?(h||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,d,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,d,u)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=d),a.props=n,a.state=d,a.context=u,n=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),n=!1);return Ua(e,t,i,n,o,r)}function Ua(e,t,i,n,r,o){Na(e,t);var a=0!==(64&t.effectTag);if(!n&&!a)return r&&kr(t,i,!1),Qa(e,t,o);n=t.stateNode,Ra.current=t;var s=a&&"function"!==typeof i.getDerivedStateFromError?null:n.render();return t.effectTag|=1,null!==e&&a?(t.child=Po(t,e.child,null,o),t.child=Po(t,null,s,o)):Da(e,t,s,o),t.memoizedState=n.state,r&&kr(t,i,!0),t.child}function Wa(e){var t=e.stateNode;t.pendingContext?_r(0,t.pendingContext,t.pendingContext!==t.context):t.context&&_r(0,t.context,!1),zo(e,t.containerInfo)}var Ha,Ga,qa,Za={dehydrated:null,retryTime:0};function Xa(e,t,i){var n,r=t.mode,o=t.pendingProps,a=jo.current,s=!1;if((n=0!==(64&t.effectTag))||(n=0!==(2&a)&&(null===e||null!==e.memoizedState)),n?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),pr(jo,1&a),null===e){if(void 0!==o.fallback&&Pa(t),s){if(s=o.fallback,(o=zl(null,r,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(i=zl(s,r,i,null)).return=t,o.sibling=i,t.memoizedState=Za,t.child=o,i}return r=o.children,t.memoizedState=null,t.child=Mo(t,null,r,i)}if(null!==e.memoizedState){if(r=(e=e.child).sibling,s){if(o=o.fallback,(i=Il(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(i.child=s;null!==s;)s.return=i,s=s.sibling;return(r=Il(r,o)).return=t,i.sibling=r,i.childExpirationTime=0,t.memoizedState=Za,t.child=i,r}return i=Po(t,e.child,o.children,i),t.memoizedState=null,t.child=i}if(e=e.child,s){if(s=o.fallback,(o=zl(null,r,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(i=zl(s,r,i,null)).return=t,o.sibling=i,i.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Za,t.child=o,i}return t.memoizedState=null,t.child=Po(t,e,o.children,i)}function Ya(e,t){e.expirationTime<t&&(e.expirationTime=t);var i=e.alternate;null!==i&&i.expirationTime<t&&(i.expirationTime=t),oo(e.return,t)}function $a(e,t,i,n,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:i,tailExpiration:0,tailMode:r,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=i,a.tailExpiration=0,a.tailMode=r,a.lastEffect=o)}function Ka(e,t,i){var n=t.pendingProps,r=n.revealOrder,o=n.tail;if(Da(e,t,n.children,i),0!==(2&(n=jo.current)))n=1&n|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ya(e,i);else if(19===e.tag)Ya(e,i);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(pr(jo,n),0===(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(i=t.child,r=null;null!==i;)null!==(e=i.alternate)&&null===Vo(e)&&(r=i),i=i.sibling;null===(i=r)?(r=t.child,t.child=null):(r=i.sibling,i.sibling=null),$a(t,!1,r,i,o,t.lastEffect);break;case"backwards":for(i=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Vo(e)){t.child=r;break}e=r.sibling,r.sibling=i,i=r,r=e}$a(t,!0,i,null,o,t.lastEffect);break;case"together":$a(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Qa(e,t,i){null!==e&&(t.dependencies=e.dependencies);var n=t.expirationTime;if(0!==n&&fl(n),t.childExpirationTime<i)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(i=Il(e=t.child,e.pendingProps),t.child=i,i.return=t;null!==e.sibling;)e=e.sibling,(i=i.sibling=Il(e,e.pendingProps)).return=t;i.sibling=null}return t.child}function Ja(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;null!==t;)null!==t.alternate&&(i=t),t=t.sibling;null===i?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var n=null;null!==i;)null!==i.alternate&&(n=i),i=i.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function es(e,t,i){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return br(t.type)&&xr(),null;case 3:return Bo(),dr(gr),dr(mr),(i=t.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||!La(t)||(t.effectTag|=4),null;case 5:No(t),i=Do(Io.current);var o=t.type;if(null!==e&&null!=t.stateNode)Ga(e,t,o,n,i),e.ref!==t.ref&&(t.effectTag|=128);else{if(!n){if(null===t.stateNode)throw Error(a(166));return null}if(e=Do(Oo.current),La(t)){n=t.stateNode,o=t.type;var s=t.memoizedProps;switch(n[Ei]=t,n[Ai]=s,o){case"iframe":case"object":case"embed":Xt("load",n);break;case"video":case"audio":for(e=0;e<Ke.length;e++)Xt(Ke[e],n);break;case"source":Xt("error",n);break;case"img":case"image":case"link":Xt("error",n),Xt("load",n);break;case"form":Xt("reset",n),Xt("submit",n);break;case"details":Xt("toggle",n);break;case"input":Se(n,s),Xt("invalid",n),li(i,"onChange");break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Xt("invalid",n),li(i,"onChange");break;case"textarea":Le(n,s),Xt("invalid",n),li(i,"onChange")}for(var l in oi(o,s),e=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?n.textContent!==u&&(e=["children",u]):"number"===typeof u&&n.textContent!==""+u&&(e=["children",""+u]):k.hasOwnProperty(l)&&null!=u&&li(i,l)}switch(o){case"input":xe(n),Te(n,s,!0);break;case"textarea":xe(n),Re(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=ui)}i=e,t.updateQueue=i,null!==i&&(t.effectTag|=4)}else{switch(l=9===i.nodeType?i:i.ownerDocument,e===si&&(e=ze(o)),e===si?"script"===o?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(o,{is:n.is}):(e=l.createElement(o),"select"===o&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,o),e[Ei]=t,e[Ai]=n,Ha(e,t),t.stateNode=e,l=ai(o,n),o){case"iframe":case"object":case"embed":Xt("load",e),u=n;break;case"video":case"audio":for(u=0;u<Ke.length;u++)Xt(Ke[u],e);u=n;break;case"source":Xt("error",e),u=n;break;case"img":case"image":case"link":Xt("error",e),Xt("load",e),u=n;break;case"form":Xt("reset",e),Xt("submit",e),u=n;break;case"details":Xt("toggle",e),u=n;break;case"input":Se(e,n),u=we(e,n),Xt("invalid",e),li(i,"onChange");break;case"option":u=Ae(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},u=r({},n,{value:void 0}),Xt("invalid",e),li(i,"onChange");break;case"textarea":Le(e,n),u=Me(e,n),Xt("invalid",e),li(i,"onChange");break;default:u=n}oi(o,u);var c=u;for(s in c)if(c.hasOwnProperty(s)){var h=c[s];"style"===s?ni(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&je(e,h):"children"===s?"string"===typeof h?("textarea"!==o||""!==h)&&Ve(e,h):"number"===typeof h&&Ve(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(k.hasOwnProperty(s)?null!=h&&li(i,s):null!=h&&K(e,s,h,l))}switch(o){case"input":xe(e),Te(e,n,!1);break;case"textarea":xe(e),Re(e);break;case"option":null!=n.value&&e.setAttribute("value",""+ve(n.value));break;case"select":e.multiple=!!n.multiple,null!=(i=n.value)?Pe(e,!!n.multiple,i,!1):null!=n.defaultValue&&Pe(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof u.onClick&&(e.onclick=ui)}xi(o,n)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)qa(0,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(a(166));i=Do(Io.current),Do(Oo.current),La(t)?(i=t.stateNode,n=t.memoizedProps,i[Ei]=t,i.nodeValue!==n&&(t.effectTag|=4)):((i=(9===i.nodeType?i:i.ownerDocument).createTextNode(n))[Ei]=t,t.stateNode=i)}return null;case 13:return dr(jo),n=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=i,t):(i=null!==n,n=!1,null===e?void 0!==t.memoizedProps.fallback&&La(t):(n=null!==(o=e.memoizedState),i||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),i&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&jo.current)?Ds===As&&(Ds=Ps):(Ds!==As&&Ds!==Ps||(Ds=Ms),0!==js&&null!==Os&&(Vl(Os,Is),Ul(Os,js)))),(i||n)&&(t.effectTag|=4),null);case 4:return Bo(),null;case 10:return ro(t),null;case 19:if(dr(jo),null===(n=t.memoizedState))return null;if(o=0!==(64&t.effectTag),null===(s=n.rendering)){if(o)Ja(n,!1);else if(Ds!==As||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Vo(s))){for(t.effectTag|=64,Ja(n,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===n.lastEffect&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=t.child;null!==n;)s=i,(o=n).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),n=n.sibling;return pr(jo,1&jo.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=Vo(s))){if(t.effectTag|=64,o=!0,null!==(i=e.updateQueue)&&(t.updateQueue=i,t.effectTag|=4),Ja(n,!0),null===n.tail&&"hidden"===n.tailMode&&!s.alternate)return null!==(t=t.lastEffect=n.lastEffect)&&(t.nextEffect=null),null}else 2*Wr()-n.renderingStartTime>n.tailExpiration&&1<i&&(t.effectTag|=64,o=!0,Ja(n,!1),t.expirationTime=t.childExpirationTime=i-1);n.isBackwards?(s.sibling=t.child,t.child=s):(null!==(i=n.last)?i.sibling=s:t.child=s,n.last=s)}return null!==n.tail?(0===n.tailExpiration&&(n.tailExpiration=Wr()+500),i=n.tail,n.rendering=i,n.tail=i.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Wr(),i.sibling=null,t=jo.current,pr(jo,o?1&t|2:1&t),i):null}throw Error(a(156,t.tag))}function ts(e){switch(e.tag){case 1:br(e.type)&&xr();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Bo(),dr(gr),dr(mr),0!==(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return No(e),null;case 13:return dr(jo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return dr(jo),null;case 4:return Bo(),null;case 10:return ro(e),null;default:return null}}function is(e,t){return{value:e,source:t,stack:ye(t)}}Ha=function(e,t){for(var i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Ga=function(e,t,i,n,o){var a=e.memoizedProps;if(a!==n){var s,l,u=t.stateNode;switch(Do(Oo.current),e=null,i){case"input":a=we(u,a),n=we(u,n),e=[];break;case"option":a=Ae(u,a),n=Ae(u,n),e=[];break;case"select":a=r({},a,{value:void 0}),n=r({},n,{value:void 0}),e=[];break;case"textarea":a=Me(u,a),n=Me(u,n),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(u.onclick=ui)}for(s in oi(i,n),i=null,a)if(!n.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in u=a[s])u.hasOwnProperty(l)&&(i||(i={}),i[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(k.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in n){var c=n[s];if(u=null!=a?a[s]:void 0,n.hasOwnProperty(s)&&c!==u&&(null!=c||null!=u))if("style"===s)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(i||(i={}),i[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(i||(i={}),i[l]=c[l])}else i||(e||(e=[]),e.push(s,i)),i=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(s,c)):"children"===s?u===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(k.hasOwnProperty(s)?(null!=c&&li(o,s),e||u===c||(e=[])):(e=e||[]).push(s,c))}i&&(e=e||[]).push("style",i),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},qa=function(e,t,i,n){i!==n&&(t.effectTag|=4)};var ns="function"===typeof WeakSet?WeakSet:Set;function rs(e,t){var i=t.source,n=t.stack;null===n&&null!==i&&(n=ye(i)),null!==i&&ge(i.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(r){setTimeout((function(){throw r}))}}function os(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(i){Tl(e,i)}else t.current=null}function as(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var i=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?i:Qr(t.type,i),n),e.__reactInternalSnapshotBeforeUpdate=t}return}throw Error(a(163))}function ss(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var i=t=t.next;do{if((i.tag&e)===e){var n=i.destroy;i.destroy=void 0,void 0!==n&&n()}i=i.next}while(i!==t)}}function ls(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var i=t=t.next;do{if((i.tag&e)===e){var n=i.create;i.destroy=n()}i=i.next}while(i!==t)}}function us(e,t,i){switch(i.tag){case 0:case 11:case 15:case 22:return void ls(3,i);case 1:if(e=i.stateNode,4&i.effectTag)if(null===t)e.componentDidMount();else{var n=i.elementType===i.type?t.memoizedProps:Qr(i.type,t.memoizedProps);e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=i.updateQueue)&&go(i,t,e));case 3:if(null!==(t=i.updateQueue)){if(e=null,null!==i.child)switch(i.child.tag){case 5:case 1:e=i.child.stateNode}go(i,t,e)}return;case 5:return e=i.stateNode,void(null===t&&4&i.effectTag&&xi(i.type,i.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===i.memoizedState&&(i=i.alternate,null!==i&&(i=i.memoizedState,null!==i&&(i=i.dehydrated,null!==i&&Bt(i)))))}throw Error(a(163))}function cs(e,t,i){switch("function"===typeof Ml&&Ml(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e.next;qr(97<i?97:i,(function(){var e=n;do{var i=e.destroy;if(void 0!==i){var r=t;try{i()}catch(o){Tl(r,o)}}e=e.next}while(e!==n)}))}break;case 1:os(t),"function"===typeof(i=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(i){Tl(e,i)}}(t,i);break;case 5:os(t);break;case 4:gs(e,t,i)}}function hs(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&hs(t)}function ds(e){return 5===e.tag||3===e.tag||4===e.tag}function ps(e){e:{for(var t=e.return;null!==t;){if(ds(t)){var i=t;break e}t=t.return}throw Error(a(160))}switch(t=i.stateNode,i.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(a(161))}16&i.effectTag&&(Ve(t,""),i.effectTag&=-17);e:t:for(i=e;;){for(;null===i.sibling;){if(null===i.return||ds(i.return)){i=null;break e}i=i.return}for(i.sibling.return=i.return,i=i.sibling;5!==i.tag&&6!==i.tag&&18!==i.tag;){if(2&i.effectTag)continue t;if(null===i.child||4===i.tag)continue t;i.child.return=i,i=i.child}if(!(2&i.effectTag)){i=i.stateNode;break e}}n?fs(e,i,t):ms(e,i,t)}function fs(e,t,i){var n=e.tag,r=5===n||6===n;if(r)e=r?e.stateNode:e.stateNode.instance,t?8===i.nodeType?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(8===i.nodeType?(t=i.parentNode).insertBefore(e,i):(t=i).appendChild(e),null!==(i=i._reactRootContainer)&&void 0!==i||null!==t.onclick||(t.onclick=ui));else if(4!==n&&null!==(e=e.child))for(fs(e,t,i),e=e.sibling;null!==e;)fs(e,t,i),e=e.sibling}function ms(e,t,i){var n=e.tag,r=5===n||6===n;if(r)e=r?e.stateNode:e.stateNode.instance,t?i.insertBefore(e,t):i.appendChild(e);else if(4!==n&&null!==(e=e.child))for(ms(e,t,i),e=e.sibling;null!==e;)ms(e,t,i),e=e.sibling}function gs(e,t,i){for(var n,r,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(n=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var l=e,u=o,c=i,h=u;;)if(cs(l,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===u)break e;for(;null===h.sibling;){if(null===h.return||h.return===u)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r?(l=n,u=o.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(cs(e,o,i),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function ys(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ss(3,t);case 1:case 12:case 17:return;case 5:var i=t.stateNode;if(null!=i){var n=t.memoizedProps,r=null!==e?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(i[Ai]=n,"input"===e&&"radio"===n.type&&null!=n.name&&ke(i,n),ai(e,r),t=ai(e,n),r=0;r<o.length;r+=2){var s=o[r],l=o[r+1];"style"===s?ni(i,l):"dangerouslySetInnerHTML"===s?je(i,l):"children"===s?Ve(i,l):K(i,s,l,t)}switch(e){case"input":Ce(i,n);break;case"textarea":Oe(i,n);break;case"select":t=i._wrapperState.wasMultiple,i._wrapperState.wasMultiple=!!n.multiple,null!=(e=n.value)?Pe(i,!!n.multiple,e,!1):t!==!!n.multiple&&(null!=n.defaultValue?Pe(i,!!n.multiple,n.defaultValue,!0):Pe(i,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Bt(t.containerInfo)));case 13:if(i=t,null===t.memoizedState?n=!1:(n=!0,i=t.child,Us=Wr()),null!==i)e:for(e=i;;){if(5===e.tag)o=e.stateNode,n?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,r=void 0!==(r=e.memoizedProps.style)&&null!==r&&r.hasOwnProperty("display")?r.display:null,o.style.display=ii("display",r));else if(6===e.tag)e.stateNode.nodeValue=n?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===i)break;for(;null===e.sibling;){if(null===e.return||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void vs(t);case 19:return void vs(t)}throw Error(a(163))}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var i=e.stateNode;null===i&&(i=e.stateNode=new ns),t.forEach((function(t){var n=Al.bind(null,e,t);i.has(t)||(i.add(t),t.then(n,n))}))}}var bs="function"===typeof WeakMap?WeakMap:Map;function xs(e,t,i){(i=ho(i,null)).tag=3,i.payload={element:null};var n=t.value;return i.callback=function(){Hs||(Hs=!0,Gs=n),rs(e,t)},i}function _s(e,t,i){(i=ho(i,null)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var r=t.value;i.payload=function(){return rs(e,t),n(r)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(i.callback=function(){"function"!==typeof n&&(null===qs?qs=new Set([this]):qs.add(this),rs(e,t));var i=t.stack;this.componentDidCatch(t.value,{componentStack:null!==i?i:""})}),i}var ws,Ss=Math.ceil,ks=$.ReactCurrentDispatcher,Cs=$.ReactCurrentOwner,Ts=16,Es=32,As=0,Ps=3,Ms=4,Ls=0,Os=null,Rs=null,Is=0,Ds=As,zs=null,Bs=1073741823,Fs=1073741823,Ns=null,js=0,Vs=!1,Us=0,Ws=null,Hs=!1,Gs=null,qs=null,Zs=!1,Xs=null,Ys=90,$s=null,Ks=0,Qs=null,Js=0;function el(){return 0!==(48&Ls)?1073741821-(Wr()/10|0):0!==Js?Js:Js=1073741821-(Wr()/10|0)}function tl(e,t,i){if(0===(2&(t=t.mode)))return 1073741823;var n=Hr();if(0===(4&t))return 99===n?1073741823:1073741822;if(0!==(Ls&Ts))return Is;if(null!==i)e=Kr(e,0|i.timeoutMs||5e3,250);else switch(n){case 99:e=1073741823;break;case 98:e=Kr(e,150,100);break;case 97:case 96:e=Kr(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Os&&e===Is&&--e,e}function il(e,t){if(50<Ks)throw Ks=0,Qs=null,Error(a(185));if(null!==(e=nl(e,t))){var i=Hr();1073741823===t?0!==(8&Ls)&&0===(48&Ls)?sl(e):(ol(e),0===Ls&&Yr()):ol(e),0===(4&Ls)||98!==i&&99!==i||(null===$s?$s=new Map([[e,t]]):(void 0===(i=$s.get(e))||i>t)&&$s.set(e,t))}}function nl(e,t){e.expirationTime<t&&(e.expirationTime=t);var i=e.alternate;null!==i&&i.expirationTime<t&&(i.expirationTime=t);var n=e.return,r=null;if(null===n&&3===e.tag)r=e.stateNode;else for(;null!==n;){if(i=n.alternate,n.childExpirationTime<t&&(n.childExpirationTime=t),null!==i&&i.childExpirationTime<t&&(i.childExpirationTime=t),null===n.return&&3===n.tag){r=n.stateNode;break}n=n.return}return null!==r&&(Os===r&&(fl(t),Ds===Ms&&Vl(r,Is)),Ul(r,t)),r}function rl(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!jl(e,t=e.firstPendingTime))return t;var i=e.lastPingedTime;return 2>=(e=i>(e=e.nextKnownPendingLevel)?i:e)&&t!==e?0:e}function ol(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Xr(sl.bind(null,e));else{var t=rl(e),i=e.callbackNode;if(0===t)null!==i&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var n=el();if(1073741823===t?n=99:1===t||2===t?n=95:n=0>=(n=10*(1073741821-t)-10*(1073741821-n))?99:250>=n?98:5250>=n?97:95,null!==i){var r=e.callbackPriority;if(e.callbackExpirationTime===t&&r>=n)return;i!==zr&&Er(i)}e.callbackExpirationTime=t,e.callbackPriority=n,t=1073741823===t?Xr(sl.bind(null,e)):Zr(n,al.bind(null,e),{timeout:10*(1073741821-t)-Wr()}),e.callbackNode=t}}}function al(e,t){if(Js=0,t)return Wl(e,t=el()),ol(e),null;var i=rl(e);if(0!==i){if(t=e.callbackNode,0!==(48&Ls))throw Error(a(327));if(Sl(),e===Os&&i===Is||cl(e,i),null!==Rs){var n=Ls;Ls|=Ts;for(var r=dl();;)try{gl();break}catch(l){hl(e,l)}if(no(),Ls=n,ks.current=r,1===Ds)throw t=zs,cl(e,i),Vl(e,i),ol(e),t;if(null===Rs)switch(r=e.finishedWork=e.current.alternate,e.finishedExpirationTime=i,n=Ds,Os=null,n){case As:case 1:throw Error(a(345));case 2:Wl(e,2<i?2:i);break;case Ps:if(Vl(e,i),i===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=bl(r)),1073741823===Bs&&10<(r=Us+500-Wr())){if(Vs){var o=e.lastPingedTime;if(0===o||o>=i){e.lastPingedTime=i,cl(e,i);break}}if(0!==(o=rl(e))&&o!==i)break;if(0!==n&&n!==i){e.lastPingedTime=n;break}e.timeoutHandle=wi(xl.bind(null,e),r);break}xl(e);break;case Ms:if(Vl(e,i),i===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=bl(r)),Vs&&(0===(r=e.lastPingedTime)||r>=i)){e.lastPingedTime=i,cl(e,i);break}if(0!==(r=rl(e))&&r!==i)break;if(0!==n&&n!==i){e.lastPingedTime=n;break}if(1073741823!==Fs?n=10*(1073741821-Fs)-Wr():1073741823===Bs?n=0:(n=10*(1073741821-Bs)-5e3,0>(n=(r=Wr())-n)&&(n=0),(i=10*(1073741821-i)-r)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ss(n/1960))-n)&&(n=i)),10<n){e.timeoutHandle=wi(xl.bind(null,e),n);break}xl(e);break;case 5:if(1073741823!==Bs&&null!==Ns){o=Bs;var s=Ns;if(0>=(n=0|s.busyMinDurationMs)?n=0:(r=0|s.busyDelayMs,n=(o=Wr()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=r?0:r+n-o),10<n){Vl(e,i),e.timeoutHandle=wi(xl.bind(null,e),n);break}}xl(e);break;default:throw Error(a(329))}if(ol(e),e.callbackNode===t)return al.bind(null,e)}}return null}function sl(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&Ls))throw Error(a(327));if(Sl(),e===Os&&t===Is||cl(e,t),null!==Rs){var i=Ls;Ls|=Ts;for(var n=dl();;)try{ml();break}catch(r){hl(e,r)}if(no(),Ls=i,ks.current=n,1===Ds)throw i=zs,cl(e,t),Vl(e,t),ol(e),i;if(null!==Rs)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Os=null,xl(e),ol(e)}return null}function ll(e,t){var i=Ls;Ls|=1;try{return e(t)}finally{0===(Ls=i)&&Yr()}}function ul(e,t){var i=Ls;Ls&=-2,Ls|=8;try{return e(t)}finally{0===(Ls=i)&&Yr()}}function cl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var i=e.timeoutHandle;if(-1!==i&&(e.timeoutHandle=-1,Si(i)),null!==Rs)for(i=Rs.return;null!==i;){var n=i;switch(n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&xr();break;case 3:Bo(),dr(gr),dr(mr);break;case 5:No(n);break;case 4:Bo();break;case 13:case 19:dr(jo);break;case 10:ro(n)}i=i.return}Os=e,Rs=Il(e.current,null),Is=t,Ds=As,zs=null,Fs=Bs=1073741823,Ns=null,js=0,Vs=!1}function hl(e,t){for(;;){try{if(no(),Wo.current=xa,Yo)for(var i=qo.memoizedState;null!==i;){var n=i.queue;null!==n&&(n.pending=null),i=i.next}if(Go=0,Xo=Zo=qo=null,Yo=!1,null===Rs||null===Rs.return)return Ds=1,zs=t,Rs=null;e:{var r=e,o=Rs.return,a=Rs,s=t;if(t=Is,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var l=s;if(0===(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.expirationTime=u.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!==(1&jo.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var f=h.memoizedProps;d=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!c)}}if(d){var m=h.updateQueue;if(null===m){var g=new Set;g.add(l),h.updateQueue=g}else m.add(l);if(0===(2&h.mode)){if(h.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=ho(1073741823,null);y.tag=2,po(a,y)}a.expirationTime=1073741823;break e}s=void 0,a=t;var v=r.pingCache;if(null===v?(v=r.pingCache=new bs,s=new Set,v.set(l,s)):void 0===(s=v.get(l))&&(s=new Set,v.set(l,s)),!s.has(a)){s.add(a);var b=El.bind(null,r,l,a);l.then(b,b)}h.effectTag|=4096,h.expirationTime=t;break e}h=h.return}while(null!==h);s=Error((ge(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ye(a))}5!==Ds&&(Ds=2),s=is(s,a),h=o;do{switch(h.tag){case 3:l=s,h.effectTag|=4096,h.expirationTime=t,fo(h,xs(h,l,t));break e;case 1:l=s;var x=h.type,_=h.stateNode;if(0===(64&h.effectTag)&&("function"===typeof x.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===qs||!qs.has(_)))){h.effectTag|=4096,h.expirationTime=t,fo(h,_s(h,l,t));break e}}h=h.return}while(null!==h)}Rs=vl(Rs)}catch(w){t=w;continue}break}}function dl(){var e=ks.current;return ks.current=xa,null===e?xa:e}function pl(e,t){e<Bs&&2<e&&(Bs=e),null!==t&&e<Fs&&2<e&&(Fs=e,Ns=t)}function fl(e){e>js&&(js=e)}function ml(){for(;null!==Rs;)Rs=yl(Rs)}function gl(){for(;null!==Rs&&!Br();)Rs=yl(Rs)}function yl(e){var t=ws(e.alternate,e,Is);return e.memoizedProps=e.pendingProps,null===t&&(t=vl(e)),Cs.current=null,t}function vl(e){Rs=e;do{var t=Rs.alternate;if(e=Rs.return,0===(2048&Rs.effectTag)){if(t=es(t,Rs,Is),1===Is||1!==Rs.childExpirationTime){for(var i=0,n=Rs.child;null!==n;){var r=n.expirationTime,o=n.childExpirationTime;r>i&&(i=r),o>i&&(i=o),n=n.sibling}Rs.childExpirationTime=i}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Rs.firstEffect),null!==Rs.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Rs.firstEffect),e.lastEffect=Rs.lastEffect),1<Rs.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Rs:e.firstEffect=Rs,e.lastEffect=Rs))}else{if(null!==(t=ts(Rs)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Rs.sibling))return t;Rs=e}while(null!==Rs);return Ds===As&&(Ds=5),null}function bl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function xl(e){var t=Hr();return qr(99,_l.bind(null,e,t)),null}function _l(e,t){do{Sl()}while(null!==Xs);if(0!==(48&Ls))throw Error(a(327));var i=e.finishedWork,n=e.finishedExpirationTime;if(null===i)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,i===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var r=bl(i);if(e.firstPendingTime=r,n<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:n<=e.firstSuspendedTime&&(e.firstSuspendedTime=n-1),n<=e.lastPingedTime&&(e.lastPingedTime=0),n<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Os&&(Rs=Os=null,Is=0),1<i.effectTag?null!==i.lastEffect?(i.lastEffect.nextEffect=i,r=i.firstEffect):r=i:r=i.firstEffect,null!==r){var o=Ls;Ls|=Es,Cs.current=null,vi=Zt;var s=fi();if(mi(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var u=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{l.nodeType,h.nodeType}catch(T){l=null;break e}var d=0,p=-1,f=-1,m=0,g=0,y=s,v=null;t:for(;;){for(var b;y!==l||0!==c&&3!==y.nodeType||(p=d+c),y!==h||0!==u&&3!==y.nodeType||(f=d+u),3===y.nodeType&&(d+=y.nodeValue.length),null!==(b=y.firstChild);)v=y,y=b;for(;;){if(y===s)break t;if(v===l&&++m===c&&(p=d),v===h&&++g===u&&(f=d),null!==(b=y.nextSibling))break;v=(y=v).parentNode}y=b}l=-1===p||-1===f?null:{start:p,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;bi={activeElementDetached:null,focusedElem:s,selectionRange:l},Zt=!1,Ws=r;do{try{wl()}catch(T){if(null===Ws)throw Error(a(330));Tl(Ws,T),Ws=Ws.nextEffect}}while(null!==Ws);Ws=r;do{try{for(s=e,l=t;null!==Ws;){var x=Ws.effectTag;if(16&x&&Ve(Ws.stateNode,""),128&x){var _=Ws.alternate;if(null!==_){var w=_.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&x){case 2:ps(Ws),Ws.effectTag&=-3;break;case 6:ps(Ws),Ws.effectTag&=-3,ys(Ws.alternate,Ws);break;case 1024:Ws.effectTag&=-1025;break;case 1028:Ws.effectTag&=-1025,ys(Ws.alternate,Ws);break;case 4:ys(Ws.alternate,Ws);break;case 8:gs(s,c=Ws,l),hs(c)}Ws=Ws.nextEffect}}catch(T){if(null===Ws)throw Error(a(330));Tl(Ws,T),Ws=Ws.nextEffect}}while(null!==Ws);if(w=bi,_=fi(),x=w.focusedElem,l=w.selectionRange,_!==x&&x&&x.ownerDocument&&pi(x.ownerDocument.documentElement,x)){null!==l&&mi(x)&&(_=l.start,void 0===(w=l.end)&&(w=_),"selectionStart"in x?(x.selectionStart=_,x.selectionEnd=Math.min(w,x.value.length)):(w=(_=x.ownerDocument||document)&&_.defaultView||window).getSelection&&(w=w.getSelection(),c=x.textContent.length,s=Math.min(l.start,c),l=void 0===l.end?s:Math.min(l.end,c),!w.extend&&s>l&&(c=l,l=s,s=c),c=di(x,s),h=di(x,l),c&&h&&(1!==w.rangeCount||w.anchorNode!==c.node||w.anchorOffset!==c.offset||w.focusNode!==h.node||w.focusOffset!==h.offset)&&((_=_.createRange()).setStart(c.node,c.offset),w.removeAllRanges(),s>l?(w.addRange(_),w.extend(h.node,h.offset)):(_.setEnd(h.node,h.offset),w.addRange(_))))),_=[];for(w=x;w=w.parentNode;)1===w.nodeType&&_.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof x.focus&&x.focus(),x=0;x<_.length;x++)(w=_[x]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Zt=!!vi,bi=vi=null,e.current=i,Ws=r;do{try{for(x=e;null!==Ws;){var S=Ws.effectTag;if(36&S&&us(x,Ws.alternate,Ws),128&S){_=void 0;var k=Ws.ref;if(null!==k){var C=Ws.stateNode;Ws.tag,_=C,"function"===typeof k?k(_):k.current=_}}Ws=Ws.nextEffect}}catch(T){if(null===Ws)throw Error(a(330));Tl(Ws,T),Ws=Ws.nextEffect}}while(null!==Ws);Ws=null,Fr(),Ls=o}else e.current=i;if(Zs)Zs=!1,Xs=e,Ys=t;else for(Ws=r;null!==Ws;)t=Ws.nextEffect,Ws.nextEffect=null,Ws=t;if(0===(t=e.firstPendingTime)&&(qs=null),1073741823===t?e===Qs?Ks++:(Ks=0,Qs=e):Ks=0,"function"===typeof Pl&&Pl(i.stateNode,n),ol(e),Hs)throw Hs=!1,e=Gs,Gs=null,e;return 0!==(8&Ls)||Yr(),null}function wl(){for(;null!==Ws;){var e=Ws.effectTag;0!==(256&e)&&as(Ws.alternate,Ws),0===(512&e)||Zs||(Zs=!0,Zr(97,(function(){return Sl(),null}))),Ws=Ws.nextEffect}}function Sl(){if(90!==Ys){var e=97<Ys?97:Ys;return Ys=90,qr(e,kl)}}function kl(){if(null===Xs)return!1;var e=Xs;if(Xs=null,0!==(48&Ls))throw Error(a(331));var t=Ls;for(Ls|=Es,e=e.current.firstEffect;null!==e;){try{var i=e;if(0!==(512&i.effectTag))switch(i.tag){case 0:case 11:case 15:case 22:ss(5,i),ls(5,i)}}catch(n){if(null===e)throw Error(a(330));Tl(e,n)}i=e.nextEffect,e.nextEffect=null,e=i}return Ls=t,Yr(),!0}function Cl(e,t,i){po(e,t=xs(e,t=is(i,t),1073741823)),null!==(e=nl(e,1073741823))&&ol(e)}function Tl(e,t){if(3===e.tag)Cl(e,e,t);else for(var i=e.return;null!==i;){if(3===i.tag){Cl(i,e,t);break}if(1===i.tag){var n=i.stateNode;if("function"===typeof i.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===qs||!qs.has(n))){po(i,e=_s(i,e=is(t,e),1073741823)),null!==(i=nl(i,1073741823))&&ol(i);break}}i=i.return}}function El(e,t,i){var n=e.pingCache;null!==n&&n.delete(t),Os===e&&Is===i?Ds===Ms||Ds===Ps&&1073741823===Bs&&Wr()-Us<500?cl(e,Is):Vs=!0:jl(e,i)&&(0!==(t=e.lastPingedTime)&&t<i||(e.lastPingedTime=i,ol(e)))}function Al(e,t){var i=e.stateNode;null!==i&&i.delete(t),0===(t=0)&&(t=tl(t=el(),e,null)),null!==(e=nl(e,t))&&ol(e)}ws=function(e,t,i){var n=t.expirationTime;if(null!==e){var r=t.pendingProps;if(e.memoizedProps!==r||gr.current)Ia=!0;else{if(n<i){switch(Ia=!1,t.tag){case 3:Wa(t),Oa();break;case 5:if(Fo(t),4&t.mode&&1!==i&&r.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:br(t.type)&&Sr(t);break;case 4:zo(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value,r=t.type._context,pr(Jr,r._currentValue),r._currentValue=n;break;case 13:if(null!==t.memoizedState)return 0!==(n=t.child.childExpirationTime)&&n>=i?Xa(e,t,i):(pr(jo,1&jo.current),null!==(t=Qa(e,t,i))?t.sibling:null);pr(jo,1&jo.current);break;case 19:if(n=t.childExpirationTime>=i,0!==(64&e.effectTag)){if(n)return Ka(e,t,i);t.effectTag|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null),pr(jo,jo.current),!n)return null}return Qa(e,t,i)}Ia=!1}}else Ia=!1;switch(t.expirationTime=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,r=vr(t,mr.current),ao(t,i),r=Qo(null,t,n,e,r,i),t.effectTag|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,br(n)){var o=!0;Sr(t)}else o=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,uo(t);var s=n.getDerivedStateFromProps;"function"===typeof s&&bo(t,n,s,e),r.updater=xo,t.stateNode=r,r._reactInternalFiber=t,ko(t,n,e,i),t=Ua(null,t,n,!0,o,i)}else t.tag=0,Da(null,t,r,i),t=t.child;return t;case 16:e:{if(r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,t.type=r,o=t.tag=function(e){if("function"===typeof e)return Rl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===le)return 11;if(e===he)return 14}return 2}(r),e=Qr(r,e),o){case 0:t=ja(null,t,r,e,i);break e;case 1:t=Va(null,t,r,e,i);break e;case 11:t=za(null,t,r,e,i);break e;case 14:t=Ba(null,t,r,Qr(r.type,e),n,i);break e}throw Error(a(306,r,""))}return t;case 0:return n=t.type,r=t.pendingProps,ja(e,t,n,r=t.elementType===n?r:Qr(n,r),i);case 1:return n=t.type,r=t.pendingProps,Va(e,t,n,r=t.elementType===n?r:Qr(n,r),i);case 3:if(Wa(t),n=t.updateQueue,null===e||null===n)throw Error(a(282));if(n=t.pendingProps,r=null!==(r=t.memoizedState)?r.element:null,co(e,t),mo(t,n,null,i),(n=t.memoizedState.element)===r)Oa(),t=Qa(e,t,i);else{if((r=t.stateNode.hydrate)&&(Ca=ki(t.stateNode.containerInfo.firstChild),ka=t,r=Ta=!0),r)for(i=Mo(t,null,n,i),t.child=i;i;)i.effectTag=-3&i.effectTag|1024,i=i.sibling;else Da(e,t,n,i),Oa();t=t.child}return t;case 5:return Fo(t),null===e&&Pa(t),n=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,s=r.children,_i(n,r)?s=null:null!==o&&_i(n,o)&&(t.effectTag|=16),Na(e,t),4&t.mode&&1!==i&&r.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Da(e,t,s,i),t=t.child),t;case 6:return null===e&&Pa(t),null;case 13:return Xa(e,t,i);case 4:return zo(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Po(t,null,n,i):Da(e,t,n,i),t.child;case 11:return n=t.type,r=t.pendingProps,za(e,t,n,r=t.elementType===n?r:Qr(n,r),i);case 7:return Da(e,t,t.pendingProps,i),t.child;case 8:case 12:return Da(e,t,t.pendingProps.children,i),t.child;case 10:e:{n=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value;var l=t.type._context;if(pr(Jr,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=Vn(l,o)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(l,o):1073741823))){if(s.children===r.children&&!gr.current){t=Qa(e,t,i);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===n&&0!==(c.observedBits&o)){1===l.tag&&((c=ho(i,null)).tag=2,po(l,c)),l.expirationTime<i&&(l.expirationTime=i),null!==(c=l.alternate)&&c.expirationTime<i&&(c.expirationTime=i),oo(l.return,i),u.expirationTime<i&&(u.expirationTime=i);break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Da(e,t,r.children,i),t=t.child}return t;case 9:return r=t.type,n=(o=t.pendingProps).children,ao(t,i),n=n(r=so(r,o.unstable_observedBits)),t.effectTag|=1,Da(e,t,n,i),t.child;case 14:return o=Qr(r=t.type,t.pendingProps),Ba(e,t,r,o=Qr(r.type,o),n,i);case 15:return Fa(e,t,t.type,t.pendingProps,n,i);case 17:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:Qr(n,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,br(n)?(e=!0,Sr(t)):e=!1,ao(t,i),wo(t,n,r),ko(t,n,r,i),Ua(null,t,n,!0,e,i);case 19:return Ka(e,t,i)}throw Error(a(156,t.tag))};var Pl=null,Ml=null;function Ll(e,t,i,n){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Ol(e,t,i,n){return new Ll(e,t,i,n)}function Rl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Il(e,t){var i=e.alternate;return null===i?((i=Ol(e.tag,t,e.key,e.mode)).elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.effectTag=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childExpirationTime=e.childExpirationTime,i.expirationTime=e.expirationTime,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Dl(e,t,i,n,r,o){var s=2;if(n=e,"function"===typeof e)Rl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ie:return zl(i.children,r,o,t);case se:s=8,r|=7;break;case ne:s=8,r|=1;break;case re:return(e=Ol(12,i,t,8|r)).elementType=re,e.type=re,e.expirationTime=o,e;case ue:return(e=Ol(13,i,t,r)).type=ue,e.elementType=ue,e.expirationTime=o,e;case ce:return(e=Ol(19,i,t,r)).elementType=ce,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case le:s=11;break e;case he:s=14;break e;case de:s=16,n=null;break e;case pe:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ol(s,i,t,r)).elementType=e,t.type=n,t.expirationTime=o,t}function zl(e,t,i,n){return(e=Ol(7,e,n,t)).expirationTime=i,e}function Bl(e,t,i){return(e=Ol(6,e,null,t)).expirationTime=i,e}function Fl(e,t,i){return(t=Ol(4,null!==e.children?e.children:[],e.key,t)).expirationTime=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nl(e,t,i){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=i,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function jl(e,t){var i=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==i&&i>=t&&e<=t}function Vl(e,t){var i=e.firstSuspendedTime,n=e.lastSuspendedTime;i<t&&(e.firstSuspendedTime=t),(n>t||0===i)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Ul(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var i=e.firstSuspendedTime;0!==i&&(t>=i?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Wl(e,t){var i=e.lastExpiredTime;(0===i||i>t)&&(e.lastExpiredTime=t)}function Hl(e,t,i,n){var r=t.current,o=el(),s=yo.suspense;o=tl(o,r,s);e:if(i){t:{if(et(i=i._reactInternalFiber)!==i||1!==i.tag)throw Error(a(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(br(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===i.tag){var u=i.type;if(br(u)){i=wr(i,u,l);break e}}i=l}else i=fr;return null===t.context?t.context=i:t.pendingContext=i,(t=ho(o,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),po(r,t),il(r,o),o}function Gl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ql(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Zl(e,t){ql(e,t),(e=e.alternate)&&ql(e,t)}function Xl(e,t,i){var n=new Nl(e,t,i=null!=i&&!0===i.hydrate),r=Ol(3,null,null,2===t?7:1===t?3:0);n.current=r,r.stateNode=n,uo(r),e[Pi]=n.current,i&&0!==t&&function(e,t){var i=Je(t);Et.forEach((function(e){mt(e,t,i)})),At.forEach((function(e){mt(e,t,i)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=n}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $l(e,t,i,n,r){var o=i._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof r){var s=r;r=function(){var e=Gl(a);s.call(e)}}Hl(t,a,e,r)}else{if(o=i._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var i;i=e.lastChild;)e.removeChild(i);return new Xl(e,0,t?{hydrate:!0}:void 0)}(i,n),a=o._internalRoot,"function"===typeof r){var l=r;r=function(){var e=Gl(a);l.call(e)}}ul((function(){Hl(t,a,e,r)}))}return Gl(a)}function Kl(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==n?null:""+n,children:e,containerInfo:t,implementation:i}}function Ql(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yl(t))throw Error(a(200));return Kl(e,t,null,i)}Xl.prototype.render=function(e){Hl(e,this._internalRoot,null,null)},Xl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Hl(null,e,null,(function(){t[Pi]=null}))},gt=function(e){if(13===e.tag){var t=Kr(el(),150,100);il(e,t),Zl(e,t)}},yt=function(e){13===e.tag&&(il(e,3),Zl(e,3))},vt=function(e){if(13===e.tag){var t=el();il(e,t=tl(t,e,null)),Zl(e,t)}},A=function(e,t,i){switch(t){case"input":if(Ce(e,i),t=i.name,"radio"===i.type&&null!=t){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var n=i[t];if(n!==e&&n.form===e.form){var r=Ri(n);if(!r)throw Error(a(90));_e(n),Ce(n,r)}}}break;case"textarea":Oe(e,i);break;case"select":null!=(t=i.value)&&Pe(e,!!i.multiple,t,!1)}},I=ll,D=function(e,t,i,n,r){var o=Ls;Ls|=4;try{return qr(98,e.bind(null,t,i,n,r))}finally{0===(Ls=o)&&Yr()}},z=function(){0===(49&Ls)&&(function(){if(null!==$s){var e=$s;$s=null,e.forEach((function(e,t){Wl(t,e),ol(t)})),Yr()}}(),Sl())},B=function(e,t){var i=Ls;Ls|=2;try{return e(t)}finally{0===(Ls=i)&&Yr()}};var Jl={Events:[Li,Oi,Ri,T,S,ji,function(e){ot(e,Ni)},O,R,Qt,lt,Sl,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var i=t.inject(e);Pl=function(e){try{t.onCommitFiberRoot(i,e,void 0,64===(64&e.current.effectTag))}catch(n){}},Ml=function(e){try{t.onCommitFiberUnmount(i,e)}catch(n){}}}catch(n){}})(r({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Mi,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),t.createPortal=Ql,t.render=function(e,t,i){if(!Yl(t))throw Error(a(200));return $l(null,e,t,!1,i)}},3467:function(e,t,i){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=i(5462)},4271:function(e,t,i){"use strict";var n=i(1725),r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,h=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,g="function"===typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function x(e,t,i){this.props=e,this.context=t,this.refs=b,this.updater=i||v}function _(){}function w(e,t,i){this.props=e,this.context=t,this.refs=b,this.updater=i||v}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=x.prototype;var S=w.prototype=new _;S.constructor=w,n(S,x.prototype),S.isPureReactComponent=!0;var k={current:null},C=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,i){var n,r={},a=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,n)&&!T.hasOwnProperty(n)&&(r[n]=t[n]);var l=arguments.length-2;if(1===l)r.children=i;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];r.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===r[n]&&(r[n]=l[n]);return{$$typeof:o,type:e,key:a,ref:s,props:r,_owner:k.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var P=/\/+/g,M=[];function L(e,t,i,n){if(M.length){var r=M.pop();return r.result=e,r.keyPrefix=t,r.func=i,r.context=n,r.count=0,r}return{result:e,keyPrefix:t,func:i,context:n,count:0}}function O(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>M.length&&M.push(e)}function R(e,t,i,n){var r=typeof e;"undefined"!==r&&"boolean"!==r||(e=null);var s=!1;if(null===e)s=!0;else switch(r){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case o:case a:s=!0}}if(s)return i(n,e,""===t?"."+D(e,0):t),1;if(s=0,t=""===t?".":t+":",Array.isArray(e))for(var l=0;l<e.length;l++){var u=t+D(r=e[l],l);s+=R(r,u,i,n)}else if(null===e||"object"!==typeof e?u=null:u="function"===typeof(u=g&&e[g]||e["@@iterator"])?u:null,"function"===typeof u)for(e=u.call(e),l=0;!(r=e.next()).done;)s+=R(r=r.value,u=t+D(r,l++),i,n);else if("object"===r)throw i=""+e,Error(y(31,"[object Object]"===i?"object with keys {"+Object.keys(e).join(", ")+"}":i,""));return s}function I(e,t,i){return null==e?0:R(e,"",t,i)}function D(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function z(e,t){e.func.call(e.context,t,e.count++)}function B(e,t,i){var n=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,n,i,(function(e){return e})):null!=e&&(A(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(P,"$&/")+"/")+i)),n.push(e))}function F(e,t,i,n,r){var o="";null!=i&&(o=(""+i).replace(P,"$&/")+"/"),I(e,B,t=L(t,o,n,r)),O(t)}var N={current:null};function j(){var e=N.current;if(null===e)throw Error(y(321));return e}var V={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:function(e,t,i){if(null==e)return e;var n=[];return F(e,n,null,t,i),n},forEach:function(e,t,i){if(null==e)return e;I(e,z,t=L(null,null,t,i)),O(t)},count:function(e){return I(e,(function(){return null}),null)},toArray:function(e){var t=[];return F(e,t,null,(function(e){return e})),t},only:function(e){if(!A(e))throw Error(y(143));return e}},t.Component=x,t.Fragment=s,t.Profiler=u,t.PureComponent=w,t.StrictMode=l,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error(y(267,e));var r=n({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)C.call(t,c)&&!T.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:o,type:e.type,key:a,ref:s,props:r,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return j().useCallback(e,t)},t.useContext=function(e,t){return j().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return j().useEffect(e,t)},t.useImperativeHandle=function(e,t,i){return j().useImperativeHandle(e,t,i)},t.useLayoutEffect=function(e,t){return j().useLayoutEffect(e,t)},t.useMemo=function(e,t){return j().useMemo(e,t)},t.useReducer=function(e,t,i){return j().useReducer(e,t,i)},t.useRef=function(e){return j().useRef(e)},t.useState=function(e){return j().useState(e)},t.version="16.13.1"},9220:function(e,t,i){"use strict";e.exports=i(4271)},1325:function(e,t){"use strict";var i,n,r,o,a;if("undefined"===typeof window||"function"!==typeof MessageChannel){var s=null,l=null,u=function e(){if(null!==s)try{var i=t.unstable_now();s(!0,i),s=null}catch(n){throw setTimeout(e,0),n}},c=Date.now();t.unstable_now=function(){return Date.now()-c},i=function(e){null!==s?setTimeout(i,0,e):(s=e,setTimeout(u,0))},n=function(e,t){l=setTimeout(e,t)},r=function(){clearTimeout(l)},o=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,p=window.setTimeout,f=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)t.unstable_now=function(){return h.now()};else{var g=d.now();t.unstable_now=function(){return d.now()-g}}var y=!1,v=null,b=-1,x=5,_=0;o=function(){return t.unstable_now()>=_},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,S=w.port2;w.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();_=e+x;try{v(!0,e)?S.postMessage(null):(y=!1,v=null)}catch(i){throw S.postMessage(null),i}}else y=!1},i=function(e){v=e,y||(y=!0,S.postMessage(null))},n=function(e,i){b=p((function(){e(t.unstable_now())}),i)},r=function(){f(b),b=-1}}function k(e,t){var i=e.length;e.push(t);e:for(;;){var n=i-1>>>1,r=e[n];if(!(void 0!==r&&0<E(r,t)))break e;e[n]=t,e[i]=r,i=n}}function C(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var i=e.pop();if(i!==t){e[0]=i;e:for(var n=0,r=e.length;n<r;){var o=2*(n+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>E(a,i))void 0!==l&&0>E(l,a)?(e[n]=l,e[s]=i,n=s):(e[n]=a,e[o]=i,n=o);else{if(!(void 0!==l&&0>E(l,i)))break e;e[n]=l,e[s]=i,n=s}}}return t}return null}function E(e,t){var i=e.sortIndex-t.sortIndex;return 0!==i?i:e.id-t.id}var A=[],P=[],M=1,L=null,O=3,R=!1,I=!1,D=!1;function z(e){for(var t=C(P);null!==t;){if(null===t.callback)T(P);else{if(!(t.startTime<=e))break;T(P),t.sortIndex=t.expirationTime,k(A,t)}t=C(P)}}function B(e){if(D=!1,z(e),!I)if(null!==C(A))I=!0,i(F);else{var t=C(P);null!==t&&n(B,t.startTime-e)}}function F(e,i){I=!1,D&&(D=!1,r()),R=!0;var a=O;try{for(z(i),L=C(A);null!==L&&(!(L.expirationTime>i)||e&&!o());){var s=L.callback;if(null!==s){L.callback=null,O=L.priorityLevel;var l=s(L.expirationTime<=i);i=t.unstable_now(),"function"===typeof l?L.callback=l:L===C(A)&&T(A),z(i)}else T(A);L=C(A)}if(null!==L)var u=!0;else{var c=C(P);null!==c&&n(B,c.startTime-i),u=!1}return u}finally{L=null,O=a,R=!1}}function N(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var j=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){I||R||(I=!0,i(F))},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return C(A)},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var i=O;O=t;try{return e()}finally{O=i}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=O;O=e;try{return t()}finally{O=i}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var l=a.delay;l="number"===typeof l&&0<l?s+l:s,a="number"===typeof a.timeout?a.timeout:N(e)}else a=N(e),l=s;return e={id:M++,callback:o,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,k(P,e),null===C(A)&&e===C(P)&&(D?r():D=!0,n(B,l-s))):(e.sortIndex=a,k(A,e),I||R||(I=!0,i(F))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();z(e);var i=C(A);return i!==L&&null!==L&&null!==i&&null!==i.callback&&i.startTime<=e&&i.expirationTime<L.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=O;return function(){var i=O;O=t;try{return e.apply(this,arguments)}finally{O=i}}}},5117:function(e,t,i){"use strict";e.exports=i(1325)},4569:function(e,t,i){e.exports=i(8036)},3381:function(e,t,i){"use strict";var n=i(3589),r=i(7297),o=i(9301),a=i(9774),s=i(1804),l=i(9145),u=i(5411),c=i(6467),h=i(221),d=i(9346);e.exports=function(e){return new Promise((function(t,i){var p,f=e.data,m=e.headers,g=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}n.isFormData(f)&&delete m["Content-Type"];var v=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",x=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(b+":"+x)}var _=s(e.baseURL,e.url);function w(){if(v){var n="getAllResponseHeaders"in v?l(v.getAllResponseHeaders()):null,o={data:g&&"text"!==g&&"json"!==g?v.response:v.responseText,status:v.status,statusText:v.statusText,headers:n,config:e,request:v};r((function(e){t(e),y()}),(function(e){i(e),y()}),o),v=null}}if(v.open(e.method.toUpperCase(),a(_,e.params,e.paramsSerializer),!0),v.timeout=e.timeout,"onloadend"in v?v.onloadend=w:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(w)},v.onabort=function(){v&&(i(c("Request aborted",e,"ECONNABORTED",v)),v=null)},v.onerror=function(){i(c("Network Error",e,null,v)),v=null},v.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||h.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(c(t,e,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",v)),v=null},n.isStandardBrowserEnv()){var S=(e.withCredentials||u(_))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;S&&(m[e.xsrfHeaderName]=S)}"setRequestHeader"in v&&n.forEach(m,(function(e,t){"undefined"===typeof f&&"content-type"===t.toLowerCase()?delete m[t]:v.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(v.withCredentials=!!e.withCredentials),g&&"json"!==g&&(v.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&v.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&v.upload&&v.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){v&&(i(!e||e&&e.type?new d("canceled"):e),v.abort(),v=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),f||(f=null),v.send(f)}))}},8036:function(e,t,i){"use strict";var n=i(3589),r=i(4049),o=i(3773),a=i(777);var s=function e(t){var i=new o(t),s=r(o.prototype.request,i);return n.extend(s,o.prototype,i),n.extend(s,i),s.create=function(i){return e(a(t,i))},s}(i(221));s.Axios=o,s.Cancel=i(9346),s.CancelToken=i(6857),s.isCancel=i(5517),s.VERSION=i(7600).version,s.all=function(e){return Promise.all(e)},s.spread=i(8089),s.isAxiosError=i(9580),e.exports=s,e.exports.default=s},9346:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},6857:function(e,t,i){"use strict";var n=i(9346);function r(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var i=this;this.promise.then((function(e){if(i._listeners){var t,n=i._listeners.length;for(t=0;t<n;t++)i._listeners[t](e);i._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){i.subscribe(e),t=e})).then(e);return n.cancel=function(){i.unsubscribe(t)},n},e((function(e){i.reason||(i.reason=new n(e),t(i.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},r.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,i){"use strict";var n=i(3589),r=i(9774),o=i(7470),a=i(2733),s=i(777),l=i(7835),u=l.validators;function c(e){this.defaults=e,this.interceptors={request:new o,response:new o}}c.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&l.assertOptions(t,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var i=[],n=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(n=n&&t.synchronous,i.unshift(t.fulfilled,t.rejected))}));var r,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!n){var c=[a,void 0];for(Array.prototype.unshift.apply(c,i),c=c.concat(o),r=Promise.resolve(e);c.length;)r=r.then(c.shift(),c.shift());return r}for(var h=e;i.length;){var d=i.shift(),p=i.shift();try{h=d(h)}catch(f){p(f);break}}try{r=a(h)}catch(f){return Promise.reject(f)}for(;o.length;)r=r.then(o.shift(),o.shift());return r},c.prototype.getUri=function(e){return e=s(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,i){return this.request(s(i||{},{method:e,url:t,data:(i||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,i,n){return this.request(s(n||{},{method:e,url:t,data:i}))}})),e.exports=c},7470:function(e,t,i){"use strict";var n=i(3589);function r(){this.handlers=[]}r.prototype.use=function(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},1804:function(e,t,i){"use strict";var n=i(4044),r=i(9549);e.exports=function(e,t){return e&&!n(t)?r(e,t):t}},6467:function(e,t,i){"use strict";var n=i(6460);e.exports=function(e,t,i,r,o){var a=new Error(e);return n(a,t,i,r,o)}},2733:function(e,t,i){"use strict";var n=i(3589),r=i(2693),o=i(5517),a=i(221),s=i(9346);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=r.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return l(e),t.data=r.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(l(e),t&&t.response&&(t.response.data=r.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},6460:function(e){"use strict";e.exports=function(e,t,i,n,r){return e.config=t,i&&(e.code=i),e.request=n,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},777:function(e,t,i){"use strict";var n=i(3589);e.exports=function(e,t){t=t||{};var i={};function r(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function o(i){return n.isUndefined(t[i])?n.isUndefined(e[i])?void 0:r(void 0,e[i]):r(e[i],t[i])}function a(e){if(!n.isUndefined(t[e]))return r(void 0,t[e])}function s(i){return n.isUndefined(t[i])?n.isUndefined(e[i])?void 0:r(void 0,e[i]):r(void 0,t[i])}function l(i){return i in t?r(e[i],t[i]):i in e?r(void 0,e[i]):void 0}var u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||o,r=t(e);n.isUndefined(r)&&t!==l||(i[e]=r)})),i}},7297:function(e,t,i){"use strict";var n=i(6467);e.exports=function(e,t,i){var r=i.config.validateStatus;i.status&&r&&!r(i.status)?t(n("Request failed with status code "+i.status,i.config,null,i.request,i)):e(i)}},2693:function(e,t,i){"use strict";var n=i(3589),r=i(221);e.exports=function(e,t,i){var o=this||r;return n.forEach(i,(function(i){e=i.call(o,e,t)})),e}},221:function(e,t,i){"use strict";var n=i(3589),r=i(4341),o=i(6460),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=i(3381)),e}(),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,i){if(n.isString(e))try{return(t||JSON.parse)(e),n.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(i||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,i=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,a=!i&&"json"===this.responseType;if(a||r&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(a){if("SyntaxError"===s.name)throw o(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){l.headers[e]=n.merge(a)})),e.exports=l},7600:function(e){e.exports={version:"0.24.0"}},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return e.apply(t,i)}}},9774:function(e,t,i){"use strict";var n=i(3589);function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,i){if(!t)return e;var o;if(i)o=i(t);else if(n.isURLSearchParams(t))o=t.toString();else{var a=[];n.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+"="+r(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,i){"use strict";var n=i(3589);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,i,r,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(i)&&s.push("expires="+new Date(i).toGMTString()),n.isString(r)&&s.push("path="+r),n.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},9580:function(e){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},5411:function(e,t,i){"use strict";var n=i(3589);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function r(e){var n=e;return t&&(i.setAttribute("href",n),n=i.href),i.setAttribute("href",n),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return e=r(window.location.href),function(t){var i=n.isString(t)?r(t):t;return i.protocol===e.protocol&&i.host===e.host}}():function(){return!0}},4341:function(e,t,i){"use strict";var n=i(3589);e.exports=function(e,t){n.forEach(e,(function(i,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[n])}))}},9145:function(e,t,i){"use strict";var n=i(3589),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,i,o,a={};return e?(n.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),i=n.trim(e.substr(o+1)),t){if(a[t]&&r.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([i]):a[t]?a[t]+", "+i:i}})),a):a}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7835:function(e,t,i){"use strict";var n=i(7600).version,r={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){r[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}}));var o={};r.transitional=function(e,t,i){function r(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(i?". "+i:"")}return function(i,n,a){if(!1===e)throw new Error(r(n," has been removed"+(t?" in "+t:"")));return t&&!o[n]&&(o[n]=!0,console.warn(r(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(i,n,a)}},e.exports={assertOptions:function(e,t,i){if("object"!==typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),r=n.length;r-- >0;){var o=n[r],a=t[o];if(a){var s=e[o],l=void 0===s||a(s,o,e);if(!0!==l)throw new TypeError("option "+o+" must be "+l)}else if(!0!==i)throw Error("Unknown option "+o)}},validators:r}},3589:function(e,t,i){"use strict";var n=i(4049),r=Object.prototype.toString;function o(e){return"[object Array]"===r.call(e)}function a(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function l(e){if("[object Object]"!==r.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===r.call(e)}function c(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===r.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:l,isUndefined:a,isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:c,merge:function e(){var t={};function i(i,n){l(t[n])&&l(i)?t[n]=e(t[n],i):l(i)?t[n]=e({},i):o(i)?t[n]=i.slice():t[n]=i}for(var n=0,r=arguments.length;n<r;n++)c(arguments[n],i);return t},extend:function(e,t,i){return c(t,(function(t,r){e[r]=i&&"function"===typeof t?n(t,i):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},6998:function(e,t,i){"use strict";var n=i(2458),r={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var i,o,a,s,l,u,c=!1;t||(t={}),i=t.debug||!1;try{if(a=n(),s=document.createRange(),l=document.getSelection(),(u=document.createElement("span")).textContent=e,u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",(function(n){if(n.stopPropagation(),t.format)if(n.preventDefault(),"undefined"===typeof n.clipboardData){i&&console.warn("unable to use e.clipboardData"),i&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=r[t.format]||r.default;window.clipboardData.setData(o,e)}else n.clipboardData.clearData(),n.clipboardData.setData(t.format,e);t.onCopy&&(n.preventDefault(),t.onCopy(n.clipboardData))})),document.body.appendChild(u),s.selectNodeContents(u),l.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");c=!0}catch(h){i&&console.error("unable to copy using execCommand: ",h),i&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(h){i&&console.error("unable to copy using clipboardData: ",h),i&&console.error("falling back to prompt"),o=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(o,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(s):l.removeAllRanges()),u&&document.body.removeChild(u),a()}return c}},2110:function(e,t,i){"use strict";var n=i(7441),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return n.isMemo(e)?a:s[e.$$typeof]||r}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,i,n){if("string"!==typeof i){if(f){var r=p(i);r&&r!==f&&e(t,r,n)}var a=c(i);h&&(a=a.concat(h(i)));for(var s=l(t),m=l(i),g=0;g<a.length;++g){var y=a[g];if(!o[y]&&(!n||!n[y])&&(!m||!m[y])&&(!s||!s[y])){var v=d(i,y);try{u(t,y,v)}catch(b){}}}}return t}},6198:function(e,t,i){e=i.nmd(e);var n="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",a="[object Function]",s="[object Object]",l=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[o]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c[a]=c["[object Map]"]=c["[object Number]"]=c[s]=c["[object RegExp]"]=c["[object Set]"]=c["[object String]"]=c["[object WeakMap]"]=!1;var h="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,d="object"==typeof self&&self&&self.Object===Object&&self,p=h||d||Function("return this")(),f=t&&!t.nodeType&&t,m=f&&e&&!e.nodeType&&e,g=m&&m.exports===f,y=g&&h.process,v=function(){try{var e=m&&m.require&&m.require("util").types;return e||y&&y.binding&&y.binding("util")}catch(t){}}(),b=v&&v.isTypedArray;function x(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}var _,w,S=Array.prototype,k=Function.prototype,C=Object.prototype,T=p["__core-js_shared__"],E=k.toString,A=C.hasOwnProperty,P=function(){var e=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),M=C.toString,L=E.call(Object),O=RegExp("^"+E.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=g?p.Buffer:void 0,I=p.Symbol,D=p.Uint8Array,z=R?R.allocUnsafe:void 0,B=(_=Object.getPrototypeOf,w=Object,function(e){return _(w(e))}),F=Object.create,N=C.propertyIsEnumerable,j=S.splice,V=I?I.toStringTag:void 0,U=function(){try{var e=fe(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),W=R?R.isBuffer:void 0,H=Math.max,G=Date.now,q=fe(p,"Map"),Z=fe(Object,"create"),X=function(){function e(){}return function(t){if(!Te(t))return{};if(F)return F(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();function Y(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function $(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function K(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function Q(e){var t=this.__data__=new $(e);this.size=t.size}function J(e,t){var i=_e(e),n=!i&&xe(e),r=!i&&!n&&Se(e),o=!i&&!n&&!r&&Ae(e),a=i||n||r||o,s=a?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],l=s.length;for(var u in e)!t&&!A.call(e,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||me(u,l))||s.push(u);return s}function ee(e,t,i){(void 0!==i&&!be(e[t],i)||void 0===i&&!(t in e))&&ne(e,t,i)}function te(e,t,i){var n=e[t];A.call(e,t)&&be(n,i)&&(void 0!==i||t in e)||ne(e,t,i)}function ie(e,t){for(var i=e.length;i--;)if(be(e[i][0],t))return i;return-1}function ne(e,t,i){"__proto__"==t&&U?U(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}Y.prototype.clear=function(){this.__data__=Z?Z(null):{},this.size=0},Y.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Y.prototype.get=function(e){var t=this.__data__;if(Z){var i=t[e];return i===n?void 0:i}return A.call(t,e)?t[e]:void 0},Y.prototype.has=function(e){var t=this.__data__;return Z?void 0!==t[e]:A.call(t,e)},Y.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=Z&&void 0===t?n:t,this},$.prototype.clear=function(){this.__data__=[],this.size=0},$.prototype.delete=function(e){var t=this.__data__,i=ie(t,e);return!(i<0)&&(i==t.length-1?t.pop():j.call(t,i,1),--this.size,!0)},$.prototype.get=function(e){var t=this.__data__,i=ie(t,e);return i<0?void 0:t[i][1]},$.prototype.has=function(e){return ie(this.__data__,e)>-1},$.prototype.set=function(e,t){var i=this.__data__,n=ie(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this},K.prototype.clear=function(){this.size=0,this.__data__={hash:new Y,map:new(q||$),string:new Y}},K.prototype.delete=function(e){var t=pe(this,e).delete(e);return this.size-=t?1:0,t},K.prototype.get=function(e){return pe(this,e).get(e)},K.prototype.has=function(e){return pe(this,e).has(e)},K.prototype.set=function(e,t){var i=pe(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this},Q.prototype.clear=function(){this.__data__=new $,this.size=0},Q.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},Q.prototype.get=function(e){return this.__data__.get(e)},Q.prototype.has=function(e){return this.__data__.has(e)},Q.prototype.set=function(e,t){var i=this.__data__;if(i instanceof $){var n=i.__data__;if(!q||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new K(n)}return i.set(e,t),this.size=i.size,this};var re,oe=function(e,t,i){for(var n=-1,r=Object(e),o=i(e),a=o.length;a--;){var s=o[re?a:++n];if(!1===t(r[s],s,r))break}return e};function ae(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":V&&V in Object(e)?function(e){var t=A.call(e,V),i=e[V];try{e[V]=void 0;var n=!0}catch(o){}var r=M.call(e);n&&(t?e[V]=i:delete e[V]);return r}(e):function(e){return M.call(e)}(e)}function se(e){return Ee(e)&&ae(e)==o}function le(e){return!(!Te(e)||function(e){return!!P&&P in e}(e))&&(ke(e)?O:l).test(function(e){if(null!=e){try{return E.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function ue(e){if(!Te(e))return function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t}(e);var t=ge(e),i=[];for(var n in e)("constructor"!=n||!t&&A.call(e,n))&&i.push(n);return i}function ce(e,t,i,n,r){e!==t&&oe(t,(function(o,a){if(r||(r=new Q),Te(o))!function(e,t,i,n,r,o,a){var l=ye(e,i),u=ye(t,i),c=a.get(u);if(c)return void ee(e,i,c);var h=o?o(l,u,i+"",e,t,a):void 0,d=void 0===h;if(d){var p=_e(u),f=!p&&Se(u),m=!p&&!f&&Ae(u);h=u,p||f||m?_e(l)?h=l:Ee(g=l)&&we(g)?h=function(e,t){var i=-1,n=e.length;t||(t=Array(n));for(;++i<n;)t[i]=e[i];return t}(l):f?(d=!1,h=function(e,t){if(t)return e.slice();var i=e.length,n=z?z(i):new e.constructor(i);return e.copy(n),n}(u,!0)):m?(d=!1,h=function(e,t){var i=t?function(e){var t=new e.constructor(e.byteLength);return new D(t).set(new D(e)),t}(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}(u,!0)):h=[]:function(e){if(!Ee(e)||ae(e)!=s)return!1;var t=B(e);if(null===t)return!0;var i=A.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&E.call(i)==L}(u)||xe(u)?(h=l,xe(l)?h=function(e){return function(e,t,i,n){var r=!i;i||(i={});var o=-1,a=t.length;for(;++o<a;){var s=t[o],l=n?n(i[s],e[s],s,i,e):void 0;void 0===l&&(l=e[s]),r?ne(i,s,l):te(i,s,l)}return i}(e,Pe(e))}(l):Te(l)&&!ke(l)||(h=function(e){return"function"!=typeof e.constructor||ge(e)?{}:X(B(e))}(u))):d=!1}var g;d&&(a.set(u,h),r(h,u,n,o,a),a.delete(u));ee(e,i,h)}(e,t,a,i,ce,n,r);else{var l=n?n(ye(e,a),o,a+"",e,t,r):void 0;void 0===l&&(l=o),ee(e,a,l)}}),Pe)}function he(e,t){return ve(function(e,t,i){return t=H(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,o=H(n.length-t,0),a=Array(o);++r<o;)a[r]=n[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=n[r];return s[t]=i(a),x(e,this,s)}}(e,t,Oe),e+"")}var de=U?function(e,t){return U(e,"toString",{configurable:!0,enumerable:!1,value:(i=t,function(){return i}),writable:!0});var i}:Oe;function pe(e,t){var i=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?i["string"==typeof t?"string":"hash"]:i.map}function fe(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return le(i)?i:void 0}function me(e,t){var i=typeof e;return!!(t=null==t?r:t)&&("number"==i||"symbol"!=i&&u.test(e))&&e>-1&&e%1==0&&e<t}function ge(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||C)}function ye(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var ve=function(e){var t=0,i=0;return function(){var n=G(),r=16-(n-i);if(i=n,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(de);function be(e,t){return e===t||e!==e&&t!==t}var xe=se(function(){return arguments}())?se:function(e){return Ee(e)&&A.call(e,"callee")&&!N.call(e,"callee")},_e=Array.isArray;function we(e){return null!=e&&Ce(e.length)&&!ke(e)}var Se=W||function(){return!1};function ke(e){if(!Te(e))return!1;var t=ae(e);return t==a||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ce(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function Te(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ee(e){return null!=e&&"object"==typeof e}var Ae=b?function(e){return function(t){return e(t)}}(b):function(e){return Ee(e)&&Ce(e.length)&&!!c[ae(e)]};function Pe(e){return we(e)?J(e,!0):ue(e)}var Me,Le=(Me=function(e,t,i,n){ce(e,t,i,n)},he((function(e,t){var i=-1,n=t.length,r=n>1?t[n-1]:void 0,o=n>2?t[2]:void 0;for(r=Me.length>3&&"function"==typeof r?(n--,r):void 0,o&&function(e,t,i){if(!Te(i))return!1;var n=typeof t;return!!("number"==n?we(i)&&me(t,i.length):"string"==n&&t in i)&&be(i[t],e)}(t[0],t[1],o)&&(r=n<3?void 0:r,n=1),e=Object(e);++i<n;){var a=t[i];a&&Me(e,a,i,r)}return e})));function Oe(e){return e}e.exports=Le},5483:function(e,t,i){var n=i(9713).default,r=i(1506).default,o=i(9100).default,a=i(6525).default,s=i(9754).default,l=i(8585).default,u=i(8551).default,c=i(319).default,h=i(3038).default,d=i(3269).default,p=i(5957).default,f=i(2205).default,m=i(9842).default,g=i(4575).default,y=i(3913).default;e.exports=function(){"use strict";var e,t,i;function v(n,r){if(e)if(t){var o="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk); self.onerror = null;",a={};e(a),i=r(a),"undefined"!==typeof window&&(i.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else t=r;else e=r}return v(["exports"],(function(e){var t="2.6.1",i=n;function n(e,t,i,n){this.cx=3*e,this.bx=3*(i-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=n,this.p2x=i,this.p2y=n}n.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},n.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},n.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},n.prototype.solveCurveX=function(e,t){var i,n,r,o,a;for(void 0===t&&(t=1e-6),r=e,a=0;a<8;a++){if(o=this.sampleCurveX(r)-e,Math.abs(o)<t)return r;var s=this.sampleCurveDerivativeX(r);if(Math.abs(s)<1e-6)break;r-=o/s}if((r=e)<(i=0))return i;if(r>(n=1))return n;for(;i<n;){if(o=this.sampleCurveX(r),Math.abs(o-e)<t)return r;e>o?i=r:n=r,r=.5*(n-i)+i}return r},n.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var v=b;function b(e,t){this.x=e,this.y=t}b.prototype={clone:function(){return new b(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,i=e.y-this.y;return t*t+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),i=Math.sin(e),n=i*this.x+t*this.y;return this.x=t*this.x-i*this.y,this.y=n,this},_rotateAround:function(e,t){var i=Math.cos(e),n=Math.sin(e),r=t.y+n*(this.x-t.x)+i*(this.y-t.y);return this.x=t.x+i*(this.x-t.x)-n*(this.y-t.y),this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},b.convert=function(e){return e instanceof b?e:Array.isArray(e)?new b(e[0],e[1]):e};var x="undefined"!=typeof self?self:{},_=Math.pow(2,53)-1,w=Math.PI/180,S=180/Math.PI;function k(e){return e*w}function C(e){return e*S}var T=[[0,0],[1,0],[1,1],[0,1]];function E(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,i=t*e;return 4*(e<.5?i:3*(e-t)+i-.75)}function A(e,t,n,r){var o=new i(e,t,n,r);return function(e){return o.solve(e)}}var P=A(.25,.1,.25,1);function M(e,t,i){return Math.min(i,Math.max(t,e))}function L(e,t,i){var n=i-t,r=((e-t)%n+n)%n+t;return r===t?i:r}function O(e,t,i){if(!e.length)return i(null,[]);var n=e.length,r=new Array(e.length),o=null;e.forEach((function(e,a){t(e,(function(e,t){e&&(o=e),r[a]=t,0==--n&&i(o,r)}))}))}function R(e){var t=[];for(var i in e)t.push(e[i]);return t}function I(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];for(var r=0,o=i;r<o.length;r++){var a=o[r];for(var s in a)e[s]=a[s]}return e}var D=1;function z(){return D++}function B(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function F(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function N(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function j(e,t){e.forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))}function V(e,t){return-1!==e.indexOf(t,e.length-t.length)}function U(e,t,i){var n={};for(var r in e)n[r]=t.call(i||this,e[r],r,e);return n}function W(e,t,i){var n={};for(var r in e)t.call(i||this,e[r],r,e)&&(n[r]=e[r]);return n}function H(e){return Array.isArray(e)?e.map(H):"object"==typeof e&&e?U(e,H):e}var G={};function q(e){G[e]||("undefined"!=typeof console&&console.warn(e),G[e]=!0)}function Z(e,t,i){return(i.y-e.y)*(t.x-e.x)>(t.y-e.y)*(i.x-e.x)}function X(e){for(var t,i,n=0,r=0,o=e.length,a=o-1;r<o;a=r++)t=e[r],n+=((i=e[a]).x-t.x)*(t.y+i.y);return n}function Y(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function $(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(e,i,n,r){var o=n||r;return t[i]=!o||o.toLowerCase(),""})),t["max-age"]){var i=parseInt(t["max-age"],10);isNaN(i)?delete t["max-age"]:t["max-age"]=i}return t}var K,Q,J,ee=null;function te(e){if(null==ee){var t=e.navigator?e.navigator.userAgent:null;ee=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return ee}function ie(e){try{var t=x[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}}var ne,re,oe,ae={now:function(){return void 0!==J?J:x.performance.now()},setNow:function(e){J=e},restoreNow:function(){J=void 0},frame:function(e){var t=x.requestAnimationFrame(e);return{cancel:function(){return x.cancelAnimationFrame(t)}}},getImageData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=x.document.createElement("canvas"),n=i.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");return i.width=e.width,i.height=e.height,n.drawImage(e,0,0,e.width,e.height),n.getImageData(-t,-t,e.width+2*t,e.height+2*t)},resolveURL:function(e){return K||(K=x.document.createElement("a")),K.href=e,K.href},get devicePixelRatio(){return x.devicePixelRatio},get prefersReducedMotion(){return!!x.matchMedia&&(null==Q&&(Q=x.matchMedia("(prefers-reduced-motion: reduce)")),Q.matches)}},se={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==ne){var e=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{ne=null!={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_URL_REGEX?new RegExp({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_URL_REGEX):e}catch(t){ne=e}}return ne},get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},le={supported:!1,testSupport:function(e){!ue&&oe&&(ce?he(e):re=e)}},ue=!1,ce=!1;function he(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,oe),e.isContextLost())return;le.supported=!0}catch(e){}e.deleteTexture(t),ue=!0}x.document&&((oe=x.document.createElement("img")).onload=function(){re&&he(re),re=null,ce=!0},oe.onerror=function(){ue=!0,re=null},oe.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var de="01",pe="NO_ACCESS_TOKEN";function fe(e){return 0===e.indexOf("mapbox:")}function me(e){return se.API_URL_REGEX.test(e)}var ge=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ye(e){var t=e.match(ge);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function ve(e){var t=e.params.length?"?".concat(e.params.join("&")):"";return"".concat(e.protocol,"://").concat(e.authority).concat(e.path).concat(t)}function be(e){if(!e)return null;var t=e.split(".");if(!t||3!==t.length)return null;try{return JSON.parse(decodeURIComponent(x.atob(t[1]).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(e){return null}}var xe,_e,we=function(){function e(t){g(this,e),this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}return y(e,[{key:"getStorageKey",value:function(e){var t=be(se.ACCESS_TOKEN),i="";return i=t&&t.u?x.btoa(encodeURIComponent(t.u).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))}))):se.ACCESS_TOKEN||"",e?"mapbox.eventData.".concat(e,":").concat(i):"mapbox.eventData:".concat(i)}},{key:"fetchEventData",value:function(){var e=ie("localStorage"),t=this.getStorageKey(),i=this.getStorageKey("uuid");if(e)try{var n=x.localStorage.getItem(t);n&&(this.eventData=JSON.parse(n));var r=x.localStorage.getItem(i);r&&(this.anonId=r)}catch(e){q("Unable to read from LocalStorage")}}},{key:"saveEventData",value:function(){var e=ie("localStorage"),t=this.getStorageKey(),i=this.getStorageKey("uuid");if(e)try{x.localStorage.setItem(i,this.anonId),Object.keys(this.eventData).length>=1&&x.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(e){q("Unable to write to LocalStorage")}}},{key:"processRequests",value:function(e){}},{key:"postEvent",value:function(e,i,n,r){var o=this;if(se.EVENTS_URL){var a=ye(se.EVENTS_URL);a.params.push("access_token=".concat(r||se.ACCESS_TOKEN||""));var s={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:t,skuId:de,userId:this.anonId},l=i?I(s,i):s,u={url:ve(a),headers:{"Content-Type":"text/plain"},body:JSON.stringify([l])};this.pendingRequest=Ve(u,(function(e){o.pendingRequest=null,n(e),o.saveEventData(),o.processRequests(r)}))}}},{key:"queueRequest",value:function(e,t){this.queue.push(e),this.processRequests(t)}}]),e}(),Se=new(function(e){f(i,e);var t=m(i);function i(e){var n;return g(this,i),(n=t.call(this,"appUserTurnstile"))._customAccessToken=e,n}return y(i,[{key:"postTurnstileEvent",value:function(e,t){se.EVENTS_URL&&se.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return fe(e)||me(e)}))&&this.queueRequest(Date.now(),t)}},{key:"processRequests",value:function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var i=be(se.ACCESS_TOKEN),n=i?i.u:se.ACCESS_TOKEN,r=n!==this.eventData.tokenU;N(this.anonId)||(this.anonId=B(),r=!0);var o=this.queue.shift();if(this.eventData.lastSuccess){var a=new Date(this.eventData.lastSuccess),s=new Date(o),l=(o-this.eventData.lastSuccess)/864e5;r=r||l>=1||l<-1||a.getDate()!==s.getDate()}else r=!0;if(!r)return this.processRequests();this.postEvent(o,{"enabled.telemetry":!1},(function(e){e||(t.eventData.lastSuccess=o,t.eventData.tokenU=n)}),e)}}}]),i}(we)),ke=Se.postTurnstileEvent.bind(Se),Ce=new(function(e){f(i,e);var t=m(i);function i(){var e;return g(this,i),(e=t.call(this,"map.load")).success={},e.skuToken="",e}return y(i,[{key:"postMapLoadEvent",value:function(e,t,i,n){this.skuToken=t,this.errorCb=n,se.EVENTS_URL&&(i||se.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},i):this.errorCb(new Error(pe)))}},{key:"processRequests",value:function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var i=this.queue.shift(),n=i.id,r=i.timestamp;n&&this.success[n]||(this.anonId||this.fetchEventData(),N(this.anonId)||(this.anonId=B()),this.postEvent(r,{skuToken:this.skuToken},(function(e){e?t.errorCb(e):n&&(t.success[n]=!0)}),e))}}}]),i}(we)),Te=Ce.postMapLoadEvent.bind(Ce),Ee=new(function(e){f(i,e);var t=m(i);function i(){var e;return g(this,i),(e=t.call(this,"map.auth")).success={},e.skuToken="",e}return y(i,[{key:"getSession",value:function(e,t,i,n){var r=this;if(se.API_URL&&se.SESSION_PATH){var o=ye(se.API_URL+se.SESSION_PATH);o.params.push("sku=".concat(t||"")),o.params.push("access_token=".concat(n||se.ACCESS_TOKEN||""));var a={url:ve(o),headers:{"Content-Type":"text/plain"}};this.pendingRequest=Ue(a,(function(e){r.pendingRequest=null,i(e),r.saveEventData(),r.processRequests(n)}))}}},{key:"getSessionAPI",value:function(e,t,i,n){this.skuToken=t,this.errorCb=n,se.SESSION_PATH&&se.API_URL&&(i||se.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},i):this.errorCb(new Error(pe)))}},{key:"processRequests",value:function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var i=this.queue.shift(),n=i.id,r=i.timestamp;n&&this.success[n]||this.getSession(r,this.skuToken,(function(e){e?t.errorCb(e):n&&(t.success[n]=!0)}),e)}}}]),i}(we)),Ae=Ee.getSessionAPI.bind(Ee),Pe=new Set,Me="mapbox-tiles",Le=500,Oe=50;function Re(){x.caches&&!xe&&(xe=x.caches.open(Me))}function Ie(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}var De=1/0,ze={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(ze);var Be=function(e){f(i,e);var t=m(i);function i(e,n,r){var o;return g(this,i),401===n&&me(r)&&(e+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),(o=t.call(this,e)).status=n,o.url=r,o}return y(i,[{key:"toString",value:function(){return"".concat(this.name,": ").concat(this.message," (").concat(this.status,"): ").concat(this.url)}}]),i}(p(Error)),Fe=Y()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===x.location.protocol?x.parent:x).location.href},Ne=function(e,t){if(!(/^file:/.test(i=e.url)||/^file:/.test(Fe())&&!/^\w+:/.test(i))){if(x.fetch&&x.Request&&x.AbortController&&x.Request.prototype.hasOwnProperty("signal"))return function(e,t){var i,n=new x.AbortController,r=new x.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:Fe(),signal:n.signal}),o=!1,a=!1,s=(i=r.url).indexOf("sku=")>0&&me(i);"json"===e.type&&r.headers.set("Accept","application/json");var l=function(i,n,o){if(!a){if(i&&"SecurityError"!==i.message&&q(i),n&&o)return u(n);var l=Date.now();x.fetch(r).then((function(i){if(i.ok){var n=s?i.clone():null;return u(i,n,l)}return t(new Be(i.statusText,i.status,e.url))})).catch((function(e){20!==e.code&&t(new Error(e.message))}))}},u=function(i,n,s){("arrayBuffer"===e.type?i.arrayBuffer():"json"===e.type?i.json():i.text()).then((function(e){a||(n&&s&&function(e,t,i){if(Re(),xe){var n={status:t.status,statusText:t.statusText,headers:new x.Headers};t.headers.forEach((function(e,t){return n.headers.set(t,e)}));var r=$(t.headers.get("Cache-Control")||"");r["no-store"]||(r["max-age"]&&n.headers.set("Expires",new Date(i+1e3*r["max-age"]).toUTCString()),new Date(n.headers.get("Expires")).getTime()-i<42e4||function(e,t){if(void 0===_e)try{new Response(new ReadableStream),_e=!0}catch(e){_e=!1}_e?t(e.body):e.blob().then(t)}(t,(function(t){var i=new x.Response(t,n);Re(),xe&&xe.then((function(t){return t.put(Ie(e.url),i)})).catch((function(e){return q(e.message)}))})))}}(r,n,s),o=!0,t(null,e,i.headers.get("Cache-Control"),i.headers.get("Expires")))})).catch((function(e){a||t(new Error(e.message))}))};return s?function(e,t){if(Re(),!xe)return t(null);var i=Ie(e.url);xe.then((function(e){e.match(i).then((function(n){var r=function(e){if(!e)return!1;var t=new Date(e.headers.get("Expires")||0),i=$(e.headers.get("Cache-Control")||"");return t>Date.now()&&!i["no-cache"]}(n);e.delete(i),r&&e.put(i,n.clone()),t(null,n,r)})).catch(t)})).catch(t)}(r,l):l(null,null),{cancel:function(){a=!0,o||n.abort()}}}(e,t);if(Y()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var i;return function(e,t){var i=new x.XMLHttpRequest;for(var n in i.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(i.responseType="arraybuffer"),e.headers)i.setRequestHeader(n,e.headers[n]);return"json"===e.type&&(i.responseType="text",i.setRequestHeader("Accept","application/json")),i.withCredentials="include"===e.credentials,i.onerror=function(){t(new Error(i.statusText))},i.onload=function(){if((i.status>=200&&i.status<300||0===i.status)&&null!==i.response){var n=i.response;if("json"===e.type)try{n=JSON.parse(i.response)}catch(e){return t(e)}t(null,n,i.getResponseHeader("Cache-Control"),i.getResponseHeader("Expires"))}else t(new Be(i.statusText,i.status,e.url))},i.send(e.body),{cancel:function(){return i.abort()}}}(e,t)},je=function(e,t){return Ne(I(e,{type:"arrayBuffer"}),t)},Ve=function(e,t){return Ne(I(e,{method:"POST"}),t)},Ue=function(e,t){return Ne(I(e,{method:"GET"}),t)};function We(e){var t=x.document.createElement("a");return t.href=e,t.protocol===x.document.location.protocol&&t.host===x.document.location.host}var He,Ge,qe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";He=[],Ge=0;var Ze=function e(t,i){if(le.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),Ge>=se.MAX_PARALLEL_IMAGE_REQUESTS){var n={requestParameters:t,callback:i,cancelled:!1,cancel:function(){this.cancelled=!0}};return He.push(n),n}Ge++;var r=!1,o=function(){if(!r)for(r=!0,Ge--;He.length&&Ge<se.MAX_PARALLEL_IMAGE_REQUESTS;){var t=He.shift(),i=t.requestParameters,n=t.callback;t.cancelled||(t.cancel=e(i,n).cancel)}},a=je(t,(function(e,t,n,r){o(),e?i(e):t&&(x.createImageBitmap?function(e,t){var i=new x.Blob([new Uint8Array(e)],{type:"image/png"});x.createImageBitmap(i).then((function(e){t(null,e)})).catch((function(e){t(new Error("Could not load image because of ".concat(e.message,". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")))}))}(t,(function(e,t){return i(e,t,n,r)})):function(e,t){var i=new x.Image,n=x.URL;i.onload=function(){t(null,i),n.revokeObjectURL(i.src),i.onload=null,x.requestAnimationFrame((function(){i.src=qe}))},i.onerror=function(){return t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var r=new x.Blob([new Uint8Array(e)],{type:"image/png"});i.src=e.byteLength?n.createObjectURL(r):qe}(t,(function(e,t){return i(e,t,n,r)})))}));return{cancel:function(){a.cancel(),o()}}};function Xe(e,t,i){i[e]&&-1!==i[e].indexOf(t)||(i[e]=i[e]||[],i[e].push(t))}function Ye(e,t,i){if(i&&i[e]){var n=i[e].indexOf(t);-1!==n&&i[e].splice(n,1)}}var $e=y((function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(this,e),I(this,i),this.type=t})),Ke=function(e){f(i,e);var t=m(i);function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return g(this,i),t.call(this,"error",I({error:e},n))}return y(i)}($e),Qe=function(){function e(){g(this,e)}return y(e,[{key:"on",value:function(e,t){return this._listeners=this._listeners||{},Xe(e,t,this._listeners),this}},{key:"off",value:function(e,t){return Ye(e,t,this._listeners),Ye(e,t,this._oneTimeListeners),this}},{key:"once",value:function(e,t){var i=this;return t?(this._oneTimeListeners=this._oneTimeListeners||{},Xe(e,t,this._oneTimeListeners),this):new Promise((function(t){return i.once(e,t)}))}},{key:"fire",value:function(e,t){"string"==typeof e&&(e=new $e(e,t||{}));var i=e.type;if(this.listens(i)){e.target=this;var n,r=this._listeners&&this._listeners[i]?this._listeners[i].slice():[],o=d(r);try{for(o.s();!(n=o.n()).done;)n.value.call(this,e)}catch(h){o.e(h)}finally{o.f()}var a,s=this._oneTimeListeners&&this._oneTimeListeners[i]?this._oneTimeListeners[i].slice():[],l=d(s);try{for(l.s();!(a=l.n()).done;){var u=a.value;Ye(i,u,this._oneTimeListeners),u.call(this,e)}}catch(h){l.e(h)}finally{l.f()}var c=this._eventedParent;c&&(I(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),c.fire(e))}else e instanceof Ke&&console.error(e.error);return this}},{key:"listens",value:function(e){return!!(this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e))}},{key:"setEventedParent",value:function(e,t){return this._eventedParent=e,this._eventedParentData=t,this}}]),e}(),Je=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":0.1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":true,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"cross-faded"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"cross-faded":{"type":"property-type"},"cross-faded-data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}'),et=y((function e(t,i,n,r){g(this,e),this.message=(t?"".concat(t,": "):"")+n,r&&(this.identifier=r),null!=i&&i.__line__&&(this.line=i.__line__)}));function tt(e){var t=e.value;return t?[new et(e.key,t,"constants have been deprecated as of v8")]:[]}function it(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];for(var r=0,o=i;r<o.length;r++){var a=o[r];for(var s in a)e[s]=a[s]}return e}function nt(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function rt(e){if(Array.isArray(e))return e.map(rt);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var i in e)t[i]=rt(e[i]);return t}return nt(e)}var ot=function(e){f(i,e);var t=m(i);function i(e,n){var r;return g(this,i),(r=t.call(this,n)).message=n,r.key=e,r}return y(i)}(p(Error)),at=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];g(this,e),this.parent=t,this.bindings={};var n,r=d(i);try{for(r.s();!(n=r.n()).done;){var o=h(n.value,2),a=o[0],s=o[1];this.bindings[a]=s}}catch(l){r.e(l)}finally{r.f()}}return y(e,[{key:"concat",value:function(t){return new e(this,t)}},{key:"get",value:function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error("".concat(e," not found in scope."))}},{key:"has",value:function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}]),e}(),st={kind:"null"},lt={kind:"number"},ut={kind:"string"},ct={kind:"boolean"},ht={kind:"color"},dt={kind:"object"},pt={kind:"value"},ft={kind:"collator"},mt={kind:"formatted"},gt={kind:"resolvedImage"};function yt(e,t){return{kind:"array",itemType:e,N:t}}function vt(e){if("array"===e.kind){var t=vt(e.itemType);return"number"==typeof e.N?"array<".concat(t,", ").concat(e.N,">"):"value"===e.itemType.kind?"array":"array<".concat(t,">")}return e.kind}var bt=[st,lt,ut,ct,ht,mt,dt,yt(pt),gt];function xt(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!xt(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind){var i,n=d(bt);try{for(n.s();!(i=n.n()).done;)if(!xt(i.value,t))return null}catch(r){n.e(r)}finally{n.f()}}}return"Expected ".concat(vt(e)," but found ").concat(vt(t)," instead.")}function _t(e,t){return t.some((function(t){return t.kind===e.kind}))}function wt(e,t){return t.some((function(t){return"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e}))}function St(e){var t={exports:{}};return e(t,t.exports),t.exports}var kt=St((function(e,t){var i={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(e){return(e=Math.round(e))<0?0:e>255?255:e}function r(e){return n("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function o(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function a(e,t,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}try{t.parseCSSColor=function(e){var t,s=e.replace(/ /g,"").toLowerCase();if(s in i)return i[s].slice();if("#"===s[0])return 4===s.length?(t=parseInt(s.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===s.length&&(t=parseInt(s.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var l=s.indexOf("("),u=s.indexOf(")");if(-1!==l&&u+1===s.length){var c=s.substr(0,l),h=s.substr(l+1,u-(l+1)).split(","),d=1;switch(c){case"rgba":if(4!==h.length)return null;d=o(h.pop());case"rgb":return 3!==h.length?null:[r(h[0]),r(h[1]),r(h[2]),d];case"hsla":if(4!==h.length)return null;d=o(h.pop());case"hsl":if(3!==h.length)return null;var p=(parseFloat(h[0])%360+360)%360/360,f=o(h[1]),m=o(h[2]),g=m<=.5?m*(f+1):m+f-m*f,y=2*m-g;return[n(255*a(y,g,p+1/3)),n(255*a(y,g,p)),n(255*a(y,g,p-1/3)),d];default:return null}}return null}}catch(e){}})),Ct=function(){function e(t,i,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;g(this,e),this.r=t,this.g=i,this.b=n,this.a=r}return y(e,[{key:"toString",value:function(){var e=this.toArray(),t=h(e,4),i=t[0],n=t[1],r=t[2],o=t[3];return"rgba(".concat(Math.round(i),",").concat(Math.round(n),",").concat(Math.round(r),",").concat(o,")")}},{key:"toArray",value:function(){var e=this.r,t=this.g,i=this.b,n=this.a;return 0===n?[0,0,0,0]:[255*e/n,255*t/n,255*i/n,n]}}],[{key:"parse",value:function(t){if(t){if(t instanceof e)return t;if("string"==typeof t){var i=kt.parseCSSColor(t);return i?new e(i[0]/255*i[3],i[1]/255*i[3],i[2]/255*i[3],i[3]):void 0}}}}]),e}();Ct.black=new Ct(0,0,0,1),Ct.white=new Ct(1,1,1,1),Ct.transparent=new Ct(0,0,0,0),Ct.red=new Ct(1,0,0,1),Ct.blue=new Ct(0,0,1,1);var Tt=function(){function e(t,i,n){g(this,e),this.sensitivity=t?i?"variant":"case":i?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}return y(e,[{key:"compare",value:function(e,t){return this.collator.compare(e,t)}},{key:"resolvedLocale",value:function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}]),e}(),Et=y((function e(t,i,n,r,o){g(this,e),this.text=t,this.image=i,this.scale=n,this.fontStack=r,this.textColor=o})),At=function(){function e(t){g(this,e),this.sections=t}return y(e,[{key:"isEmpty",value:function(){return 0===this.sections.length||!this.sections.some((function(e){return 0!==e.text.length||e.image&&0!==e.image.name.length}))}},{key:"toString",value:function(){return 0===this.sections.length?"":this.sections.map((function(e){return e.text})).join("")}},{key:"serialize",value:function(){var e,t=["format"],i=d(this.sections);try{for(i.s();!(e=i.n()).done;){var n=e.value;if(n.image)t.push(["image",n.image.name]);else{t.push(n.text);var r={};n.fontStack&&(r["text-font"]=["literal",n.fontStack.split(",")]),n.scale&&(r["font-scale"]=n.scale),n.textColor&&(r["text-color"]=["rgba"].concat(n.textColor.toArray())),t.push(r)}}}catch(o){i.e(o)}finally{i.f()}return t}}],[{key:"fromString",value:function(t){return new e([new Et(t,null,null,null,null)])}},{key:"factory",value:function(t){return t instanceof e?t:e.fromString(t)}}]),e}(),Pt=function(){function e(t){g(this,e),this.name=t.name,this.available=t.available}return y(e,[{key:"toString",value:function(){return this.name}},{key:"serialize",value:function(){return["image",this.name]}}],[{key:"fromString",value:function(t){return t?new e({name:t,available:!1}):null}}]),e}();function Mt(e,t,i,n){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof i&&i>=0&&i<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:"Invalid rgba value [".concat([e,t,i,n].join(", "),"]: 'a' must be between 0 and 1."):"Invalid rgba value [".concat(("number"==typeof n?[e,t,i,n]:[e,t,i]).join(", "),"]: 'r', 'g', and 'b' must be between 0 and 255.")}function Lt(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof Ct)return!0;if(e instanceof Tt)return!0;if(e instanceof At)return!0;if(e instanceof Pt)return!0;if(Array.isArray(e)){var t,i=d(e);try{for(i.s();!(t=i.n()).done;)if(!Lt(t.value))return!1}catch(r){i.e(r)}finally{i.f()}return!0}if("object"==typeof e){for(var n in e)if(!Lt(e[n]))return!1;return!0}return!1}function Ot(e){if(null===e)return st;if("string"==typeof e)return ut;if("boolean"==typeof e)return ct;if("number"==typeof e)return lt;if(e instanceof Ct)return ht;if(e instanceof Tt)return ft;if(e instanceof At)return mt;if(e instanceof Pt)return gt;if(Array.isArray(e)){var t,i,n=e.length,r=d(e);try{for(r.s();!(i=r.n()).done;){var o=Ot(i.value);if(t){if(t===o)continue;t=pt;break}t=o}}catch(a){r.e(a)}finally{r.f()}return yt(t||pt,n)}return dt}function Rt(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Ct||e instanceof At||e instanceof Pt?e.toString():JSON.stringify(e)}var It=function(){function e(t,i){g(this,e),this.type=t,this.value=i}return y(e,[{key:"evaluate",value:function(){return this.value}},{key:"eachChild",value:function(){}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Ct?["rgba"].concat(this.value.toArray()):this.value instanceof At?this.value.serialize():this.value}}],[{key:"parse",value:function(t,i){if(2!==t.length)return i.error("'literal' expression requires exactly one argument, but found ".concat(t.length-1," instead."));if(!Lt(t[1]))return i.error("invalid value");var n=t[1],r=Ot(n),o=i.expectedType;return"array"!==r.kind||0!==r.N||!o||"array"!==o.kind||"number"==typeof o.N&&0!==o.N||(r=o),new e(r,n)}}]),e}(),Dt=function(){function e(t){g(this,e),this.name="ExpressionEvaluationError",this.message=t}return y(e,[{key:"toJSON",value:function(){return this.message}}]),e}(),zt={string:ut,number:lt,boolean:ct,object:dt},Bt=function(){function e(t,i){g(this,e),this.type=t,this.args=i}return y(e,[{key:"evaluate",value:function(e){for(var t=0;t<this.args.length;t++){var i=this.args[t].evaluate(e);if(!xt(this.type,Ot(i)))return i;if(t===this.args.length-1)throw new Dt("Expected value to be of type ".concat(vt(this.type),", but found ").concat(vt(Ot(i))," instead."))}return null}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return this.args.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){var e=this.type,t=[e.kind];if("array"===e.kind){var i=e.itemType;if("string"===i.kind||"number"===i.kind||"boolean"===i.kind){t.push(i.kind);var n=e.N;("number"==typeof n||this.args.length>1)&&t.push(n)}}return t.concat(this.args.map((function(e){return e.serialize()})))}}],[{key:"parse",value:function(t,i){if(t.length<2)return i.error("Expected at least one argument.");var n,r=1,o=t[0];if("array"===o){var a,s;if(t.length>2){var l=t[1];if("string"!=typeof l||!(l in zt)||"object"===l)return i.error('The item type argument of "array" must be one of string, number, boolean',1);a=zt[l],r++}else a=pt;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return i.error('The length argument to "array" must be a positive integer literal',2);s=t[2],r++}n=yt(a,s)}else n=zt[o];for(var u=[];r<t.length;r++){var c=i.parse(t[r],r,pt);if(!c)return null;u.push(c)}return new e(n,u)}}]),e}(),Ft=function(){function e(t){g(this,e),this.type=mt,this.sections=t}return y(e,[{key:"evaluate",value:function(e){return new At(this.sections.map((function(t){var i=t.content.evaluate(e);return Ot(i)===gt?new Et("",i,null,null,null):new Et(Rt(i),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))}},{key:"eachChild",value:function(e){var t,i=d(this.sections);try{for(i.s();!(t=i.n()).done;){var n=t.value;e(n.content),n.scale&&e(n.scale),n.font&&e(n.font),n.textColor&&e(n.textColor)}}catch(r){i.e(r)}finally{i.f()}}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e,t=["format"],i=d(this.sections);try{for(i.s();!(e=i.n()).done;){var n=e.value;t.push(n.content.serialize());var r={};n.scale&&(r["font-scale"]=n.scale.serialize()),n.font&&(r["text-font"]=n.font.serialize()),n.textColor&&(r["text-color"]=n.textColor.serialize()),t.push(r)}}catch(o){i.e(o)}finally{i.f()}return t}}],[{key:"parse",value:function(t,i){if(t.length<2)return i.error("Expected at least one argument.");var n=t[1];if(!Array.isArray(n)&&"object"==typeof n)return i.error("First argument must be an image or text section.");for(var r=[],o=!1,a=1;a<=t.length-1;++a){var s=t[a];if(o&&"object"==typeof s&&!Array.isArray(s)){o=!1;var l=null;if(s["font-scale"]&&!(l=i.parse(s["font-scale"],1,lt)))return null;var u=null;if(s["text-font"]&&!(u=i.parse(s["text-font"],1,yt(ut))))return null;var c=null;if(s["text-color"]&&!(c=i.parse(s["text-color"],1,ht)))return null;var h=r[r.length-1];h.scale=l,h.font=u,h.textColor=c}else{var d=i.parse(t[a],1,pt);if(!d)return null;var p=d.type.kind;if("string"!==p&&"value"!==p&&"null"!==p&&"resolvedImage"!==p)return i.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,r.push({content:d,scale:null,font:null,textColor:null})}}return new e(r)}}]),e}(),Nt=function(){function e(t){g(this,e),this.type=gt,this.input=t}return y(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e),i=Pt.fromString(t);return i&&e.availableImages&&(i.available=e.availableImages.indexOf(t)>-1),i}},{key:"eachChild",value:function(e){e(this.input)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return["image",this.input.serialize()]}}],[{key:"parse",value:function(t,i){if(2!==t.length)return i.error("Expected two arguments.");var n=i.parse(t[1],1,ut);return n?new e(n):i.error("No image name provided.")}}]),e}(),jt={"to-boolean":ct,"to-color":ht,"to-number":lt,"to-string":ut},Vt=function(){function e(t,i){g(this,e),this.type=t,this.args=i}return y(e,[{key:"evaluate",value:function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){var t,i,n,r=d(this.args);try{for(r.s();!(n=r.n()).done;){if(t=n.value.evaluate(e),i=null,t instanceof Ct)return t;if("string"==typeof t){var o=e.parseColor(t);if(o)return o}else if(Array.isArray(t)&&!(i=t.length<3||t.length>4?"Invalid rbga value ".concat(JSON.stringify(t),": expected an array containing either three or four numeric values."):Mt(t[0],t[1],t[2],t[3])))return new Ct(t[0]/255,t[1]/255,t[2]/255,t[3])}}catch(c){r.e(c)}finally{r.f()}throw new Dt(i||"Could not parse color from value '".concat("string"==typeof t?t:String(JSON.stringify(t)),"'"))}if("number"===this.type.kind){var a,s=null,l=d(this.args);try{for(l.s();!(a=l.n()).done;){if(null===(s=a.value.evaluate(e)))return 0;var u=Number(s);if(!isNaN(u))return u}}catch(c){l.e(c)}finally{l.f()}throw new Dt("Could not convert ".concat(JSON.stringify(s)," to number."))}return"formatted"===this.type.kind?At.fromString(Rt(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?Pt.fromString(Rt(this.args[0].evaluate(e))):Rt(this.args[0].evaluate(e))}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return this.args.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){if("formatted"===this.type.kind)return new Ft([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Nt(this.args[0]).serialize();var e=["to-".concat(this.type.kind)];return this.eachChild((function(t){e.push(t.serialize())})),e}}],[{key:"parse",value:function(t,i){if(t.length<2)return i.error("Expected at least one argument.");var n=t[0];if(("to-boolean"===n||"to-string"===n)&&2!==t.length)return i.error("Expected one argument.");for(var r=jt[n],o=[],a=1;a<t.length;a++){var s=i.parse(t[a],a,pt);if(!s)return null;o.push(s)}return new e(r,o)}}]),e}(),Ut=["Unknown","Point","LineString","Polygon"],Wt=function(){function e(){g(this,e),this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}return y(e,[{key:"id",value:function(){return this.feature&&"id"in this.feature?this.feature.id:null}},{key:"geometryType",value:function(){return this.feature?"number"==typeof this.feature.type?Ut[this.feature.type]:this.feature.type:null}},{key:"geometry",value:function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}},{key:"canonicalID",value:function(){return this.canonical}},{key:"properties",value:function(){return this.feature&&this.feature.properties||{}}},{key:"distanceFromCenter",value:function(){if(this.featureTileCoord&&this.featureDistanceData){var e=this.featureDistanceData.center,t=this.featureDistanceData.scale,i=this.featureTileCoord,n=i.x,r=i.y;return this.featureDistanceData.bearing[0]*(n*t-e[0])+this.featureDistanceData.bearing[1]*(r*t-e[1])}return 0}},{key:"parseColor",value:function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Ct.parse(e)),t}}]),e}(),Ht=function(){function e(t,i,n,r){g(this,e),this.name=t,this.type=i,this._evaluate=n,this.args=r}return y(e,[{key:"evaluate",value:function(e){return this._evaluate(e,this.args)}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return[this.name].concat(this.args.map((function(e){return e.serialize()})))}}],[{key:"parse",value:function(t,i){var n,r=t[0],o=e.definitions[r];if(!o)return i.error('Unknown expression "'.concat(r,'". If you wanted a literal array, use ["literal", [...]].'),0);var a,s=Array.isArray(o)?o[0]:o.type,l=Array.isArray(o)?[[o[1],o[2]]]:o.overloads,u=l.filter((function(e){var i=h(e,1)[0];return!Array.isArray(i)||i.length===t.length-1})),p=null,f=d(u);try{for(f.s();!(a=f.n()).done;){var m=h(a.value,2),g=m[0],y=m[1];p=new pi(i.registry,i.path,null,i.scope);for(var v=[],b=!1,x=1;x<t.length;x++){var _=t[x],w=Array.isArray(g)?g[x-1]:g.type,S=p.parse(_,1+v.length,w);if(!S){b=!0;break}v.push(S)}if(!b)if(Array.isArray(g)&&g.length!==v.length)p.error("Expected ".concat(g.length," arguments, but found ").concat(v.length," instead."));else{for(var k=0;k<v.length;k++){var C=Array.isArray(g)?g[k]:g.type,T=v[k];p.concat(k+1).checkSubtype(C,T.type)}if(0===p.errors.length)return new e(r,s,y,v)}}}catch(L){f.e(L)}finally{f.f()}if(1===u.length)(n=i.errors).push.apply(n,c(p.errors));else{for(var E=(u.length?u:l).map((function(e){var t;return t=h(e,1)[0],Array.isArray(t)?"(".concat(t.map(vt).join(", "),")"):"(".concat(vt(t.type),"...)")})).join(" | "),A=[],P=1;P<t.length;P++){var M=i.parse(t[P],1+A.length);if(!M)return null;A.push(vt(M.type))}i.error("Expected arguments of type ".concat(E,", but found (").concat(A.join(", "),") instead."))}return null}},{key:"register",value:function(t,i){for(var n in e.definitions=i,i)t[n]=e}}]),e}(),Gt=function(){function e(t,i,n){g(this,e),this.type=ft,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=i}return y(e,[{key:"evaluate",value:function(e){return new Tt(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}},{key:"eachChild",value:function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}],[{key:"parse",value:function(t,i){if(2!==t.length)return i.error("Expected one argument.");var n=t[1];if("object"!=typeof n||Array.isArray(n))return i.error("Collator options argument must be an object.");var r=i.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,ct);if(!r)return null;var o=i.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,ct);if(!o)return null;var a=null;return n.locale&&!(a=i.parse(n.locale,1,ut))?null:new e(r,o,a)}}]),e}(),qt=8192;function Zt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function Xt(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function Yt(e,t){var i=(180+e[0])/360,n=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,r=Math.pow(2,t.z);return[Math.round(i*r*qt),Math.round(n*r*qt)]}function $t(e,t,i){var n=e[0]-t[0],r=e[1]-t[1],o=e[0]-i[0],a=e[1]-i[1];return n*a-o*r==0&&n*o<=0&&r*a<=0}function Kt(e,t){for(var i,n,r,o=!1,a=0,s=t.length;a<s;a++)for(var l=t[a],u=0,c=l.length;u<c-1;u++){if($t(e,l[u],l[u+1]))return!1;(n=l[u])[1]>(i=e)[1]!=(r=l[u+1])[1]>i[1]&&i[0]<(r[0]-n[0])*(i[1]-n[1])/(r[1]-n[1])+n[0]&&(o=!o)}return o}function Qt(e,t){for(var i=0;i<t.length;i++)if(Kt(e,t[i]))return!0;return!1}function Jt(e,t,i,n){var r=n[0]-i[0],o=n[1]-i[1],a=(e[0]-i[0])*o-r*(e[1]-i[1]),s=(t[0]-i[0])*o-r*(t[1]-i[1]);return a>0&&s<0||a<0&&s>0}function ei(e,t,i){var n,r,o,a,s,l,u,c=d(i);try{for(c.s();!(n=c.n()).done;)for(var h=n.value,p=0;p<h.length-1;++p)if(0!=(l=[(s=h[p+1])[0]-(a=h[p])[0],s[1]-a[1]])[0]*(u=[(o=t)[0]-(r=e)[0],o[1]-r[1]])[1]-l[1]*u[0]&&Jt(r,o,a,s)&&Jt(a,s,r,o))return!0}catch(f){c.e(f)}finally{c.f()}return!1}function ti(e,t){for(var i=0;i<e.length;++i)if(!Kt(e[i],t))return!1;for(var n=0;n<e.length-1;++n)if(ei(e[n],e[n+1],t))return!1;return!0}function ii(e,t){for(var i=0;i<t.length;i++)if(ti(e,t[i]))return!0;return!1}function ni(e,t,i){for(var n=[],r=0;r<e.length;r++){for(var o=[],a=0;a<e[r].length;a++){var s=Yt(e[r][a],i);Zt(t,s),o.push(s)}n.push(o)}return n}function ri(e,t,i){for(var n=[],r=0;r<e.length;r++){var o=ni(e[r],t,i);n.push(o)}return n}function oi(e,t,i,n){if(e[0]<i[0]||e[0]>i[2]){var r=.5*n,o=e[0]-i[0]>r?-n:i[0]-e[0]>r?n:0;0===o&&(o=e[0]-i[2]>r?-n:i[2]-e[0]>r?n:0),e[0]+=o}Zt(t,e)}function ai(e,t,i,n){var r,o=Math.pow(2,n.z)*qt,a=[n.x*qt,n.y*qt],s=[],l=d(e);try{for(l.s();!(r=l.n()).done;){var u,c=r.value,h=d(c);try{for(h.s();!(u=h.n()).done;){var p=u.value,f=[p.x+a[0],p.y+a[1]];oi(f,t,i,o),s.push(f)}}catch(m){h.e(m)}finally{h.f()}}}catch(m){l.e(m)}finally{l.f()}return s}function si(e,t,i,n){var r,o,a=Math.pow(2,n.z)*qt,s=[n.x*qt,n.y*qt],l=[],u=d(e);try{for(u.s();!(r=u.n()).done;){var c,h=r.value,p=[],f=d(h);try{for(f.s();!(c=f.n()).done;){var m=c.value,g=[m.x+s[0],m.y+s[1]];Zt(t,g),p.push(g)}}catch(w){f.e(w)}finally{f.f()}l.push(p)}}catch(w){u.e(w)}finally{u.f()}if(t[2]-t[0]<=a/2){(o=t)[0]=o[1]=1/0,o[2]=o[3]=-1/0;var y,v=d(l);try{for(v.s();!(y=v.n()).done;){var b,x=y.value,_=d(x);try{for(_.s();!(b=_.n()).done;)oi(b.value,t,i,a)}catch(w){_.e(w)}finally{_.f()}}}catch(w){v.e(w)}finally{v.f()}}return l}var li=function(){function e(t,i){g(this,e),this.type=ct,this.geojson=t,this.geometries=i}return y(e,[{key:"evaluate",value:function(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){var i=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],r=e.canonicalID();if("Polygon"===t.type){var o=ni(t.coordinates,n,r),a=ai(e.geometry(),i,n,r);if(!Xt(i,n))return!1;var s,l=d(a);try{for(l.s();!(s=l.n()).done;)if(!Kt(s.value,o))return!1}catch(f){l.e(f)}finally{l.f()}}if("MultiPolygon"===t.type){var u=ri(t.coordinates,n,r),c=ai(e.geometry(),i,n,r);if(!Xt(i,n))return!1;var h,p=d(c);try{for(p.s();!(h=p.n()).done;)if(!Qt(h.value,u))return!1}catch(f){p.e(f)}finally{p.f()}}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){var i=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],r=e.canonicalID();if("Polygon"===t.type){var o=ni(t.coordinates,n,r),a=si(e.geometry(),i,n,r);if(!Xt(i,n))return!1;var s,l=d(a);try{for(l.s();!(s=l.n()).done;)if(!ti(s.value,o))return!1}catch(f){l.e(f)}finally{l.f()}}if("MultiPolygon"===t.type){var u=ri(t.coordinates,n,r),c=si(e.geometry(),i,n,r);if(!Xt(i,n))return!1;var h,p=d(c);try{for(p.s();!(h=p.n()).done;)if(!ii(h.value,u))return!1}catch(f){p.e(f)}finally{p.f()}}return!0}(e,this.geometries)}return!1}},{key:"eachChild",value:function(){}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){return["within",this.geojson]}}],[{key:"parse",value:function(t,i){if(2!==t.length)return i.error("'within' expression requires exactly one argument, but found ".concat(t.length-1," instead."));if(Lt(t[1])){var n=t[1];if("FeatureCollection"===n.type)for(var r=0;r<n.features.length;++r){var o=n.features[r].geometry.type;if("Polygon"===o||"MultiPolygon"===o)return new e(n,n.features[r].geometry)}else if("Feature"===n.type){var a=n.geometry.type;if("Polygon"===a||"MultiPolygon"===a)return new e(n,n.geometry)}else if("Polygon"===n.type||"MultiPolygon"===n.type)return new e(n,n)}return i.error("'within' expression requires valid geojson object that contains polygon geometry type.")}}]),e}();function ui(e){if(e instanceof Ht){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof li)return!1;var t=!0;return e.eachChild((function(e){t&&!ui(e)&&(t=!1)})),t}function ci(e){if(e instanceof Ht&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild((function(e){t&&!ci(e)&&(t=!1)})),t}function hi(e,t){if(e instanceof Ht&&t.indexOf(e.name)>=0)return!1;var i=!0;return e.eachChild((function(e){i&&!hi(e,t)&&(i=!1)})),i}var di=function(){function e(t,i){g(this,e),this.type=i.type,this.name=t,this.boundExpression=i}return y(e,[{key:"evaluate",value:function(e){return this.boundExpression.evaluate(e)}},{key:"eachChild",value:function(){}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return["var",this.name]}}],[{key:"parse",value:function(t,i){if(2!==t.length||"string"!=typeof t[1])return i.error("'var' expression requires exactly one string literal argument.");var n=t[1];return i.scope.has(n)?new e(n,i.scope.get(n)):i.error('Unknown variable "'.concat(n,'". Make sure "').concat(n,'" has been bound in an enclosing "let" expression before using it.'),1)}}]),e}(),pi=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new at,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];g(this,e),this.registry=t,this.path=i,this.key=i.map((function(e){return"[".concat(e,"]")})).join(""),this.scope=r,this.errors=o,this.expectedType=n}return y(e,[{key:"parse",value:function(e,t,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return t?this.concat(t,i,n)._parse(e,r):this._parse(e,r)}},{key:"_parse",value:function(e,t){function i(e,t,i){return"assert"===i?new Bt(t,[e]):"coerce"===i?new Vt(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var n=e[0];if("string"!=typeof n)return this.error("Expression name must be a string, but found ".concat(typeof n,' instead. If you wanted a literal array, use ["literal", [...]].'),0),null;var r=this.registry[n];if(r){var o=r.parse(e,this);if(!o)return null;if(this.expectedType){var a=this.expectedType,s=o.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind&&"resolvedImage"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else o=i(o,a,t.typeAnnotation||"coerce");else o=i(o,a,t.typeAnnotation||"assert")}if(!(o instanceof It)&&"resolvedImage"!==o.type.kind&&fi(o)){var l=new Wt;try{o=new It(o.type,o.evaluate(l))}catch(e){return this.error(e.message),null}}return o}return this.error('Unknown expression "'.concat(n,'". If you wanted a literal array, use ["literal", [...]].'),0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found ".concat(typeof e," instead."))}},{key:"concat",value:function(t,i,n){var r="number"==typeof t?this.path.concat(t):this.path,o=n?this.scope.concat(n):this.scope;return new e(this.registry,r,i||null,o,this.errors)}},{key:"error",value:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var r="".concat(this.key).concat(i.map((function(e){return"[".concat(e,"]")})).join(""));this.errors.push(new ot(r,e))}},{key:"checkSubtype",value:function(e,t){var i=xt(e,t);return i&&this.error(i),i}}]),e}();function fi(e){if(e instanceof di)return fi(e.boundExpression);if(e instanceof Ht&&"error"===e.name)return!1;if(e instanceof Gt)return!1;if(e instanceof li)return!1;var t=e instanceof Vt||e instanceof Bt,i=!0;return e.eachChild((function(e){i=t?i&&fi(e):i&&e instanceof It})),!!i&&ui(e)&&hi(e,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function mi(e,t){for(var i,n,r=e.length-1,o=0,a=r,s=0;o<=a;)if(i=e[s=Math.floor((o+a)/2)],n=e[s+1],i<=t){if(s===r||t<n)return s;o=s+1}else{if(!(i>t))throw new Dt("Input is not a number.");a=s-1}return 0}var gi=function(){function e(t,i,n){g(this,e),this.type=t,this.input=i,this.labels=[],this.outputs=[];var r,o=d(n);try{for(o.s();!(r=o.n()).done;){var a=h(r.value,2),s=a[0],l=a[1];this.labels.push(s),this.outputs.push(l)}}catch(u){o.e(u)}finally{o.f()}}return y(e,[{key:"evaluate",value:function(e){var t=this.labels,i=this.outputs;if(1===t.length)return i[0].evaluate(e);var n=this.input.evaluate(e);if(n<=t[0])return i[0].evaluate(e);var r=t.length;return n>=t[r-1]?i[r-1].evaluate(e):i[mi(t,n)].evaluate(e)}},{key:"eachChild",value:function(e){e(this.input);var t,i=d(this.outputs);try{for(i.s();!(t=i.n()).done;)e(t.value)}catch(n){i.e(n)}finally{i.f()}}},{key:"outputDefined",value:function(){return this.outputs.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}],[{key:"parse",value:function(t,i){if(t.length-1<4)return i.error("Expected at least 4 arguments, but found only ".concat(t.length-1,"."));if((t.length-1)%2!=0)return i.error("Expected an even number of arguments.");var n=i.parse(t[1],1,lt);if(!n)return null;var r=[],o=null;i.expectedType&&"value"!==i.expectedType.kind&&(o=i.expectedType);for(var a=1;a<t.length;a+=2){var s=1===a?-1/0:t[a],l=t[a+1],u=a,c=a+1;if("number"!=typeof s)return i.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(r.length&&r[r.length-1][0]>=s)return i.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var h=i.parse(l,c,o);if(!h)return null;o=o||h.type,r.push([s,h])}return new e(o,n,r)}}]),e}();function yi(e,t,i){return e*(1-i)+t*i}var vi=Object.freeze({__proto__:null,number:yi,color:function(e,t,i){return new Ct(yi(e.r,t.r,i),yi(e.g,t.g,i),yi(e.b,t.b,i),yi(e.a,t.a,i))},array:function(e,t,i){return e.map((function(e,n){return yi(e,t[n],i)}))}}),bi=.95047,xi=1.08883,_i=4/29,wi=6/29,Si=3*wi*wi,ki=Math.PI/180,Ci=180/Math.PI;function Ti(e){return e>.008856451679035631?Math.pow(e,1/3):e/Si+_i}function Ei(e){return e>wi?e*e*e:Si*(e-_i)}function Ai(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Pi(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Mi(e){var t=Pi(e.r),i=Pi(e.g),n=Pi(e.b),r=Ti((.4124564*t+.3575761*i+.1804375*n)/bi),o=Ti((.2126729*t+.7151522*i+.072175*n)/1);return{l:116*o-16,a:500*(r-o),b:200*(o-Ti((.0193339*t+.119192*i+.9503041*n)/xi)),alpha:e.a}}function Li(e){var t=(e.l+16)/116,i=isNaN(e.a)?t:t+e.a/500,n=isNaN(e.b)?t:t-e.b/200;return t=1*Ei(t),i=bi*Ei(i),n=xi*Ei(n),new Ct(Ai(3.2404542*i-1.5371385*t-.4985314*n),Ai(-.969266*i+1.8760108*t+.041556*n),Ai(.0556434*i-.2040259*t+1.0572252*n),e.alpha)}function Oi(e,t,i){var n=t-e;return e+i*(n>180||n<-180?n-360*Math.round(n/360):n)}var Ri={forward:Mi,reverse:Li,interpolate:function(e,t,i){return{l:yi(e.l,t.l,i),a:yi(e.a,t.a,i),b:yi(e.b,t.b,i),alpha:yi(e.alpha,t.alpha,i)}}},Ii={forward:function(e){var t=Mi(e),i=t.l,n=t.a,r=t.b,o=Math.atan2(r,n)*Ci;return{h:o<0?o+360:o,c:Math.sqrt(n*n+r*r),l:i,alpha:e.a}},reverse:function(e){var t=e.h*ki,i=e.c;return Li({l:e.l,a:Math.cos(t)*i,b:Math.sin(t)*i,alpha:e.alpha})},interpolate:function(e,t,i){return{h:Oi(e.h,t.h,i),c:yi(e.c,t.c,i),l:yi(e.l,t.l,i),alpha:yi(e.alpha,t.alpha,i)}}},Di=Object.freeze({__proto__:null,lab:Ri,hcl:Ii}),zi=function(){function e(t,i,n,r,o){g(this,e),this.type=t,this.operator=i,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];var a,s=d(o);try{for(s.s();!(a=s.n()).done;){var l=h(a.value,2),u=l[0],c=l[1];this.labels.push(u),this.outputs.push(c)}}catch(p){s.e(p)}finally{s.f()}}return y(e,[{key:"evaluate",value:function(t){var i=this.labels,n=this.outputs;if(1===i.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=i[0])return n[0].evaluate(t);var o=i.length;if(r>=i[o-1])return n[o-1].evaluate(t);var a=mi(i,r),s=e.interpolationFactor(this.interpolation,r,i[a],i[a+1]),l=n[a].evaluate(t),u=n[a+1].evaluate(t);return"interpolate"===this.operator?vi[this.type.kind.toLowerCase()](l,u,s):"interpolate-hcl"===this.operator?Ii.reverse(Ii.interpolate(Ii.forward(l),Ii.forward(u),s)):Ri.reverse(Ri.interpolate(Ri.forward(l),Ri.forward(u),s))}},{key:"eachChild",value:function(e){e(this.input);var t,i=d(this.outputs);try{for(i.s();!(t=i.n()).done;)e(t.value)}catch(n){i.e(n)}finally{i.f()}}},{key:"outputDefined",value:function(){return this.outputs.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],i=0;i<this.labels.length;i++)t.push(this.labels[i],this.outputs[i].serialize());return t}}],[{key:"interpolationFactor",value:function(e,t,n,r){var o=0;if("exponential"===e.name)o=Bi(t,e.base,n,r);else if("linear"===e.name)o=Bi(t,1,n,r);else if("cubic-bezier"===e.name){var a=e.controlPoints;o=new i(a[0],a[1],a[2],a[3]).solve(Bi(t,1,n,r))}return o}},{key:"parse",value:function(t,i){var n=u(t),r=n[0],o=n[1],a=n[2],s=n.slice(3);if(!Array.isArray(o)||0===o.length)return i.error("Expected an interpolation type expression.",1);if("linear"===o[0])o={name:"linear"};else if("exponential"===o[0]){var l=o[1];if("number"!=typeof l)return i.error("Exponential interpolation requires a numeric base.",1,1);o={name:"exponential",base:l}}else{if("cubic-bezier"!==o[0])return i.error("Unknown interpolation type ".concat(String(o[0])),1,0);var c=o.slice(1);if(4!==c.length||c.some((function(e){return"number"!=typeof e||e<0||e>1})))return i.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);o={name:"cubic-bezier",controlPoints:c}}if(t.length-1<4)return i.error("Expected at least 4 arguments, but found only ".concat(t.length-1,"."));if((t.length-1)%2!=0)return i.error("Expected an even number of arguments.");if(!(a=i.parse(a,2,lt)))return null;var h=[],d=null;"interpolate-hcl"===r||"interpolate-lab"===r?d=ht:i.expectedType&&"value"!==i.expectedType.kind&&(d=i.expectedType);for(var p=0;p<s.length;p+=2){var f=s[p],m=s[p+1],g=p+3,y=p+4;if("number"!=typeof f)return i.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',g);if(h.length&&h[h.length-1][0]>=f)return i.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',g);var v=i.parse(m,y,d);if(!v)return null;d=d||v.type,h.push([f,v])}return"number"===d.kind||"color"===d.kind||"array"===d.kind&&"number"===d.itemType.kind&&"number"==typeof d.N?new e(d,r,o,a,h):i.error("Type ".concat(vt(d)," is not interpolatable."))}}]),e}();function Bi(e,t,i,n){var r=n-i,o=e-i;return 0===r?0:1===t?o/r:(Math.pow(t,o)-1)/(Math.pow(t,r)-1)}var Fi=function(){function e(t,i){g(this,e),this.type=t,this.args=i}return y(e,[{key:"evaluate",value:function(e){var t,i,n=null,r=0,o=d(this.args);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(r++,(n=a.evaluate(e))&&n instanceof Pt&&!n.available&&(t||(t=n.name),n=null,r===this.args.length&&(n=t)),null!==n)break}}catch(s){o.e(s)}finally{o.f()}return n}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return this.args.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){var e=["coalesce"];return this.eachChild((function(t){e.push(t.serialize())})),e}}],[{key:"parse",value:function(t,i){if(t.length<2)return i.error("Expectected at least one argument.");var n=null,r=i.expectedType;r&&"value"!==r.kind&&(n=r);var o,a=[],s=d(t.slice(1));try{for(s.s();!(o=s.n()).done;){var l=o.value,u=i.parse(l,1+a.length,n,void 0,{typeAnnotation:"omit"});if(!u)return null;n=n||u.type,a.push(u)}}catch(h){s.e(h)}finally{s.f()}var c=r&&a.some((function(e){return xt(r,e.type)}));return new e(c?pt:n,a)}}]),e}(),Ni=function(){function e(t,i){g(this,e),this.type=i.type,this.bindings=[].concat(t),this.result=i}return y(e,[{key:"evaluate",value:function(e){return this.result.evaluate(e)}},{key:"eachChild",value:function(e){var t,i=d(this.bindings);try{for(i.s();!(t=i.n()).done;)e(t.value[1])}catch(n){i.e(n)}finally{i.f()}e(this.result)}},{key:"outputDefined",value:function(){return this.result.outputDefined()}},{key:"serialize",value:function(){var e,t=["let"],i=d(this.bindings);try{for(i.s();!(e=i.n()).done;){var n=h(e.value,2),r=n[0],o=n[1];t.push(r,o.serialize())}}catch(a){i.e(a)}finally{i.f()}return t.push(this.result.serialize()),t}}],[{key:"parse",value:function(t,i){if(t.length<4)return i.error("Expected at least 3 arguments, but found ".concat(t.length-1," instead."));for(var n=[],r=1;r<t.length-1;r+=2){var o=t[r];if("string"!=typeof o)return i.error("Expected string, but found ".concat(typeof o," instead."),r);if(/[^a-zA-Z0-9_]/.test(o))return i.error("Variable names must contain only alphanumeric characters or '_'.",r);var a=i.parse(t[r+1],r+1);if(!a)return null;n.push([o,a])}var s=i.parse(t[t.length-1],t.length-1,i.expectedType,n);return s?new e(n,s):null}}]),e}(),ji=function(){function e(t,i,n){g(this,e),this.type=t,this.index=i,this.input=n}return y(e,[{key:"evaluate",value:function(e){var t=this.index.evaluate(e),i=this.input.evaluate(e);if(t<0)throw new Dt("Array index out of bounds: ".concat(t," < 0."));if(t>=i.length)throw new Dt("Array index out of bounds: ".concat(t," > ").concat(i.length-1,"."));if(t!==Math.floor(t))throw new Dt("Array index must be an integer, but found ".concat(t," instead."));return i[t]}},{key:"eachChild",value:function(e){e(this.index),e(this.input)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return["at",this.index.serialize(),this.input.serialize()]}}],[{key:"parse",value:function(t,i){if(3!==t.length)return i.error("Expected 2 arguments, but found ".concat(t.length-1," instead."));var n=i.parse(t[1],1,lt),r=i.parse(t[2],2,yt(i.expectedType||pt));return n&&r?new e(r.type.itemType,n,r):null}}]),e}(),Vi=function(){function e(t,i){g(this,e),this.type=ct,this.needle=t,this.haystack=i}return y(e,[{key:"evaluate",value:function(e){var t=this.needle.evaluate(e),i=this.haystack.evaluate(e);if(!i)return!1;if(!wt(t,["boolean","string","number","null"]))throw new Dt("Expected first argument to be of type boolean, string, number or null, but found ".concat(vt(Ot(t))," instead."));if(!wt(i,["string","array"]))throw new Dt("Expected second argument to be of type array or string, but found ".concat(vt(Ot(i))," instead."));return i.indexOf(t)>=0}},{key:"eachChild",value:function(e){e(this.needle),e(this.haystack)}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){return["in",this.needle.serialize(),this.haystack.serialize()]}}],[{key:"parse",value:function(t,i){if(3!==t.length)return i.error("Expected 2 arguments, but found ".concat(t.length-1," instead."));var n=i.parse(t[1],1,pt),r=i.parse(t[2],2,pt);return n&&r?_t(n.type,[ct,ut,lt,st,pt])?new e(n,r):i.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(vt(n.type)," instead")):null}}]),e}(),Ui=function(){function e(t,i,n){g(this,e),this.type=lt,this.needle=t,this.haystack=i,this.fromIndex=n}return y(e,[{key:"evaluate",value:function(e){var t=this.needle.evaluate(e),i=this.haystack.evaluate(e);if(!wt(t,["boolean","string","number","null"]))throw new Dt("Expected first argument to be of type boolean, string, number or null, but found ".concat(vt(Ot(t))," instead."));if(!wt(i,["string","array"]))throw new Dt("Expected second argument to be of type array or string, but found ".concat(vt(Ot(i))," instead."));if(this.fromIndex){var n=this.fromIndex.evaluate(e);return i.indexOf(t,n)}return i.indexOf(t)}},{key:"eachChild",value:function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}],[{key:"parse",value:function(t,i){if(t.length<=2||t.length>=5)return i.error("Expected 3 or 4 arguments, but found ".concat(t.length-1," instead."));var n=i.parse(t[1],1,pt),r=i.parse(t[2],2,pt);if(!n||!r)return null;if(!_t(n.type,[ct,ut,lt,st,pt]))return i.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(vt(n.type)," instead"));if(4===t.length){var o=i.parse(t[3],3,lt);return o?new e(n,r,o):null}return new e(n,r)}}]),e}(),Wi=function(){function e(t,i,n,r,o,a){g(this,e),this.inputType=t,this.type=i,this.input=n,this.cases=r,this.outputs=o,this.otherwise=a}return y(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e);return(Ot(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}},{key:"eachChild",value:function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}},{key:"outputDefined",value:function(){return this.outputs.every((function(e){return e.outputDefined()}))&&this.otherwise.outputDefined()}},{key:"serialize",value:function(){var e,t=this,i=["match",this.input.serialize()],n=Object.keys(this.cases).sort(),r=[],o={},a=d(n);try{for(a.s();!(e=a.n()).done;){var s=e.value,l=o[this.cases[s]];void 0===l?(o[this.cases[s]]=r.length,r.push([this.cases[s],[s]])):r[l][1].push(s)}}catch(y){a.e(y)}finally{a.f()}for(var u=function(e){return"number"===t.inputType.kind?Number(e):e},c=0,p=r;c<p.length;c++){var f=h(p[c],2),m=f[0],g=f[1];i.push(1===g.length?u(g[0]):g.map(u)),i.push(this.outputs[m].serialize())}return i.push(this.otherwise.serialize()),i}}],[{key:"parse",value:function(t,i){if(t.length<5)return i.error("Expected at least 4 arguments, but found only ".concat(t.length-1,"."));if(t.length%2!=1)return i.error("Expected an even number of arguments.");var n,r;i.expectedType&&"value"!==i.expectedType.kind&&(r=i.expectedType);for(var o={},a=[],s=2;s<t.length-1;s+=2){var l=t[s],u=t[s+1];Array.isArray(l)||(l=[l]);var c=i.concat(s);if(0===l.length)return c.error("Expected at least one branch label.");var h,p=d(l);try{for(p.s();!(h=p.n()).done;){var f=h.value;if("number"!=typeof f&&"string"!=typeof f)return c.error("Branch labels must be numbers or strings.");if("number"==typeof f&&Math.abs(f)>Number.MAX_SAFE_INTEGER)return c.error("Branch labels must be integers no larger than ".concat(Number.MAX_SAFE_INTEGER,"."));if("number"==typeof f&&Math.floor(f)!==f)return c.error("Numeric branch labels must be integer values.");if(n){if(c.checkSubtype(n,Ot(f)))return null}else n=Ot(f);if(void 0!==o[String(f)])return c.error("Branch labels must be unique.");o[String(f)]=a.length}}catch(v){p.e(v)}finally{p.f()}var m=i.parse(u,s,r);if(!m)return null;r=r||m.type,a.push(m)}var g=i.parse(t[1],1,pt);if(!g)return null;var y=i.parse(t[t.length-1],t.length-1,r);return y?"value"!==g.type.kind&&i.concat(1).checkSubtype(n,g.type)?null:new e(n,r,g,o,a,y):null}}]),e}(),Hi=function(){function e(t,i,n){g(this,e),this.type=t,this.branches=i,this.otherwise=n}return y(e,[{key:"evaluate",value:function(e){var t,i=d(this.branches);try{for(i.s();!(t=i.n()).done;){var n=h(t.value,2),r=n[0],o=n[1];if(r.evaluate(e))return o.evaluate(e)}}catch(a){i.e(a)}finally{i.f()}return this.otherwise.evaluate(e)}},{key:"eachChild",value:function(e){var t,i=d(this.branches);try{for(i.s();!(t=i.n()).done;){var n=h(t.value,2),r=n[0],o=n[1];e(r),e(o)}}catch(a){i.e(a)}finally{i.f()}e(this.otherwise)}},{key:"outputDefined",value:function(){return this.branches.every((function(e){var t=h(e,2);return t[0],t[1].outputDefined()}))&&this.otherwise.outputDefined()}},{key:"serialize",value:function(){var e=["case"];return this.eachChild((function(t){e.push(t.serialize())})),e}}],[{key:"parse",value:function(t,i){if(t.length<4)return i.error("Expected at least 3 arguments, but found only ".concat(t.length-1,"."));if(t.length%2!=0)return i.error("Expected an odd number of arguments.");var n;i.expectedType&&"value"!==i.expectedType.kind&&(n=i.expectedType);for(var r=[],o=1;o<t.length-1;o+=2){var a=i.parse(t[o],o,ct);if(!a)return null;var s=i.parse(t[o+1],o+1,n);if(!s)return null;r.push([a,s]),n=n||s.type}var l=i.parse(t[t.length-1],t.length-1,n);return l?new e(n,r,l):null}}]),e}(),Gi=function(){function e(t,i,n,r){g(this,e),this.type=t,this.input=i,this.beginIndex=n,this.endIndex=r}return y(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e),i=this.beginIndex.evaluate(e);if(!wt(t,["string","array"]))throw new Dt("Expected first argument to be of type array or string, but found ".concat(vt(Ot(t))," instead."));if(this.endIndex){var n=this.endIndex.evaluate(e);return t.slice(i,n)}return t.slice(i)}},{key:"eachChild",value:function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){if(null!=this.endIndex&&void 0!==this.endIndex){var e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}],[{key:"parse",value:function(t,i){if(t.length<=2||t.length>=5)return i.error("Expected 3 or 4 arguments, but found ".concat(t.length-1," instead."));var n=i.parse(t[1],1,pt),r=i.parse(t[2],2,lt);if(!n||!r)return null;if(!_t(n.type,[yt(pt),ut,pt]))return i.error("Expected first argument to be of type array or string, but found ".concat(vt(n.type)," instead"));if(4===t.length){var o=i.parse(t[3],3,lt);return o?new e(n.type,n,r,o):null}return new e(n.type,n,r)}}]),e}();function qi(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function Zi(e,t,i,n){return 0===n.compare(t,i)}function Xi(e,t,i){var n="=="!==e&&"!="!==e;return function(){function r(e,t,i){g(this,r),this.type=ct,this.lhs=e,this.rhs=t,this.collator=i,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return y(r,[{key:"evaluate",value:function(r){var o=this.lhs.evaluate(r),a=this.rhs.evaluate(r);if(n&&this.hasUntypedArgument){var s=Ot(o),l=Ot(a);if(s.kind!==l.kind||"string"!==s.kind&&"number"!==s.kind)throw new Dt('Expected arguments for "'.concat(e,'" to be (string, string) or (number, number), but found (').concat(s.kind,", ").concat(l.kind,") instead."))}if(this.collator&&!n&&this.hasUntypedArgument){var u=Ot(o),c=Ot(a);if("string"!==u.kind||"string"!==c.kind)return t(r,o,a)}return this.collator?i(r,o,a,this.collator.evaluate(r)):t(r,o,a)}},{key:"eachChild",value:function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){var t=[e];return this.eachChild((function(e){t.push(e.serialize())})),t}}],[{key:"parse",value:function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var i=e[0],o=t.parse(e[1],1,pt);if(!o)return null;if(!qi(i,o.type))return t.concat(1).error('"'.concat(i,"\" comparisons are not supported for type '").concat(vt(o.type),"'."));var a=t.parse(e[2],2,pt);if(!a)return null;if(!qi(i,a.type))return t.concat(2).error('"'.concat(i,"\" comparisons are not supported for type '").concat(vt(a.type),"'."));if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot compare types '".concat(vt(o.type),"' and '").concat(vt(a.type),"'."));n&&("value"===o.type.kind&&"value"!==a.type.kind?o=new Bt(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new Bt(o.type,[a])));var s=null;if(4===e.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,ft)))return null}return new r(o,a,s)}}]),r}()}var Yi=Xi("==",(function(e,t,i){return t===i}),Zi),$i=Xi("!=",(function(e,t,i){return t!==i}),(function(e,t,i,n){return!Zi(0,t,i,n)})),Ki=Xi("<",(function(e,t,i){return t<i}),(function(e,t,i,n){return n.compare(t,i)<0})),Qi=Xi(">",(function(e,t,i){return t>i}),(function(e,t,i,n){return n.compare(t,i)>0})),Ji=Xi("<=",(function(e,t,i){return t<=i}),(function(e,t,i,n){return n.compare(t,i)<=0})),en=Xi(">=",(function(e,t,i){return t>=i}),(function(e,t,i,n){return n.compare(t,i)>=0})),tn=function(){function e(t,i,n,r,o){g(this,e),this.type=ut,this.number=t,this.locale=i,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=o}return y(e,[{key:"evaluate",value:function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}},{key:"eachChild",value:function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}],[{key:"parse",value:function(t,i){if(3!==t.length)return i.error("Expected two arguments.");var n=i.parse(t[1],1,lt);if(!n)return null;var r=t[2];if("object"!=typeof r||Array.isArray(r))return i.error("NumberFormat options argument must be an object.");var o=null;if(r.locale&&!(o=i.parse(r.locale,1,ut)))return null;var a=null;if(r.currency&&!(a=i.parse(r.currency,1,ut)))return null;var s=null;if(r["min-fraction-digits"]&&!(s=i.parse(r["min-fraction-digits"],1,lt)))return null;var l=null;return r["max-fraction-digits"]&&!(l=i.parse(r["max-fraction-digits"],1,lt))?null:new e(n,o,a,s,l)}}]),e}(),nn=function(){function e(t){g(this,e),this.type=lt,this.input=t}return y(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new Dt("Expected value to be of type string or array, but found ".concat(vt(Ot(t))," instead."))}},{key:"eachChild",value:function(e){e(this.input)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e=["length"];return this.eachChild((function(t){e.push(t.serialize())})),e}}],[{key:"parse",value:function(t,i){if(2!==t.length)return i.error("Expected 1 argument, but found ".concat(t.length-1," instead."));var n=i.parse(t[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?i.error("Expected argument of type string or array, but found ".concat(vt(n.type)," instead.")):new e(n):null}}]),e}(),rn={"==":Yi,"!=":$i,">":Qi,"<":Ki,">=":en,"<=":Ji,array:Bt,at:ji,boolean:Bt,case:Hi,coalesce:Fi,collator:Gt,format:Ft,image:Nt,in:Vi,"index-of":Ui,interpolate:zi,"interpolate-hcl":zi,"interpolate-lab":zi,length:nn,let:Ni,literal:It,match:Wi,number:Bt,"number-format":tn,object:Bt,slice:Gi,step:gi,string:Bt,"to-boolean":Vt,"to-color":Vt,"to-number":Vt,"to-string":Vt,var:di,within:li};function on(e,t){var i=h(t,4),n=i[0],r=i[1],o=i[2],a=i[3];n=n.evaluate(e),r=r.evaluate(e),o=o.evaluate(e);var s=a?a.evaluate(e):1,l=Mt(n,r,o,s);if(l)throw new Dt(l);return new Ct(n/255*s,r/255*s,o/255*s,s)}function an(e,t){return e in t}function sn(e,t){var i=t[e];return void 0===i?null:i}function ln(e){return{type:e}}function un(e){return{result:"success",value:e}}function cn(e){return{result:"error",value:e}}function hn(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function dn(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function pn(e){return!!e.expression&&e.expression.interpolated}function fn(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function mn(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function gn(e){return e}function yn(e,t){var i,n,r,o="color"===t.type,a=e.stops&&"object"==typeof e.stops[0][0],s=a||!(a||void 0!==e.property),l=e.type||(pn(t)?"exponential":"interval");if(o&&((e=it({},e)).stops&&(e.stops=e.stops.map((function(e){return[e[0],Ct.parse(e[1])]}))),e.default=Ct.parse(e.default?e.default:t.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!Di[e.colorSpace])throw new Error("Unknown color space: ".concat(e.colorSpace));if("exponential"===l)i=_n;else if("interval"===l)i=xn;else if("categorical"===l){i=bn,n=Object.create(null);var u,c=d(e.stops);try{for(c.s();!(u=c.n()).done;){var h=u.value;n[h[0]]=h[1]}}catch(k){c.e(k)}finally{c.f()}r=typeof e.stops[0][0]}else{if("identity"!==l)throw new Error('Unknown function type "'.concat(l,'"'));i=wn}if(a){for(var p={},f=[],m=0;m<e.stops.length;m++){var g=e.stops[m],y=g[0].zoom;void 0===p[y]&&(p[y]={zoom:y,type:e.type,property:e.property,default:e.default,stops:[]},f.push(y)),p[y].stops.push([g[0].value,g[1]])}for(var v=[],b=0,x=f;b<x.length;b++){var _=x[b];v.push([p[_].zoom,yn(p[_],t)])}var w={name:"linear"};return{kind:"composite",interpolationType:w,interpolationFactor:zi.interpolationFactor.bind(void 0,w),zoomStops:v.map((function(e){return e[0]})),evaluate:function(i,n){var r=i.zoom;return _n({stops:v,base:e.base},t,r).evaluate(r,n)}}}if(s){var S="exponential"===l?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:S,interpolationFactor:zi.interpolationFactor.bind(void 0,S),zoomStops:e.stops.map((function(e){return e[0]})),evaluate:function(o){var a=o.zoom;return i(e,t,a,n,r)}}}return{kind:"source",evaluate:function(o,a){var s=a&&a.properties?a.properties[e.property]:void 0;return void 0===s?vn(e.default,t.default):i(e,t,s,n,r)}}}function vn(e,t,i){return void 0!==e?e:void 0!==t?t:void 0!==i?i:void 0}function bn(e,t,i,n,r){return vn(typeof i===r?n[i]:void 0,e.default,t.default)}function xn(e,t,i){if("number"!==fn(i))return vn(e.default,t.default);var n=e.stops.length;if(1===n)return e.stops[0][1];if(i<=e.stops[0][0])return e.stops[0][1];if(i>=e.stops[n-1][0])return e.stops[n-1][1];var r=mi(e.stops.map((function(e){return e[0]})),i);return e.stops[r][1]}function _n(e,t,i){var n=void 0!==e.base?e.base:1;if("number"!==fn(i))return vn(e.default,t.default);var r=e.stops.length;if(1===r)return e.stops[0][1];if(i<=e.stops[0][0])return e.stops[0][1];if(i>=e.stops[r-1][0])return e.stops[r-1][1];var o=mi(e.stops.map((function(e){return e[0]})),i),a=function(e,t,i,n){var r=n-i,o=e-i;return 0===r?0:1===t?o/r:(Math.pow(t,o)-1)/(Math.pow(t,r)-1)}(i,n,e.stops[o][0],e.stops[o+1][0]),s=e.stops[o][1],l=e.stops[o+1][1],u=vi[t.type]||gn;if(e.colorSpace&&"rgb"!==e.colorSpace){var c=Di[e.colorSpace];u=function(e,t){return c.reverse(c.interpolate(c.forward(e),c.forward(t),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=s.evaluate.apply(void 0,t),r=l.evaluate.apply(void 0,t);if(void 0!==n&&void 0!==r)return u(n,r,a)}}:u(s,l,a)}function wn(e,t,i){return"color"===t.type?i=Ct.parse(i):"formatted"===t.type?i=At.fromString(i.toString()):"resolvedImage"===t.type?i=Pt.fromString(i.toString()):fn(i)===t.type||"enum"===t.type&&t.values[i]||(i=void 0),vn(i,e.default,t.default)}Ht.register(rn,{error:[{kind:"error"},[ut],function(e,t){var i=h(t,1)[0];throw new Dt(i.evaluate(e))}],typeof:[ut,[pt],function(e,t){return vt(Ot(h(t,1)[0].evaluate(e)))}],"to-rgba":[yt(lt,4),[ht],function(e,t){return h(t,1)[0].evaluate(e).toArray()}],rgb:[ht,[lt,lt,lt],on],rgba:[ht,[lt,lt,lt,lt],on],has:{type:ct,overloads:[[[ut],function(e,t){return an(h(t,1)[0].evaluate(e),e.properties())}],[[ut,dt],function(e,t){var i=h(t,2),n=i[0],r=i[1];return an(n.evaluate(e),r.evaluate(e))}]]},get:{type:pt,overloads:[[[ut],function(e,t){return sn(h(t,1)[0].evaluate(e),e.properties())}],[[ut,dt],function(e,t){var i=h(t,2),n=i[0],r=i[1];return sn(n.evaluate(e),r.evaluate(e))}]]},"feature-state":[pt,[ut],function(e,t){return sn(h(t,1)[0].evaluate(e),e.featureState||{})}],properties:[dt,[],function(e){return e.properties()}],"geometry-type":[ut,[],function(e){return e.geometryType()}],id:[pt,[],function(e){return e.id()}],zoom:[lt,[],function(e){return e.globals.zoom}],pitch:[lt,[],function(e){return e.globals.pitch||0}],"distance-from-center":[lt,[],function(e){return e.distanceFromCenter()}],"heatmap-density":[lt,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[lt,[],function(e){return e.globals.lineProgress||0}],"sky-radial-progress":[lt,[],function(e){return e.globals.skyRadialProgress||0}],accumulated:[pt,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[lt,ln(lt),function(e,t){var i,n=0,r=d(t);try{for(r.s();!(i=r.n()).done;)n+=i.value.evaluate(e)}catch(o){r.e(o)}finally{r.f()}return n}],"*":[lt,ln(lt),function(e,t){var i,n=1,r=d(t);try{for(r.s();!(i=r.n()).done;)n*=i.value.evaluate(e)}catch(o){r.e(o)}finally{r.f()}return n}],"-":{type:lt,overloads:[[[lt,lt],function(e,t){var i=h(t,2),n=i[0],r=i[1];return n.evaluate(e)-r.evaluate(e)}],[[lt],function(e,t){return-h(t,1)[0].evaluate(e)}]]},"/":[lt,[lt,lt],function(e,t){var i=h(t,2),n=i[0],r=i[1];return n.evaluate(e)/r.evaluate(e)}],"%":[lt,[lt,lt],function(e,t){var i=h(t,2),n=i[0],r=i[1];return n.evaluate(e)%r.evaluate(e)}],ln2:[lt,[],function(){return Math.LN2}],pi:[lt,[],function(){return Math.PI}],e:[lt,[],function(){return Math.E}],"^":[lt,[lt,lt],function(e,t){var i=h(t,2),n=i[0],r=i[1];return Math.pow(n.evaluate(e),r.evaluate(e))}],sqrt:[lt,[lt],function(e,t){var i=h(t,1)[0];return Math.sqrt(i.evaluate(e))}],log10:[lt,[lt],function(e,t){var i=h(t,1)[0];return Math.log(i.evaluate(e))/Math.LN10}],ln:[lt,[lt],function(e,t){var i=h(t,1)[0];return Math.log(i.evaluate(e))}],log2:[lt,[lt],function(e,t){var i=h(t,1)[0];return Math.log(i.evaluate(e))/Math.LN2}],sin:[lt,[lt],function(e,t){var i=h(t,1)[0];return Math.sin(i.evaluate(e))}],cos:[lt,[lt],function(e,t){var i=h(t,1)[0];return Math.cos(i.evaluate(e))}],tan:[lt,[lt],function(e,t){var i=h(t,1)[0];return Math.tan(i.evaluate(e))}],asin:[lt,[lt],function(e,t){var i=h(t,1)[0];return Math.asin(i.evaluate(e))}],acos:[lt,[lt],function(e,t){var i=h(t,1)[0];return Math.acos(i.evaluate(e))}],atan:[lt,[lt],function(e,t){var i=h(t,1)[0];return Math.atan(i.evaluate(e))}],min:[lt,ln(lt),function(e,t){return Math.min.apply(Math,c(t.map((function(t){return t.evaluate(e)}))))}],max:[lt,ln(lt),function(e,t){return Math.max.apply(Math,c(t.map((function(t){return t.evaluate(e)}))))}],abs:[lt,[lt],function(e,t){var i=h(t,1)[0];return Math.abs(i.evaluate(e))}],round:[lt,[lt],function(e,t){var i=h(t,1)[0].evaluate(e);return i<0?-Math.round(-i):Math.round(i)}],floor:[lt,[lt],function(e,t){var i=h(t,1)[0];return Math.floor(i.evaluate(e))}],ceil:[lt,[lt],function(e,t){var i=h(t,1)[0];return Math.ceil(i.evaluate(e))}],"filter-==":[ct,[ut,pt],function(e,t){var i=h(t,2),n=i[0],r=i[1];return e.properties()[n.value]===r.value}],"filter-id-==":[ct,[pt],function(e,t){var i=h(t,1)[0];return e.id()===i.value}],"filter-type-==":[ct,[ut],function(e,t){var i=h(t,1)[0];return e.geometryType()===i.value}],"filter-<":[ct,[ut,pt],function(e,t){var i=h(t,2),n=i[0],r=i[1],o=e.properties()[n.value],a=r.value;return typeof o==typeof a&&o<a}],"filter-id-<":[ct,[pt],function(e,t){var i=h(t,1)[0],n=e.id(),r=i.value;return typeof n==typeof r&&n<r}],"filter->":[ct,[ut,pt],function(e,t){var i=h(t,2),n=i[0],r=i[1],o=e.properties()[n.value],a=r.value;return typeof o==typeof a&&o>a}],"filter-id->":[ct,[pt],function(e,t){var i=h(t,1)[0],n=e.id(),r=i.value;return typeof n==typeof r&&n>r}],"filter-<=":[ct,[ut,pt],function(e,t){var i=h(t,2),n=i[0],r=i[1],o=e.properties()[n.value],a=r.value;return typeof o==typeof a&&o<=a}],"filter-id-<=":[ct,[pt],function(e,t){var i=h(t,1)[0],n=e.id(),r=i.value;return typeof n==typeof r&&n<=r}],"filter->=":[ct,[ut,pt],function(e,t){var i=h(t,2),n=i[0],r=i[1],o=e.properties()[n.value],a=r.value;return typeof o==typeof a&&o>=a}],"filter-id->=":[ct,[pt],function(e,t){var i=h(t,1)[0],n=e.id(),r=i.value;return typeof n==typeof r&&n>=r}],"filter-has":[ct,[pt],function(e,t){return h(t,1)[0].value in e.properties()}],"filter-has-id":[ct,[],function(e){return null!==e.id()&&void 0!==e.id()}],"filter-type-in":[ct,[yt(ut)],function(e,t){return h(t,1)[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[ct,[yt(pt)],function(e,t){return h(t,1)[0].value.indexOf(e.id())>=0}],"filter-in-small":[ct,[ut,yt(pt)],function(e,t){var i=h(t,2),n=i[0];return i[1].value.indexOf(e.properties()[n.value])>=0}],"filter-in-large":[ct,[ut,yt(pt)],function(e,t){var i=h(t,2),n=i[0],r=i[1];return function(e,t,i,n){for(;i<=n;){var r=i+n>>1;if(t[r]===e)return!0;t[r]>e?n=r-1:i=r+1}return!1}(e.properties()[n.value],r.value,0,r.value.length-1)}],all:{type:ct,overloads:[[[ct,ct],function(e,t){var i=h(t,2),n=i[0],r=i[1];return n.evaluate(e)&&r.evaluate(e)}],[ln(ct),function(e,t){var i,n=d(t);try{for(n.s();!(i=n.n()).done;)if(!i.value.evaluate(e))return!1}catch(r){n.e(r)}finally{n.f()}return!0}]]},any:{type:ct,overloads:[[[ct,ct],function(e,t){var i=h(t,2),n=i[0],r=i[1];return n.evaluate(e)||r.evaluate(e)}],[ln(ct),function(e,t){var i,n=d(t);try{for(n.s();!(i=n.n()).done;)if(i.value.evaluate(e))return!0}catch(r){n.e(r)}finally{n.f()}return!1}]]},"!":[ct,[ct],function(e,t){return!h(t,1)[0].evaluate(e)}],"is-supported-script":[ct,[ut],function(e,t){var i=h(t,1)[0],n=e.globals&&e.globals.isSupportedScript;return!n||n(i.evaluate(e))}],upcase:[ut,[ut],function(e,t){return h(t,1)[0].evaluate(e).toUpperCase()}],downcase:[ut,[ut],function(e,t){return h(t,1)[0].evaluate(e).toLowerCase()}],concat:[ut,ln(pt),function(e,t){return t.map((function(t){return Rt(t.evaluate(e))})).join("")}],"resolved-locale":[ut,[ft],function(e,t){return h(t,1)[0].evaluate(e).resolvedLocale()}]});var Sn=function(){function e(t,i){g(this,e),this.expression=t,this._warningHistory={},this._evaluator=new Wt,this._defaultValue=i?function(e){return"color"===e.type&&mn(e.default)?new Ct(0,0,0,0):"color"===e.type?Ct.parse(e.default)||null:void 0===e.default?null:e.default}(i):null,this._enumValues=i&&"enum"===i.type?i.values:null}return y(e,[{key:"evaluateWithoutErrorHandling",value:function(e,t,i,n,r,o,a,s){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=i,this._evaluator.canonical=n,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=o,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=s||null,this.expression.evaluate(this._evaluator)}},{key:"evaluate",value:function(e,t,i,n,r,o,a,s){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=i||null,this._evaluator.canonical=n,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=o||null,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=s||null;try{var l=this.expression.evaluate(this._evaluator);if(null==l||"number"==typeof l&&l!=l)return this._defaultValue;if(this._enumValues&&!(l in this._enumValues))throw new Dt("Expected value to be one of ".concat(Object.keys(this._enumValues).map((function(e){return JSON.stringify(e)})).join(", "),", but found ").concat(JSON.stringify(l)," instead."));return l}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}]),e}();function kn(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in rn}function Cn(e,t){var i=new pi(rn,[],t?function(e){var t={color:ht,string:ut,number:lt,enum:ut,boolean:ct,formatted:mt,resolvedImage:gt};return"array"===e.type?yt(t[e.value]||pt,e.length):t[e.type]}(t):void 0),n=i.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return n?un(new Sn(n,t)):cn(i.errors)}var Tn=function(){function e(t,i){g(this,e),this.kind=t,this._styleExpression=i,this.isStateDependent="constant"!==t&&!ci(i.expression)}return y(e,[{key:"evaluateWithoutErrorHandling",value:function(e,t,i,n,r,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,i,n,r,o)}},{key:"evaluate",value:function(e,t,i,n,r,o){return this._styleExpression.evaluate(e,t,i,n,r,o)}}]),e}(),En=function(){function e(t,i,n,r){g(this,e),this.kind=t,this.zoomStops=n,this._styleExpression=i,this.isStateDependent="camera"!==t&&!ci(i.expression),this.interpolationType=r}return y(e,[{key:"evaluateWithoutErrorHandling",value:function(e,t,i,n,r,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,i,n,r,o)}},{key:"evaluate",value:function(e,t,i,n,r,o){return this._styleExpression.evaluate(e,t,i,n,r,o)}},{key:"interpolationFactor",value:function(e,t,i){return this.interpolationType?zi.interpolationFactor(this.interpolationType,e,t,i):0}}]),e}();function An(e,t){if("error"===(e=Cn(e,t)).result)return e;var i=e.value.expression,n=ui(i);if(!n&&!hn(t))return cn([new ot("","data expressions not supported")]);var r=hi(i,["zoom","pitch","distance-from-center"]);if(!r&&!dn(t))return cn([new ot("","zoom expressions not supported")]);var o=Mn(i);return o||r?o instanceof ot?cn([o]):o instanceof zi&&!pn(t)?cn([new ot("",'"interpolate" expressions cannot be used with this property')]):un(o?new En(n?"camera":"composite",e.value,o.labels,o instanceof zi?o.interpolation:void 0):new Tn(n?"constant":"source",e.value)):cn([new ot("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}var Pn=function(){function e(t,i){g(this,e),this._parameters=t,this._specification=i,it(this,yn(this._parameters,this._specification))}return y(e,null,[{key:"deserialize",value:function(t){return new e(t._parameters,t._specification)}},{key:"serialize",value:function(e){return{_parameters:e._parameters,_specification:e._specification}}}]),e}();function Mn(e){var t=null;if(e instanceof Ni)t=Mn(e.result);else if(e instanceof Fi){var i,n=d(e.args);try{for(n.s();!(i=n.n()).done;){var r=i.value;if(t=Mn(r))break}}catch(o){n.e(o)}finally{n.f()}}else(e instanceof gi||e instanceof zi)&&e.input instanceof Ht&&"zoom"===e.input.name&&(t=e);return t instanceof ot||e.eachChild((function(e){var i=Mn(e);i instanceof ot?t=i:!t&&i?t=new ot("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&i&&t!==i&&(t=new ot("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),t}function Ln(e){var t=e.key,i=e.value,n=e.valueSpec||{},r=e.objectElementValidators||{},o=e.style,a=e.styleSpec,s=[],l=fn(i);if("object"!==l)return[new et(t,i,"object expected, ".concat(l," found"))];for(var u in i){var c=u.split(".")[0],h=n[c]||n["*"],d=void 0;if(r[c])d=r[c];else if(n[c])d=cr;else if(r["*"])d=r["*"];else{if(!n["*"]){s.push(new et(t,i[u],'unknown property "'.concat(u,'"')));continue}d=cr}s=s.concat(d({key:(t?"".concat(t,"."):t)+u,value:i[u],valueSpec:h,style:o,styleSpec:a,object:i,objectKey:u},i))}for(var p in n)r[p]||n[p].required&&void 0===n[p].default&&void 0===i[p]&&s.push(new et(t,i,'missing required property "'.concat(p,'"')));return s}function On(e){var t=e.value,i=e.valueSpec,n=e.style,r=e.styleSpec,o=e.key,a=e.arrayElementValidator||cr;if("array"!==fn(t))return[new et(o,t,"array expected, ".concat(fn(t)," found"))];if(i.length&&t.length!==i.length)return[new et(o,t,"array length ".concat(i.length," expected, length ").concat(t.length," found"))];if(i["min-length"]&&t.length<i["min-length"])return[new et(o,t,"array length at least ".concat(i["min-length"]," expected, length ").concat(t.length," found"))];var s={type:i.value,values:i.values,minimum:i.minimum,maximum:i.maximum};r.$version<7&&(s.function=i.function),"object"===fn(i.value)&&(s=i.value);for(var l=[],u=0;u<t.length;u++)l=l.concat(a({array:t,arrayIndex:u,value:t[u],valueSpec:s,style:n,styleSpec:r,key:"".concat(o,"[").concat(u,"]")}));return l}function Rn(e){var t=e.key,i=e.value,n=e.valueSpec,r=fn(i);if("number"===r&&i!=i&&(r="NaN"),"number"!==r)return[new et(t,i,"number expected, ".concat(r," found"))];if("minimum"in n){var o=n.minimum;if("array"===fn(n.minimum)&&(o=n.minimum[e.arrayIndex]),i<o)return[new et(t,i,"".concat(i," is less than the minimum value ").concat(o))]}if("maximum"in n){var a=n.maximum;if("array"===fn(n.maximum)&&(a=n.maximum[e.arrayIndex]),i>a)return[new et(t,i,"".concat(i," is greater than the maximum value ").concat(a))]}return[]}function In(e){var t,i,n,r=e.valueSpec,o=nt(e.value.type),a={},s="categorical"!==o&&void 0===e.value.property,l=!s,u="array"===fn(e.value.stops)&&"array"===fn(e.value.stops[0])&&"object"===fn(e.value.stops[0][0]),c=Ln({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===o)return[new et(e.key,e.value,'identity function may not have a "stops" property')];var t=[],i=e.value;return t=t.concat(On({key:e.key,value:i,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:h})),"array"===fn(i)&&0===i.length&&t.push(new et(e.key,i,"array must have at least one stop")),t},default:function(e){return cr({key:e.key,value:e.value,valueSpec:r,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===o&&s&&c.push(new et(e.key,e.value,'missing required property "property"')),"identity"===o||e.value.stops||c.push(new et(e.key,e.value,'missing required property "stops"')),"exponential"===o&&e.valueSpec.expression&&!pn(e.valueSpec)&&c.push(new et(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!hn(e.valueSpec)?c.push(new et(e.key,e.value,"property functions not supported")):s&&!dn(e.valueSpec)&&c.push(new et(e.key,e.value,"zoom functions not supported"))),"categorical"!==o&&!u||void 0!==e.value.property||c.push(new et(e.key,e.value,'"property" property is required')),c;function h(e){var t=[],o=e.value,s=e.key;if("array"!==fn(o))return[new et(s,o,"array expected, ".concat(fn(o)," found"))];if(2!==o.length)return[new et(s,o,"array length 2 expected, length ".concat(o.length," found"))];if(u){if("object"!==fn(o[0]))return[new et(s,o,"object expected, ".concat(fn(o[0])," found"))];if(void 0===o[0].zoom)return[new et(s,o,"object stop key must have zoom")];if(void 0===o[0].value)return[new et(s,o,"object stop key must have value")];if(n&&n>nt(o[0].zoom))return[new et(s,o[0].zoom,"stop zoom values must appear in ascending order")];nt(o[0].zoom)!==n&&(n=nt(o[0].zoom),i=void 0,a={}),t=t.concat(Ln({key:"".concat(s,"[0]"),value:o[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:Rn,value:d}}))}else t=t.concat(d({key:"".concat(s,"[0]"),value:o[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},o));return kn(rt(o[1]))?t.concat([new et("".concat(s,"[1]"),o[1],"expressions are not allowed in function stops.")]):t.concat(cr({key:"".concat(s,"[1]"),value:o[1],valueSpec:r,style:e.style,styleSpec:e.styleSpec}))}function d(e,n){var s=fn(e.value),l=nt(e.value),u=null!==e.value?e.value:n;if(t){if(s!==t)return[new et(e.key,u,"".concat(s," stop domain type must match previous stop domain type ").concat(t))]}else t=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new et(e.key,u,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==o){var c="number expected, ".concat(s," found");return hn(r)&&void 0===o&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new et(e.key,u,c)]}return"categorical"!==o||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==o&&"number"===s&&void 0!==i&&l<i?[new et(e.key,u,"stop domain values must appear in ascending order")]:(i=l,"categorical"===o&&l in a?[new et(e.key,u,"stop domain values must be unique")]:(a[l]=!0,[])):[new et(e.key,u,"integer expected, found ".concat(l))]}}function Dn(e){var t=("property"===e.expressionContext?An:Cn)(rt(e.value),e.valueSpec);if("error"===t.result)return t.value.map((function(t){return new et("".concat(e.key).concat(t.key),e.value,t.message)}));var i=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!i.outputDefined())return[new et(e.key,e.value,'Invalid data expression for "'.concat(e.propertyKey,'". Output values must be contained as literals within the expression.'))];if("property"===e.expressionContext&&"layout"===e.propertyType&&!ci(i))return[new et(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext)return zn(i,e);if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!hi(i,["zoom","feature-state"]))return[new et(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!ui(i))return[new et(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function zn(e,t){var i,n=new Set(["zoom","feature-state","pitch","distance-from-center"]),r=d(t.valueSpec.expression.parameters);try{for(r.s();!(i=r.n()).done;){var o=i.value;n.delete(o)}}catch(s){r.e(s)}finally{r.f()}if(0===n.size)return[];var a=[];return e instanceof Ht&&n.has(e.name)?[new et(t.key,t.value,'["'.concat(e.name,'"] expression is not supported in a filter for a ').concat(t.object.type," layer with id: ").concat(t.object.id))]:(e.eachChild((function(e){a.push.apply(a,c(zn(e,t)))})),a)}function Bn(e){var t=e.key,i=e.value,n=e.valueSpec,r=[];return Array.isArray(n.values)?-1===n.values.indexOf(nt(i))&&r.push(new et(t,i,"expected one of [".concat(n.values.join(", "),"], ").concat(JSON.stringify(i)," found"))):-1===Object.keys(n.values).indexOf(nt(i))&&r.push(new et(t,i,"expected one of [".concat(Object.keys(n.values).join(", "),"], ").concat(JSON.stringify(i)," found"))),r}function Fn(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":var t,i=d(e.slice(1));try{for(i.s();!(t=i.n()).done;){var n=t.value;if(!Fn(n)&&"boolean"!=typeof n)return!1}}catch(r){i.e(r)}finally{i.f()}return!0;default:return!0}}function Nn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fill";if(null==e)return{filter:function(){return!0},needGeometry:!1,needFeature:!1};Fn(e)||(e=qn(e));var i=e,n=!0;try{n=function(e){if(!Un(e))return e;var t=rt(e);return Vn(t),t=jn(t)}(i)}catch(e){console.warn("Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n".concat(JSON.stringify(i,null,2),"\n        "))}var r=Je["filter_".concat(t)],o=Cn(n,r),a=null;if("error"===o.result)throw new Error(o.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));a=function(e,t,i){return o.value.evaluate(e,t,{},i)};var s=null,l=null;if(n!==i){var u=Cn(i,r);if("error"===u.result)throw new Error(u.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));s=function(e,t,i,n,r){return u.value.evaluate(e,t,{},i,void 0,void 0,n,r)},l=!ui(u.value.expression)}return{filter:a=a,dynamicFilter:s||void 0,needGeometry:Gn(n),needFeature:!!l}}function jn(e){if(!Array.isArray(e))return e;var t=function(e){if(Wn.has(e[0]))for(var t=1;t<e.length;t++)if(Un(e[t]))return!0;return e}(e);return!0===t?t:t.map((function(e){return jn(e)}))}function Vn(e){var t=!1,i=[];if("case"===e[0]){for(var n=1;n<e.length-1;n+=2)t=t||Un(e[n]),i.push(e[n+1]);i.push(e[e.length-1])}else if("match"===e[0]){t=t||Un(e[1]);for(var r=2;r<e.length-1;r+=2)i.push(e[r+1]);i.push(e[e.length-1])}else if("step"===e[0]){t=t||Un(e[1]);for(var o=1;o<e.length-1;o+=2)i.push(e[o+1])}t&&(e.length=0,e.push.apply(e,["any"].concat(i)));for(var a=1;a<e.length;a++)Vn(e[a])}function Un(e){if(!Array.isArray(e))return!1;if("pitch"===(t=e[0])||"distance-from-center"===t)return!0;for(var t,i=1;i<e.length;i++)if(Un(e[i]))return!0;return!1}var Wn=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Hn(e,t){return e<t?-1:e>t?1:0}function Gn(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(var t=1;t<e.length;t++)if(Gn(e[t]))return!0;return!1}function qn(e){if(!e)return!0;var t,i=e[0];return e.length<=1?"any"!==i:"=="===i?Zn(e[1],e[2],"=="):"!="===i?$n(Zn(e[1],e[2],"==")):"<"===i||">"===i||"<="===i||">="===i?Zn(e[1],e[2],i):"any"===i?(t=e.slice(1),["any"].concat(t.map(qn))):"all"===i?["all"].concat(e.slice(1).map(qn)):"none"===i?["all"].concat(e.slice(1).map(qn).map($n)):"in"===i?Xn(e[1],e.slice(2)):"!in"===i?$n(Xn(e[1],e.slice(2))):"has"===i?Yn(e[1]):"!has"===i?$n(Yn(e[1])):"within"!==i||e}function Zn(e,t,i){switch(e){case"$type":return["filter-type-".concat(i),t];case"$id":return["filter-id-".concat(i),t];default:return["filter-".concat(i),e,t]}}function Xn(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((function(e){return typeof e!=typeof t[0]}))?["filter-in-large",e,["literal",t.sort(Hn)]]:["filter-in-small",e,["literal",t]]}}function Yn(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function $n(e){return["!",e]}function Kn(e){if(Fn(rt(e.value))){var t=rt(e.layerType);return Dn(it({},e,{expressionContext:"filter",valueSpec:e.styleSpec["filter_".concat(t||"fill")]}))}return Qn(e)}function Qn(e){var t=e.value,i=e.key;if("array"!==fn(t))return[new et(i,t,"array expected, ".concat(fn(t)," found"))];var n,r=e.styleSpec,o=[];if(t.length<1)return[new et(i,t,"filter array must have at least 1 element")];switch(o=o.concat(Bn({key:"".concat(i,"[0]"),value:t[0],valueSpec:r.filter_operator,style:e.style,styleSpec:e.styleSpec})),nt(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&"$type"===nt(t[1])&&o.push(new et(i,t,'"$type" cannot be use with operator "'.concat(t[0],'"')));case"==":case"!=":3!==t.length&&o.push(new et(i,t,'filter array for operator "'.concat(t[0],'" must have 3 elements')));case"in":case"!in":t.length>=2&&"string"!==(n=fn(t[1]))&&o.push(new et("".concat(i,"[1]"),t[1],"string expected, ".concat(n," found")));for(var a=2;a<t.length;a++)n=fn(t[a]),"$type"===nt(t[1])?o=o.concat(Bn({key:"".concat(i,"[").concat(a,"]"),value:t[a],valueSpec:r.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==n&&"number"!==n&&"boolean"!==n&&o.push(new et("".concat(i,"[").concat(a,"]"),t[a],"string, number, or boolean expected, ".concat(n," found")));break;case"any":case"all":case"none":for(var s=1;s<t.length;s++)o=o.concat(Qn({key:"".concat(i,"[").concat(s,"]"),value:t[s],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":n=fn(t[1]),2!==t.length?o.push(new et(i,t,'filter array for "'.concat(t[0],'" operator must have 2 elements'))):"string"!==n&&o.push(new et("".concat(i,"[1]"),t[1],"string expected, ".concat(n," found")));break;case"within":n=fn(t[1]),2!==t.length?o.push(new et(i,t,'filter array for "'.concat(t[0],'" operator must have 2 elements'))):"object"!==n&&o.push(new et("".concat(i,"[1]"),t[1],"object expected, ".concat(n," found")))}return o}function Jn(e,t){var i=e.key,n=e.style,r=e.styleSpec,o=e.value,a=e.objectKey,s=r["".concat(t,"_").concat(e.layerType)];if(!s)return[];var l=a.match(/^(.*)-transition$/);if("paint"===t&&l&&s[l[1]]&&s[l[1]].transition)return cr({key:i,value:o,valueSpec:r.transition,style:n,styleSpec:r});var u,c=e.valueSpec||s[a];if(!c)return[new et(i,o,'unknown property "'.concat(a,'"'))];if("string"===fn(o)&&hn(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(o)))return[new et(i,o,'"'.concat(a,'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": ').concat(JSON.stringify(u[1])," }`."))];var h=[];return"symbol"===e.layerType&&("text-field"===a&&n&&!n.glyphs&&h.push(new et(i,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&mn(rt(o))&&"identity"===nt(o.type)&&h.push(new et(i,o,'"text-font" does not support identity functions'))),h.concat(cr({key:e.key,value:o,valueSpec:c,style:n,styleSpec:r,expressionContext:"property",propertyType:t,propertyKey:a}))}function er(e){return Jn(e,"paint")}function tr(e){return Jn(e,"layout")}function ir(e){var t=[],i=e.value,n=e.key,r=e.style,o=e.styleSpec;i.type||i.ref||t.push(new et(n,i,'either "type" or "ref" is required'));var a,s=nt(i.type),l=nt(i.ref);if(i.id)for(var u=nt(i.id),c=0;c<e.arrayIndex;c++){var h=r.layers[c];nt(h.id)===u&&t.push(new et(n,i.id,'duplicate layer id "'.concat(i.id,'", previously used at line ').concat(h.id.__line__)))}if("ref"in i)["type","source","source-layer","filter","layout"].forEach((function(e){e in i&&t.push(new et(n,i[e],'"'.concat(e,'" is prohibited for ref layers')))})),r.layers.forEach((function(e){nt(e.id)===l&&(a=e)})),a?a.ref?t.push(new et(n,i.ref,"ref cannot reference another ref layer")):s=nt(a.type):t.push(new et(n,i.ref,'ref layer "'.concat(l,'" not found')));else if("background"!==s&&"sky"!==s)if(i.source){var d=r.sources&&r.sources[i.source],p=d&&nt(d.type);d?"vector"===p&&"raster"===s?t.push(new et(n,i.source,'layer "'.concat(i.id,'" requires a raster source'))):"raster"===p&&"raster"!==s?t.push(new et(n,i.source,'layer "'.concat(i.id,'" requires a vector source'))):"vector"!==p||i["source-layer"]?"raster-dem"===p&&"hillshade"!==s?t.push(new et(n,i.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!i.paint||!i.paint["line-gradient"]||"geojson"===p&&d.lineMetrics||t.push(new et(n,i,'layer "'.concat(i.id,'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.'))):t.push(new et(n,i,'layer "'.concat(i.id,'" must specify a "source-layer"'))):t.push(new et(n,i.source,'source "'.concat(i.source,'" not found')))}else t.push(new et(n,i,'missing required property "source"'));return t=t.concat(Ln({key:n,value:i,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return cr({key:"".concat(n,".type"),value:i.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,object:i,objectKey:"type"})},filter:function(e){return Kn(it({layerType:s},e))},layout:function(e){return Ln({layer:i,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return tr(it({layerType:s},e))}}})},paint:function(e){return Ln({layer:i,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return er(it({layerType:s},e))}}})}}})),t}function nr(e){var t=e.value,i=e.key,n=fn(t);return"string"!==n?[new et(i,t,"string expected, ".concat(n," found"))]:[]}var rr={promoteId:function(e){var t=e.key,i=e.value;if("string"===fn(i))return nr({key:t,value:i});var n=[];for(var r in i)n.push.apply(n,c(nr({key:"".concat(t,".").concat(r),value:i[r]})));return n}};function or(e){var t=e.value,i=e.key,n=e.styleSpec,r=e.style;if(!t.type)return[new et(i,t,'"type" is required')];var o,a=nt(t.type);switch(a){case"vector":case"raster":case"raster-dem":return o=Ln({key:i,value:t,valueSpec:n["source_".concat(a.replace("-","_"))],style:e.style,styleSpec:n,objectElementValidators:rr});case"geojson":if(o=Ln({key:i,value:t,valueSpec:n.source_geojson,style:r,styleSpec:n,objectElementValidators:rr}),t.cluster)for(var s in t.clusterProperties){var l,u,d=h(t.clusterProperties[s],2),p=d[0],f=d[1],m="string"==typeof p?[p,["accumulated"],["get",s]]:p;(l=o).push.apply(l,c(Dn({key:"".concat(i,".").concat(s,".map"),value:f,expressionContext:"cluster-map"}))),(u=o).push.apply(u,c(Dn({key:"".concat(i,".").concat(s,".reduce"),value:m,expressionContext:"cluster-reduce"})))}return o;case"video":return Ln({key:i,value:t,valueSpec:n.source_video,style:r,styleSpec:n});case"image":return Ln({key:i,value:t,valueSpec:n.source_image,style:r,styleSpec:n});case"canvas":return[new et(i,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Bn({key:"".concat(i,".type"),value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:r,styleSpec:n})}}function ar(e){var t=e.value,i=e.styleSpec,n=i.light,r=e.style,o=[],a=fn(t);if(void 0===t)return o;if("object"!==a)return o=o.concat([new et("light",t,"object expected, ".concat(a," found"))]);for(var s in t){var l=s.match(/^(.*)-transition$/);o=o.concat(l&&n[l[1]]&&n[l[1]].transition?cr({key:s,value:t[s],valueSpec:i.transition,style:r,styleSpec:i}):n[s]?cr({key:s,value:t[s],valueSpec:n[s],style:r,styleSpec:i}):[new et(s,t[s],'unknown property "'.concat(s,'"'))])}return o}function sr(e){var t=e.value,i=e.key,n=e.style,r=e.styleSpec,o=r.terrain,a=[],s=fn(t);if(void 0===t)return a;if("object"!==s)return a=a.concat([new et("terrain",t,"object expected, ".concat(s," found"))]);for(var l in t){var u=l.match(/^(.*)-transition$/);a=a.concat(u&&o[u[1]]&&o[u[1]].transition?cr({key:l,value:t[l],valueSpec:r.transition,style:n,styleSpec:r}):o[l]?cr({key:l,value:t[l],valueSpec:o[l],style:n,styleSpec:r}):[new et(l,t[l],'unknown property "'.concat(l,'"'))])}if(t.source){var c=n.sources&&n.sources[t.source],h=c&&nt(c.type);c?"raster-dem"!==h&&a.push(new et(i,t.source,"terrain cannot be used with a source of type ".concat(h,', it only be used with a "raster-dem" source type'))):a.push(new et(i,t.source,'source "'.concat(t.source,'" not found')))}else a.push(new et(i,t,'terrain is missing required property "source"'));return a}function lr(e){var t=e.value,i=e.style,n=e.styleSpec,r=n.fog,o=[],a=fn(t);if(void 0===t)return o;if("object"!==a)return o=o.concat([new et("fog",t,"object expected, ".concat(a," found"))]);for(var s in t){var l=s.match(/^(.*)-transition$/);o=o.concat(l&&r[l[1]]&&r[l[1]].transition?cr({key:s,value:t[s],valueSpec:n.transition,style:i,styleSpec:n}):r[s]?cr({key:s,value:t[s],valueSpec:r[s],style:i,styleSpec:n}):[new et(s,t[s],'unknown property "'.concat(s,'"'))])}return o}var ur={"*":function(){return[]},array:On,boolean:function(e){var t=e.value,i=e.key,n=fn(t);return"boolean"!==n?[new et(i,t,"boolean expected, ".concat(n," found"))]:[]},number:Rn,color:function(e){var t=e.key,i=e.value,n=fn(i);return"string"!==n?[new et(t,i,"color expected, ".concat(n," found"))]:null===kt.parseCSSColor(i)?[new et(t,i,'color expected, "'.concat(i,'" found'))]:[]},constants:tt,enum:Bn,filter:Kn,function:In,layer:ir,object:Ln,source:or,light:ar,terrain:sr,fog:lr,string:nr,formatted:function(e){return 0===nr(e).length?[]:Dn(e)},resolvedImage:function(e){return 0===nr(e).length?[]:Dn(e)},projection:function(e){var t=e.value,i=e.styleSpec,n=i.projection,r=e.style,o=[],a=fn(t);if("object"===a)for(var s in t)o=o.concat(cr({key:s,value:t[s],valueSpec:n[s],style:r,styleSpec:i}));else"string"!==a&&(o=o.concat([new et("projection",t,"object or string expected, ".concat(a," found"))]));return o}};function cr(e){var t=e.value,i=e.valueSpec,n=e.styleSpec;return i.expression&&mn(nt(t))?In(e):i.expression&&kn(rt(t))?Dn(e):i.type&&ur[i.type]?ur[i.type](e):Ln(it({},e,{valueSpec:i.type?n[i.type]:i}))}function hr(e){var t=e.value,i=e.key,n=nr(e);return n.length||(-1===t.indexOf("{fontstack}")&&n.push(new et(i,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&n.push(new et(i,t,'"glyphs" url must include a "{range}" token'))),n}function dr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Je,i=[];return i=i.concat(cr({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:hr,"*":function(){return[]}}})),e.constants&&(i=i.concat(tt({key:"constants",value:e.constants,style:e,styleSpec:t}))),pr(i)}function pr(e){return[].concat(e).sort((function(e,t){return e.line-t.line}))}function fr(e){return function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return pr(e.apply(this,i))}}dr.source=fr(or),dr.light=fr(ar),dr.terrain=fr(sr),dr.fog=fr(lr),dr.layer=fr(ir),dr.filter=fr(Kn),dr.paintProperty=fr(er),dr.layoutProperty=fr(tr);var mr=dr,gr=mr.light,yr=mr.fog,vr=mr.paintProperty,br=mr.layoutProperty;function xr(e,t){var i=!1;if(t&&t.length){var n,r=d(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.fire(new Ke(new Error(o.message))),i=!0}}catch(a){r.e(a)}finally{r.f()}}return i}var _r=wr;function wr(e,t,i){var n=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var r=new Int32Array(this.arrayBuffer);e=r[0],this.d=(t=r[1])+2*(i=r[2]);for(var o=0;o<this.d*this.d;o++){var a=r[3+o],s=r[3+o+1];n.push(a===s?null:r.subarray(a,s))}var l=r[3+n.length+1];this.keys=r.subarray(r[3+n.length],l),this.bboxes=r.subarray(l),this.insert=this._insertReadonly}else{this.d=t+2*i;for(var u=0;u<this.d*this.d;u++)n.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=i,this.scale=t/e,this.uid=0;var c=i/t*e;this.min=-c,this.max=e+c}wr.prototype.insert=function(e,t,i,n,r){this._forEachCell(t,i,n,r,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(i),this.bboxes.push(n),this.bboxes.push(r)},wr.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},wr.prototype._insertCell=function(e,t,i,n,r,o){this.cells[r].push(o)},wr.prototype.query=function(e,t,i,n,r){var o=this.min,a=this.max;if(e<=o&&t<=o&&a<=i&&a<=n&&!r)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,i,n,this._queryCell,s,{},r),s},wr.prototype._queryCell=function(e,t,i,n,r,o,a,s){var l=this.cells[r];if(null!==l)for(var u=this.keys,c=this.bboxes,h=0;h<l.length;h++){var d=l[h];if(void 0===a[d]){var p=4*d;(s?s(c[p+0],c[p+1],c[p+2],c[p+3]):e<=c[p+2]&&t<=c[p+3]&&i>=c[p+0]&&n>=c[p+1])?(a[d]=!0,o.push(u[d])):a[d]=!1}}},wr.prototype._forEachCell=function(e,t,i,n,r,o,a,s){for(var l=this._convertToCellCoord(e),u=this._convertToCellCoord(t),c=this._convertToCellCoord(i),h=this._convertToCellCoord(n),d=l;d<=c;d++)for(var p=u;p<=h;p++){var f=this.d*p+d;if((!s||s(this._convertFromCellCoord(d),this._convertFromCellCoord(p),this._convertFromCellCoord(d+1),this._convertFromCellCoord(p+1)))&&r.call(this,e,t,i,n,f,o,a,s))return}},wr.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},wr.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},wr.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,i=0,n=0;n<this.cells.length;n++)i+=this.cells[n].length;var r=new Int32Array(t+i+this.keys.length+this.bboxes.length);r[0]=this.extent,r[1]=this.n,r[2]=this.padding;for(var o=t,a=0;a<e.length;a++){var s=e[a];r[3+a]=o,r.set(s,o),o+=s.length}return r[3+e.length]=o,r.set(this.keys,o),r[3+e.length+1]=o+=this.keys.length,r.set(this.bboxes,o),o+=this.bboxes.length,r.buffer};var Sr=x.ImageData,kr=x.ImageBitmap,Cr={};function Tr(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),Cr[e]={klass:t,omit:i.omit||[],shallow:i.shallow||[]}}for(var Er in Tr("Object",Object),_r.serialize=function(e,t){var i=e.toArrayBuffer();return t&&t.push(i),{buffer:i}},_r.deserialize=function(e){return new _r(e.buffer)},Tr("Grid",_r),Tr("Color",Ct),Tr("Error",Error),Tr("ResolvedImage",Pt),Tr("StylePropertyFunction",Pn),Tr("StyleExpression",Sn,{omit:["_evaluator"]}),Tr("ZoomDependentExpression",En),Tr("ZoomConstantExpression",Tn),Tr("CompoundExpression",Ht,{omit:["_evaluate"]}),rn)rn[Er]._classRegistryKey||Tr("Expression_".concat(Er),rn[Er]);function Ar(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function Pr(e){return kr&&e instanceof kr}function Mr(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(Ar(e)||Pr(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var i=e;return t&&t.push(i.buffer),i}if(e instanceof Sr)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){var n,r=[],o=d(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;r.push(Mr(a,t))}}catch(p){o.e(p)}finally{o.f()}return r}if("object"==typeof e){var s=e.constructor,l=s._classRegistryKey;if(!l)throw new Error("can't serialize object of unregistered class");var u=s.serialize?s.serialize(e,t):{};if(!s.serialize){for(var c in e)if(e.hasOwnProperty(c)&&!(Cr[l].omit.indexOf(c)>=0)){var h=e[c];u[c]=Cr[l].shallow.indexOf(c)>=0?h:Mr(h,t)}e instanceof Error&&(u.message=e.message)}if(u.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==l&&(u.$name=l),u}throw new Error("can't serialize object of type "+typeof e)}function Lr(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||Ar(e)||Pr(e)||ArrayBuffer.isView(e)||e instanceof Sr)return e;if(Array.isArray(e))return e.map(Lr);if("object"==typeof e){var t=e.$name||"Object",i=Cr[t].klass;if(!i)throw new Error("can't deserialize unregistered class ".concat(t));if(i.deserialize)return i.deserialize(e);for(var n=Object.create(i.prototype),r=0,o=Object.keys(e);r<o.length;r++){var a=o[r];if("$name"!==a){var s=e[a];n[a]=Cr[t].shallow.indexOf(a)>=0?s:Lr(s)}}return n}throw new Error("can't deserialize object of type "+typeof e)}var Or=function(){function e(){g(this,e),this.first=!0}return y(e,[{key:"update",value:function(e,t){var i=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=i,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=i,!0):(this.lastFloorZoom>i?(this.lastIntegerZoom=i+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<i&&(this.lastIntegerZoom=i,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=i,!0))}}]),e}(),Rr=function(e){return e>=1536&&e<=1791},Ir=function(e){return e>=1872&&e<=1919},Dr=function(e){return e>=2208&&e<=2303},zr=function(e){return e>=11904&&e<=12031},Br=function(e){return e>=12032&&e<=12255},Fr=function(e){return e>=12272&&e<=12287},Nr=function(e){return e>=12288&&e<=12351},jr=function(e){return e>=12352&&e<=12447},Vr=function(e){return e>=12448&&e<=12543},Ur=function(e){return e>=12544&&e<=12591},Wr=function(e){return e>=12704&&e<=12735},Hr=function(e){return e>=12736&&e<=12783},Gr=function(e){return e>=12784&&e<=12799},qr=function(e){return e>=12800&&e<=13055},Zr=function(e){return e>=13056&&e<=13311},Xr=function(e){return e>=13312&&e<=19903},Yr=function(e){return e>=19968&&e<=40959},$r=function(e){return e>=40960&&e<=42127},Kr=function(e){return e>=42128&&e<=42191},Qr=function(e){return e>=44032&&e<=55215},Jr=function(e){return e>=63744&&e<=64255},eo=function(e){return e>=64336&&e<=65023},to=function(e){return e>=65040&&e<=65055},io=function(e){return e>=65072&&e<=65103},no=function(e){return e>=65104&&e<=65135},ro=function(e){return e>=65136&&e<=65279},oo=function(e){return e>=65280&&e<=65519};function ao(e){var t,i=d(e);try{for(i.s();!(t=i.n()).done;)if(uo(t.value.charCodeAt(0)))return!0}catch(n){i.e(n)}finally{i.f()}return!1}function so(e){var t,i=d(e);try{for(i.s();!(t=i.n()).done;)if(!lo(t.value.charCodeAt(0)))return!1}catch(n){i.e(n)}finally{i.f()}return!0}function lo(e){return!(Rr(e)||Ir(e)||Dr(e)||eo(e)||ro(e))}function uo(e){return!(746!==e&&747!==e&&(e<4352||!(Wr(e)||Ur(e)||io(e)&&!(e>=65097&&e<=65103)||Jr(e)||Zr(e)||zr(e)||Hr(e)||!(!Nr(e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||Xr(e)||Yr(e)||qr(e)||function(e){return e>=12592&&e<=12687}(e)||function(e){return e>=43360&&e<=43391}(e)||function(e){return e>=55216&&e<=55295}(e)||function(e){return e>=4352&&e<=4607}(e)||Qr(e)||jr(e)||Fr(e)||function(e){return e>=12688&&e<=12703}(e)||Br(e)||Gr(e)||Vr(e)&&12540!==e||!(!oo(e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!no(e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||function(e){return e>=5120&&e<=5759}(e)||function(e){return e>=6320&&e<=6399}(e)||to(e)||function(e){return e>=19904&&e<=19967}(e)||$r(e)||Kr(e))))}function co(e){return!(uo(e)||function(e){return!!(function(e){return e>=128&&e<=255}(e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||function(e){return e>=8192&&e<=8303}(e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||function(e){return e>=8448&&e<=8527}(e)||function(e){return e>=8528&&e<=8591}(e)||function(e){return e>=8960&&e<=9215}(e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||function(e){return e>=9216&&e<=9279}(e)&&9251!==e||function(e){return e>=9280&&e<=9311}(e)||function(e){return e>=9312&&e<=9471}(e)||function(e){return e>=9632&&e<=9727}(e)||function(e){return e>=9728&&e<=9983}(e)&&!(e>=9754&&e<=9759)||function(e){return e>=11008&&e<=11263}(e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Nr(e)||Vr(e)||function(e){return e>=57344&&e<=63743}(e)||io(e)||no(e)||oo(e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function ho(e){return e>=1424&&e<=2303||eo(e)||ro(e)}function po(e,t){return!(!t&&ho(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||function(e){return e>=6016&&e<=6143}(e))}function fo(e){var t,i=d(e);try{for(i.s();!(t=i.n()).done;)if(ho(t.value.charCodeAt(0)))return!0}catch(n){i.e(n)}finally{i.f()}return!1}var mo="deferred",go="loading",yo="loaded",vo=null,bo="unavailable",xo=null,_o=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(bo="error"),vo&&vo(e)};function wo(){So.fire(new $e("pluginStateChange",{pluginStatus:bo,pluginURL:xo}))}var So=new Qe,ko=function(){return bo},Co=function(){if(bo!==mo||!xo)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");bo=go,wo(),xo&&je({url:xo},(function(e){e?_o(e):(bo=yo,wo())}))},To={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return bo===yo||null!=To.applyArabicShaping},isLoading:function(){return bo===go},setState:function(e){bo=e.pluginStatus,xo=e.pluginURL},isParsed:function(){return null!=To.applyArabicShaping&&null!=To.processBidirectionalText&&null!=To.processStyledBidirectionalText},getPluginURL:function(){return xo}},Eo=function(){function e(t,i){g(this,e),this.zoom=t,i?(this.now=i.now,this.fadeDuration=i.fadeDuration,this.zoomHistory=i.zoomHistory,this.transition=i.transition,this.pitch=i.pitch):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Or,this.transition={},this.pitch=0)}return y(e,[{key:"isSupportedScript",value:function(e){return function(e,t){var i,n=d(e);try{for(n.s();!(i=n.n()).done;)if(!po(i.value.charCodeAt(0),t))return!1}catch(r){n.e(r)}finally{n.f()}return!0}(e,To.isLoaded())}},{key:"crossFadingFactor",value:function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}},{key:"getCrossfadeParameters",value:function(){var e=this.zoom,t=e-Math.floor(e),i=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*i}:{fromScale:.5,toScale:1,t:1-(1-i)*t}}}]),e}(),Ao=function(){function e(t,i){g(this,e),this.property=t,this.value=i,this.expression=function(e,t){if(mn(e))return new Pn(e,t);if(kn(e)){var i=An(e,t);if("error"===i.result)throw new Error(i.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));return i.value}var n=e;return"string"==typeof e&&"color"===t.type&&(n=Ct.parse(e)),{kind:"constant",evaluate:function(){return n}}}(void 0===i?t.specification.default:i,t.specification)}return y(e,[{key:"isDataDriven",value:function(){return"source"===this.expression.kind||"composite"===this.expression.kind}},{key:"possiblyEvaluate",value:function(e,t,i){return this.property.possiblyEvaluate(this,e,t,i)}}]),e}(),Po=function(){function e(t){g(this,e),this.property=t,this.value=new Ao(t,void 0)}return y(e,[{key:"transitioned",value:function(e,t){return new Lo(this.property,this.value,t,I({},e.transition,this.transition),e.now)}},{key:"untransitioned",value:function(){return new Lo(this.property,this.value,null,{},0)}}]),e}(),Mo=function(){function e(t){g(this,e),this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)}return y(e,[{key:"getValue",value:function(e){return H(this._values[e].value.value)}},{key:"setValue",value:function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new Po(this._values[e].property)),this._values[e].value=new Ao(this._values[e].property,null===t?void 0:H(t))}},{key:"getTransition",value:function(e){return H(this._values[e].transition)}},{key:"setTransition",value:function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new Po(this._values[e].property)),this._values[e].transition=H(t)||void 0}},{key:"serialize",value:function(){for(var e={},t=0,i=Object.keys(this._values);t<i.length;t++){var n=i[t],r=this.getValue(n);void 0!==r&&(e[n]=r);var o=this.getTransition(n);void 0!==o&&(e["".concat(n,"-transition")]=o)}return e}},{key:"transitioned",value:function(e,t){for(var i=new Oo(this._properties),n=0,r=Object.keys(this._values);n<r.length;n++){var o=r[n];i._values[o]=this._values[o].transitioned(e,t._values[o])}return i}},{key:"untransitioned",value:function(){for(var e=new Oo(this._properties),t=0,i=Object.keys(this._values);t<i.length;t++){var n=i[t];e._values[n]=this._values[n].untransitioned()}return e}}]),e}(),Lo=function(){function e(t,i,n,r,o){g(this,e);var a=r.delay||0,s=r.duration||0;o=o||0,this.property=t,this.value=i,this.begin=o+a,this.end=this.begin+s,t.specification.transition&&(r.delay||r.duration)&&(this.prior=n)}return y(e,[{key:"possiblyEvaluate",value:function(e,t,i){var n=e.now||0,r=this.value.possiblyEvaluate(e,t,i),o=this.prior;if(o){if(n>this.end)return this.prior=null,r;if(this.value.isDataDriven())return this.prior=null,r;if(n<this.begin)return o.possiblyEvaluate(e,t,i);var a=(n-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(e,t,i),r,E(a))}return r}}]),e}(),Oo=function(){function e(t){g(this,e),this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)}return y(e,[{key:"possiblyEvaluate",value:function(e,t,i){for(var n=new Do(this._properties),r=0,o=Object.keys(this._values);r<o.length;r++){var a=o[r];n._values[a]=this._values[a].possiblyEvaluate(e,t,i)}return n}},{key:"hasTransition",value:function(){for(var e=0,t=Object.keys(this._values);e<t.length;e++){var i=t[e];if(this._values[i].prior)return!0}return!1}}]),e}(),Ro=function(){function e(t){g(this,e),this._properties=t,this._values=Object.create(t.defaultPropertyValues)}return y(e,[{key:"getValue",value:function(e){return H(this._values[e].value)}},{key:"setValue",value:function(e,t){this._values[e]=new Ao(this._values[e].property,null===t?void 0:H(t))}},{key:"serialize",value:function(){for(var e={},t=0,i=Object.keys(this._values);t<i.length;t++){var n=i[t],r=this.getValue(n);void 0!==r&&(e[n]=r)}return e}},{key:"possiblyEvaluate",value:function(e,t,i){for(var n=new Do(this._properties),r=0,o=Object.keys(this._values);r<o.length;r++){var a=o[r];n._values[a]=this._values[a].possiblyEvaluate(e,t,i)}return n}}]),e}(),Io=function(){function e(t,i,n){g(this,e),this.property=t,this.value=i,this.parameters=n}return y(e,[{key:"isConstant",value:function(){return"constant"===this.value.kind}},{key:"constantOr",value:function(e){return"constant"===this.value.kind?this.value.value:e}},{key:"evaluate",value:function(e,t,i,n){return this.property.evaluate(this.value,this.parameters,e,t,i,n)}}]),e}(),Do=function(){function e(t){g(this,e),this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)}return y(e,[{key:"get",value:function(e){return this._values[e]}}]),e}(),zo=function(){function e(t){g(this,e),this.specification=t}return y(e,[{key:"possiblyEvaluate",value:function(e,t){return e.expression.evaluate(t)}},{key:"interpolate",value:function(e,t,i){var n=vi[this.specification.type];return n?n(e,t,i):e}}]),e}(),Bo=function(){function e(t,i){g(this,e),this.specification=t,this.overrides=i}return y(e,[{key:"possiblyEvaluate",value:function(e,t,i,n){return new Io(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},i,n)}:e.expression,t)}},{key:"interpolate",value:function(e,t,i){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new Io(this,{kind:"constant",value:void 0},e.parameters);var n=vi[this.specification.type];return n?new Io(this,{kind:"constant",value:n(e.value.value,t.value.value,i)},e.parameters):e}},{key:"evaluate",value:function(e,t,i,n,r,o){return"constant"===e.kind?e.value:e.evaluate(t,i,n,r,o)}}]),e}(),Fo=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"possiblyEvaluate",value:function(e,t,i,n){if(void 0===e.value)return new Io(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){var r=e.expression.evaluate(t,null,{},i,n),o="resolvedImage"===e.property.specification.type&&"string"!=typeof r?r.name:r,a=this._calculate(o,o,o,t);return new Io(this,{kind:"constant",value:a},t)}if("camera"===e.expression.kind){var s=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new Io(this,{kind:"constant",value:s},t)}return new Io(this,e.expression,t)}},{key:"evaluate",value:function(e,t,i,n,r,o){if("source"===e.kind){var a=e.evaluate(t,i,n,r,o);return this._calculate(a,a,a,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},i,n),e.evaluate({zoom:Math.floor(t.zoom)},i,n),e.evaluate({zoom:Math.floor(t.zoom)+1},i,n),t):e.value}},{key:"_calculate",value:function(e,t,i,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t,other:i}:{from:i,to:t,other:e}}},{key:"interpolate",value:function(e){return e}}]),i}(Bo),No=function(){function e(t){g(this,e),this.specification=t}return y(e,[{key:"possiblyEvaluate",value:function(e,t,i,n){if(void 0!==e.value){if("constant"===e.expression.kind){var r=e.expression.evaluate(t,null,{},i,n);return this._calculate(r,r,r,t)}return this._calculate(e.expression.evaluate(new Eo(Math.floor(t.zoom-1),t)),e.expression.evaluate(new Eo(Math.floor(t.zoom),t)),e.expression.evaluate(new Eo(Math.floor(t.zoom+1),t)),t)}}},{key:"_calculate",value:function(e,t,i,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:i,to:t}}},{key:"interpolate",value:function(e){return e}}]),e}(),jo=function(){function e(t){g(this,e),this.specification=t}return y(e,[{key:"possiblyEvaluate",value:function(e,t,i,n){return!!e.expression.evaluate(t,null,{},i,n)}},{key:"interpolate",value:function(){return!1}}]),e}(),Vo=y((function e(t){for(var i in g(this,e),this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],t){var n=t[i];n.specification.overridable&&this.overridableProperties.push(i);var r=this.defaultPropertyValues[i]=new Ao(n,void 0),o=this.defaultTransitionablePropertyValues[i]=new Po(n);this.defaultTransitioningPropertyValues[i]=o.untransitioned(),this.defaultPossiblyEvaluatedValues[i]=r.possiblyEvaluate({})}}));function Uo(e,t){return 256*(e=M(Math.floor(e),0,255))+M(Math.floor(t),0,255)}Tr("DataDrivenProperty",Bo),Tr("DataConstantProperty",zo),Tr("CrossFadedDataDrivenProperty",Fo),Tr("CrossFadedProperty",No),Tr("ColorRampProperty",jo);var Wo={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ho=y((function e(t,i){g(this,e),this._structArray=t,this._pos1=i*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8})),Go=function(){function e(){g(this,e),this.isTransferred=!1,this.capacity=-1,this.resize(0)}return y(e,[{key:"_trim",value:function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}},{key:"clear",value:function(){this.length=0}},{key:"resize",value:function(e){this.reserve(e),this.length=e}},{key:"reserve",value:function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}}},{key:"_refreshViews",value:function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}],[{key:"serialize",value:function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}},{key:"deserialize",value:function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t}}]),e}();function qo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=0,n=0;return{members:e.map((function(e){var r=Wo[e.type].BYTES_PER_ELEMENT,o=i=Zo(i,Math.max(t,r)),a=e.components||1;return n=Math.max(n,r),i+=r*a,{name:e.name,type:e.type,components:a,offset:o}})),size:Zo(i,Math.max(n,t)),alignment:t}}function Zo(e,t){return Math.ceil(e/t)*t}var Xo=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t){var i=this.length;return this.resize(i+1),this.emplace(i,e,t)}},{key:"emplace",value:function(e,t,i){var n=2*e;return this.int16[n+0]=t,this.int16[n+1]=i,e}}]),i}(Go);Xo.prototype.bytesPerElement=4,Tr("StructArrayLayout2i4",Xo);var Yo=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,i,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,i,n)}},{key:"emplace",value:function(e,t,i,n,r){var o=4*e;return this.int16[o+0]=t,this.int16[o+1]=i,this.int16[o+2]=n,this.int16[o+3]=r,e}}]),i}(Go);Yo.prototype.bytesPerElement=8,Tr("StructArrayLayout4i8",Yo);var $o=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,i,n,r,o,a){var s=this.length;return this.resize(s+1),this.emplace(s,e,t,i,n,r,o,a)}},{key:"emplace",value:function(e,t,i,n,r,o,a,s){var l=6*e,u=12*e,c=3*e;return this.int16[l+0]=t,this.int16[l+1]=i,this.uint8[u+4]=n,this.uint8[u+5]=r,this.uint8[u+6]=o,this.uint8[u+7]=a,this.float32[c+2]=s,e}}]),i}(Go);$o.prototype.bytesPerElement=12,Tr("StructArrayLayout2i4ub1f12",$o);var Ko=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,i){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,i)}},{key:"emplace",value:function(e,t,i,n){var r=3*e;return this.float32[r+0]=t,this.float32[r+1]=i,this.float32[r+2]=n,e}}]),i}(Go);Ko.prototype.bytesPerElement=12,Tr("StructArrayLayout3f12",Ko);var Qo=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,i,n,r,o,a,s,l,u){var c=this.length;return this.resize(c+1),this.emplace(c,e,t,i,n,r,o,a,s,l,u)}},{key:"emplace",value:function(e,t,i,n,r,o,a,s,l,u,c){var h=10*e;return this.uint16[h+0]=t,this.uint16[h+1]=i,this.uint16[h+2]=n,this.uint16[h+3]=r,this.uint16[h+4]=o,this.uint16[h+5]=a,this.uint16[h+6]=s,this.uint16[h+7]=l,this.uint16[h+8]=u,this.uint16[h+9]=c,e}}]),i}(Go);Qo.prototype.bytesPerElement=20,Tr("StructArrayLayout10ui20",Qo);var Jo=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,i,n,r,o,a,s){var l=this.length;return this.resize(l+1),this.emplace(l,e,t,i,n,r,o,a,s)}},{key:"emplace",value:function(e,t,i,n,r,o,a,s,l){var u=8*e;return this.uint16[u+0]=t,this.uint16[u+1]=i,this.uint16[u+2]=n,this.uint16[u+3]=r,this.uint16[u+4]=o,this.uint16[u+5]=a,this.uint16[u+6]=s,this.uint16[u+7]=l,e}}]),i}(Go);Jo.prototype.bytesPerElement=16,Tr("StructArrayLayout8ui16",Jo);var ea=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,i,n,r,o,a,s,l,u,c,h,d,p,f,m){var g=this.length;return this.resize(g+1),this.emplace(g,e,t,i,n,r,o,a,s,l,u,c,h,d,p,f,m)}},{key:"emplace",value:function(e,t,i,n,r,o,a,s,l,u,c,h,d,p,f,m,g){var y=16*e;return this.int16[y+0]=t,this.int16[y+1]=i,this.int16[y+2]=n,this.int16[y+3]=r,this.uint16[y+4]=o,this.uint16[y+5]=a,this.uint16[y+6]=s,this.uint16[y+7]=l,this.int16[y+8]=u,this.int16[y+9]=c,this.int16[y+10]=h,this.int16[y+11]=d,this.int16[y+12]=p,this.int16[y+13]=f,this.int16[y+14]=m,this.int16[y+15]=g,e}}]),i}(Go);ea.prototype.bytesPerElement=32,Tr("StructArrayLayout4i4ui4i4i32",ea);var ta=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)}},{key:"emplace",value:function(e,t){return this.uint32[1*e+0]=t,e}}]),i}(Go);ta.prototype.bytesPerElement=4,Tr("StructArrayLayout1ul4",ta);var ia=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,i,n,r,o,a,s,l,u,c,h,d){var p=this.length;return this.resize(p+1),this.emplace(p,e,t,i,n,r,o,a,s,l,u,c,h,d)}},{key:"emplace",value:function(e,t,i,n,r,o,a,s,l,u,c,h,d,p){var f=20*e,m=10*e;return this.int16[f+0]=t,this.int16[f+1]=i,this.int16[f+2]=n,this.int16[f+3]=r,this.int16[f+4]=o,this.float32[m+3]=a,this.float32[m+4]=s,this.float32[m+5]=l,this.float32[m+6]=u,this.int16[f+14]=c,this.uint32[m+8]=h,this.uint16[f+18]=d,this.uint16[f+19]=p,e}}]),i}(Go);ia.prototype.bytesPerElement=40,Tr("StructArrayLayout5i4f1i1ul2ui40",ia);var na=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,i,n,r,o,a){var s=this.length;return this.resize(s+1),this.emplace(s,e,t,i,n,r,o,a)}},{key:"emplace",value:function(e,t,i,n,r,o,a,s){var l=8*e;return this.int16[l+0]=t,this.int16[l+1]=i,this.int16[l+2]=n,this.int16[l+4]=r,this.int16[l+5]=o,this.int16[l+6]=a,this.int16[l+7]=s,e}}]),i}(Go);na.prototype.bytesPerElement=16,Tr("StructArrayLayout3i2i2i16",na);var ra=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,i,n,r){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,i,n,r)}},{key:"emplace",value:function(e,t,i,n,r,o){var a=4*e,s=8*e;return this.float32[a+0]=t,this.float32[a+1]=i,this.float32[a+2]=n,this.int16[s+6]=r,this.int16[s+7]=o,e}}]),i}(Go);ra.prototype.bytesPerElement=16,Tr("StructArrayLayout2f1f2i16",ra);var oa=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,i,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,i,n)}},{key:"emplace",value:function(e,t,i,n,r){var o=12*e,a=3*e;return this.uint8[o+0]=t,this.uint8[o+1]=i,this.float32[a+1]=n,this.float32[a+2]=r,e}}]),i}(Go);oa.prototype.bytesPerElement=12,Tr("StructArrayLayout2ub2f12",oa);var aa=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,i){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,i)}},{key:"emplace",value:function(e,t,i,n){var r=3*e;return this.uint16[r+0]=t,this.uint16[r+1]=i,this.uint16[r+2]=n,e}}]),i}(Go);aa.prototype.bytesPerElement=6,Tr("StructArrayLayout3ui6",aa);var sa=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,i,n,r,o,a,s,l,u,c,h,d,p,f,m,g,y,v,b,x){var _=this.length;return this.resize(_+1),this.emplace(_,e,t,i,n,r,o,a,s,l,u,c,h,d,p,f,m,g,y,v,b,x)}},{key:"emplace",value:function(e,t,i,n,r,o,a,s,l,u,c,h,d,p,f,m,g,y,v,b,x,_){var w=30*e,S=15*e,k=60*e;return this.int16[w+0]=t,this.int16[w+1]=i,this.int16[w+2]=n,this.float32[S+2]=r,this.float32[S+3]=o,this.uint16[w+8]=a,this.uint16[w+9]=s,this.uint32[S+5]=l,this.uint32[S+6]=u,this.uint32[S+7]=c,this.uint16[w+16]=h,this.uint16[w+17]=d,this.uint16[w+18]=p,this.float32[S+10]=f,this.float32[S+11]=m,this.uint8[k+48]=g,this.uint8[k+49]=y,this.uint8[k+50]=v,this.uint32[S+13]=b,this.int16[w+28]=x,this.uint8[k+58]=_,e}}]),i}(Go);sa.prototype.bytesPerElement=60,Tr("StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60",sa);var la=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,i,n,r,o,a,s,l,u,c,h,d,p,f,m,g,y,v,b,x,_,w,S,k,C,T,E,A,P){var M=this.length;return this.resize(M+1),this.emplace(M,e,t,i,n,r,o,a,s,l,u,c,h,d,p,f,m,g,y,v,b,x,_,w,S,k,C,T,E,A,P)}},{key:"emplace",value:function(e,t,i,n,r,o,a,s,l,u,c,h,d,p,f,m,g,y,v,b,x,_,w,S,k,C,T,E,A,P,M){var L=38*e,O=19*e;return this.int16[L+0]=t,this.int16[L+1]=i,this.int16[L+2]=n,this.float32[O+2]=r,this.float32[O+3]=o,this.int16[L+8]=a,this.int16[L+9]=s,this.int16[L+10]=l,this.int16[L+11]=u,this.int16[L+12]=c,this.int16[L+13]=h,this.uint16[L+14]=d,this.uint16[L+15]=p,this.uint16[L+16]=f,this.uint16[L+17]=m,this.uint16[L+18]=g,this.uint16[L+19]=y,this.uint16[L+20]=v,this.uint16[L+21]=b,this.uint16[L+22]=x,this.uint16[L+23]=_,this.uint16[L+24]=w,this.uint16[L+25]=S,this.uint16[L+26]=k,this.uint16[L+27]=C,this.uint16[L+28]=T,this.uint32[O+15]=E,this.float32[O+16]=A,this.float32[O+17]=P,this.float32[O+18]=M,e}}]),i}(Go);la.prototype.bytesPerElement=76,Tr("StructArrayLayout3i2f6i15ui1ul3f76",la);var ua=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)}},{key:"emplace",value:function(e,t){return this.float32[1*e+0]=t,e}}]),i}(Go);ua.prototype.bytesPerElement=4,Tr("StructArrayLayout1f4",ua);var ca=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,i){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,i)}},{key:"emplace",value:function(e,t,i,n){var r=3*e;return this.int16[r+0]=t,this.int16[r+1]=i,this.int16[r+2]=n,e}}]),i}(Go);ca.prototype.bytesPerElement=6,Tr("StructArrayLayout3i6",ca);var ha=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,i,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,i,n)}},{key:"emplace",value:function(e,t,i,n,r){var o=6*e;return this.uint32[3*e+0]=t,this.uint16[o+2]=i,this.uint16[o+3]=n,this.uint16[o+4]=r,e}}]),i}(Go);ha.prototype.bytesPerElement=12,Tr("StructArrayLayout1ul3ui12",ha);var da=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t){var i=this.length;return this.resize(i+1),this.emplace(i,e,t)}},{key:"emplace",value:function(e,t,i){var n=2*e;return this.uint16[n+0]=t,this.uint16[n+1]=i,e}}]),i}(Go);da.prototype.bytesPerElement=4,Tr("StructArrayLayout2ui4",da);var pa=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)}},{key:"emplace",value:function(e,t){return this.uint16[1*e+0]=t,e}}]),i}(Go);pa.prototype.bytesPerElement=2,Tr("StructArrayLayout1ui2",pa);var fa=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t){var i=this.length;return this.resize(i+1),this.emplace(i,e,t)}},{key:"emplace",value:function(e,t,i){var n=2*e;return this.float32[n+0]=t,this.float32[n+1]=i,e}}]),i}(Go);fa.prototype.bytesPerElement=8,Tr("StructArrayLayout2f8",fa);var ma=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,i,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,i,n)}},{key:"emplace",value:function(e,t,i,n,r){var o=4*e;return this.float32[o+0]=t,this.float32[o+1]=i,this.float32[o+2]=n,this.float32[o+3]=r,e}}]),i}(Go);ma.prototype.bytesPerElement=16,Tr("StructArrayLayout4f16",ma);var ga=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"projectedAnchorX",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"projectedAnchorY",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"projectedAnchorZ",get:function(){return this._structArray.int16[this._pos2+2]}},{key:"tileAnchorX",get:function(){return this._structArray.int16[this._pos2+3]}},{key:"tileAnchorY",get:function(){return this._structArray.int16[this._pos2+4]}},{key:"x1",get:function(){return this._structArray.float32[this._pos4+3]}},{key:"y1",get:function(){return this._structArray.float32[this._pos4+4]}},{key:"x2",get:function(){return this._structArray.float32[this._pos4+5]}},{key:"y2",get:function(){return this._structArray.float32[this._pos4+6]}},{key:"padding",get:function(){return this._structArray.int16[this._pos2+14]}},{key:"featureIndex",get:function(){return this._structArray.uint32[this._pos4+8]}},{key:"sourceLayerIndex",get:function(){return this._structArray.uint16[this._pos2+18]}},{key:"bucketIndex",get:function(){return this._structArray.uint16[this._pos2+19]}}]),i}(Ho);ga.prototype.size=40;var ya=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"get",value:function(e){return new ga(this,e)}}]),i}(ia);Tr("CollisionBoxArray",ya);var va=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"projectedAnchorX",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"projectedAnchorY",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"projectedAnchorZ",get:function(){return this._structArray.int16[this._pos2+2]}},{key:"tileAnchorX",get:function(){return this._structArray.float32[this._pos4+2]}},{key:"tileAnchorY",get:function(){return this._structArray.float32[this._pos4+3]}},{key:"glyphStartIndex",get:function(){return this._structArray.uint16[this._pos2+8]}},{key:"numGlyphs",get:function(){return this._structArray.uint16[this._pos2+9]}},{key:"vertexStartIndex",get:function(){return this._structArray.uint32[this._pos4+5]}},{key:"lineStartIndex",get:function(){return this._structArray.uint32[this._pos4+6]}},{key:"lineLength",get:function(){return this._structArray.uint32[this._pos4+7]}},{key:"segment",get:function(){return this._structArray.uint16[this._pos2+16]}},{key:"lowerSize",get:function(){return this._structArray.uint16[this._pos2+17]}},{key:"upperSize",get:function(){return this._structArray.uint16[this._pos2+18]}},{key:"lineOffsetX",get:function(){return this._structArray.float32[this._pos4+10]}},{key:"lineOffsetY",get:function(){return this._structArray.float32[this._pos4+11]}},{key:"writingMode",get:function(){return this._structArray.uint8[this._pos1+48]}},{key:"placedOrientation",get:function(){return this._structArray.uint8[this._pos1+49]},set:function(e){this._structArray.uint8[this._pos1+49]=e}},{key:"hidden",get:function(){return this._structArray.uint8[this._pos1+50]},set:function(e){this._structArray.uint8[this._pos1+50]=e}},{key:"crossTileID",get:function(){return this._structArray.uint32[this._pos4+13]},set:function(e){this._structArray.uint32[this._pos4+13]=e}},{key:"associatedIconIndex",get:function(){return this._structArray.int16[this._pos2+28]}},{key:"flipState",get:function(){return this._structArray.uint8[this._pos1+58]},set:function(e){this._structArray.uint8[this._pos1+58]=e}}]),i}(Ho);va.prototype.size=60;var ba=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"get",value:function(e){return new va(this,e)}}]),i}(sa);Tr("PlacedSymbolArray",ba);var xa=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"projectedAnchorX",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"projectedAnchorY",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"projectedAnchorZ",get:function(){return this._structArray.int16[this._pos2+2]}},{key:"tileAnchorX",get:function(){return this._structArray.float32[this._pos4+2]}},{key:"tileAnchorY",get:function(){return this._structArray.float32[this._pos4+3]}},{key:"rightJustifiedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+8]}},{key:"centerJustifiedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+9]}},{key:"leftJustifiedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+10]}},{key:"verticalPlacedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+11]}},{key:"placedIconSymbolIndex",get:function(){return this._structArray.int16[this._pos2+12]}},{key:"verticalPlacedIconSymbolIndex",get:function(){return this._structArray.int16[this._pos2+13]}},{key:"key",get:function(){return this._structArray.uint16[this._pos2+14]}},{key:"textBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+15]}},{key:"textBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+16]}},{key:"verticalTextBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+17]}},{key:"verticalTextBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+18]}},{key:"iconBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+19]}},{key:"iconBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+20]}},{key:"verticalIconBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+21]}},{key:"verticalIconBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+22]}},{key:"featureIndex",get:function(){return this._structArray.uint16[this._pos2+23]}},{key:"numHorizontalGlyphVertices",get:function(){return this._structArray.uint16[this._pos2+24]}},{key:"numVerticalGlyphVertices",get:function(){return this._structArray.uint16[this._pos2+25]}},{key:"numIconVertices",get:function(){return this._structArray.uint16[this._pos2+26]}},{key:"numVerticalIconVertices",get:function(){return this._structArray.uint16[this._pos2+27]}},{key:"useRuntimeCollisionCircles",get:function(){return this._structArray.uint16[this._pos2+28]}},{key:"crossTileID",get:function(){return this._structArray.uint32[this._pos4+15]},set:function(e){this._structArray.uint32[this._pos4+15]=e}},{key:"textOffset0",get:function(){return this._structArray.float32[this._pos4+16]}},{key:"textOffset1",get:function(){return this._structArray.float32[this._pos4+17]}},{key:"collisionCircleDiameter",get:function(){return this._structArray.float32[this._pos4+18]}}]),i}(Ho);xa.prototype.size=76;var _a=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"get",value:function(e){return new xa(this,e)}}]),i}(la);Tr("SymbolInstanceArray",_a);var wa=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getoffsetX",value:function(e){return this.float32[1*e+0]}}]),i}(ua);Tr("GlyphOffsetArray",wa);var Sa=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getx",value:function(e){return this.int16[3*e+0]}},{key:"gety",value:function(e){return this.int16[3*e+1]}},{key:"gettileUnitDistanceFromAnchor",value:function(e){return this.int16[3*e+2]}}]),i}(ca);Tr("SymbolLineVertexArray",Sa);var ka=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"featureIndex",get:function(){return this._structArray.uint32[this._pos4+0]}},{key:"sourceLayerIndex",get:function(){return this._structArray.uint16[this._pos2+2]}},{key:"bucketIndex",get:function(){return this._structArray.uint16[this._pos2+3]}},{key:"layoutVertexArrayOffset",get:function(){return this._structArray.uint16[this._pos2+4]}}]),i}(Ho);ka.prototype.size=12;var Ca=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"get",value:function(e){return new ka(this,e)}}]),i}(ha);Tr("FeatureIndexArray",Ca);var Ta=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"a_centroid_pos0",get:function(){return this._structArray.uint16[this._pos2+0]}},{key:"a_centroid_pos1",get:function(){return this._structArray.uint16[this._pos2+1]}}]),i}(Ho);Ta.prototype.size=4;var Ea=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"get",value:function(e){return new Ta(this,e)}}]),i}(da);Tr("FillExtrusionCentroidArray",Ea);var Aa=qo([{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"}]),Pa=qo([{name:"a_dash_to",components:4,type:"Uint16"},{name:"a_dash_from",components:4,type:"Uint16"}]),Ma=St((function(e){e.exports=function(e,t){var i,n,r,o,a,s,l,u;for(n=e.length-(i=3&e.length),r=t,a=3432918353,s=461845907,u=0;u<n;)l=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,r=27492+(65535&(o=5*(65535&(r=(r^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|r>>>19))+((5*(r>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,i){case 3:l^=(255&e.charCodeAt(u+2))<<16;case 2:l^=(255&e.charCodeAt(u+1))<<8;case 1:r^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(u)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return r^=e.length,r=2246822507*(65535&(r^=r>>>16))+((2246822507*(r>>>16)&65535)<<16)&4294967295,r=3266489909*(65535&(r^=r>>>13))+((3266489909*(r>>>16)&65535)<<16)&4294967295,(r^=r>>>16)>>>0}})),La=St((function(e){e.exports=function(e,t){for(var i,n=e.length,r=t^n,o=0;n>=4;)i=1540483477*(65535&(i=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(i>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(i=1540483477*(65535&(i^=i>>>24))+((1540483477*(i>>>16)&65535)<<16)),n-=4,++o;switch(n){case 3:r^=(255&e.charCodeAt(o+2))<<16;case 2:r^=(255&e.charCodeAt(o+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(o)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),(r^=r>>>15)>>>0}})),Oa=Ma,Ra=La;Oa.murmur3=Ma,Oa.murmur2=Ra;var Ia=function(){function e(){g(this,e),this.ids=[],this.positions=[],this.indexed=!1}return y(e,[{key:"add",value:function(e,t,i,n){this.ids.push(Da(e)),this.positions.push(t,i,n)}},{key:"getPositions",value:function(e){for(var t=Da(e),i=0,n=this.ids.length-1;i<n;){var r=i+n>>1;this.ids[r]>=t?n=r:i=r+1}for(var o=[];this.ids[i]===t;)o.push({index:this.positions[3*i],start:this.positions[3*i+1],end:this.positions[3*i+2]}),i++;return o}}],[{key:"serialize",value:function(e,t){var i=new Float64Array(e.ids),n=new Uint32Array(e.positions);return za(i,n,0,i.length-1),t&&t.push(i.buffer,n.buffer),{ids:i,positions:n}}},{key:"deserialize",value:function(t){var i=new e;return i.ids=t.ids,i.positions=t.positions,i.indexed=!0,i}}]),e}();function Da(e){var t=+e;return!isNaN(t)&&t<=_?t:Oa(String(e))}function za(e,t,i,n){for(;i<n;){for(var r=e[i+n>>1],o=i-1,a=n+1;;){do{o++}while(e[o]<r);do{a--}while(e[a]>r);if(o>=a)break;Ba(e,o,a),Ba(t,3*o,3*a),Ba(t,3*o+1,3*a+1),Ba(t,3*o+2,3*a+2)}a-i<n-a?(za(e,t,i,a),i=a+1):(za(e,t,a+1,n),n=a)}}function Ba(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}Tr("FeaturePositionMap",Ia);var Fa=y((function e(t,i){g(this,e),this.gl=t.gl,this.location=i})),Na=function(e){f(i,e);var t=m(i);function i(e,n){var r;return g(this,i),(r=t.call(this,e,n)).current=0,r}return y(i,[{key:"set",value:function(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))}}]),i}(Fa),ja=function(e){f(i,e);var t=m(i);function i(e,n){var r;return g(this,i),(r=t.call(this,e,n)).current=[0,0,0,0],r}return y(i,[{key:"set",value:function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))}}]),i}(Fa),Va=function(e){f(i,e);var t=m(i);function i(e,n){var r;return g(this,i),(r=t.call(this,e,n)).current=Ct.transparent,r}return y(i,[{key:"set",value:function(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))}}]),i}(Fa),Ua=new Float32Array(16),Wa=new Float32Array(9),Ha=new Float32Array(4);function Ga(e){return[Uo(255*e.r,255*e.g),Uo(255*e.b,255*e.a)]}var qa=function(){function e(t,i,n){g(this,e),this.value=t,this.uniformNames=i.map((function(e){return"u_".concat(e)})),this.type=n}return y(e,[{key:"setUniform",value:function(e,t,i){e.set(i.constantOr(this.value))}},{key:"getBinding",value:function(e,t,i){return"color"===this.type?new Va(e,t):new Na(e,t)}}]),e}(),Za=function(){function e(t,i){g(this,e),this.uniformNames=i.map((function(e){return"u_".concat(e)})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}return y(e,[{key:"setConstantPatternPositions",value:function(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tl.concat(t.br),this.patternTo=e.tl.concat(e.br)}},{key:"setUniform",value:function(e,t,i,n){var r="u_pattern_to"===n||"u_dash_to"===n?this.patternTo:"u_pattern_from"===n||"u_dash_from"===n?this.patternFrom:"u_pixel_ratio_to"===n?this.pixelRatioTo:"u_pixel_ratio_from"===n?this.pixelRatioFrom:null;r&&e.set(r)}},{key:"getBinding",value:function(e,t,i){return"u_pattern_from"===i||"u_pattern_to"===i||"u_dash_from"===i||"u_dash_to"===i?new ja(e,t):new Na(e,t)}}]),e}(),Xa=function(){function e(t,i,n,r){g(this,e),this.expression=t,this.type=n,this.maxValue=0,this.paintVertexAttributes=i.map((function(e){return{name:"a_".concat(e),type:"Float32",components:"color"===n?2:1,offset:0}})),this.paintVertexArray=new r}return y(e,[{key:"populatePaintArray",value:function(e,t,i,n,r,o){var a=this.paintVertexArray.length,s=this.expression.evaluate(new Eo(0),t,{},r,n,o);this.paintVertexArray.resize(e),this._setPaintValue(a,e,s)}},{key:"updatePaintArray",value:function(e,t,i,n,r){var o=this.expression.evaluate({zoom:0},i,n,void 0,r);this._setPaintValue(e,t,o)}},{key:"_setPaintValue",value:function(e,t,i){if("color"===this.type)for(var n=Ga(i),r=e;r<t;r++)this.paintVertexArray.emplace(r,n[0],n[1]);else{for(var o=e;o<t;o++)this.paintVertexArray.emplace(o,i);this.maxValue=Math.max(this.maxValue,Math.abs(i))}}},{key:"upload",value:function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}},{key:"destroy",value:function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}]),e}(),Ya=function(){function e(t,i,n,r,o,a){g(this,e),this.expression=t,this.uniformNames=i.map((function(e){return"u_".concat(e,"_t")})),this.type=n,this.useIntegerZoom=r,this.zoom=o,this.maxValue=0,this.paintVertexAttributes=i.map((function(e){return{name:"a_".concat(e),type:"Float32",components:"color"===n?4:2,offset:0}})),this.paintVertexArray=new a}return y(e,[{key:"populatePaintArray",value:function(e,t,i,n,r,o){var a=this.expression.evaluate(new Eo(this.zoom),t,{},r,n,o),s=this.expression.evaluate(new Eo(this.zoom+1),t,{},r,n,o),l=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(l,e,a,s)}},{key:"updatePaintArray",value:function(e,t,i,n,r){var o=this.expression.evaluate({zoom:this.zoom},i,n,void 0,r),a=this.expression.evaluate({zoom:this.zoom+1},i,n,void 0,r);this._setPaintValue(e,t,o,a)}},{key:"_setPaintValue",value:function(e,t,i,n){if("color"===this.type)for(var r=Ga(i),o=Ga(n),a=e;a<t;a++)this.paintVertexArray.emplace(a,r[0],r[1],o[0],o[1]);else{for(var s=e;s<t;s++)this.paintVertexArray.emplace(s,i,n);this.maxValue=Math.max(this.maxValue,Math.abs(i),Math.abs(n))}}},{key:"upload",value:function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}},{key:"destroy",value:function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}},{key:"setUniform",value:function(e,t){var i=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,n=M(this.expression.interpolationFactor(i,this.zoom,this.zoom+1),0,1);e.set(n)}},{key:"getBinding",value:function(e,t,i){return new Na(e,t)}}]),e}(),$a=function(){function e(t,i,n,r,o,a,s){g(this,e),this.expression=t,this.type=n,this.useIntegerZoom=r,this.zoom=o,this.layerId=s,this.paintVertexAttributes=("array"===n?Pa:Aa).members;for(var l=0;l<i.length;++l);this.zoomInPaintVertexArray=new a,this.zoomOutPaintVertexArray=new a}return y(e,[{key:"populatePaintArray",value:function(e,t,i){var n=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(n,e,t.patterns&&t.patterns[this.layerId],i)}},{key:"updatePaintArray",value:function(e,t,i,n,r,o){this._setPaintValues(e,t,i.patterns&&i.patterns[this.layerId],o)}},{key:"_setPaintValues",value:function(e,t,i,n){if(n&&i){var r=i.min,o=i.mid,a=i.max,s=n[r],l=n[o],u=n[a];if(s&&l&&u)for(var c=e;c<t;c++)this._setPaintValue(this.zoomInPaintVertexArray,c,l,s),this._setPaintValue(this.zoomOutPaintVertexArray,c,l,u)}}},{key:"_setPaintValue",value:function(e,t,i,n){e.emplace(t,i.tl[0],i.tl[1],i.br[0],i.br[1],n.tl[0],n.tl[1],n.br[0],n.br[1],i.pixelRatio,n.pixelRatio)}},{key:"upload",value:function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}},{key:"destroy",value:function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}]),e}(),Ka=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0};g(this,e),this.binders={},this._buffers=[];var r=[];for(var o in t.paint._values)if(n(o)){var a=t.paint.get(o);if(a instanceof Io&&hn(a.property.specification)){var s=es(o,t.type),l=a.value,u=a.property.specification.type,c=a.property.useIntegerZoom,h=a.property.specification["property-type"],d="cross-faded"===h||"cross-faded-data-driven"===h,p="line-dasharray"===String(o)&&"constant"!==t.layout.get("line-cap").value.kind;if("constant"!==l.kind||p)if("source"===l.kind||p||d){var f=ns(o,u,"source");this.binders[o]=d?new $a(l,s,u,c,i,f,t.id):new Xa(l,s,u,f),r.push("/a_".concat(o))}else{var m=ns(o,u,"composite");this.binders[o]=new Ya(l,s,u,c,i,m),r.push("/z_".concat(o))}else this.binders[o]=d?new Za(l.value,s):new qa(l.value,s,u),r.push("/u_".concat(o))}}this.cacheKey=r.sort().join("")}return y(e,[{key:"getMaxValue",value:function(e){var t=this.binders[e];return t instanceof Xa||t instanceof Ya?t.maxValue:0}},{key:"populatePaintArrays",value:function(e,t,i,n,r,o){for(var a in this.binders){var s=this.binders[a];(s instanceof Xa||s instanceof Ya||s instanceof $a)&&s.populatePaintArray(e,t,i,n,r,o)}}},{key:"setConstantPatternPositions",value:function(e,t){for(var i in this.binders){var n=this.binders[i];n instanceof Za&&n.setConstantPatternPositions(e,t)}}},{key:"updatePaintArrays",value:function(e,t,i,n,r,o){var a=!1;for(var s in e){var l,u=t.getPositions(s),c=d(u);try{for(c.s();!(l=c.n()).done;){var h=l.value,p=i.feature(h.index);for(var f in this.binders){var m=this.binders[f];if((m instanceof Xa||m instanceof Ya||m instanceof $a)&&!0===m.expression.isStateDependent){var g=n.paint.get(f);m.expression=g.value,m.updatePaintArray(h.start,h.end,p,e[s],r,o),a=!0}}}}catch(y){c.e(y)}finally{c.f()}}return a}},{key:"defines",value:function(){var e=[];for(var t in this.binders){var i=this.binders[t];(i instanceof qa||i instanceof Za)&&e.push.apply(e,c(i.uniformNames.map((function(e){return"#define HAS_UNIFORM_".concat(e)}))))}return e}},{key:"getBinderAttributes",value:function(){var e=[];for(var t in this.binders){var i=this.binders[t];if(i instanceof Xa||i instanceof Ya||i instanceof $a)for(var n=0;n<i.paintVertexAttributes.length;n++)e.push(i.paintVertexAttributes[n].name)}return e}},{key:"getBinderUniforms",value:function(){var e=[];for(var t in this.binders){var i=this.binders[t];if(i instanceof qa||i instanceof Za||i instanceof Ya){var n,r=d(i.uniformNames);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.push(o)}}catch(a){r.e(a)}finally{r.f()}}}return e}},{key:"getPaintVertexBuffers",value:function(){return this._buffers}},{key:"getUniforms",value:function(e,t){var i=[];for(var n in this.binders){var r=this.binders[n];if(r instanceof qa||r instanceof Za||r instanceof Ya){var o,a=d(r.uniformNames);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(t[s]){var l=r.getBinding(e,t[s],s);i.push({name:s,property:n,binding:l})}}}catch(u){a.e(u)}finally{a.f()}}}return i}},{key:"setUniforms",value:function(e,t,i,n){var r,o=d(t);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.name,l=a.property,u=a.binding;this.binders[l].setUniform(u,n,i.get(l),s)}}catch(c){o.e(c)}finally{o.f()}}},{key:"updatePaintBuffers",value:function(e){for(var t in this._buffers=[],this.binders){var i=this.binders[t];if(e&&i instanceof $a){var n=2===e.fromScale?i.zoomInPaintVertexBuffer:i.zoomOutPaintVertexBuffer;n&&this._buffers.push(n)}else(i instanceof Xa||i instanceof Ya)&&i.paintVertexBuffer&&this._buffers.push(i.paintVertexBuffer)}}},{key:"upload",value:function(e){for(var t in this.binders){var i=this.binders[t];(i instanceof Xa||i instanceof Ya||i instanceof $a)&&i.upload(e)}this.updatePaintBuffers()}},{key:"destroy",value:function(){for(var e in this.binders){var t=this.binders[e];(t instanceof Xa||t instanceof Ya||t instanceof $a)&&t.destroy()}}}]),e}(),Qa=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0};g(this,e),this.programConfigurations={};var r,o=d(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;this.programConfigurations[a.id]=new Ka(a,i,n)}}catch(s){o.e(s)}finally{o.f()}this.needsUpload=!1,this._featureMap=new Ia,this._bufferOffset=0}return y(e,[{key:"populatePaintArrays",value:function(e,t,i,n,r,o,a){for(var s in this.programConfigurations)this.programConfigurations[s].populatePaintArrays(e,t,n,r,o,a);void 0!==t.id&&this._featureMap.add(t.id,i,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}},{key:"updatePaintArrays",value:function(e,t,i,n,r){var o,a=d(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;this.needsUpload=this.programConfigurations[s.id].updatePaintArrays(e,this._featureMap,t,s,n,r)||this.needsUpload}}catch(l){a.e(l)}finally{a.f()}}},{key:"get",value:function(e){return this.programConfigurations[e]}},{key:"upload",value:function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}}},{key:"destroy",value:function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()}}]),e}(),Ja={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"line-dasharray":["dash_to","dash_from"]};function es(e,t){return Ja[e]||[e.replace("".concat(t,"-"),"").replace(/-/g,"_")]}var ts={"line-pattern":{source:Qo,composite:Qo},"fill-pattern":{source:Qo,composite:Qo},"fill-extrusion-pattern":{source:Qo,composite:Qo},"line-dasharray":{source:Jo,composite:Jo}},is={color:{source:fa,composite:ma},number:{source:ua,composite:fa}};function ns(e,t,i){var n=ts[e];return n&&n[i]||is[t][i]}Tr("ConstantBinder",qa),Tr("CrossFadedConstantBinder",Za),Tr("SourceExpressionBinder",Xa),Tr("CrossFadedCompositeBinder",$a),Tr("CompositeExpressionBinder",Ya),Tr("ProgramConfiguration",Ka,{omit:["_buffers"]}),Tr("ProgramConfigurationSet",Qa);var rs="-transition",os=function(e){f(i,e);var t=m(i);function i(e,n){var r;if(g(this,i),(r=t.call(this)).id=e.id,r.type=e.type,r._featureFilter={filter:function(){return!0},needGeometry:!1,needFeature:!1},r._filterCompiled=!1,"custom"!==e.type&&(r.metadata=(e=e).metadata,r.minzoom=e.minzoom,r.maxzoom=e.maxzoom,"background"!==e.type&&"sky"!==e.type&&(r.source=e.source,r.sourceLayer=e["source-layer"],r.filter=e.filter),n.layout&&(r._unevaluatedLayout=new Ro(n.layout)),n.paint)){for(var o in r._transitionablePaint=new Mo(n.paint),e.paint)r.setPaintProperty(o,e.paint[o],{validate:!1});for(var a in e.layout)r.setLayoutProperty(a,e.layout[a],{validate:!1});r._transitioningPaint=r._transitionablePaint.untransitioned(),r.paint=new Do(n.paint)}return l(r)}return y(i,[{key:"getCrossfadeParameters",value:function(){return this._crossfadeParameters}},{key:"getLayoutProperty",value:function(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}},{key:"setLayoutProperty",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};null!=t&&this._validate(br,"layers.".concat(this.id,".layout.").concat(e),e,t,i)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)}},{key:"getPaintProperty",value:function(e){return V(e,rs)?this._transitionablePaint.getTransition(e.slice(0,-rs.length)):this._transitionablePaint.getValue(e)}},{key:"setPaintProperty",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=t&&this._validate(vr,"layers.".concat(this.id,".paint.").concat(e),e,t,i))return!1;if(V(e,rs))return this._transitionablePaint.setTransition(e.slice(0,-rs.length),t||void 0),!1;var n=this._transitionablePaint._values[e],r="cross-faded-data-driven"===n.property.specification["property-type"],o=n.value.isDataDriven(),a=n.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);var s=this._transitionablePaint._values[e].value;return s.isDataDriven()||o||r||this._handleOverridablePaintPropertyUpdate(e,a,s)}},{key:"_handleSpecialPaintPropertyUpdate",value:function(e){}},{key:"getProgramIds",value:function(){return null}},{key:"getProgramConfiguration",value:function(e){return null}},{key:"_handleOverridablePaintPropertyUpdate",value:function(e,t,i){return!1}},{key:"isHidden",value:function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}},{key:"updateTransitions",value:function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}},{key:"hasTransition",value:function(){return this._transitioningPaint.hasTransition()}},{key:"recalculate",value:function(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)}},{key:"serialize",value:function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),W(e,(function(e,t){return!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)}))}},{key:"_validate",value:function(e,t,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(!r||!1!==r.validate)&&xr(this,e.call(mr,{key:t,layerType:this.type,objectKey:i,value:n,styleSpec:Je,style:{glyphs:!0,sprite:!0}}))}},{key:"is3D",value:function(){return!1}},{key:"isSky",value:function(){return!1}},{key:"isTileClipped",value:function(){return!1}},{key:"hasOffscreenPass",value:function(){return!1}},{key:"resize",value:function(){}},{key:"isStateDependent",value:function(){for(var e in this.paint._values){var t=this.paint.get(e);if(t instanceof Io&&hn(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1}},{key:"compileFilter",value:function(){this._filterCompiled||(this._featureFilter=Nn(this.filter),this._filterCompiled=!0)}},{key:"invalidateCompiledFilter",value:function(){this._filterCompiled=!1}},{key:"dynamicFilter",value:function(){return this._featureFilter.dynamicFilter}},{key:"dynamicFilterNeedsFeature",value:function(){return this._featureFilter.needFeature}}]),i}(Qe),as=qo([{name:"a_pos",components:2,type:"Int16"}],4).members,ss=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];g(this,e),this.segments=t}return y(e,[{key:"prepareSegment",value:function(t,i,n,r){var o=this.segments[this.segments.length-1];return t>e.MAX_VERTEX_ARRAY_LENGTH&&q("Max vertices per segment is ".concat(e.MAX_VERTEX_ARRAY_LENGTH,": bucket requested ").concat(t)),(!o||o.vertexLength+t>e.MAX_VERTEX_ARRAY_LENGTH||o.sortKey!==r)&&(o={vertexOffset:i.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==r&&(o.sortKey=r),this.segments.push(o)),o}},{key:"get",value:function(){return this.segments}},{key:"destroy",value:function(){var e,t=d(this.segments);try{for(t.s();!(e=t.n()).done;){var i=e.value;for(var n in i.vaos)i.vaos[n].destroy()}}catch(r){t.e(r)}finally{t.f()}}}],[{key:"simpleSegment",value:function(t,i,n,r){return new e([{vertexOffset:t,primitiveOffset:i,vertexLength:n,primitiveLength:r,vaos:{},sortKey:0}])}}]),e}();ss.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Tr("SegmentVector",ss);var ls=8192,us=function(){function e(t,i){g(this,e),t&&(i?this.setSouthWest(t).setNorthEast(i):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))}return y(e,[{key:"setNorthEast",value:function(e){return this._ne=e instanceof hs?new hs(e.lng,e.lat):hs.convert(e),this}},{key:"setSouthWest",value:function(e){return this._sw=e instanceof hs?new hs(e.lng,e.lat):hs.convert(e),this}},{key:"extend",value:function(t){var i,n,r=this._sw,o=this._ne;if(t instanceof hs)i=t,n=t;else{if(!(t instanceof e))return Array.isArray(t)?4===t.length||t.every(Array.isArray)?this.extend(e.convert(t)):this.extend(hs.convert(t)):this;if(i=t._sw,n=t._ne,!i||!n)return this}return r||o?(r.lng=Math.min(i.lng,r.lng),r.lat=Math.min(i.lat,r.lat),o.lng=Math.max(n.lng,o.lng),o.lat=Math.max(n.lat,o.lat)):(this._sw=new hs(i.lng,i.lat),this._ne=new hs(n.lng,n.lat)),this}},{key:"getCenter",value:function(){return new hs((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}},{key:"getSouthWest",value:function(){return this._sw}},{key:"getNorthEast",value:function(){return this._ne}},{key:"getNorthWest",value:function(){return new hs(this.getWest(),this.getNorth())}},{key:"getSouthEast",value:function(){return new hs(this.getEast(),this.getSouth())}},{key:"getWest",value:function(){return this._sw.lng}},{key:"getSouth",value:function(){return this._sw.lat}},{key:"getEast",value:function(){return this._ne.lng}},{key:"getNorth",value:function(){return this._ne.lat}},{key:"toArray",value:function(){return[this._sw.toArray(),this._ne.toArray()]}},{key:"toString",value:function(){return"LngLatBounds(".concat(this._sw.toString(),", ").concat(this._ne.toString(),")")}},{key:"isEmpty",value:function(){return!(this._sw&&this._ne)}},{key:"contains",value:function(e){var t=hs.convert(e),i=t.lng,n=t.lat,r=this._sw.lng<=i&&i<=this._ne.lng;return this._sw.lng>this._ne.lng&&(r=this._sw.lng>=i&&i>=this._ne.lng),this._sw.lat<=n&&n<=this._ne.lat&&r}}],[{key:"convert",value:function(t){return!t||t instanceof e?t:new e(t)}}]),e}(),cs=6371008.8,hs=function(){function e(t,i){if(g(this,e),isNaN(t)||isNaN(i))throw new Error("Invalid LngLat object: (".concat(t,", ").concat(i,")"));if(this.lng=+t,this.lat=+i,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}return y(e,[{key:"wrap",value:function(){return new e(L(this.lng,-180,180),this.lat)}},{key:"toArray",value:function(){return[this.lng,this.lat]}},{key:"toString",value:function(){return"LngLat(".concat(this.lng,", ").concat(this.lat,")")}},{key:"distanceTo",value:function(e){var t=Math.PI/180,i=this.lat*t,n=e.lat*t,r=Math.sin(i)*Math.sin(n)+Math.cos(i)*Math.cos(n)*Math.cos((e.lng-this.lng)*t);return cs*Math.acos(Math.min(r,1))}},{key:"toBounds",value:function(){var t=360*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)/40075017,i=t/Math.cos(Math.PI/180*this.lat);return new us(new e(this.lng-i,this.lat-t),new e(this.lng+i,this.lat+t))}}],[{key:"convert",value:function(t){if(t instanceof e)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new e(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new e(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}]),e}(),ds=2*Math.PI*cs;function ps(e){return ds*Math.cos(e*Math.PI/180)}function fs(e){return(180+e)/360}function ms(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function gs(e,t){return e/ps(t)}function ys(e){return 360*e-180}function vs(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}function bs(e,t){return e*ps(vs(t))}var xs=85.051129,_s=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;g(this,e),this.x=+t,this.y=+i,this.z=+n}return y(e,[{key:"toLngLat",value:function(){return new hs(ys(this.x),vs(this.y))}},{key:"toAltitude",value:function(){return bs(this.z,this.y)}},{key:"meterInMercatorCoordinateUnits",value:function(){return 1/ds*(e=vs(this.y),1/Math.cos(e*Math.PI/180));var e}}],[{key:"fromLngLat",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=hs.convert(t);return new e(fs(n.lng),ms(n.lat),gs(i,n.lat))}}]),e}();function ws(e,t,i,n,r,o,a,s,l){var u=(t+n)/2,c=(i+r)/2,h=new v(u,c);s(h),function(e,t,i,n,r,o){var a=i-r,s=n-o;return Math.abs((n-t)*a-(i-e)*s)/Math.hypot(a,s)}(h.x,h.y,o.x,o.y,a.x,a.y)>=l?(ws(e,t,i,u,c,o,h,s,l),ws(e,u,c,n,r,h,a,s,l)):e.push(a)}function Ss(e,t,i){var n,r,o,a,s=[],l=d(e);try{for(l.s();!(a=l.n()).done;){var u=a.value,c=u.x,h=u.y;t(u),o?ws(s,n,r,c,h,o,u,t,i):s.push(u),n=c,r=h,o=u}}catch(p){l.e(p)}finally{l.f()}return s}var ks=Math.pow(2,14)-1,Cs=-ks-1;function Ts(e,t){var i=Math.round(e.x*t),n=Math.round(e.y*t);return e.x=M(i,Cs,ks),e.y=M(n,Cs,ks),(i<e.x||i>e.x+1||n<e.y||n>e.y+1)&&q("Geometry exceeds allowed extent, reduce your vector tile buffer size"),e}function Es(e,t,i){var n=e.loadGeometry(),r=e.extent,o=ls/r;if(t&&i&&"mercator"!==i.projection.name)for(var a=1<<t.z,s=i.scale,l=i.x,u=i.y,c=i.projection,h=function(e){var i=ys((t.x+e.x/r)/a),n=vs((t.y+e.y/r)/a),o=c.project(i,n);e.x=(o.x*s-l)*r,e.y=(o.y*s-u)*r},p=0;p<n.length;p++)if(1!==e.type)n[p]=Ss(n[p],h,1);else{var f,m=[],g=d(n[p]);try{for(g.s();!(f=g.n()).done;){var y=f.value;y.x<0||y.x>=r||y.y<0||y.y>=r||(h(y),m.push(y))}}catch(S){g.e(S)}finally{g.f()}n[p]=m}var v,b=d(n);try{for(b.s();!(v=b.n()).done;){var x,_=v.value,w=d(_);try{for(w.s();!(x=w.n()).done;)Ts(x.value,o)}catch(S){w.e(S)}finally{w.f()}}}catch(S){b.e(S)}finally{b.f()}return n}function As(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?Es(e):[]}}function Ps(e,t,i,n,r){e.emplaceBack(2*t+(n+1)/2,2*i+(r+1)/2)}var Ms=function(){function e(t){g(this,e),this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Xo,this.indexArray=new aa,this.segments=new ss,this.programConfigurations=new Qa(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))}return y(e,[{key:"populate",value:function(e,t,i,n){var r=this.layers[0],o=[],a=null;"circle"===r.type&&(a=r.layout.get("circle-sort-key"));var s,l=d(e);try{for(l.s();!(s=l.n()).done;){var u=s.value,c=u.feature,h=u.id,p=u.index,f=u.sourceLayerIndex,m=this.layers[0]._featureFilter.needGeometry,g=As(c,m);if(this.layers[0]._featureFilter.filter(new Eo(this.zoom),g,i)){var y=a?a.evaluate(g,{},i):void 0,v={id:h,properties:c.properties,type:c.type,sourceLayerIndex:f,index:p,geometry:m?g.geometry:Es(c,i,n),patterns:{},sortKey:y};o.push(v)}}}catch(T){l.e(T)}finally{l.f()}a&&o.sort((function(e,t){return e.sortKey-t.sortKey}));for(var b=0,x=o;b<x.length;b++){var _=x[b],w=_.geometry,S=_.index,k=_.sourceLayerIndex,C=e[S].feature;this.addFeature(_,w,S,t.availableImages,i),t.featureIndex.insert(C,w,S,k,this.index)}}},{key:"update",value:function(e,t,i,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,i,n)}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,as),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}},{key:"addFeature",value:function(e,t,i,n,r){var o,a=d(t);try{for(a.s();!(o=a.n()).done;){var s,l=o.value,u=d(l);try{for(u.s();!(s=u.n()).done;){var c=s.value,h=c.x,p=c.y;if(!(h<0||h>=ls||p<0||p>=ls)){var f=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),m=f.vertexLength;Ps(this.layoutVertexArray,h,p,-1,-1),Ps(this.layoutVertexArray,h,p,1,-1),Ps(this.layoutVertexArray,h,p,1,1),Ps(this.layoutVertexArray,h,p,-1,1),this.indexArray.emplaceBack(m,m+1,m+2),this.indexArray.emplaceBack(m,m+3,m+2),f.vertexLength+=4,f.primitiveLength+=2}}}catch(g){u.e(g)}finally{u.f()}}}catch(g){a.e(g)}finally{a.f()}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,i,{},n,r)}}]),e}();function Ls(e,t){for(var i=0;i<e.length;i++)if(js(t,e[i]))return!0;for(var n=0;n<t.length;n++)if(js(e,t[n]))return!0;return!!Ds(e,t)}function Os(e,t,i){return!!js(e,t)||!!Bs(t,e,i)}function Rs(e,t){if(1===e.length)return Ns(t,e[0]);for(var i=0;i<t.length;i++)for(var n=t[i],r=0;r<n.length;r++)if(js(e,n[r]))return!0;for(var o=0;o<e.length;o++)if(Ns(t,e[o]))return!0;for(var a=0;a<t.length;a++)if(Ds(e,t[a]))return!0;return!1}function Is(e,t,i){if(e.length>1){if(Ds(e,t))return!0;for(var n=0;n<t.length;n++)if(Bs(t[n],e,i))return!0}for(var r=0;r<e.length;r++)if(Bs(e[r],t,i))return!0;return!1}function Ds(e,t){if(0===e.length||0===t.length)return!1;for(var i=0;i<e.length-1;i++)for(var n=e[i],r=e[i+1],o=0;o<t.length-1;o++)if(zs(n,r,t[o],t[o+1]))return!0;return!1}function zs(e,t,i,n){return Z(e,i,n)!==Z(t,i,n)&&Z(e,t,i)!==Z(e,t,n)}function Bs(e,t,i){var n=i*i;if(1===t.length)return e.distSqr(t[0])<n;for(var r=1;r<t.length;r++)if(Fs(e,t[r-1],t[r])<n)return!0;return!1}function Fs(e,t,i){var n=t.distSqr(i);if(0===n)return e.distSqr(t);var r=((e.x-t.x)*(i.x-t.x)+(e.y-t.y)*(i.y-t.y))/n;return e.distSqr(r<0?t:r>1?i:i.sub(t)._mult(r)._add(t))}function Ns(e,t){for(var i,n,r,o=!1,a=0;a<e.length;a++)for(var s=0,l=(i=e[a]).length-1;s<i.length;l=s++)n=i[s],r=i[l],n.y>t.y!=r.y>t.y&&t.x<(r.x-n.x)*(t.y-n.y)/(r.y-n.y)+n.x&&(o=!o);return o}function js(e,t){for(var i=!1,n=0,r=e.length-1;n<e.length;r=n++){var o=e[n],a=e[r];o.y>t.y!=a.y>t.y&&t.x<(a.x-o.x)*(t.y-o.y)/(a.y-o.y)+o.x&&(i=!i)}return i}function Vs(e,t,i,n,r){var o,a=d(e);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(t<=s.x&&i<=s.y&&n>=s.x&&r>=s.y)return!0}}catch(p){a.e(p)}finally{a.f()}var l=[new v(t,i),new v(t,r),new v(n,r),new v(n,i)];if(e.length>2){var u,c=d(l);try{for(c.s();!(u=c.n()).done;)if(js(e,u.value))return!0}catch(p){c.e(p)}finally{c.f()}}for(var h=0;h<e.length-1;h++)if(Us(e[h],e[h+1],l))return!0;return!1}function Us(e,t,i){var n=i[0],r=i[2];if(e.x<n.x&&t.x<n.x||e.x>r.x&&t.x>r.x||e.y<n.y&&t.y<n.y||e.y>r.y&&t.y>r.y)return!1;var o=Z(e,t,i[0]);return o!==Z(e,t,i[1])||o!==Z(e,t,i[2])||o!==Z(e,t,i[3])}function Ws(e,t,i){var n=t.paint.get(e).value;return"constant"===n.kind?n.value:i.programConfigurations.get(t.id).getMaxValue(e)}function Hs(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Gs(e,t,i,n,r){if(!t[0]&&!t[1])return e;var o=v.convert(t)._mult(r);"viewport"===i&&o._rotate(-n);for(var a=[],s=0;s<e.length;s++)a.push(e[s].sub(o));return a}function qs(e,t,i,n){var r=v.convert(e)._mult(n);return"viewport"===t&&r._rotate(-i),r}Tr("CircleBucket",Ms,{omit:["layers"]});var Zs=new Vo({"circle-sort-key":new Bo(Je.layout_circle["circle-sort-key"])}),Xs={paint:new Vo({"circle-radius":new Bo(Je.paint_circle["circle-radius"]),"circle-color":new Bo(Je.paint_circle["circle-color"]),"circle-blur":new Bo(Je.paint_circle["circle-blur"]),"circle-opacity":new Bo(Je.paint_circle["circle-opacity"]),"circle-translate":new zo(Je.paint_circle["circle-translate"]),"circle-translate-anchor":new zo(Je.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new zo(Je.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new zo(Je.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Bo(Je.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Bo(Je.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Bo(Je.paint_circle["circle-stroke-opacity"])}),layout:Zs},Ys="undefined"!=typeof Float32Array?Float32Array:Array;function $s(){var e=new Ys(9);return Ys!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function Ks(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Qs(e,t,i){var n=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],d=t[9],p=t[10],f=t[11],m=t[12],g=t[13],y=t[14],v=t[15],b=i[0],x=i[1],_=i[2],w=i[3];return e[0]=b*n+x*s+_*h+w*m,e[1]=b*r+x*l+_*d+w*g,e[2]=b*o+x*u+_*p+w*y,e[3]=b*a+x*c+_*f+w*v,e[4]=(b=i[4])*n+(x=i[5])*s+(_=i[6])*h+(w=i[7])*m,e[5]=b*r+x*l+_*d+w*g,e[6]=b*o+x*u+_*p+w*y,e[7]=b*a+x*c+_*f+w*v,e[8]=(b=i[8])*n+(x=i[9])*s+(_=i[10])*h+(w=i[11])*m,e[9]=b*r+x*l+_*d+w*g,e[10]=b*o+x*u+_*p+w*y,e[11]=b*a+x*c+_*f+w*v,e[12]=(b=i[12])*n+(x=i[13])*s+(_=i[14])*h+(w=i[15])*m,e[13]=b*r+x*l+_*d+w*g,e[14]=b*o+x*u+_*p+w*y,e[15]=b*a+x*c+_*f+w*v,e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var Js=Qs;function el(){var e=new Ys(3);return Ys!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function tl(e){return Math.hypot(e[0],e[1],e[2])}function il(e,t,i){var n=new Ys(3);return n[0]=e,n[1]=t,n[2]=i,n}function nl(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e}function rl(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e}function ol(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e[2]=t[2]+i[2]*n,e}function al(e,t){var i=t[0],n=t[1],r=t[2],o=i*i+n*n+r*r;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function sl(e,t,i){var n=i[0],r=i[1],o=i[2],a=t[0],s=t[1],l=t[2],u=r*l-o*s,c=o*a-n*l,h=n*s-r*a,d=r*h-o*c,p=o*u-n*h,f=n*c-r*u,m=2*i[3];return c*=m,h*=m,p*=2,f*=2,e[0]=a+(u*=m)+(d*=2),e[1]=s+c+p,e[2]=l+h+f,e}var ll,ul=nl,cl=rl,hl=tl;function dl(e,t,i){var n=t[0],r=t[1],o=t[2],a=t[3];return e[0]=i[0]*n+i[4]*r+i[8]*o+i[12]*a,e[1]=i[1]*n+i[5]*r+i[9]*o+i[13]*a,e[2]=i[2]*n+i[6]*r+i[10]*o+i[14]*a,e[3]=i[3]*n+i[7]*r+i[11]*o+i[15]*a,e}function pl(){var e=new Ys(4);return Ys!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function fl(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function ml(e,t,i){i*=.5;var n=t[0],r=t[1],o=t[2],a=t[3],s=Math.sin(i),l=Math.cos(i);return e[0]=n*l+a*s,e[1]=r*l+o*s,e[2]=o*l-r*s,e[3]=a*l-n*s,e}function gl(e,t){return e[0]===t[0]&&e[1]===t[1]}function yl(e,t,i,n,r,o,a,s,l){if(o&&e.queryGeometry.isAboveHorizon)return!1;o&&(l*=e.pixelToTileUnitsFactor);var u,c=d(t);try{for(c.s();!(u=c.n()).done;){var h,p=u.value,f=d(p);try{var m=function(){var t=h.value,u=t.add(s),c=r&&i.elevation?i.elevation.exaggeration()*r.getElevationAt(u.x,u.y,!0):0,d=o?u:vl(u,c,n),p=o?e.tilespaceRays.map((function(e){return _l(e,c)})):e.queryGeometry.screenGeometry,f=dl([],[t.x,t.y,c,1],n);if(!a&&o?l*=f[3]/i.cameraToCenterDistance:a&&!o&&(l*=i.cameraToCenterDistance/f[3]),Os(p,d,l))return{v:!0}};for(f.s();!(h=f.n()).done;){var g=m();if("object"===typeof g)return g.v}}catch(y){f.e(y)}finally{f.f()}}}catch(y){c.e(y)}finally{c.f()}return!1}function vl(e,t,i){var n=dl([],[e.x,e.y,t,1],i);return new v(n[0]/n[3],n[1]/n[3])}el(),ll=new Ys(4),Ys!=Float32Array&&(ll[0]=0,ll[1]=0,ll[2]=0,ll[3]=0),el(),il(1,0,0),il(0,1,0),pl(),pl(),$s(),function(){var e;e=new Ys(2),Ys!=Float32Array&&(e[0]=0,e[1]=0)}();var bl=il(0,0,0),xl=il(0,0,1);function _l(e,t){var i=el();return bl[2]=t,e.intersectsPlane(bl,xl,i),new v(i[0],i[1])}var wl=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i)}(Ms);function Sl(e,t,i,n){var r=t.width,o=t.height;if(n){if(n instanceof Uint8ClampedArray)n=new Uint8Array(n.buffer);else if(n.length!==r*o*i)throw new RangeError("mismatched image size")}else n=new Uint8Array(r*o*i);return e.width=r,e.height=o,e.data=n,e}function kl(e,t,i){var n=t.width,r=t.height;if(n!==e.width||r!==e.height){var o=Sl({},{width:n,height:r},i);Cl(e,o,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,n),height:Math.min(e.height,r)},i),e.width=n,e.height=r,e.data=o.data}}function Cl(e,t,i,n,r,o){if(0===r.width||0===r.height)return t;if(r.width>e.width||r.height>e.height||i.x>e.width-r.width||i.y>e.height-r.height)throw new RangeError("out of range source coordinates for image copy");if(r.width>t.width||r.height>t.height||n.x>t.width-r.width||n.y>t.height-r.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=e.data,s=t.data,l=0;l<r.height;l++)for(var u=((i.y+l)*e.width+i.x)*o,c=((n.y+l)*t.width+n.x)*o,h=0;h<r.width*o;h++)s[c+h]=a[u+h];return t}Tr("HeatmapBucket",wl,{omit:["layers"]});var Tl=function(){function e(t,i){g(this,e),Sl(this,t,1,i)}return y(e,[{key:"resize",value:function(e){kl(this,e,1)}},{key:"clone",value:function(){return new e({width:this.width,height:this.height},new Uint8Array(this.data))}}],[{key:"copy",value:function(e,t,i,n,r){Cl(e,t,i,n,r,1)}}]),e}(),El=function(){function e(t,i){g(this,e),Sl(this,t,4,i)}return y(e,[{key:"resize",value:function(e){kl(this,e,4)}},{key:"replace",value:function(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}},{key:"clone",value:function(){return new e({width:this.width,height:this.height},new Uint8Array(this.data))}}],[{key:"copy",value:function(e,t,i,n,r){Cl(e,t,i,n,r,4)}}]),e}();Tr("AlphaImage",Tl),Tr("RGBAImage",El);var Al={paint:new Vo({"heatmap-radius":new Bo(Je.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Bo(Je.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new zo(Je.paint_heatmap["heatmap-intensity"]),"heatmap-color":new jo(Je.paint_heatmap["heatmap-color"]),"heatmap-opacity":new zo(Je.paint_heatmap["heatmap-opacity"])})};function Pl(e){var t={},i=e.resolution||256,n=e.clips?e.clips.length:1,r=e.image||new El({width:i,height:n}),o=function(i,n,o){t[e.evaluationKey]=o;var a=e.expression.evaluate(t);r.data[i+n+0]=Math.floor(255*a.r/a.a),r.data[i+n+1]=Math.floor(255*a.g/a.a),r.data[i+n+2]=Math.floor(255*a.b/a.a),r.data[i+n+3]=Math.floor(255*a.a)};if(e.clips)for(var a=0,s=0;a<n;++a,s+=4*i)for(var l=0,u=0;l<i;l++,u+=4){var c=l/(i-1),h=e.clips[a];o(s,u,h.start*(1-c)+h.end*c)}else for(var d=0,p=0;d<i;d++,p+=4)o(0,p,d/(i-1));return r}var Ml={paint:new Vo({"hillshade-illumination-direction":new zo(Je.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new zo(Je.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new zo(Je.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new zo(Je.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new zo(Je.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new zo(Je.paint_hillshade["hillshade-accent-color"])})},Ll=qo([{name:"a_pos",components:2,type:"Int16"}],4).members,Ol=Il,Rl=Il;function Il(e,t,i){i=i||2;var n,r,o,a,s,l,u,c=t&&t.length,h=c?t[0]*i:e.length,d=Dl(e,0,h,i,!0),p=[];if(!d||d.next===d.prev)return p;if(c&&(d=function(e,t,i,n){var r,o,a,s=[];for(r=0,o=t.length;r<o;r++)(a=Dl(e,t[r]*n,r<o-1?t[r+1]*n:e.length,n,!1))===a.next&&(a.steiner=!0),s.push(ql(a));for(s.sort(Ul),r=0;r<s.length;r++)i=zl(i=Wl(s[r],i),i.next);return i}(e,t,d,i)),e.length>80*i){n=o=e[0],r=a=e[1];for(var f=i;f<h;f+=i)(s=e[f])<n&&(n=s),(l=e[f+1])<r&&(r=l),s>o&&(o=s),l>a&&(a=l);u=0!==(u=Math.max(o-n,a-r))?1/u:0}return Bl(d,p,i,n,r,u),p}function Dl(e,t,i,n,r){var o,a;if(r===ou(e,t,i,n)>0)for(o=t;o<i;o+=n)a=iu(o,e[o],e[o+1],a);else for(o=i-n;o>=t;o-=n)a=iu(o,e[o],e[o+1],a);return a&&$l(a,a.next)&&(nu(a),a=a.next),a}function zl(e,t){if(!e)return e;t||(t=e);var i,n=e;do{if(i=!1,n.steiner||!$l(n,n.next)&&0!==Yl(n.prev,n,n.next))n=n.next;else{if(nu(n),(n=t=n.prev)===n.next)break;i=!0}}while(i||n!==t);return t}function Bl(e,t,i,n,r,o,a){if(e){!a&&o&&function(e,t,i,n){var r=e;do{null===r.z&&(r.z=Gl(r.x,r.y,t,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,i,n,r,o,a,s,l,u=1;do{for(i=e,e=null,o=null,a=0;i;){for(a++,n=i,s=0,t=0;t<u&&(s++,n=n.nextZ);t++);for(l=u;s>0||l>0&&n;)0!==s&&(0===l||!n||i.z<=n.z)?(r=i,i=i.nextZ,s--):(r=n,n=n.nextZ,l--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;i=n}o.nextZ=null,u*=2}while(a>1)}(r)}(e,n,r,o);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,o?Nl(e,n,r,o):Fl(e))t.push(s.i/i),t.push(e.i/i),t.push(l.i/i),nu(e),e=l.next,u=l.next;else if((e=l)===u){a?1===a?Bl(e=jl(zl(e),t,i),t,i,n,r,o,2):2===a&&Vl(e,t,i,n,r,o):Bl(zl(e),t,i,n,r,o,1);break}}}function Fl(e){var t=e.prev,i=e,n=e.next;if(Yl(t,i,n)>=0)return!1;for(var r=e.next.next;r!==e.prev;){if(Zl(t.x,t.y,i.x,i.y,n.x,n.y,r.x,r.y)&&Yl(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function Nl(e,t,i,n){var r=e.prev,o=e,a=e.next;if(Yl(r,o,a)>=0)return!1;for(var s=r.x>o.x?r.x>a.x?r.x:a.x:o.x>a.x?o.x:a.x,l=r.y>o.y?r.y>a.y?r.y:a.y:o.y>a.y?o.y:a.y,u=Gl(r.x<o.x?r.x<a.x?r.x:a.x:o.x<a.x?o.x:a.x,r.y<o.y?r.y<a.y?r.y:a.y:o.y<a.y?o.y:a.y,t,i,n),c=Gl(s,l,t,i,n),h=e.prevZ,d=e.nextZ;h&&h.z>=u&&d&&d.z<=c;){if(h!==e.prev&&h!==e.next&&Zl(r.x,r.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Yl(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,d!==e.prev&&d!==e.next&&Zl(r.x,r.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Yl(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;h&&h.z>=u;){if(h!==e.prev&&h!==e.next&&Zl(r.x,r.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Yl(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;d&&d.z<=c;){if(d!==e.prev&&d!==e.next&&Zl(r.x,r.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Yl(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function jl(e,t,i){var n=e;do{var r=n.prev,o=n.next.next;!$l(r,o)&&Kl(r,n,n.next,o)&&eu(r,o)&&eu(o,r)&&(t.push(r.i/i),t.push(n.i/i),t.push(o.i/i),nu(n),nu(n.next),n=e=o),n=n.next}while(n!==e);return zl(n)}function Vl(e,t,i,n,r,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Xl(a,s)){var l=tu(a,s);return a=zl(a,a.next),l=zl(l,l.next),Bl(a,t,i,n,r,o),void Bl(l,t,i,n,r,o)}s=s.next}a=a.next}while(a!==e)}function Ul(e,t){return e.x-t.x}function Wl(e,t){var i=function(e,t){var i,n=t,r=e.x,o=e.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=r&&s>a){if(a=s,s===r){if(o===n.y)return n;if(o===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!i)return null;if(r===a)return i;var l,u=i,c=i.x,h=i.y,d=1/0;n=i;do{r>=n.x&&n.x>=c&&r!==n.x&&Zl(o<h?r:a,o,c,h,o<h?a:r,o,n.x,n.y)&&(l=Math.abs(o-n.y)/(r-n.x),eu(n,e)&&(l<d||l===d&&(n.x>i.x||n.x===i.x&&Hl(i,n)))&&(i=n,d=l)),n=n.next}while(n!==u);return i}(e,t);if(!i)return t;var n=tu(i,e),r=zl(i,i.next);return zl(n,n.next),t===i?r:t}function Hl(e,t){return Yl(e.prev,e,t.prev)<0&&Yl(t.next,e,e.next)<0}function Gl(e,t,i,n,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function ql(e){var t=e,i=e;do{(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next}while(t!==e);return i}function Zl(e,t,i,n,r,o,a,s){return(r-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(n-s)-(i-a)*(t-s)>=0&&(i-a)*(o-s)-(r-a)*(n-s)>=0}function Xl(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&Kl(i,i.next,e,t))return!0;i=i.next}while(i!==e);return!1}(e,t)&&(eu(e,t)&&eu(t,e)&&function(e,t){var i=e,n=!1,r=(e.x+t.x)/2,o=(e.y+t.y)/2;do{i.y>o!=i.next.y>o&&i.next.y!==i.y&&r<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==e);return n}(e,t)&&(Yl(e.prev,e,t.prev)||Yl(e,t.prev,t))||$l(e,t)&&Yl(e.prev,e,e.next)>0&&Yl(t.prev,t,t.next)>0)}function Yl(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function $l(e,t){return e.x===t.x&&e.y===t.y}function Kl(e,t,i,n){var r=Jl(Yl(e,t,i)),o=Jl(Yl(e,t,n)),a=Jl(Yl(i,n,e)),s=Jl(Yl(i,n,t));return r!==o&&a!==s||!(0!==r||!Ql(e,i,t))||!(0!==o||!Ql(e,n,t))||!(0!==a||!Ql(i,e,n))||!(0!==s||!Ql(i,t,n))}function Ql(e,t,i){return t.x<=Math.max(e.x,i.x)&&t.x>=Math.min(e.x,i.x)&&t.y<=Math.max(e.y,i.y)&&t.y>=Math.min(e.y,i.y)}function Jl(e){return e>0?1:e<0?-1:0}function eu(e,t){return Yl(e.prev,e,e.next)<0?Yl(e,t,e.next)>=0&&Yl(e,e.prev,t)>=0:Yl(e,t,e.prev)<0||Yl(e,e.next,t)<0}function tu(e,t){var i=new ru(e.i,e.x,e.y),n=new ru(t.i,t.x,t.y),r=e.next,o=t.prev;return e.next=t,t.prev=e,i.next=r,r.prev=i,n.next=i,i.prev=n,o.next=n,n.prev=o,n}function iu(e,t,i,n){var r=new ru(e,t,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function nu(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function ru(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ou(e,t,i,n){for(var r=0,o=t,a=i-n;o<i;o+=n)r+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return r}function au(e,t,i,n,r){su(e,t,i||0,n||e.length-1,r||uu)}function su(e,t,i,n,r){for(;n>i;){if(n-i>600){var o=n-i+1,a=t-i+1,s=Math.log(o),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);su(e,t,Math.max(i,Math.floor(t-a*l/o+u)),Math.min(n,Math.floor(t+(o-a)*l/o+u)),r)}var c=e[t],h=i,d=n;for(lu(e,i,t),r(e[n],c)>0&&lu(e,i,n);h<d;){for(lu(e,h,d),h++,d--;r(e[h],c)<0;)h++;for(;r(e[d],c)>0;)d--}0===r(e[i],c)?lu(e,i,d):lu(e,++d,n),d<=t&&(i=d+1),t<=d&&(n=d-1)}}function lu(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function uu(e,t){return e<t?-1:e>t?1:0}function cu(e,t){var i=e.length;if(i<=1)return[e];for(var n,r,o=[],a=0;a<i;a++){var s=X(e[a]);0!==s&&(e[a].area=Math.abs(s),void 0===r&&(r=s<0),r===s<0?(n&&o.push(n),n=[e[a]]):n.push(e[a]))}if(n&&o.push(n),t>1)for(var l=0;l<o.length;l++)o[l].length<=t||(au(o[l],t,1,o[l].length-1,hu),o[l]=o[l].slice(0,t));return o}function hu(e,t){return t.area-e.area}function du(e,t,i){var n,r=i.patternDependencies,o=!1,a=d(t);try{for(a.s();!(n=a.n()).done;){var s=n.value.paint.get("".concat(e,"-pattern"));s.isConstant()||(o=!0);var l=s.constantOr(null);l&&(o=!0,r[l.to]=!0,r[l.from]=!0)}}catch(u){a.e(u)}finally{a.f()}return o}function pu(e,t,i,n,r){var o,a=r.patternDependencies,s=d(t);try{for(s.s();!(o=s.n()).done;){var l=o.value,u=l.paint.get("".concat(e,"-pattern")).value;if("constant"!==u.kind){var c=u.evaluate({zoom:n-1},i,{},r.availableImages),h=u.evaluate({zoom:n},i,{},r.availableImages),p=u.evaluate({zoom:n+1},i,{},r.availableImages);c=c&&c.name?c.name:c,h=h&&h.name?h.name:h,p=p&&p.name?p.name:p,a[c]=!0,a[h]=!0,a[p]=!0,i.patterns[l.id]={min:c,mid:h,max:p}}}}catch(f){s.e(f)}finally{s.f()}return i}Il.deviation=function(e,t,i,n){var r=t&&t.length,o=Math.abs(ou(e,0,r?t[0]*i:e.length,i));if(r)for(var a=0,s=t.length;a<s;a++)o-=Math.abs(ou(e,t[a]*i,a<s-1?t[a+1]*i:e.length,i));var l=0;for(a=0;a<n.length;a+=3){var u=n[a]*i,c=n[a+1]*i,h=n[a+2]*i;l+=Math.abs((e[u]-e[h])*(e[c+1]-e[u+1])-(e[u]-e[c])*(e[h+1]-e[u+1]))}return 0===o&&0===l?0:Math.abs((l-o)/o)},Il.flatten=function(e){for(var t=e[0][0].length,i={vertices:[],holes:[],dimensions:t},n=0,r=0;r<e.length;r++){for(var o=0;o<e[r].length;o++)for(var a=0;a<t;a++)i.vertices.push(e[r][o][a]);r>0&&i.holes.push(n+=e[r-1].length)}return i},Ol.default=Rl;var fu=function(){function e(t){g(this,e),this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Xo,this.indexArray=new aa,this.indexArray2=new da,this.programConfigurations=new Qa(t.layers,t.zoom),this.segments=new ss,this.segments2=new ss,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))}return y(e,[{key:"populate",value:function(e,t,i,n){this.hasPattern=du("fill",this.layers,t);var r,o=this.layers[0].layout.get("fill-sort-key"),a=[],s=d(e);try{for(s.s();!(r=s.n()).done;){var l=r.value,u=l.feature,c=l.id,h=l.index,p=l.sourceLayerIndex,f=this.layers[0]._featureFilter.needGeometry,m=As(u,f);if(this.layers[0]._featureFilter.filter(new Eo(this.zoom),m,i)){var g=o?o.evaluate(m,{},i,t.availableImages):void 0,y={id:c,properties:u.properties,type:u.type,sourceLayerIndex:p,index:h,geometry:f?m.geometry:Es(u,i,n),patterns:{},sortKey:g};a.push(y)}}}catch(C){s.e(C)}finally{s.f()}o&&a.sort((function(e,t){return e.sortKey-t.sortKey}));for(var v=0,b=a;v<b.length;v++){var x=b[v],_=x.geometry,w=x.index,S=x.sourceLayerIndex;if(this.hasPattern){var k=pu("fill",this.layers,x,this.zoom,t);this.patternFeatures.push(k)}else this.addFeature(x,_,w,i,{},t.availableImages);t.featureIndex.insert(e[w].feature,_,w,S,this.index)}}},{key:"update",value:function(e,t,i,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,i,n)}},{key:"addFeatures",value:function(e,t,i,n){var r,o=d(this.patternFeatures);try{for(o.s();!(r=o.n()).done;){var a=r.value;this.addFeature(a,a.geometry,a.index,t,i,n)}}catch(s){o.e(s)}finally{o.f()}}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ll),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}},{key:"addFeature",value:function(e,t,i,n,r){var o,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=d(cu(t,500));try{for(s.s();!(o=s.n()).done;){var l,u=o.value,c=0,h=d(u);try{for(h.s();!(l=h.n()).done;)c+=l.value.length}catch(C){h.e(C)}finally{h.f()}var p,f=this.segments.prepareSegment(c,this.layoutVertexArray,this.indexArray),m=f.vertexLength,g=[],y=[],v=d(u);try{for(v.s();!(p=v.n()).done;){var b=p.value;if(0!==b.length){b!==u[0]&&y.push(g.length/2);var x=this.segments2.prepareSegment(b.length,this.layoutVertexArray,this.indexArray2),_=x.vertexLength;this.layoutVertexArray.emplaceBack(b[0].x,b[0].y),this.indexArray2.emplaceBack(_+b.length-1,_),g.push(b[0].x),g.push(b[0].y);for(var w=1;w<b.length;w++)this.layoutVertexArray.emplaceBack(b[w].x,b[w].y),this.indexArray2.emplaceBack(_+w-1,_+w),g.push(b[w].x),g.push(b[w].y);x.vertexLength+=b.length,x.primitiveLength+=b.length}}}catch(C){v.e(C)}finally{v.f()}for(var S=Ol(g,y),k=0;k<S.length;k+=3)this.indexArray.emplaceBack(m+S[k],m+S[k+1],m+S[k+2]);f.vertexLength+=c,f.primitiveLength+=S.length/3}}catch(C){s.e(C)}finally{s.f()}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,i,r,a,n)}}]),e}();Tr("FillBucket",fu,{omit:["layers","patternFeatures"]});var mu=new Vo({"fill-sort-key":new Bo(Je.layout_fill["fill-sort-key"])}),gu={paint:new Vo({"fill-antialias":new zo(Je.paint_fill["fill-antialias"]),"fill-opacity":new Bo(Je.paint_fill["fill-opacity"]),"fill-color":new Bo(Je.paint_fill["fill-color"]),"fill-outline-color":new Bo(Je.paint_fill["fill-outline-color"]),"fill-translate":new zo(Je.paint_fill["fill-translate"]),"fill-translate-anchor":new zo(Je.paint_fill["fill-translate-anchor"]),"fill-pattern":new Fo(Je.paint_fill["fill-pattern"])}),layout:mu},yu=qo([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),vu=qo([{name:"a_centroid_pos",components:2,type:"Uint16"}]),bu=yu.members,xu=_u;function _u(e,t,i,n,r){this.properties={},this.extent=i,this.type=0,this._pbf=e,this._geometry=-1,this._keys=n,this._values=r,e.readFields(wu,this,t)}function wu(e,t,i){1==e?t.id=i.readVarint():2==e?function(e,t){for(var i=e.readVarint()+e.pos;e.pos<i;){var n=t._keys[e.readVarint()],r=t._values[e.readVarint()];t.properties[n]=r}}(i,t):3==e?t.type=i.readVarint():4==e&&(t._geometry=i.pos)}function Su(e){for(var t,i,n=0,r=0,o=e.length,a=o-1;r<o;a=r++)n+=((i=e[a]).x-(t=e[r]).x)*(t.y+i.y);return n}_u.types=["Unknown","Point","LineString","Polygon"],_u.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,i=e.readVarint()+e.pos,n=1,r=0,o=0,a=0,s=[];e.pos<i;){if(r<=0){var l=e.readVarint();n=7&l,r=l>>3}if(r--,1===n||2===n)o+=e.readSVarint(),a+=e.readSVarint(),1===n&&(t&&s.push(t),t=[]),t.push(new v(o,a));else{if(7!==n)throw new Error("unknown command "+n);t&&t.push(t[0].clone())}}return t&&s.push(t),s},_u.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,i=1,n=0,r=0,o=0,a=1/0,s=-1/0,l=1/0,u=-1/0;e.pos<t;){if(n<=0){var c=e.readVarint();i=7&c,n=c>>3}if(n--,1===i||2===i)(r+=e.readSVarint())<a&&(a=r),r>s&&(s=r),(o+=e.readSVarint())<l&&(l=o),o>u&&(u=o);else if(7!==i)throw new Error("unknown command "+i)}return[a,l,s,u]},_u.prototype.toGeoJSON=function(e,t,i){var n,r,o=this.extent*Math.pow(2,i),a=this.extent*e,s=this.extent*t,l=this.loadGeometry(),u=_u.types[this.type];function c(e){for(var t=0;t<e.length;t++){var i=e[t];e[t]=[360*(i.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(i.y+s)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var h=[];for(n=0;n<l.length;n++)h[n]=l[n][0];c(l=h);break;case 2:for(n=0;n<l.length;n++)c(l[n]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var i,n,r=[],o=0;o<t;o++){var a=Su(e[o]);0!==a&&(void 0===n&&(n=a<0),n===a<0?(i&&r.push(i),i=[e[o]]):i.push(e[o]))}return i&&r.push(i),r}(l),n=0;n<l.length;n++)for(r=0;r<l[n].length;r++)c(l[n][r])}1===l.length?l=l[0]:u="Multi"+u;var d={type:"Feature",geometry:{type:u,coordinates:l},properties:this.properties};return"id"in this&&(d.id=this.id),d};var ku=Cu;function Cu(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(Tu,this,t),this.length=this._features.length}function Tu(e,t,i){15===e?t.version=i.readVarint():1===e?t.name=i.readString():5===e?t.extent=i.readVarint():2===e?t._features.push(i.pos):3===e?t._keys.push(i.readString()):4===e&&t._values.push(function(e){for(var t=null,i=e.readVarint()+e.pos;e.pos<i;){var n=e.readVarint()>>3;t=1===n?e.readString():2===n?e.readFloat():3===n?e.readDouble():4===n?e.readVarint64():5===n?e.readVarint():6===n?e.readSVarint():7===n?e.readBoolean():null}return t}(i))}function Eu(e,t,i){if(3===e){var n=new ku(i,i.readVarint()+i.pos);n.length&&(t[n.name]=n)}}Cu.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new xu(this._pbf,t,this.extent,this._keys,this._values)};var Au={VectorTile:function(e,t){this.layers=e.readFields(Eu,{},t)},VectorTileFeature:xu,VectorTileLayer:ku},Pu=Au.VectorTileFeature.types,Mu=Math.pow(2,13);function Lu(e,t,i,n,r,o,a,s){e.emplaceBack((t<<1)+a,(i<<1)+o,(Math.floor(n*Mu)<<1)+r,Math.round(s))}var Ou=function(){function e(){g(this,e),this.acc=new v(0,0),this.polyCount=[]}return y(e,[{key:"startRing",value:function(e){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new v(e.x,e.y),this.max=new v(e.x,e.y))}},{key:"append",value:function(e,t){this.currentPolyCount.edges++,this.acc._add(e);var i=!!this.borders,n=this.min,r=this.max;e.x<n.x?(n.x=e.x,i=!0):e.x>r.x&&(r.x=e.x,i=!0),e.y<n.y?(n.y=e.y,i=!0):e.y>r.y&&(r.y=e.y,i=!0),((0===e.x||e.x===ls)&&e.x===t.x)!=((0===e.y||e.y===ls)&&e.y===t.y)&&this.processBorderOverlap(e,t),i&&this.checkBorderIntersection(e,t)}},{key:"checkBorderIntersection",value:function(e,t){t.x<0!=e.x<0&&this.addBorderIntersection(0,yi(t.y,e.y,(0-t.x)/(e.x-t.x))),t.x>ls!=e.x>ls&&this.addBorderIntersection(1,yi(t.y,e.y,(ls-t.x)/(e.x-t.x))),t.y<0!=e.y<0&&this.addBorderIntersection(2,yi(t.x,e.x,(0-t.y)/(e.y-t.y))),t.y>ls!=e.y>ls&&this.addBorderIntersection(3,yi(t.x,e.x,(ls-t.y)/(e.y-t.y)))}},{key:"addBorderIntersection",value:function(e,t){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);var i=this.borders[e];t<i[0]&&(i[0]=t),t>i[1]&&(i[1]=t)}},{key:"processBorderOverlap",value:function(e,t){if(e.x===t.x){if(e.y===t.y)return;var i=0===e.x?0:1;this.addBorderIntersection(i,t.y),this.addBorderIntersection(i,e.y)}else{var n=0===e.y?2:3;this.addBorderIntersection(n,t.x),this.addBorderIntersection(n,e.x)}}},{key:"centroid",value:function(){var e=this.polyCount.reduce((function(e,t){return e+t.edges}),0);return 0!==e?this.acc.div(e)._round():new v(0,0)}},{key:"span",value:function(){return new v(this.max.x-this.min.x,this.max.y-this.min.y)}},{key:"intersectsCount",value:function(){return this.borders.reduce((function(e,t){return e+ +(t[0]!==Number.MAX_VALUE)}),0)}}]),e}(),Ru=function(){function e(t){g(this,e),this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Yo,this.centroidVertexArray=new Ea,this.indexArray=new aa,this.programConfigurations=new Qa(t.layers,t.zoom),this.segments=new ss,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.enableTerrain=t.enableTerrain}return y(e,[{key:"populate",value:function(e,t,i,n){this.features=[],this.hasPattern=du("fill-extrusion",this.layers,t),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDone=[!1,!1,!1,!1],this.tileToMeter=function(e){var t=Math.exp(Math.PI*(1-e.y/(1<<e.z)*2));return 80150034*t/(t*t+1)/ls/(1<<e.z)}(i);var r,o=d(e);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.feature,l=a.id,u=a.index,c=a.sourceLayerIndex,h=this.layers[0]._featureFilter.needGeometry,p=As(s,h);if(this.layers[0]._featureFilter.filter(new Eo(this.zoom),p,i)){var f={id:l,sourceLayerIndex:c,index:u,geometry:h?p.geometry:Es(s,i,n),properties:s.properties,type:s.type,patterns:{}},m=this.layoutVertexArray.length;this.hasPattern?this.features.push(pu("fill-extrusion",this.layers,f,this.zoom,t)):this.addFeature(f,f.geometry,u,i,{},t.availableImages),t.featureIndex.insert(s,f.geometry,u,c,this.index,m)}}}catch(g){o.e(g)}finally{o.f()}this.sortBorders()}},{key:"addFeatures",value:function(e,t,i,n){var r,o=d(this.features);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.geometry;this.addFeature(a,s,a.index,t,i,n)}}catch(l){o.e(l)}finally{o.f()}this.sortBorders()}},{key:"update",value:function(e,t,i,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,i,n)}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,bu),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"uploadCentroid",value:function(e){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,vu.members,!0),this.needsCentroidUpdate=!1)}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}},{key:"addFeature",value:function(e,t,i,n,r,o){var a,s,l=this.enableTerrain?new Ou:null,u=d(cu(t,500));try{for(u.s();!(a=u.n()).done;){var c=a.value,h=0,p=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);if(!(0===c.length||(s=c[0]).every((function(e){return e.x<=0}))||s.every((function(e){return e.x>=ls}))||s.every((function(e){return e.y<=0}))||s.every((function(e){return e.y>=ls})))){for(var f=0;f<c.length;f++){var m=c[f];if(0!==m.length){h+=m.length;var g=0;l&&l.startRing(m[0]);for(var y=0;y<m.length;y++){var v=m[y];if(y>=1){var b=m[y-1];if(!Iu(v,b)){l&&l.append(v,b),p.vertexLength+4>ss.MAX_VERTEX_ARRAY_LENGTH&&(p=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var x=v.sub(b)._perp(),_=x.x/(Math.abs(x.x)+Math.abs(x.y)),w=x.y>0?1:0,S=b.dist(v);g+S>32768&&(g=0),Lu(this.layoutVertexArray,v.x,v.y,_,w,0,0,g),Lu(this.layoutVertexArray,v.x,v.y,_,w,0,1,g),g+=S,Lu(this.layoutVertexArray,b.x,b.y,_,w,0,0,g),Lu(this.layoutVertexArray,b.x,b.y,_,w,0,1,g);var k=p.vertexLength;this.indexArray.emplaceBack(k,k+2,k+1),this.indexArray.emplaceBack(k+1,k+2,k+3),p.vertexLength+=4,p.primitiveLength+=2}}}}}if(p.vertexLength+h>ss.MAX_VERTEX_ARRAY_LENGTH&&(p=this.segments.prepareSegment(h,this.layoutVertexArray,this.indexArray)),"Polygon"===Pu[e.type]){for(var C=[],T=[],E=p.vertexLength,A=0;A<c.length;A++){var P=c[A];if(0!==P.length){P!==c[0]&&T.push(C.length/2);for(var M=0;M<P.length;M++){var L=P[M];Lu(this.layoutVertexArray,L.x,L.y,0,0,1,1,0),C.push(L.x),C.push(L.y),l&&l.currentPolyCount.top++}}}for(var O=Ol(C,T),R=0;R<O.length;R+=3)this.indexArray.emplaceBack(E+O[R],E+O[R+2],E+O[R+1]);p.primitiveLength+=O.length/3,p.vertexLength+=h}}}}catch(B){u.e(B)}finally{u.f()}if(l&&l.polyCount.length>0){if(l.borders){l.vertexArrayOffset=this.centroidVertexArray.length;for(var I=l.borders,D=this.featuresOnBorder.push(l)-1,z=0;z<4;z++)I[z][0]!==Number.MAX_VALUE&&this.borders[z].push(D)}this.encodeCentroid(l.borders?void 0:l.centroid(),l)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,i,r,o,n)}},{key:"sortBorders",value:function(){for(var e=this,t=function(t){e.borders[t].sort((function(i,n){return e.featuresOnBorder[i].borders[t][0]-e.featuresOnBorder[n].borders[t][0]}))},i=0;i<4;i++)t(i)}},{key:"encodeCentroid",value:function(e,t){var i,n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e)if(0!==e.y){var o=t.span()._mult(this.tileToMeter);i=(Math.max(e.x,1)<<3)+Math.min(7,Math.round(o.x/10)),n=(Math.max(e.y,1)<<3)+Math.min(7,Math.round(o.y/10))}else i=Math.ceil(7*(e.x+450)),n=0;else i=0,n=+r;var a,s=r?this.centroidVertexArray.length:t.vertexArrayOffset,l=d(t.polyCount);try{for(l.s();!(a=l.n()).done;){var u=a.value;r&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*u.edges+u.top);for(var c=0;c<2*u.edges;c++)this.centroidVertexArray.emplace(s++,0,n),this.centroidVertexArray.emplace(s++,i,n);for(var h=0;h<u.top;h++)this.centroidVertexArray.emplace(s++,i,n)}}catch(p){l.e(p)}finally{l.f()}}}]),e}();function Iu(e,t){return e.x===t.x&&(e.x<0||e.x>ls)||e.y===t.y&&(e.y<0||e.y>ls)}Tr("FillExtrusionBucket",Ru,{omit:["layers","features"]}),Tr("PartMetadata",Ou);var Du={paint:new Vo({"fill-extrusion-opacity":new zo(Je["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Bo(Je["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new zo(Je["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new zo(Je["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Fo(Je["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Bo(Je["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Bo(Je["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new zo(Je["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function zu(e,t){return e.x*t.x+e.y*t.y}function Bu(e,t){if(1===e.length){for(var i,n=0,r=t[n++];!i||r.equals(i);)if(!(i=t[n++]))return 1/0;for(;n<t.length;n++){var o=t[n],a=e[0],s=i.sub(r),l=o.sub(r),u=a.sub(r),c=zu(s,s),h=zu(s,l),p=zu(l,l),f=zu(u,s),m=zu(u,l),g=c*p-h*h,y=(p*f-h*m)/g,v=(c*m-h*f)/g,b=r.z*(1-y-v)+i.z*y+o.z*v;if(isFinite(b))return b}return 1/0}var x,_=1/0,w=d(t);try{for(w.s();!(x=w.n()).done;){var S=x.value;_=Math.min(_,S.z)}}catch(k){w.e(k)}finally{w.f()}return _}function Fu(e){var t=new v(e[0],e[1]);return t.z=e[2],t}function Nu(e,t,i,n,r,o,a,s){var l=a*r.getElevationAt(e,t,!0,!0),u=0!==o[0],c=u?0===o[1]?a*(o[0]/7-450):a*function(e,t,i){var n=Math.floor(t[0]/8),r=Math.floor(t[1]/8),o=10*(t[0]-8*n),a=10*(t[1]-8*r),s=e.getElevationAt(n,r,!0,!0),l=e.getMeterToDEM(i),u=Math.floor(.5*(o*l-1)),c=Math.floor(.5*(a*l-1)),h=e.tileCoordToPixel(n,r),d=2*u+1,p=2*c+1,f=function(e,t,i,n,r){return[e.getElevationAtPixel(t,i,!0),e.getElevationAtPixel(t+r,i,!0),e.getElevationAtPixel(t,i+r,!0),e.getElevationAtPixel(t+n,i+r,!0)]}(e,h.x-u,h.y-c,d,p),m=Math.abs(f[0]-f[1]),g=Math.abs(f[2]-f[3]),y=Math.abs(f[0]-f[2])+Math.abs(f[1]-f[3]),v=Math.min(.25,.5*l*(m+g)/d),b=Math.min(.25,.5*l*y/p);return s+Math.max(v*o,b*a)}(r,o,s):l;return{base:l+(0===i)?-1:i,top:u?Math.max(c+n,l+i+2):l+n}}var ju=qo([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4).members,Vu=qo([{name:"a_packed",components:3,type:"Float32"}]).members,Uu=Au.VectorTileFeature.types,Wu=Math.cos(Math.PI/180*37.5),Hu=function(){function e(t){var i=this;g(this,e),this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((function(e){i.gradients[e.id]={}})),this.layoutVertexArray=new $o,this.layoutVertexArray2=new Ko,this.indexArray=new aa,this.programConfigurations=new Qa(t.layers,t.zoom),this.segments=new ss,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))}return y(e,[{key:"populate",value:function(e,t,i,n){this.hasPattern=du("line",this.layers,t);var r,o=this.layers[0].layout.get("line-sort-key"),a=[],s=d(e);try{for(s.s();!(r=s.n()).done;){var l=r.value,u=l.feature,c=l.id,h=l.index,p=l.sourceLayerIndex,f=this.layers[0]._featureFilter.needGeometry,m=As(u,f);if(this.layers[0]._featureFilter.filter(new Eo(this.zoom),m,i)){var g=o?o.evaluate(m,{},i):void 0,y={id:c,properties:u.properties,type:u.type,sourceLayerIndex:p,index:h,geometry:f?m.geometry:Es(u,i,n),patterns:{},sortKey:g};a.push(y)}}}catch(A){s.e(A)}finally{s.f()}o&&a.sort((function(e,t){return e.sortKey-t.sortKey}));for(var v=t.lineAtlas,b=t.featureIndex,x=this.addConstantDashes(v),_=0,w=a;_<w.length;_++){var S=w[_],k=S.geometry,C=S.index,T=S.sourceLayerIndex;if(x&&this.addFeatureDashes(S,v),this.hasPattern){var E=pu("line",this.layers,S,this.zoom,t);this.patternFeatures.push(E)}else this.addFeature(S,k,C,i,v.positions,t.availableImages);b.insert(e[C].feature,k,C,T,this.index)}}},{key:"addConstantDashes",value:function(e){var t,i=!1,n=d(this.layers);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=r.paint.get("line-dasharray").value,a=r.layout.get("line-cap").value;if("constant"!==o.kind||"constant"!==a.kind)i=!0;else{var s=a.value,l=o.value;if(!l)continue;e.addDash(l.from,s),e.addDash(l.to,s),l.other&&e.addDash(l.other,s)}}}catch(u){n.e(u)}finally{n.f()}return i}},{key:"addFeatureDashes",value:function(e,t){var i,n=this.zoom,r=d(this.layers);try{for(r.s();!(i=r.n()).done;){var o=i.value,a=o.paint.get("line-dasharray").value,s=o.layout.get("line-cap").value;if("constant"!==a.kind||"constant"!==s.kind){var l=void 0,u=void 0,c=void 0,h=void 0,p=void 0,f=void 0;if("constant"===a.kind){var m=a.value;if(!m)continue;l=m.other||m.to,u=m.to,c=m.from}else l=a.evaluate({zoom:n-1},e),u=a.evaluate({zoom:n},e),c=a.evaluate({zoom:n+1},e);"constant"===s.kind?h=p=f=s.value:(h=s.evaluate({zoom:n-1},e),p=s.evaluate({zoom:n},e),f=s.evaluate({zoom:n+1},e)),t.addDash(l,h),t.addDash(u,p),t.addDash(c,f);var g=t.getKey(l,h),y=t.getKey(u,p),v=t.getKey(c,f);e.patterns[o.id]={min:g,mid:y,max:v}}}}catch(b){r.e(b)}finally{r.f()}}},{key:"update",value:function(e,t,i,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,i,n)}},{key:"addFeatures",value:function(e,t,i,n){var r,o=d(this.patternFeatures);try{for(o.s();!(r=o.n()).done;){var a=r.value;this.addFeature(a,a.geometry,a.index,t,i,n)}}catch(s){o.e(s)}finally{o.f()}}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Vu)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ju),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}},{key:"lineFeatureClips",value:function(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}},{key:"addFeature",value:function(e,t,i,n,r,o){var a=this.layers[0].layout,s=a.get("line-join").evaluate(e,{}),l=a.get("line-cap").evaluate(e,{}),u=a.get("line-miter-limit"),c=a.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);var h,p=d(t);try{for(p.s();!(h=p.n()).done;){var f=h.value;this.addLine(f,e,s,l,u,c)}}catch(m){p.e(m)}finally{p.f()}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,i,r,o,n)}},{key:"addLine",value:function(e,t,i,n,r,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var a=0;a<e.length-1;a++)this.totalDistance+=e[a].dist(e[a+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var s="Polygon"===Uu[t.type],l=e.length;l>=2&&e[l-1].equals(e[l-2]);)l--;for(var u=0;u<l-1&&e[u].equals(e[u+1]);)u++;if(!(l<(s?3:2))){"bevel"===i&&(r=1.05);var c,h,d,p,f,m=this.overscaling<=16?122880/(512*this.overscaling):0,g=this.segments.prepareSegment(10*l,this.layoutVertexArray,this.indexArray);this.e1=this.e2=-1,s&&(c=e[l-2],f=e[u].sub(c)._unit()._perp());for(var y=u;y<l;y++)if(!(d=y===l-1?s?e[u+1]:void 0:e[y+1])||!e[y].equals(d)){f&&(p=f),c&&(h=c),c=e[y],f=d?d.sub(c)._unit()._perp():p;var v=(p=p||f).add(f);0===v.x&&0===v.y||v._unit();var b=p.x*f.x+p.y*f.y,x=v.x*f.x+v.y*f.y,_=0!==x?1/x:1/0,w=2*Math.sqrt(2-2*x),S=x<Wu&&h&&d,k=p.x*f.y-p.y*f.x>0;if(S&&y>u){var C=c.dist(h);if(C>2*m){var T=c.sub(c.sub(h)._mult(m/C)._round());this.updateDistance(h,T),this.addCurrentVertex(T,p,0,0,g),h=T}}var E=h&&d,A=E?i:s?"butt":n;if(E&&"round"===A&&(_<o?A="miter":_<=2&&(A="fakeround")),"miter"===A&&_>r&&(A="bevel"),"bevel"===A&&(_>2&&(A="flipbevel"),_<r&&(A="miter")),h&&this.updateDistance(h,c),"miter"===A)v._mult(_),this.addCurrentVertex(c,v,0,0,g);else if("flipbevel"===A){if(_>100)v=f.mult(-1);else{var P=_*p.add(f).mag()/p.sub(f).mag();v._perp()._mult(P*(k?-1:1))}this.addCurrentVertex(c,v,0,0,g),this.addCurrentVertex(c,v.mult(-1),0,0,g)}else if("bevel"===A||"fakeround"===A){var M=-Math.sqrt(_*_-1),L=k?M:0,O=k?0:M;if(h&&this.addCurrentVertex(c,p,L,O,g),"fakeround"===A)for(var R=Math.round(180*w/Math.PI/20),I=1;I<R;I++){var D=I/R;if(.5!==D){var z=D-.5;D+=D*z*(D-1)*((1.0904+b*(b*(3.55645-1.43519*b)-3.2452))*z*z+(.848013+b*(.215638*b-1.06021)))}var B=f.sub(p)._mult(D)._add(p)._unit()._mult(k?-1:1);this.addHalfVertex(c,B.x,B.y,!1,k,0,g)}d&&this.addCurrentVertex(c,f,-L,-O,g)}else if("butt"===A)this.addCurrentVertex(c,v,0,0,g);else if("square"===A){var F=h?1:-1;h||this.addCurrentVertex(c,v,F,F,g),this.addCurrentVertex(c,v,0,0,g),h&&this.addCurrentVertex(c,v,F,F,g)}else"round"===A&&(h&&(this.addCurrentVertex(c,p,0,0,g),this.addCurrentVertex(c,p,1,1,g,!0)),d&&(this.addCurrentVertex(c,f,-1,-1,g,!0),this.addCurrentVertex(c,f,0,0,g)));if(S&&y<l-1){var N=c.dist(d);if(N>2*m){var j=c.add(d.sub(c)._mult(m/N)._round());this.updateDistance(c,j),this.addCurrentVertex(j,f,0,0,g),c=j}}}}}},{key:"addCurrentVertex",value:function(e,t,i,n,r){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=t.y*n-t.x,s=-t.y-t.x*n;this.addHalfVertex(e,t.x+t.y*i,t.y-t.x*i,o,!1,i,r),this.addHalfVertex(e,a,s,o,!0,-n,r)}},{key:"addHalfVertex",value:function(e,t,i,n,r,o,a){var s=e.x,l=e.y;this.layoutVertexArray.emplaceBack((s<<1)+(n?1:0),(l<<1)+(r?1:0),Math.round(63*t)+128,Math.round(63*i)+128,1+(0===o?0:o<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineSoFar);var u=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,u),a.primitiveLength++),r?this.e2=u:this.e1=u}},{key:"updateScaledDistance",value:function(){if(this.lineClips){var e=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=e*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}},{key:"updateDistance",value:function(e,t){this.distance+=e.dist(t),this.updateScaledDistance()}}]),e}();Tr("LineBucket",Hu,{omit:["layers","patternFeatures"]});var Gu=new Vo({"line-cap":new Bo(Je.layout_line["line-cap"]),"line-join":new Bo(Je.layout_line["line-join"]),"line-miter-limit":new zo(Je.layout_line["line-miter-limit"]),"line-round-limit":new zo(Je.layout_line["line-round-limit"]),"line-sort-key":new Bo(Je.layout_line["line-sort-key"])}),qu={paint:new Vo({"line-opacity":new Bo(Je.paint_line["line-opacity"]),"line-color":new Bo(Je.paint_line["line-color"]),"line-translate":new zo(Je.paint_line["line-translate"]),"line-translate-anchor":new zo(Je.paint_line["line-translate-anchor"]),"line-width":new Bo(Je.paint_line["line-width"]),"line-gap-width":new Bo(Je.paint_line["line-gap-width"]),"line-offset":new Bo(Je.paint_line["line-offset"]),"line-blur":new Bo(Je.paint_line["line-blur"]),"line-dasharray":new Fo(Je.paint_line["line-dasharray"]),"line-pattern":new Fo(Je.paint_line["line-pattern"]),"line-gradient":new jo(Je.paint_line["line-gradient"])}),layout:Gu},Zu=new(function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"possiblyEvaluate",value:function(e,t){return t=new Eo(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,zoomHistory:t.zoomHistory,transition:t.transition}),a(s(i.prototype),"possiblyEvaluate",this).call(this,e,t)}},{key:"evaluate",value:function(e,t,n,r){return t=I({},t,{zoom:Math.floor(t.zoom)}),a(s(i.prototype),"evaluate",this).call(this,e,t,n,r)}}]),i}(Bo))(qu.paint.properties["line-width"].specification);function Xu(e,t){return t>0?t+2*e:e}Zu.useIntegerZoom=!0;var Yu=qo([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"},{name:"a_z_tile_anchor",components:4,type:"Int16"}],4),$u=qo([{name:"a_projected_pos",components:3,type:"Float32"}],4);qo([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var Ku=qo([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),Qu=qo([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);qo([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var Ju=qo([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),ec=qo([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);qo([{name:"triangle",components:3,type:"Uint16"}]),qo([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),qo([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),qo([{type:"Float32",name:"offsetX"}]),qo([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var tc=24,ic=128;function nc(e,t){var i=t.expression;if("constant"===i.kind)return{kind:"constant",layoutSize:i.evaluate(new Eo(e+1))};if("source"===i.kind)return{kind:"source"};for(var n=i.zoomStops,r=i.interpolationType,o=0;o<n.length&&n[o]<=e;)o++;for(var a=o=Math.max(0,o-1);a<n.length&&n[a]<e+1;)a++;a=Math.min(n.length-1,a);var s=n[o],l=n[a];return"composite"===i.kind?{kind:"composite",minZoom:s,maxZoom:l,interpolationType:r}:{kind:"camera",minZoom:s,maxZoom:l,minSize:i.evaluate(new Eo(s)),maxSize:i.evaluate(new Eo(l)),interpolationType:r}}function rc(e,t,i){var n=t.uSize,r=t.uSizeT,o=i.lowerSize,a=i.upperSize;return"source"===e.kind?o/ic:"composite"===e.kind?yi(o/ic,a/ic,r):n}function oc(e,t){var i=0,n=0;if("constant"===e.kind)n=e.layoutSize;else if("source"!==e.kind){var r=e.interpolationType,o=e.minZoom,a=e.maxZoom,s=r?M(zi.interpolationFactor(r,t,o,a),0,1):0;"camera"===e.kind?n=yi(e.minSize,e.maxSize,s):i=s}return{uSizeT:i,uSize:n}}var ac=Object.freeze({__proto__:null,getSizeData:nc,evaluateSizeForFeature:rc,evaluateSizeForZoom:oc,SIZE_PACK_FACTOR:ic});function sc(e,t,i){return e.sections.forEach((function(e){e.text=function(e,t,i){var n=t.layout.get("text-transform").evaluate(i,{});return"uppercase"===n?e=e.toLocaleUpperCase():"lowercase"===n&&(e=e.toLocaleLowerCase()),To.applyArabicShaping&&(e=To.applyArabicShaping(e)),e}(e.text,t,i)})),e}var lc={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};function uc(e){return"\ufe36"===e||"\ufe48"===e||"\ufe38"===e||"\ufe44"===e||"\ufe42"===e||"\ufe3e"===e||"\ufe3c"===e||"\ufe3a"===e||"\ufe18"===e||"\ufe40"===e||"\ufe10"===e||"\ufe13"===e||"\ufe14"===e||"\uff40"===e||"\uffe3"===e||"\ufe11"===e||"\ufe12"===e}function cc(e){return"\ufe35"===e||"\ufe47"===e||"\ufe37"===e||"\ufe43"===e||"\ufe41"===e||"\ufe3d"===e||"\ufe3b"===e||"\ufe39"===e||"\ufe17"===e||"\ufe3f"===e}var hc=function(e,t,i,n,r){var o,a,s=8*r-n-1,l=(1<<s)-1,u=l>>1,c=-7,h=i?r-1:0,d=i?-1:1,p=e[t+h];for(h+=d,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+e[t+h],h+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+e[t+h],h+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=u}return(p?-1:1)*a*Math.pow(2,o-n)},dc=function(e,t,i,n,r,o){var a,s,l,u=8*o-r-1,c=(1<<u)-1,h=c>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,f=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(t*l-1)*Math.pow(2,r),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;e[i+p]=255&s,p+=f,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;e[i+p]=255&a,p+=f,a/=256,u-=8);e[i+p-f]|=128*m},pc=fc;function fc(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}fc.Varint=0,fc.Fixed64=1,fc.Bytes=2,fc.Fixed32=5;var mc=4294967296,gc=1/mc,yc="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function vc(e){return e.type===fc.Bytes?e.readVarint()+e.pos:e.pos+1}function bc(e,t,i){return i?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function xc(e,t,i){var n=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));i.realloc(n);for(var r=i.pos-1;r>=e;r--)i.buf[r+n]=i.buf[r]}function _c(e,t){for(var i=0;i<e.length;i++)t.writeVarint(e[i])}function wc(e,t){for(var i=0;i<e.length;i++)t.writeSVarint(e[i])}function Sc(e,t){for(var i=0;i<e.length;i++)t.writeFloat(e[i])}function kc(e,t){for(var i=0;i<e.length;i++)t.writeDouble(e[i])}function Cc(e,t){for(var i=0;i<e.length;i++)t.writeBoolean(e[i])}function Tc(e,t){for(var i=0;i<e.length;i++)t.writeFixed32(e[i])}function Ec(e,t){for(var i=0;i<e.length;i++)t.writeSFixed32(e[i])}function Ac(e,t){for(var i=0;i<e.length;i++)t.writeFixed64(e[i])}function Pc(e,t){for(var i=0;i<e.length;i++)t.writeSFixed64(e[i])}function Mc(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function Lc(e,t,i){e[i]=t,e[i+1]=t>>>8,e[i+2]=t>>>16,e[i+3]=t>>>24}function Oc(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function Rc(e,t,i){t.glyphs=[],1===e&&i.readMessage(Ic,t)}function Ic(e,t,i){if(3===e){var n=i.readMessage(Dc,{}),r=n.id,o=n.bitmap,a=n.width,s=n.height,l=n.left,u=n.top,c=n.advance;t.glyphs.push({id:r,bitmap:new Tl({width:a+6,height:s+6},o),metrics:{width:a,height:s,left:l,top:u,advance:c}})}else 4===e?t.ascender=i.readSVarint():5===e&&(t.descender=i.readSVarint())}function Dc(e,t,i){1===e?t.id=i.readVarint():2===e?t.bitmap=i.readBytes():3===e?t.width=i.readVarint():4===e?t.height=i.readVarint():5===e?t.left=i.readSVarint():6===e?t.top=i.readSVarint():7===e&&(t.advance=i.readVarint())}function zc(e){var t,i=0,n=0,r=d(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;i+=o.w*o.h,n=Math.max(n,o.w)}}catch(g){r.e(g)}finally{r.f()}e.sort((function(e,t){return t.h-e.h}));var a,s=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(i/.95)),n),h:1/0}],l=0,u=0,c=d(e);try{for(c.s();!(a=c.n()).done;)for(var h=a.value,p=s.length-1;p>=0;p--){var f=s[p];if(!(h.w>f.w||h.h>f.h)){if(h.x=f.x,h.y=f.y,u=Math.max(u,h.y+h.h),l=Math.max(l,h.x+h.w),h.w===f.w&&h.h===f.h){var m=s.pop();p<s.length&&(s[p]=m)}else h.h===f.h?(f.x+=h.w,f.w-=h.w):h.w===f.w?(f.y+=h.h,f.h-=h.h):(s.push({x:f.x+h.w,y:f.y,w:f.w-h.w,h:h.h}),f.y+=h.h,f.h-=h.h);break}}}catch(g){c.e(g)}finally{c.f()}return{w:l,h:u,fill:i/(l*u)||0}}fc.prototype={destroy:function(){this.buf=null},readFields:function(e,t,i){for(i=i||this.length;this.pos<i;){var n=this.readVarint(),r=n>>3,o=this.pos;this.type=7&n,e(r,t,this),this.pos===o&&this.skip(n)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=Mc(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=Oc(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=Mc(this.buf,this.pos)+Mc(this.buf,this.pos+4)*mc;return this.pos+=8,e},readSFixed64:function(){var e=Mc(this.buf,this.pos)+Oc(this.buf,this.pos+4)*mc;return this.pos+=8,e},readFloat:function(){var e=hc(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=hc(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,i,n=this.buf;return t=127&(i=n[this.pos++]),i<128?t:(t|=(127&(i=n[this.pos++]))<<7,i<128?t:(t|=(127&(i=n[this.pos++]))<<14,i<128?t:(t|=(127&(i=n[this.pos++]))<<21,i<128?t:function(e,t,i){var n,r,o=i.buf;if(n=(112&(r=o[i.pos++]))>>4,r<128)return bc(e,n,t);if(n|=(127&(r=o[i.pos++]))<<3,r<128)return bc(e,n,t);if(n|=(127&(r=o[i.pos++]))<<10,r<128)return bc(e,n,t);if(n|=(127&(r=o[i.pos++]))<<17,r<128)return bc(e,n,t);if(n|=(127&(r=o[i.pos++]))<<24,r<128)return bc(e,n,t);if(n|=(1&(r=o[i.pos++]))<<31,r<128)return bc(e,n,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(i=n[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&yc?function(e,t,i){return yc.decode(e.subarray(t,i))}(this.buf,t,e):function(e,t,i){for(var n="",r=t;r<i;){var o,a,s,l=e[r],u=null,c=l>239?4:l>223?3:l>191?2:1;if(r+c>i)break;1===c?l<128&&(u=l):2===c?128==(192&(o=e[r+1]))&&(u=(31&l)<<6|63&o)<=127&&(u=null):3===c?(a=e[r+2],128==(192&(o=e[r+1]))&&128==(192&a)&&((u=(15&l)<<12|(63&o)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(a=e[r+2],s=e[r+3],128==(192&(o=e[r+1]))&&128==(192&a)&&128==(192&s)&&((u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,n+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),n+=String.fromCharCode(u),r+=c}return n}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==fc.Bytes)return e.push(this.readVarint(t));var i=vc(this);for(e=e||[];this.pos<i;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==fc.Bytes)return e.push(this.readSVarint());var t=vc(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==fc.Bytes)return e.push(this.readBoolean());var t=vc(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==fc.Bytes)return e.push(this.readFloat());var t=vc(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==fc.Bytes)return e.push(this.readDouble());var t=vc(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==fc.Bytes)return e.push(this.readFixed32());var t=vc(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==fc.Bytes)return e.push(this.readSFixed32());var t=vc(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==fc.Bytes)return e.push(this.readFixed64());var t=vc(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==fc.Bytes)return e.push(this.readSFixed64());var t=vc(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===fc.Varint)for(;this.buf[this.pos++]>127;);else if(t===fc.Bytes)this.pos=this.readVarint()+this.pos;else if(t===fc.Fixed32)this.pos+=4;else{if(t!==fc.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var i=new Uint8Array(t);i.set(this.buf),this.buf=i,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),Lc(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),Lc(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),Lc(this.buf,-1&e,this.pos),Lc(this.buf,Math.floor(e*gc),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),Lc(this.buf,-1&e,this.pos),Lc(this.buf,Math.floor(e*gc),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var i,n;if(e>=0?(i=e%4294967296|0,n=e/4294967296|0):(n=~(-e/4294967296),4294967295^(i=~(-e%4294967296))?i=i+1|0:(i=0,n=n+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,i){i.buf[i.pos++]=127&e|128,e>>>=7,i.buf[i.pos++]=127&e|128,e>>>=7,i.buf[i.pos++]=127&e|128,e>>>=7,i.buf[i.pos++]=127&e|128,i.buf[i.pos]=127&(e>>>=7)}(i,0,t),function(e,t){var i=(7&e)<<4;t.buf[t.pos++]|=i|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(n,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,i){for(var n,r,o=0;o<t.length;o++){if((n=t.charCodeAt(o))>55295&&n<57344){if(!r){n>56319||o+1===t.length?(e[i++]=239,e[i++]=191,e[i++]=189):r=n;continue}if(n<56320){e[i++]=239,e[i++]=191,e[i++]=189,r=n;continue}n=r-55296<<10|n-56320|65536,r=null}else r&&(e[i++]=239,e[i++]=191,e[i++]=189,r=null);n<128?e[i++]=n:(n<2048?e[i++]=n>>6|192:(n<65536?e[i++]=n>>12|224:(e[i++]=n>>18|240,e[i++]=n>>12&63|128),e[i++]=n>>6&63|128),e[i++]=63&n|128)}return i}(this.buf,e,this.pos);var i=this.pos-t;i>=128&&xc(t,i,this),this.pos=t-1,this.writeVarint(i),this.pos+=i},writeFloat:function(e){this.realloc(4),dc(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),dc(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var i=0;i<t;i++)this.buf[this.pos++]=e[i]},writeRawMessage:function(e,t){this.pos++;var i=this.pos;e(t,this);var n=this.pos-i;n>=128&&xc(i,n,this),this.pos=i-1,this.writeVarint(n),this.pos+=n},writeMessage:function(e,t,i){this.writeTag(e,fc.Bytes),this.writeRawMessage(t,i)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,_c,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,wc,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,Cc,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,Sc,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,kc,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,Tc,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,Ec,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,Ac,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,Pc,t)},writeBytesField:function(e,t){this.writeTag(e,fc.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,fc.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,fc.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,fc.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,fc.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,fc.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,fc.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,fc.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,fc.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,fc.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var Bc=function(){function e(t,i){var n=i.pixelRatio,r=i.version,o=i.stretchX,a=i.stretchY,s=i.content;g(this,e),this.paddedRect=t,this.pixelRatio=n,this.stretchX=o,this.stretchY=a,this.content=s,this.version=r}return y(e,[{key:"tl",get:function(){return[this.paddedRect.x+1,this.paddedRect.y+1]}},{key:"br",get:function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}},{key:"displaySize",get:function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}]),e}(),Fc=function(){function e(t,i){g(this,e);var n={},r={};this.haveRenderCallbacks=[];var o=[];this.addImages(t,n,o),this.addImages(i,r,o);var a=zc(o),s=a.w,l=a.h,u=new El({width:s||1,height:l||1});for(var c in t){var h=t[c],d=n[c].paddedRect;El.copy(h.data,u,{x:0,y:0},{x:d.x+1,y:d.y+1},h.data)}for(var p in i){var f=i[p],m=r[p].paddedRect,y=m.x+1,v=m.y+1,b=f.data.width,x=f.data.height;El.copy(f.data,u,{x:0,y:0},{x:y,y:v},f.data),El.copy(f.data,u,{x:0,y:x-1},{x:y,y:v-1},{width:b,height:1}),El.copy(f.data,u,{x:0,y:0},{x:y,y:v+x},{width:b,height:1}),El.copy(f.data,u,{x:b-1,y:0},{x:y-1,y:v},{width:1,height:x}),El.copy(f.data,u,{x:0,y:0},{x:y+b,y:v},{width:1,height:x})}this.image=u,this.iconPositions=n,this.patternPositions=r}return y(e,[{key:"addImages",value:function(e,t,i){for(var n in e){var r=e[n],o={x:0,y:0,w:r.data.width+2,h:r.data.height+2};i.push(o),t[n]=new Bc(o,r),r.hasRenderCallback&&this.haveRenderCallbacks.push(n)}}},{key:"patchUpdatedImages",value:function(e,t){for(var i in e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[i],e.getImage(i),t),this.patchUpdatedImage(this.patternPositions[i],e.getImage(i),t)}},{key:"patchUpdatedImage",value:function(e,t,i){if(e&&t&&e.version!==t.version){e.version=t.version;var n=h(e.tl,2),r=n[0],o=n[1];i.update(t.data,void 0,{x:r,y:o})}}}]),e}();Tr("ImagePosition",Bc),Tr("ImageAtlas",Fc);var Nc={horizontal:1,vertical:2,horizontalOnly:3},jc=function(){function e(){g(this,e),this.scale=1,this.fontStack="",this.imageName=null}return y(e,null,[{key:"forText",value:function(t,i){var n=new e;return n.scale=t||1,n.fontStack=i,n}},{key:"forImage",value:function(t){var i=new e;return i.imageName=t,i}}]),e}(),Vc=function(){function e(){g(this,e),this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}return y(e,[{key:"length",value:function(){return this.text.length}},{key:"getSection",value:function(e){return this.sections[this.sectionIndex[e]]}},{key:"getSections",value:function(){return this.sections}},{key:"getSectionIndex",value:function(e){return this.sectionIndex[e]}},{key:"getCharCode",value:function(e){return this.text.charCodeAt(e)}},{key:"verticalizePunctuation",value:function(e){this.text=function(e,t){for(var i="",n=0;n<e.length;n++){var r=e.charCodeAt(n+1)||null,o=e.charCodeAt(n-1)||null;i+=!t&&(r&&co(r)&&!lc[e[n+1]]||o&&co(o)&&!lc[e[n-1]])||!lc[e[n]]?e[n]:lc[e[n]]}return i}(this.text,e)}},{key:"trim",value:function(){for(var e=0,t=0;t<this.text.length&&Wc[this.text.charCodeAt(t)];t++)e++;for(var i=this.text.length,n=this.text.length-1;n>=0&&n>=e&&Wc[this.text.charCodeAt(n)];n--)i--;this.text=this.text.substring(e,i),this.sectionIndex=this.sectionIndex.slice(e,i)}},{key:"substring",value:function(t,i){var n=new e;return n.text=this.text.substring(t,i),n.sectionIndex=this.sectionIndex.slice(t,i),n.sections=this.sections,n}},{key:"toString",value:function(){return this.text}},{key:"getMaxScale",value:function(){var e=this;return this.sectionIndex.reduce((function(t,i){return Math.max(t,e.sections[i].scale)}),0)}},{key:"addTextSection",value:function(e,t){this.text+=e.text,this.sections.push(jc.forText(e.scale,e.fontStack||t));for(var i=this.sections.length-1,n=0;n<e.text.length;++n)this.sectionIndex.push(i)}},{key:"addImageSection",value:function(e){var t=e.image?e.image.name:"";if(0!==t.length){var i=this.getNextImageSectionCharCode();i?(this.text+=String.fromCharCode(i),this.sections.push(jc.forImage(t)),this.sectionIndex.push(this.sections.length-1)):q("Reached maximum number of images 6401")}else q("Can't add FormattedSection with an empty image.")}},{key:"getNextImageSectionCharCode",value:function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}],[{key:"fromFeature",value:function(t,i){for(var n=new e,r=0;r<t.sections.length;r++){var o=t.sections[r];o.image?n.addImageSection(o):n.addTextSection(o,i)}return n}}]),e}();function Uc(e,t,i,n,r,o,a,s,l,u,c,h,p,f,m,g){var y,v=Vc.fromFeature(e,r);h===Nc.vertical&&v.verticalizePunctuation(p);var b=To.processBidirectionalText,x=To.processStyledBidirectionalText;if(b&&1===v.sections.length){y=[];var _,w=b(v.toString(),$c(v,u,o,t,n,f,m)),S=d(w);try{for(S.s();!(_=S.n()).done;){var k=_.value,C=new Vc;C.text=k,C.sections=v.sections;for(var T=0;T<k.length;T++)C.sectionIndex.push(0);y.push(C)}}catch(I){S.e(I)}finally{S.f()}}else if(x){y=[];var E,A=x(v.text,v.sectionIndex,$c(v,u,o,t,n,f,m)),P=d(A);try{for(P.s();!(E=P.n()).done;){var M=E.value,L=new Vc;L.text=M[0],L.sectionIndex=M[1],L.sections=v.sections,y.push(L)}}catch(I){P.e(I)}finally{P.f()}}else y=function(e,t){var i,n=[],r=e.text,o=0,a=d(t);try{for(a.s();!(i=a.n()).done;){var s=i.value;n.push(e.substring(o,s)),o=s}}catch(I){a.e(I)}finally{a.f()}return o<r.length&&n.push(e.substring(o,r.length)),n}(v,$c(v,u,o,t,n,f,m));var O=[],R={positionedLines:O,text:v.toString(),top:c[1],bottom:c[1],left:c[0],right:c[0],writingMode:h,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(e,t,i,n,r,o,a,s,l,u,c,h){var p,f=0,m=0,g=0,y="right"===s?1:"left"===s?0:.5,v=!1,b=d(r);try{for(b.s();!(p=b.n()).done;){var x,_=p.value.getSections(),w=d(_);try{for(w.s();!(x=w.n()).done;){var S=x.value;if(!S.imageName){var k=t[S.fontStack];if(k&&!(v=void 0!==k.ascender&&void 0!==k.descender))break}}}catch(I){w.e(I)}finally{w.f()}if(!v)break}}catch(I){b.e(I)}finally{b.f()}var C,T,E=0,A=d(r);try{for(A.s();!(C=A.n()).done;){var P=C.value;P.trim();var M=P.getMaxScale(),L=(M-1)*tc,O={positionedGlyphs:[],lineOffset:0};e.positionedLines[E]=O;var R=O.positionedGlyphs,D=0;if(P.length()){for(var z=0,B=0,F=0;F<P.length();F++){var N=P.getSection(F),j=P.getSectionIndex(F),V=P.getCharCode(F),U=N.scale,W=null,H=null,G=null,q=tc,Z=0,X=!(l===Nc.horizontal||!c&&!uo(V)||c&&(Wc[V]||(T=V,Rr(T)||Ir(T)||Dr(T)||eo(T)||ro(T))));if(N.imageName){var Y=n[N.imageName];if(!Y)continue;G=N.imageName,e.iconsInText=e.iconsInText||!0,H=Y.paddedRect;var $=Y.displaySize;U=U*tc/h,W={width:$[0],height:$[1],left:1,top:-3,advance:X?$[1]:$[0],localGlyph:!1},Z=v?-W.height*U:M*tc-17-$[1]*U,q=W.advance;var K=(X?$[0]:$[1])*U-tc*M;K>0&&K>D&&(D=K)}else{var Q=i[N.fontStack];if(!Q)continue;Q[V]&&(H=Q[V]);var J=t[N.fontStack];if(!J)continue;var ee=J.glyphs[V];if(!ee)continue;if(W=ee.metrics,q=8203!==V?tc:0,v){var te=void 0!==J.ascender?Math.abs(J.ascender):0,ie=void 0!==J.descender?Math.abs(J.descender):0,ne=(te+ie)*U;z<ne&&(z=ne,B=(te-ie)/2*U),Z=-te*U}else Z=(M-U)*tc-17}X?(e.verticalizable=!0,R.push({glyph:V,imageName:G,x:f,y:m+Z,vertical:X,scale:U,localGlyph:W.localGlyph,fontStack:N.fontStack,sectionIndex:j,metrics:W,rect:H}),f+=q*U+u):(R.push({glyph:V,imageName:G,x:f,y:m+Z,vertical:X,scale:U,localGlyph:W.localGlyph,fontStack:N.fontStack,sectionIndex:j,metrics:W,rect:H}),f+=W.advance*U+u)}0!==R.length&&(g=Math.max(f-u,g),v?Qc(R,y,D,B,o*M/2):Qc(R,y,D,0,o/2)),f=0;var re=o*M+D;O.lineOffset=Math.max(D,L),m+=re,++E}else m+=o,++E}}catch(I){A.e(I)}finally{A.f()}var oe=m,ae=Kc(a),se=ae.horizontalAlign,le=ae.verticalAlign;(function(e,t,i,n,r,o){var a,s=(t-i)*r,l=-o*n,u=d(e);try{for(u.s();!(a=u.n()).done;){var c,h=a.value,p=d(h.positionedGlyphs);try{for(p.s();!(c=p.n()).done;){var f=c.value;f.x+=s,f.y+=l}}catch(I){p.e(I)}finally{p.f()}}}catch(I){u.e(I)}finally{u.f()}})(e.positionedLines,y,se,le,g,oe),e.top+=-le*oe,e.bottom=e.top+oe,e.left+=-se*g,e.right=e.left+g,e.hasBaseline=v}(R,t,i,n,y,a,s,l,h,u,p,g),!function(e){var t,i=d(e);try{for(i.s();!(t=i.n()).done;)if(0!==t.value.positionedGlyphs.length)return!1}catch(I){i.e(I)}finally{i.f()}return!0}(O)&&R}var Wc={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Hc={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Gc(e,t,i,n,r,o){if(t.imageName){var a=n[t.imageName];return a?a.displaySize[0]*t.scale*tc/o+r:0}var s=i[t.fontStack],l=s&&s.glyphs[e];return l?l.metrics.advance*t.scale+r:0}function qc(e,t,i,n){var r=Math.pow(e-t,2);return n?e<t?r/2:2*r:r+Math.abs(i)*i}function Zc(e,t,i){var n=0;return 10===e&&(n-=1e4),i&&(n+=150),40!==e&&65288!==e||(n+=50),41!==t&&65289!==t||(n+=50),n}function Xc(e,t,i,n,r,o){var a,s=null,l=qc(t,i,r,o),u=d(n);try{for(u.s();!(a=u.n()).done;){var c=a.value,h=qc(t-c.x,i,r,o)+c.badness;h<=l&&(s=c,l=h)}}catch(p){u.e(p)}finally{u.f()}return{index:e,x:t,priorBreak:s,badness:l}}function Yc(e){return e?Yc(e.priorBreak).concat(e.index):[]}function $c(e,t,i,n,r,o,a){if("point"!==o)return[];if(!e)return[];for(var s,l=[],u=function(e,t,i,n,r,o){for(var a=0,s=0;s<e.length();s++){var l=e.getSection(s);a+=Gc(e.getCharCode(s),l,n,r,t,o)}return a/Math.max(1,Math.ceil(a/i))}(e,t,i,n,r,a),c=e.text.indexOf("\u200b")>=0,h=0,d=0;d<e.length();d++){var p=e.getSection(d),f=e.getCharCode(d);if(Wc[f]||(h+=Gc(f,p,n,r,t,a)),d<e.length()-1){var m=!((s=f)<11904||!(Wr(s)||Ur(s)||io(s)||Jr(s)||Zr(s)||zr(s)||Hr(s)||Nr(s)||Xr(s)||Yr(s)||qr(s)||oo(s)||jr(s)||Fr(s)||Br(s)||Gr(s)||Vr(s)||to(s)||Kr(s)||$r(s)));(Hc[f]||m||p.imageName)&&l.push(Xc(d+1,h,u,l,Zc(f,e.getCharCode(d+1),m&&c),!1))}}return Yc(Xc(e.length(),h,u,l,0,!0))}function Kc(e){var t=.5,i=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":i=1;break;case"top":case"top-right":case"top-left":i=0}return{horizontalAlign:t,verticalAlign:i}}function Qc(e,t,i,n,r){if(t||i||n||r)for(var o=e.length-1,a=e[o],s=(a.x+a.metrics.advance*a.scale)*t,l=0;l<=o;l++)e[l].x-=s,e[l].y+=i+n+r}function Jc(e,t,i){var n=Kc(i),r=n.horizontalAlign,o=n.verticalAlign,a=t[0]-e.displaySize[0]*r,s=t[1]-e.displaySize[1]*o;return{image:e,top:s,bottom:s+e.displaySize[1],left:a,right:a+e.displaySize[0]}}function eh(e,t,i,n,r,o){var a,s=e.image;if(s.content){var l=s.content,u=s.pixelRatio||1;a=[l[0]/u,l[1]/u,s.displaySize[0]-l[2]/u,s.displaySize[1]-l[3]/u]}var c,h,d,p,f=t.left*o,m=t.right*o;"width"===i||"both"===i?(p=r[0]+f-n[3],h=r[0]+m+n[1]):h=(p=r[0]+(f+m-s.displaySize[0])/2)+s.displaySize[0];var g=t.top*o,y=t.bottom*o;return"height"===i||"both"===i?(c=r[1]+g-n[0],d=r[1]+y+n[2]):d=(c=r[1]+(g+y-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:c,right:h,bottom:d,left:p,collisionPadding:a}}var th=function(e){f(i,e);var t=m(i);function i(e,n,r,o,a){var s;return g(this,i),(s=t.call(this,e,n)).angle=o,s.z=r,void 0!==a&&(s.segment=a),s}return y(i,[{key:"clone",value:function(){return new i(this.x,this.y,this.z,this.angle,this.segment)}}]),i}(v);function ih(e,t,i,n,r){if(void 0===t.segment)return!0;for(var o=t,a=t.segment+1,s=0;s>-i/2;){if(--a<0)return!1;s-=e[a].dist(o),o=e[a]}s+=e[a].dist(e[a+1]),a++;for(var l=[],u=0;s<i/2;){var c=e[a],h=e[a+1];if(!h)return!1;var d=e[a-1].angleTo(c)-c.angleTo(h);for(d=Math.abs((d+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:d}),u+=d;s-l[0].distance>n;)u-=l.shift().angleDelta;if(u>r)return!1;a++,s+=c.dist(h)}return!0}function nh(e){for(var t=0,i=0;i<e.length-1;i++)t+=e[i].dist(e[i+1]);return t}function rh(e,t,i){return e?.6*t*i:0}function oh(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function ah(e,t,i,n,r,o){for(var a=rh(i,r,o),s=oh(i,n)*o,l=0,u=nh(e)/2,c=0;c<e.length-1;c++){var h=e[c],d=e[c+1],p=h.dist(d);if(l+p>u){var f=(u-l)/p,m=yi(h.x,d.x,f),g=yi(h.y,d.y,f),y=new th(m,g,0,d.angleTo(h),c);return!a||ih(e,y,s,a,t)?y:void 0}l+=p}}function sh(e,t,i,n,r,o,a,s,l){var u=rh(n,o,a),c=oh(n,r),h=c*a,d=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-h<t/4&&(t=h+t/4),lh(e,d?t/2*s%t:(c/2+2*o)*a*s%t,t,u,i,h,d,!1,l)}function lh(e,t,i,n,r,o,a,s,l){for(var u=o/2,c=nh(e),h=0,d=t-i,p=[],f=0;f<e.length-1;f++){for(var m=e[f],g=e[f+1],y=m.dist(g),v=g.angleTo(m);d+i<h+y;){var b=((d+=i)-h)/y,x=yi(m.x,g.x,b),_=yi(m.y,g.y,b);if(x>=0&&x<l&&_>=0&&_<l&&d-u>=0&&d+u<=c){var w=new th(x,_,0,v,f);w._round(),n&&!ih(e,w,o,n,r)||p.push(w)}}h+=y}return s||p.length||a||(p=lh(e,h/2,i,n,r,o,a,!0,l)),p}function uh(e,t,i,n,r){for(var o=[],a=0;a<e.length;a++)for(var s=e[a],l=void 0,u=0;u<s.length-1;u++){var c=s[u],h=s[u+1];c.x<t&&h.x<t||(c.x<t?c=new v(t,c.y+(t-c.x)/(h.x-c.x)*(h.y-c.y))._round():h.x<t&&(h=new v(t,c.y+(t-c.x)/(h.x-c.x)*(h.y-c.y))._round()),c.y<i&&h.y<i||(c.y<i?c=new v(c.x+(i-c.y)/(h.y-c.y)*(h.x-c.x),i)._round():h.y<i&&(h=new v(c.x+(i-c.y)/(h.y-c.y)*(h.x-c.x),i)._round()),c.x>=n&&h.x>=n||(c.x>=n?c=new v(n,c.y+(n-c.x)/(h.x-c.x)*(h.y-c.y))._round():h.x>=n&&(h=new v(n,c.y+(n-c.x)/(h.x-c.x)*(h.y-c.y))._round()),c.y>=r&&h.y>=r||(c.y>=r?c=new v(c.x+(r-c.y)/(h.y-c.y)*(h.x-c.x),r)._round():h.y>=r&&(h=new v(c.x+(r-c.y)/(h.y-c.y)*(h.x-c.x),r)._round()),l&&c.equals(l[l.length-1])||(l=[c],o.push(l)),l.push(h)))))}return o}Tr("Anchor",th);var ch=1e20;function hh(e,t,i,n,r,o,a,s,l){for(var u=t;u<t+n;u++)dh(e,i*o+u,o,r,a,s,l);for(var c=i;c<i+r;c++)dh(e,c*o+t,1,n,a,s,l)}function dh(e,t,i,n,r,o,a){o[0]=0,a[0]=-ch,a[1]=ch,r[0]=e[t];for(var s=1,l=0,u=0;s<n;s++){r[s]=e[t+s*i];var c=s*s;do{var h=o[l];u=(r[s]-r[h]+c-h*h)/(s-h)/2}while(u<=a[l]&&--l>-1);o[++l]=s,a[l]=u,a[l+1]=ch}for(var d=0,p=0;d<n;d++){for(;a[p+1]<d;)p++;var f=o[p],m=d-f;e[t+d*i]=r[f]+m*m}}var ph={none:0,ideographs:1,all:2},fh=function(){function e(t,i,n){g(this,e),this.requestManager=t,this.localGlyphMode=i,this.localFontFamily=n,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}return y(e,[{key:"setURL",value:function(e){this.url=e}},{key:"getGlyphs",value:function(t,i){var n=this,r=[];for(var o in t){var a,s=d(t[o]);try{for(s.s();!(a=s.n()).done;){var l=a.value;r.push({stack:o,id:l})}}catch(u){s.e(u)}finally{s.f()}}O(r,(function(t,i){var r=t.stack,o=t.id,a=n.entries[r];a||(a=n.entries[r]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});var s=a.glyphs[o];if(void 0===s){if(s=n._tinySDF(a,r,o))return a.glyphs[o]=s,void i(null,{stack:r,id:o,glyph:s});var l=Math.floor(o/256);if(256*l>65535)i(new Error("glyphs > 65535 not supported"));else if(a.ranges[l])i(null,{stack:r,id:o,glyph:s});else{var c=a.requests[l];c||(c=a.requests[l]=[],e.loadGlyphRange(r,l,n.url,n.requestManager,(function(e,t){if(t){for(var i in a.ascender=t.ascender,a.descender=t.descender,t.glyphs)n._doesCharSupportLocalGlyph(+i)||(a.glyphs[+i]=t.glyphs[+i]);a.ranges[l]=!0}var r,o=d(c);try{for(o.s();!(r=o.n()).done;)(0,r.value)(e,t)}catch(u){o.e(u)}finally{o.f()}delete a.requests[l]}))),c.push((function(e,t){e?i(e):t&&i(null,{stack:r,id:o,glyph:t.glyphs[o]||null})}))}}else i(null,{stack:r,id:o,glyph:s})}),(function(e,t){if(e)i(e);else if(t){var r,o={},a=d(t);try{for(a.s();!(r=a.n()).done;){var s=r.value,l=s.stack,c=s.id,h=s.glyph;void 0===o[l]&&(o[l]={}),void 0===o[l].glyphs&&(o[l].glyphs={}),o[l].glyphs[c]=h&&{id:h.id,bitmap:h.bitmap.clone(),metrics:h.metrics},o[l].ascender=n.entries[l].ascender,o[l].descender=n.entries[l].descender}}catch(u){a.e(u)}finally{a.f()}i(null,o)}}))}},{key:"_doesCharSupportLocalGlyph",value:function(e){return this.localGlyphMode!==ph.none&&(this.localGlyphMode===ph.all?!!this.localFontFamily:!!this.localFontFamily&&(Yr(e)||Qr(e)||jr(e)||Vr(e))||Nr(e))}},{key:"_tinySDF",value:function(t,i,n){var r=this.localFontFamily;if(r&&this._doesCharSupportLocalGlyph(n)){var o=t.tinySDF;if(!o){var a="400";/bold/i.test(i)?a="900":/medium/i.test(i)?a="500":/light/i.test(i)&&(a="200"),(o=t.tinySDF=new e.TinySDF({fontFamily:r,fontWeight:a,fontSize:48,buffer:6,radius:16})).fontWeight=a}if(this.localGlyphs[o.fontWeight][n])return this.localGlyphs[o.fontWeight][n];var s=String.fromCharCode(n),l=o.draw(s),u=l.data,c=l.width,h=l.height,d=l.glyphWidth,p=l.glyphHeight,f=l.glyphLeft,m=l.glyphTop,g=l.glyphAdvance;return this.localGlyphs[o.fontWeight][n]={id:n,bitmap:new Tl({width:c,height:h},u),metrics:{width:d/2,height:p/2,left:f/2,top:m/2-27,advance:g/2,localGlyph:!0}}}}}]),e}();function mh(e,t,i,n){var r=[],o=e.image,a=o.pixelRatio,s=o.paddedRect.w-2,l=o.paddedRect.h-2,u=e.right-e.left,c=e.bottom-e.top,h=o.stretchX||[[0,s]],d=o.stretchY||[[0,l]],p=function(e,t){return e+t[1]-t[0]},f=h.reduce(p,0),m=d.reduce(p,0),g=s-f,y=l-m,b=0,x=f,_=0,w=m,S=0,k=g,C=0,T=y;if(o.content&&n){var E=o.content;b=gh(h,0,E[0]),_=gh(d,0,E[1]),x=gh(h,E[0],E[2]),w=gh(d,E[1],E[3]),S=E[0]-b,C=E[1]-_,k=E[2]-E[0]-x,T=E[3]-E[1]-w}var A=function(n,r,s,l){var h=vh(n.stretch-b,x,u,e.left),d=bh(n.fixed-S,k,n.stretch,f),p=vh(r.stretch-_,w,c,e.top),g=bh(r.fixed-C,T,r.stretch,m),y=vh(s.stretch-b,x,u,e.left),E=bh(s.fixed-S,k,s.stretch,f),A=vh(l.stretch-_,w,c,e.top),P=bh(l.fixed-C,T,l.stretch,m),M=new v(h,p),L=new v(y,p),O=new v(y,A),R=new v(h,A),I=new v(d/a,g/a),D=new v(E/a,P/a),z=t*Math.PI/180;if(z){var B=Math.sin(z),F=Math.cos(z),N=[F,-B,B,F];M._matMult(N),L._matMult(N),R._matMult(N),O._matMult(N)}var j=n.stretch+n.fixed,V=r.stretch+r.fixed;return{tl:M,tr:L,bl:R,br:O,tex:{x:o.paddedRect.x+1+j,y:o.paddedRect.y+1+V,w:s.stretch+s.fixed-j,h:l.stretch+l.fixed-V},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:I,pixelOffsetBR:D,minFontScaleX:k/a/u,minFontScaleY:T/a/c,isSDF:i}};if(n&&(o.stretchX||o.stretchY))for(var P=yh(h,g,f),M=yh(d,y,m),L=0;L<P.length-1;L++)for(var O=P[L],R=P[L+1],I=0;I<M.length-1;I++)r.push(A(O,M[I],R,M[I+1]));else r.push(A({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:s+1},{fixed:0,stretch:l+1}));return r}function gh(e,t,i){var n,r=0,o=d(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;r+=Math.max(t,Math.min(i,a[1]))-Math.max(t,Math.min(i,a[0]))}}catch(s){o.e(s)}finally{o.f()}return r}function yh(e,t,i){var n,r=[{fixed:-1,stretch:0}],o=d(e);try{for(o.s();!(n=o.n()).done;){var a=h(n.value,2),s=a[0],l=a[1],u=r[r.length-1];r.push({fixed:s-u.stretch,stretch:u.stretch}),r.push({fixed:s-u.stretch,stretch:u.stretch+(l-s)})}}catch(c){o.e(c)}finally{o.f()}return r.push({fixed:t+1,stretch:i}),r}function vh(e,t,i,n){return e/t*i+n}function bh(e,t,i,n){return e-t*i/n}function xh(e,t,i,n){var r=t+e.positionedLines[n].lineOffset;return 0===n?i+r/2:i+(r+(t+e.positionedLines[n-1].lineOffset))/2}fh.loadGlyphRange=function(e,t,i,n,r){var o=256*t,a=o+255,s=n.transformRequest(n.normalizeGlyphsURL(i).replace("{fontstack}",e).replace("{range}","".concat(o,"-").concat(a)),ze.Glyphs);je(s,(function(e,t){if(e)r(e);else if(t){var i,n={},o=function(e){return new pc(e).readFields(Rc,{})}(t),a=d(o.glyphs);try{for(a.s();!(i=a.n()).done;){var s=i.value;n[s.id]=s}}catch(l){a.e(l)}finally{a.f()}r(null,{glyphs:n,ascender:o.ascender,descender:o.descender})}}))},fh.TinySDF=function(){function e(t){var i=t.fontSize,n=void 0===i?24:i,r=t.buffer,o=void 0===r?3:r,a=t.radius,s=void 0===a?8:a,l=t.cutoff,u=void 0===l?.25:l,c=t.fontFamily,h=void 0===c?"sans-serif":c,d=t.fontWeight,p=void 0===d?"normal":d,f=t.fontStyle,m=void 0===f?"normal":f;g(this,e),this.buffer=o,this.cutoff=u,this.radius=s;var y=this.size=n+4*o,v=this._createCanvas(y),b=this.ctx=v.getContext("2d",{willReadFrequently:!0});b.font="".concat(m," ").concat(p," ").concat(n,"px ").concat(h),b.textBaseline="alphabetic",b.textAlign="left",b.fillStyle="black",this.gridOuter=new Float64Array(y*y),this.gridInner=new Float64Array(y*y),this.f=new Float64Array(y),this.z=new Float64Array(y+1),this.v=new Uint16Array(y)}return y(e,[{key:"_createCanvas",value:function(e){var t=document.createElement("canvas");return t.width=t.height=e,t}},{key:"draw",value:function(e){var t=this.ctx.measureText(e),i=t.width,n=t.actualBoundingBoxAscent,r=t.actualBoundingBoxDescent,o=t.actualBoundingBoxLeft,a=t.actualBoundingBoxRight,s=Math.floor(n),l=Math.min(this.size-this.buffer,Math.ceil(a-o)),u=Math.min(this.size-this.buffer,Math.ceil(n)+Math.ceil(r)),c=l+2*this.buffer,h=u+2*this.buffer,d=c*h,p=new Uint8ClampedArray(d),f={data:p,width:c,height:h,glyphWidth:l,glyphHeight:u,glyphTop:s,glyphLeft:0,glyphAdvance:i};if(0===l||0===u)return f;var m=this.ctx,g=this.buffer,y=this.gridInner,v=this.gridOuter;m.clearRect(g,g,l,u),m.fillText(e,g,g+s+1);var b=m.getImageData(g,g,l,u);v.fill(ch,0,d),y.fill(0,0,d);for(var x=0;x<u;x++)for(var _=0;_<l;_++){var w=b.data[4*(x*l+_)+3]/255;if(0!==w){var S=(x+g)*c+_+g;if(1===w)v[S]=0,y[S]=ch;else{var k=.5-w;v[S]=k>0?k*k:0,y[S]=k<0?k*k:0}}}hh(v,0,0,c,h,c,this.f,this.v,this.z),hh(y,g,g,l,u,c,this.f,this.v,this.z);for(var C=0;C<d;C++){var T=Math.sqrt(v[C])-Math.sqrt(y[C]);p[C]=Math.round(255-255*(T/this.radius+this.cutoff))}return f}}]),e}();var _h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wh;if(g(this,e),this.data=t,this.length=this.data.length,this.compare=i,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}return y(e,[{key:"push",value:function(e){this.data.push(e),this.length++,this._up(this.length-1)}},{key:"pop",value:function(){if(0!==this.length){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}}},{key:"peek",value:function(){return this.data[0]}},{key:"_up",value:function(e){for(var t=this.data,i=this.compare,n=t[e];e>0;){var r=e-1>>1,o=t[r];if(i(n,o)>=0)break;t[e]=o,e=r}t[e]=n}},{key:"_down",value:function(e){for(var t=this.data,i=this.compare,n=this.length>>1,r=t[e];e<n;){var o=1+(e<<1),a=t[o],s=o+1;if(s<this.length&&i(t[s],a)<0&&(o=s,a=t[s]),i(a,r)>=0)break;t[e]=a,e=o}t[e]=r}}]),e}();function wh(e,t){return e<t?-1:e>t?1:0}function Sh(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=1/0,r=1/0,o=-1/0,a=-1/0,s=e[0],l=0;l<s.length;l++){var u=s[l];(!l||u.x<n)&&(n=u.x),(!l||u.y<r)&&(r=u.y),(!l||u.x>o)&&(o=u.x),(!l||u.y>a)&&(a=u.y)}var c=Math.min(o-n,a-r),h=c/2,d=new _h([],kh);if(0===c)return new v(n,r);for(var p=n;p<o;p+=c)for(var f=r;f<a;f+=c)d.push(new Ch(p+h,f+h,h,e));for(var m=function(e){for(var t=0,i=0,n=0,r=e[0],o=0,a=r.length,s=a-1;o<a;s=o++){var l=r[o],u=r[s],c=l.x*u.y-u.x*l.y;i+=(l.x+u.x)*c,n+=(l.y+u.y)*c,t+=3*c}return new Ch(i/t,n/t,0,e)}(e),g=d.length;d.length;){var y=d.pop();(y.d>m.d||!m.d)&&(m=y,i&&console.log("found best %d after %d probes",Math.round(1e4*y.d)/1e4,g)),y.max-m.d<=t||(h=y.h/2,d.push(new Ch(y.p.x-h,y.p.y-h,h,e)),d.push(new Ch(y.p.x+h,y.p.y-h,h,e)),d.push(new Ch(y.p.x-h,y.p.y+h,h,e)),d.push(new Ch(y.p.x+h,y.p.y+h,h,e)),g+=4)}return i&&(console.log("num probes: ".concat(g)),console.log("best distance: ".concat(m.d))),m.p}function kh(e,t){return t.max-e.max}function Ch(e,t,i,n){this.p=new v(e,t),this.h=i,this.d=function(e,t){for(var i=!1,n=1/0,r=0;r<t.length;r++)for(var o=t[r],a=0,s=o.length,l=s-1;a<s;l=a++){var u=o[a],c=o[l];u.y>e.y!=c.y>e.y&&e.x<(c.x-u.x)*(e.y-u.y)/(c.y-u.y)+u.x&&(i=!i),n=Math.min(n,Fs(e,u,c))}return(i?1:-1)*Math.sqrt(n)}(this.p,n),this.max=this.d+this.h*Math.SQRT2}var Th=Number.POSITIVE_INFINITY,Eh=Math.sqrt(2);function Ah(e,t){return t[1]!==Th?function(e,t,i){var n=0,r=0;switch(t=Math.abs(t),i=Math.abs(i),e){case"top-right":case"top-left":case"top":r=i-7;break;case"bottom-right":case"bottom-left":case"bottom":r=7-i}switch(e){case"top-right":case"bottom-right":case"right":n=-t;break;case"top-left":case"bottom-left":case"left":n=t}return[n,r]}(e,t[0],t[1]):function(e,t){var i=0,n=0;t<0&&(t=0);var r=t/Eh;switch(e){case"top-right":case"top-left":n=r-7;break;case"bottom-right":case"bottom-left":n=7-r;break;case"bottom":n=7-t;break;case"top":n=t-7}switch(e){case"top-right":case"bottom-right":i=-r;break;case"top-left":case"bottom-left":i=r;break;case"left":i=t;break;case"right":i=-t}return[i,n]}(e,t[0])}function Ph(e,t,i,n,r,o,a,s,l){e.createArrays(),e.tilePixelRatio=ls/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;var u=e.layers[0].layout,c=e.layers[0]._unevaluatedLayout._values,h={};if("composite"===e.textSizeData.kind){var p=e.textSizeData,f=p.minZoom,m=p.maxZoom;h.compositeTextSizes=[c["text-size"].possiblyEvaluate(new Eo(f),s),c["text-size"].possiblyEvaluate(new Eo(m),s)]}if("composite"===e.iconSizeData.kind){var g=e.iconSizeData,y=g.minZoom,v=g.maxZoom;h.compositeIconSizes=[c["icon-size"].possiblyEvaluate(new Eo(y),s),c["icon-size"].possiblyEvaluate(new Eo(v),s)]}h.layoutTextSize=c["text-size"].possiblyEvaluate(new Eo(l+1),s),h.layoutIconSize=c["icon-size"].possiblyEvaluate(new Eo(l+1),s),h.textMaxSize=c["text-size"].possiblyEvaluate(new Eo(18),s);var b,x="map"===u.get("text-rotation-alignment")&&"point"!==u.get("symbol-placement"),_=u.get("text-size"),w=d(e.features);try{var S=function(){var o=b.value,l=u.get("text-font").evaluate(o,{},s).join(","),c=_.evaluate(o,{},s),d=h.layoutTextSize.evaluate(o,{},s),p=(h.layoutIconSize.evaluate(o,{},s),{horizontal:{},vertical:void 0}),f=o.text,m=void 0,g=[0,0];if(f){var y=f.toString(),v=u.get("text-letter-spacing").evaluate(o,{},s)*tc,w=u.get("text-line-height").evaluate(o,{},s)*tc,S=so(y)?v:0,k=u.get("text-anchor").evaluate(o,{},s),C=u.get("text-variable-anchor");if(!C){var T=u.get("text-radial-offset").evaluate(o,{},s);g=T?Ah(k,[T*tc,Th]):u.get("text-offset").evaluate(o,{},s).map((function(e){return e*tc}))}var E=x?"center":u.get("text-justify").evaluate(o,{},s),A=u.get("symbol-placement"),P="point"===A,M="point"===A?u.get("text-max-width").evaluate(o,{},s)*tc:0,L=function(n){e.allowVerticalPlacement&&ao(y)&&(p.vertical=Uc(f,t,i,r,l,M,w,k,n,S,g,Nc.vertical,!0,A,d,c))};if(!x&&C){for(var O="auto"===E?C.map((function(e){return Mh(e)})):[E],R=!1,I=0;I<O.length;I++){var D=O[I];if(!p.horizontal[D])if(R)p.horizontal[D]=p.horizontal[0];else{var z=Uc(f,t,i,r,l,M,w,"center",D,S,g,Nc.horizontal,!1,A,d,c);z&&(p.horizontal[D]=z,R=1===z.positionedLines.length)}}L("left")}else{if("auto"===E&&(E=Mh(k)),P||u.get("text-writing-mode").indexOf("horizontal")>=0||!ao(y)){var B=Uc(f,t,i,r,l,M,w,k,E,S,g,Nc.horizontal,!1,A,d,c);B&&(p.horizontal[E]=B)}L("point"===A?"left":E)}}var F=!1;if(o.icon&&o.icon.name){var N=n[o.icon.name];N&&(m=Jc(r[o.icon.name],u.get("icon-offset").evaluate(o,{},s),u.get("icon-anchor").evaluate(o,{},s)),F=N.sdf,void 0===e.sdfIcons?e.sdfIcons=N.sdf:e.sdfIcons!==N.sdf&&q("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(N.pixelRatio!==e.pixelRatio||0!==u.get("icon-rotate").constantOr(1))&&(e.iconsNeedLinear=!0))}var j=Ih(p.horizontal)||p.vertical;e.iconsInText||(e.iconsInText=!!j&&j.iconsInText),(j||m)&&Lh(e,o,p,m,n,h,d,0,g,F,a,s)};for(w.s();!(b=w.n()).done;)S()}catch(k){w.e(k)}finally{w.f()}o&&e.generateCollisionDebugBuffers(l,e.collisionBoxArray)}function Mh(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Lh(e,t,i,n,r,o,a,s,l,u,c,p){var f=o.textMaxSize.evaluate(t,{},p);void 0===f&&(f=a);var m,g=e.layers[0].layout,y=g.get("icon-offset").evaluate(t,{},p),v=Ih(i.horizontal)||i.vertical,b=a/24,x=e.tilePixelRatio*f/24,_=e.tilePixelRatio*g.get("symbol-spacing"),w=g.get("text-padding")*e.tilePixelRatio,S=g.get("icon-padding")*e.tilePixelRatio,C=k(g.get("text-max-angle")),T="map"===g.get("text-rotation-alignment")&&"point"!==g.get("symbol-placement"),E="map"===g.get("icon-rotation-alignment")&&"point"!==g.get("symbol-placement"),A=g.get("symbol-placement"),P=_/2,M=g.get("icon-text-fit");n&&"none"!==M&&(e.allowVerticalPlacement&&i.vertical&&(m=eh(n,i.vertical,M,g.get("icon-text-fit-padding"),y,b)),v&&(n=eh(n,v,M,g.get("icon-text-fit-padding"),y,b)));var L=function(a,s){s.x<0||s.x>=ls||s.y<0||s.y>=ls||function(e,t,i,n,r,o,a,s,l,u,c,d,p,f,m,g,y,v,b,x,_,w,S,k,C){var T,E,A,P,M,L,O,R,I,D=e.addToLineVertexArray(t,n),z=0,B=0,F=0,N=0,j=-1,V=-1,U={},W=Oa(""),H=0,G=0;if(void 0===l._unevaluatedLayout.getValue("text-radial-offset")?(T=l.layout.get("text-offset").evaluate(_,{},C).map((function(e){return e*tc})),H=(E=h(T,2))[0],G=E[1]):(H=l.layout.get("text-radial-offset").evaluate(_,{},C)*tc,G=Th),e.allowVerticalPlacement&&r.vertical){var Z=r.vertical;if(m)R=zh(Z),s&&(I=zh(s));else{var X=l.layout.get("text-rotate").evaluate(_,{},C)+90;M=Dh(u,i,t,c,d,p,Z,f,X,g),s&&(L=Dh(u,i,t,c,d,p,s,v,X))}}if(o){var Y=l.layout.get("icon-rotate").evaluate(_,{},C),$="none"!==l.layout.get("icon-text-fit"),K=mh(o,Y,S,$),Q=s?mh(s,Y,S,$):void 0;P=Dh(u,i,t,c,d,p,o,v,Y),z=4*K.length;var J=e.iconSizeData,ee=null;"source"===J.kind?(ee=[ic*l.layout.get("icon-size").evaluate(_,{},C)])[0]>Oh&&q("".concat(e.layerIds[0],': Value for "icon-size" is >= 255. Reduce your "icon-size".')):"composite"===J.kind&&((ee=[ic*w.compositeIconSizes[0].evaluate(_,{},C),ic*w.compositeIconSizes[1].evaluate(_,{},C)])[0]>Oh||ee[1]>Oh)&&q("".concat(e.layerIds[0],': Value for "icon-size" is >= 255. Reduce your "icon-size".')),e.addSymbols(e.icon,K,ee,x,b,_,!1,i,t,D.lineStartIndex,D.lineLength,-1,k,C),j=e.icon.placedSymbolArray.length-1,Q&&(B=4*Q.length,e.addSymbols(e.icon,Q,ee,x,b,_,Nc.vertical,i,t,D.lineStartIndex,D.lineLength,-1,k,C),V=e.icon.placedSymbolArray.length-1)}for(var te in r.horizontal){var ie=r.horizontal[te];A||(W=Oa(ie.text),m?O=zh(ie):A=Dh(u,i,t,c,d,p,ie,f,l.layout.get("text-rotate").evaluate(_,{},C),g));var ne=1===ie.positionedLines.length;if(F+=Rh(e,i,t,ie,a,l,m,_,g,D,r.vertical?Nc.horizontal:Nc.horizontalOnly,ne?Object.keys(r.horizontal):[te],U,j,w,k,C),ne)break}r.vertical&&(N+=Rh(e,i,t,r.vertical,a,l,m,_,g,D,Nc.vertical,["vertical"],U,V,w,k,C));var re=-1,oe=function(e,t){return e?Math.max(e,t):t};re=oe(O,re),re=oe(R,re);var ae=(re=oe(I,re))>-1?1:0;e.glyphOffsetArray.length>=Gh.MAX_GLYPHS&&q("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==_.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,_.sortKey),e.symbolInstances.emplaceBack(i.x,i.y,i.z,t.x,t.y,U.right>=0?U.right:-1,U.center>=0?U.center:-1,U.left>=0?U.left:-1,U.vertical>=0?U.vertical:-1,j,V,W,void 0!==A?A:e.collisionBoxArray.length,void 0!==A?A+1:e.collisionBoxArray.length,void 0!==M?M:e.collisionBoxArray.length,void 0!==M?M+1:e.collisionBoxArray.length,void 0!==P?P:e.collisionBoxArray.length,void 0!==P?P+1:e.collisionBoxArray.length,L||e.collisionBoxArray.length,L?L+1:e.collisionBoxArray.length,c,F,N,z,B,ae,0,H,G,re)}(e,s,s,a,i,n,r,m,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,w,T,l,0,S,E,y,t,o,u,c,p)};if("line"===A){var O,R=d(uh(t.geometry,0,0,ls,ls));try{for(R.s();!(O=R.n()).done;){var I,D=O.value,z=sh(D,_,C,i.vertical||v,n,24,x,e.overscaling,ls),B=d(z);try{for(B.s();!(I=B.n()).done;){var F=I.value;v&&Bh(e,v.text,P,F)||L(D,F)}}catch(ne){B.e(ne)}finally{B.f()}}}catch(ne){R.e(ne)}finally{R.f()}}else if("line-center"===A){var N,j=d(t.geometry);try{for(j.s();!(N=j.n()).done;){var V=N.value;if(V.length>1){var U=ah(V,C,i.vertical||v,n,24,x);U&&L(V,U)}}}catch(ne){j.e(ne)}finally{j.f()}}else if("Polygon"===t.type){var W,H=d(cu(t.geometry,0));try{for(H.s();!(W=H.n()).done;){var G=W.value,Z=Sh(G,16);L(G[0],new th(Z.x,Z.y,0,0,void 0))}}catch(ne){H.e(ne)}finally{H.f()}}else if("LineString"===t.type){var X,Y=d(t.geometry);try{for(Y.s();!(X=Y.n()).done;){var $=X.value;L($,new th($[0].x,$[0].y,0,0,void 0))}}catch(ne){Y.e(ne)}finally{Y.f()}}else if("Point"===t.type){var K,Q=d(t.geometry);try{for(Q.s();!(K=Q.n()).done;){var J,ee=K.value,te=d(ee);try{for(te.s();!(J=te.n()).done;){var ie=J.value;L([ie],new th(ie.x,ie.y,0,0,void 0))}}catch(ne){te.e(ne)}finally{te.f()}}}catch(ne){Q.e(ne)}finally{Q.f()}}}var Oh=32640;function Rh(e,t,i,n,r,a,s,l,u,h,p,f,m,g,y,b,x){var _=function(e,t,i,n,r,a,s,l){var u=[];if(0===t.positionedLines.length)return u;var h,p=n.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,f=function(e){var t=e[0],i=e[1],n=t*i;return n>0?[t,-i]:n<0?[-t,i]:0===t?[i,t]:[i,-t]}(i),m=Math.abs(t.top-t.bottom),g=d(t.positionedLines);try{for(g.s();!(h=g.n()).done;)m-=h.value.lineOffset}catch(ae){g.e(ae)}finally{g.f()}for(var y=t.positionedLines.length,b=m/y,x=t.top-i[1],_=0;_<y;++_){var w=t.positionedLines[_];x=xh(t,b,x,_);var S,k=d(w.positionedGlyphs);try{for(k.s();!(S=k.n()).done;){var C=S.value;if(C.rect){var T=C.rect||{},E=4,A=!0,P=1,M=0;if(C.imageName){var L=s[C.imageName];if(!L)continue;if(L.sdf){q("SDF images are not supported in formatted text and will be ignored.");continue}A=!1,E=1/(P=L.pixelRatio)}var O=(r||l)&&C.vertical,R=C.metrics.advance*C.scale/2,I=C.metrics,D=C.rect;if(null!==D){l&&t.verticalizable&&(M=C.imageName?R-C.metrics.width*C.scale/2:0);var z=r?[C.x+R,C.y]:[0,0],B=[0,0],F=[0,0],N=!1;r||(O?(F=[C.x+R+f[0],C.y+f[1]-M],N=!0):B=[C.x+R+i[0],C.y+i[1]-M]);var j=D.w*C.scale/(P*(C.localGlyph?2:1)),V=D.h*C.scale/(P*(C.localGlyph?2:1)),U=void 0,W=void 0,H=void 0,G=void 0;if(O){var Z=C.y-x,X=new v(-R,R-Z),Y=-Math.PI/2,$=o(v,c(F));(U=new v(-R+B[0],B[1]))._rotateAround(Y,X)._add($),U.x+=-Z+R,U.y-=(I.left-E)*C.scale;var K=C.imageName?I.advance*C.scale:tc*C.scale,Q=String.fromCharCode(C.glyph);uc(Q)?U.x+=(1-E)*C.scale:cc(Q)?U.x+=K-I.height*C.scale+(-E-1)*C.scale:U.x+=C.imageName||I.width+2*E===D.w&&I.height+2*E===D.h?(K-V)/2:(K-(I.height+2*E)*C.scale)/2,W=new v(U.x,U.y-j),H=new v(U.x+V,U.y),G=new v(U.x+V,U.y-j)}else{var J=(I.left-E)*C.scale-R+B[0],ee=(-I.top-E)*C.scale+B[1],te=J+j,ie=ee+V;U=new v(J,ee),W=new v(te,ee),H=new v(J,ie),G=new v(te,ie)}if(p){var ne=void 0;ne=r?new v(0,0):N?new v(f[0],f[1]):new v(i[0],i[1]),U._rotateAround(p,ne),W._rotateAround(p,ne),H._rotateAround(p,ne),G._rotateAround(p,ne)}var re=new v(0,0),oe=new v(0,0);u.push({tl:U,tr:W,bl:H,br:G,tex:T,writingMode:t.writingMode,glyphOffset:z,sectionIndex:C.sectionIndex,isSDF:A,pixelOffsetTL:re,pixelOffsetBR:oe,minFontScaleX:0,minFontScaleY:0})}}}}catch(ae){k.e(ae)}finally{k.f()}}return u}(0,n,u,a,s,l,r,e.allowVerticalPlacement),w=e.textSizeData,S=null;"source"===w.kind?(S=[ic*a.layout.get("text-size").evaluate(l,{},x)])[0]>Oh&&q("".concat(e.layerIds[0],': Value for "text-size" is >= 255. Reduce your "text-size".')):"composite"===w.kind&&((S=[ic*y.compositeTextSizes[0].evaluate(l,{},x),ic*y.compositeTextSizes[1].evaluate(l,{},x)])[0]>Oh||S[1]>Oh)&&q("".concat(e.layerIds[0],': Value for "text-size" is >= 255. Reduce your "text-size".')),e.addSymbols(e.text,_,S,u,s,l,p,t,i,h.lineStartIndex,h.lineLength,g,b,x);var k,C=d(f);try{for(C.s();!(k=C.n()).done;)m[k.value]=e.text.placedSymbolArray.length-1}catch(T){C.e(T)}finally{C.f()}return 4*_.length}function Ih(e){for(var t in e)return e[t];return null}function Dh(e,t,i,n,r,o,a,s,l,u){var c=a.top,h=a.bottom,d=a.left,p=a.right,f=a.collisionPadding;if(f&&(d-=f[0],c-=f[1],p+=f[2],h+=f[3]),l){var m=new v(d,c),g=new v(p,c),y=new v(d,h),b=new v(p,h),x=k(l),_=new v(0,0);u&&(_=new v(u[0],u[1])),m._rotateAround(x,_),g._rotateAround(x,_),y._rotateAround(x,_),b._rotateAround(x,_),d=Math.min(m.x,g.x,y.x,b.x),p=Math.max(m.x,g.x,y.x,b.x),c=Math.min(m.y,g.y,y.y,b.y),h=Math.max(m.y,g.y,y.y,b.y)}return e.emplaceBack(t.x,t.y,t.z,i.x,i.y,d,c,p,h,s,n,r,o),e.length-1}function zh(e){e.collisionPadding&&(e.top-=e.collisionPadding[1],e.bottom+=e.collisionPadding[3]);var t=e.bottom-e.top;return t>0?Math.max(10,t):null}function Bh(e,t,i,n){var r=e.compareText;if(t in r){for(var o=r[t],a=o.length-1;a>=0;a--)if(n.dist(o[a])<i)return!0}else r[t]=[];return r[t].push(n),!1}var Fh=Au.VectorTileFeature.types,Nh=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function jh(e,t,i,n,r,o,a,s,l,u,c,h,d,p,f,m){var g=c?Math.min(Oh,Math.round(c[0])):0,y=c?Math.min(Oh,Math.round(c[1])):0;e.emplaceBack(t,i,Math.round(32*a),Math.round(32*s),l,u,(g<<1)+(h?1:0),y,16*d,16*p,256*f,256*m,n,r,o,0)}function Vh(e,t,i){e.emplaceBack(t.x,t.y,i),e.emplaceBack(t.x,t.y,i),e.emplaceBack(t.x,t.y,i),e.emplaceBack(t.x,t.y,i)}function Uh(e){var t,i=d(e.sections);try{for(i.s();!(t=i.n()).done;)if(fo(t.value.text))return!0}catch(n){i.e(n)}finally{i.f()}return!1}var Wh=function(){function e(t){g(this,e),this.layoutVertexArray=new ea,this.indexArray=new aa,this.programConfigurations=t,this.segments=new ss,this.dynamicLayoutVertexArray=new Ko,this.opacityVertexArray=new ta,this.placedSymbolArray=new ba}return y(e,[{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}},{key:"upload",value:function(e,t,i,n){this.isEmpty()||(i&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Yu.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,$u.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,Nh,!0),this.opacityVertexBuffer.itemSize=1),(i||n)&&this.programConfigurations.upload(e))}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}]),e}();Tr("SymbolBuffers",Wh);var Hh=function(){function e(t,i,n){g(this,e),this.layoutVertexArray=new t,this.layoutAttributes=i,this.indexArray=new n,this.segments=new ss,this.collisionVertexArray=new oa,this.collisionVertexArrayExt=new Ko}return y(e,[{key:"upload",value:function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,Ku.members,!0),this.collisionVertexBufferExt=e.createVertexBuffer(this.collisionVertexArrayExt,Qu.members,!0)}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}]),e}();Tr("CollisionBuffers",Hh);var Gh=function(){function e(t){g(this,e),this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Ks([]),this.placementViewportMatrix=Ks([]);var i=this.layers[0]._unevaluatedLayout._values;this.textSizeData=nc(this.zoom,i["text-size"]),this.iconSizeData=nc(this.zoom,i["icon-size"]);var n=this.layers[0].layout,r=n.get("symbol-sort-key"),o=n.get("symbol-z-order");this.canOverlap=n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==o&&void 0!==r.constantOr(1),this.sortFeaturesByY=("viewport-y"===o||"auto"===o&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=n.get("text-writing-mode").map((function(e){return Nc[e]})),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.sourceID=t.sourceID}return y(e,[{key:"createArrays",value:function(){this.text=new Wh(new Qa(this.layers,this.zoom,(function(e){return/^text/.test(e)}))),this.icon=new Wh(new Qa(this.layers,this.zoom,(function(e){return/^icon/.test(e)}))),this.glyphOffsetArray=new wa,this.lineVertexArray=new Sa,this.symbolInstances=new _a}},{key:"calculateGlyphDependencies",value:function(e,t,i,n,r){for(var o=0;o<e.length;o++)if(t[e.charCodeAt(o)]=!0,n&&r){var a=lc[e.charAt(o)];a&&(t[a.charCodeAt(0)]=!0)}}},{key:"populate",value:function(e,t,i,n){var r=this.layers[0],o=r.layout,a=o.get("text-font"),s=o.get("text-field"),l=o.get("icon-image"),u=("constant"!==s.value.kind||s.value.value instanceof At&&!s.value.value.isEmpty()||s.value.value.toString().length>0)&&("constant"!==a.value.kind||a.value.value.length>0),c="constant"!==l.value.kind||!!l.value.value||Object.keys(l.parameters).length>0,h=o.get("symbol-sort-key");if(this.features=[],u||c){var p,f=t.iconDependencies,m=t.glyphDependencies,g=t.availableImages,y=new Eo(this.zoom),v=d(e);try{for(v.s();!(p=v.n()).done;){var b=p.value,x=b.feature,_=b.id,w=b.index,S=b.sourceLayerIndex,k=r._featureFilter.needGeometry,C=As(x,k);if(r._featureFilter.filter(y,C,i)){var T=void 0,E=void 0;if(k||(C.geometry=Es(x,i,n)),u){var A=r.getValueAndResolveTokens("text-field",C,i,g),P=At.factory(A);Uh(P)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===ko()||this.hasRTLText&&To.isParsed())&&(T=sc(P,r,C))}if(c){var M=r.getValueAndResolveTokens("icon-image",C,i,g);E=M instanceof Pt?M:Pt.fromString(M)}if(T||E){var L=this.sortFeaturesByKey?h.evaluate(C,{},i):void 0;if(this.features.push({id:_,text:T,icon:E,index:w,sourceLayerIndex:S,geometry:C.geometry,properties:x.properties,type:Fh[x.type],sortKey:L}),E&&(f[E.name]=!0),T){var O=a.evaluate(C,{},i).join(","),R="map"===o.get("text-rotation-alignment")&&"point"!==o.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Nc.vertical)>=0;var I,D=d(T.sections);try{for(D.s();!(I=D.n()).done;){var z=I.value;if(z.image)f[z.image.name]=!0;else{var B=ao(T.toString()),F=z.fontStack||O,N=m[F]=m[F]||{};this.calculateGlyphDependencies(z.text,N,R,this.allowVerticalPlacement,B)}}}catch(j){D.e(j)}finally{D.f()}}}}}}catch(j){v.e(j)}finally{v.f()}"line"===o.get("symbol-placement")&&(this.features=function(e){var t={},i={},n=[],r=0;function o(t){n.push(e[t]),r++}function a(e,t,r){var o=i[e];return delete i[e],i[t]=o,n[o].geometry[0].pop(),n[o].geometry[0]=n[o].geometry[0].concat(r[0]),o}function s(e,i,r){var o=t[i];return delete t[i],t[e]=o,n[o].geometry[0].shift(),n[o].geometry[0]=r[0].concat(n[o].geometry[0]),o}function l(e,t,i){var n=i?t[0][t[0].length-1]:t[0][0];return"".concat(e,":").concat(n.x,":").concat(n.y)}for(var u=0;u<e.length;u++){var c=e[u],h=c.geometry,d=c.text?c.text.toString():null;if(d){var p=l(d,h),f=l(d,h,!0);if(p in i&&f in t&&i[p]!==t[f]){var m=s(p,f,h),g=a(p,f,n[m].geometry);delete t[p],delete i[f],i[l(d,n[g].geometry,!0)]=g,n[m].geometry=null}else p in i?a(p,f,h):f in t?s(p,f,h):(o(u),t[p]=r-1,i[f]=r-1)}else o(u)}return n.filter((function(e){return e.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(e,t){return e.sortKey-t.sortKey}))}}},{key:"update",value:function(e,t,i,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,i,n),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,i,n))}},{key:"isEmpty",value:function(){return 0===this.symbolInstances.length&&!this.hasRTLText}},{key:"uploadPending",value:function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}},{key:"upload",value:function(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}},{key:"destroyDebugData",value:function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}},{key:"destroy",value:function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}},{key:"addToLineVertexArray",value:function(e,t){var i=this.lineVertexArray.length;if(void 0!==e.segment){for(var n=e.dist(t[e.segment+1]),r=e.dist(t[e.segment]),o={},a=e.segment+1;a<t.length;a++)o[a]={x:t[a].x,y:t[a].y,tileUnitDistanceFromAnchor:n},a<t.length-1&&(n+=t[a+1].dist(t[a]));for(var s=e.segment||0;s>=0;s--)o[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:r},s>0&&(r+=t[s-1].dist(t[s]));for(var l=0;l<t.length;l++){var u=o[l];this.lineVertexArray.emplaceBack(u.x,u.y,u.tileUnitDistanceFromAnchor)}}return{lineStartIndex:i,lineLength:this.lineVertexArray.length-i}}},{key:"addSymbols",value:function(e,t,i,n,r,o,a,s,l,u,c,h,d,p){for(var f=e.indexArray,m=e.layoutVertexArray,g=e.segments.prepareSegment(4*t.length,m,f,this.canOverlap?o.sortKey:void 0),y=this.glyphOffsetArray.length,v=g.vertexLength,b=this.allowVerticalPlacement&&a===Nc.vertical?Math.PI/2:0,x=o.text&&o.text.sections,_=0;_<t.length;_++){var w=t[_],S=w.tl,k=w.tr,C=w.bl,T=w.br,E=w.tex,A=w.pixelOffsetTL,P=w.pixelOffsetBR,M=w.minFontScaleX,L=w.minFontScaleY,O=w.glyphOffset,R=w.isSDF,I=w.sectionIndex,D=g.vertexLength,z=O[1];jh(m,s.x,s.y,s.z,l.x,l.y,S.x,z+S.y,E.x,E.y,i,R,A.x,A.y,M,L),jh(m,s.x,s.y,s.z,l.x,l.y,k.x,z+k.y,E.x+E.w,E.y,i,R,P.x,A.y,M,L),jh(m,s.x,s.y,s.z,l.x,l.y,C.x,z+C.y,E.x,E.y+E.h,i,R,A.x,P.y,M,L),jh(m,s.x,s.y,s.z,l.x,l.y,T.x,z+T.y,E.x+E.w,E.y+E.h,i,R,P.x,P.y,M,L),Vh(e.dynamicLayoutVertexArray,s,b),f.emplaceBack(D,D+1,D+2),f.emplaceBack(D+1,D+2,D+3),g.vertexLength+=4,g.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(O[0]),_!==t.length-1&&I===t[_+1].sectionIndex||e.programConfigurations.populatePaintArrays(m.length,o,o.index,{},d,p,x&&x[I])}e.placedSymbolArray.emplaceBack(s.x,s.y,s.z,l.x,l.y,y,this.glyphOffsetArray.length-y,v,u,c,l.segment,i?i[0]:0,i?i[1]:0,n[0],n[1],a,0,!1,0,h,0)}},{key:"_commitLayoutVertex",value:function(e,t,i,n,r,o,a){e.emplaceBack(t,i,n,r,o,Math.round(a.x),Math.round(a.y))}},{key:"_addCollisionDebugVertices",value:function(e,t,i,n,r,o,a){for(var s=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),l=s.vertexLength,u=a.tileAnchorX,c=a.tileAnchorY,h=0;h<4;h++)i.collisionVertexArray.emplaceBack(0,0,0,0);i.collisionVertexArrayExt.emplaceBack(t,-e.padding,-e.padding),i.collisionVertexArrayExt.emplaceBack(t,e.padding,-e.padding),i.collisionVertexArrayExt.emplaceBack(t,e.padding,e.padding),i.collisionVertexArrayExt.emplaceBack(t,-e.padding,e.padding),this._commitLayoutVertex(i.layoutVertexArray,n,r,o,u,c,new v(e.x1,e.y1)),this._commitLayoutVertex(i.layoutVertexArray,n,r,o,u,c,new v(e.x2,e.y1)),this._commitLayoutVertex(i.layoutVertexArray,n,r,o,u,c,new v(e.x2,e.y2)),this._commitLayoutVertex(i.layoutVertexArray,n,r,o,u,c,new v(e.x1,e.y2)),s.vertexLength+=4;var d=i.indexArray;d.emplaceBack(l,l+1),d.emplaceBack(l+1,l+2),d.emplaceBack(l+2,l+3),d.emplaceBack(l+3,l),s.primitiveLength+=4}},{key:"_addTextDebugCollisionBoxes",value:function(e,t,i,n,r,o){for(var a=n;a<r;a++){var s=i.get(a),l=this.getSymbolInstanceTextSize(e,o,t,a);this._addCollisionDebugVertices(s,l,this.textCollisionBox,s.projectedAnchorX,s.projectedAnchorY,s.projectedAnchorZ,o)}}},{key:"_addIconDebugCollisionBoxes",value:function(e,t,i,n,r,o){for(var a=n;a<r;a++){var s=i.get(a),l=this.getSymbolInstanceIconSize(e,t,a);this._addCollisionDebugVertices(s,l,this.iconCollisionBox,s.projectedAnchorX,s.projectedAnchorY,s.projectedAnchorZ,o)}}},{key:"generateCollisionDebugBuffers",value:function(e,t){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Hh(na,Ju.members,da),this.iconCollisionBox=new Hh(na,Ju.members,da);for(var i=oc(this.iconSizeData,e),n=oc(this.textSizeData,e),r=0;r<this.symbolInstances.length;r++){var o=this.symbolInstances.get(r);this._addTextDebugCollisionBoxes(n,e,t,o.textBoxStartIndex,o.textBoxEndIndex,o),this._addTextDebugCollisionBoxes(n,e,t,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o),this._addIconDebugCollisionBoxes(i,e,t,o.iconBoxStartIndex,o.iconBoxEndIndex,o),this._addIconDebugCollisionBoxes(i,e,t,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex,o)}}},{key:"getSymbolInstanceTextSize",value:function(e,t,i,n){var r=this.text.placedSymbolArray.get(t.rightJustifiedTextSymbolIndex>=0?t.rightJustifiedTextSymbolIndex:t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.leftJustifiedTextSymbolIndex>=0?t.leftJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex>=0?t.verticalPlacedTextSymbolIndex:n),o=rc(this.textSizeData,e,r)/tc;return this.tilePixelRatio*o}},{key:"getSymbolInstanceIconSize",value:function(e,t,i){var n=this.icon.placedSymbolArray.get(i),r=rc(this.iconSizeData,e,n);return this.tilePixelRatio*r}},{key:"_commitDebugCollisionVertexUpdate",value:function(e,t,i){e.emplaceBack(t,-i,-i),e.emplaceBack(t,i,-i),e.emplaceBack(t,i,i),e.emplaceBack(t,-i,i)}},{key:"_updateTextDebugCollisionBoxes",value:function(e,t,i,n,r,o){for(var a=n;a<r;a++){var s=i.get(a),l=this.getSymbolInstanceTextSize(e,o,t,a);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,l,s.padding)}}},{key:"_updateIconDebugCollisionBoxes",value:function(e,t,i,n,r){for(var o=n;o<r;o++){var a=i.get(o),s=this.getSymbolInstanceIconSize(e,t,o);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,s,a.padding)}}},{key:"updateCollisionDebugBuffers",value:function(e,t){if(this.hasDebugData()){this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();for(var i=oc(this.iconSizeData,e),n=oc(this.textSizeData,e),r=0;r<this.symbolInstances.length;r++){var o=this.symbolInstances.get(r);this._updateTextDebugCollisionBoxes(n,e,t,o.textBoxStartIndex,o.textBoxEndIndex,o),this._updateTextDebugCollisionBoxes(n,e,t,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o),this._updateIconDebugCollisionBoxes(i,e,t,o.iconBoxStartIndex,o.iconBoxEndIndex),this._updateIconDebugCollisionBoxes(i,e,t,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}}},{key:"_deserializeCollisionBoxesForSymbol",value:function(e,t,i,n,r,o,a,s,l){for(var u={},c=t;c<i;c++){var h=e.get(c);u.textBox={x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2,padding:h.padding,projectedAnchorX:h.projectedAnchorX,projectedAnchorY:h.projectedAnchorY,projectedAnchorZ:h.projectedAnchorZ,tileAnchorX:h.tileAnchorX,tileAnchorY:h.tileAnchorY},u.textFeatureIndex=h.featureIndex;break}for(var d=n;d<r;d++){var p=e.get(d);u.verticalTextBox={x1:p.x1,y1:p.y1,x2:p.x2,y2:p.y2,padding:p.padding,projectedAnchorX:p.projectedAnchorX,projectedAnchorY:p.projectedAnchorY,projectedAnchorZ:p.projectedAnchorZ,tileAnchorX:p.tileAnchorX,tileAnchorY:p.tileAnchorY},u.verticalTextFeatureIndex=p.featureIndex;break}for(var f=o;f<a;f++){var m=e.get(f);u.iconBox={x1:m.x1,y1:m.y1,x2:m.x2,y2:m.y2,padding:m.padding,projectedAnchorX:m.projectedAnchorX,projectedAnchorY:m.projectedAnchorY,projectedAnchorZ:m.projectedAnchorZ,tileAnchorX:m.tileAnchorX,tileAnchorY:m.tileAnchorY},u.iconFeatureIndex=m.featureIndex;break}for(var g=s;g<l;g++){var y=e.get(g);u.verticalIconBox={x1:y.x1,y1:y.y1,x2:y.x2,y2:y.y2,padding:y.padding,projectedAnchorX:y.projectedAnchorX,projectedAnchorY:y.projectedAnchorY,projectedAnchorZ:y.projectedAnchorZ,tileAnchorX:y.tileAnchorX,tileAnchorY:y.tileAnchorY},u.verticalIconFeatureIndex=y.featureIndex;break}return u}},{key:"deserializeCollisionBoxes",value:function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var i=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,i.textBoxStartIndex,i.textBoxEndIndex,i.verticalTextBoxStartIndex,i.verticalTextBoxEndIndex,i.iconBoxStartIndex,i.iconBoxEndIndex,i.verticalIconBoxStartIndex,i.verticalIconBoxEndIndex))}}},{key:"hasTextData",value:function(){return this.text.segments.get().length>0}},{key:"hasIconData",value:function(){return this.icon.segments.get().length>0}},{key:"hasDebugData",value:function(){return this.textCollisionBox&&this.iconCollisionBox}},{key:"hasTextCollisionBoxData",value:function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}},{key:"hasIconCollisionBoxData",value:function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}},{key:"addIndicesForPlacedSymbol",value:function(e,t){for(var i=e.placedSymbolArray.get(t),n=i.vertexStartIndex+4*i.numGlyphs,r=i.vertexStartIndex;r<n;r+=4)e.indexArray.emplaceBack(r,r+1,r+2),e.indexArray.emplaceBack(r+1,r+2,r+3)}},{key:"getSortedSymbolIndexes",value:function(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var t=Math.sin(e),i=Math.cos(e),n=[],r=[],o=[],a=0;a<this.symbolInstances.length;++a){o.push(a);var s=this.symbolInstances.get(a);n.push(0|Math.round(t*s.tileAnchorX+i*s.tileAnchorY)),r.push(s.featureIndex)}return o.sort((function(e,t){return n[e]-n[t]||r[t]-r[e]})),o}},{key:"addToSortKeyRanges",value:function(e,t){var i=this.sortKeyRanges[this.sortKeyRanges.length-1];i&&i.sortKey===t?i.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})}},{key:"sortFeatures",value:function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];var i,n=d(this.symbolInstanceIndexes);try{for(n.s();!(i=n.n()).done;){var r=i.value,o=this.symbolInstances.get(r);this.featureSortOrder.push(o.featureIndex),[o.rightJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.leftJustifiedTextSymbolIndex].forEach((function(e,i,n){e>=0&&n.indexOf(e)===i&&t.addIndicesForPlacedSymbol(t.text,e)})),o.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,o.verticalPlacedTextSymbolIndex),o.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,o.placedIconSymbolIndex),o.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,o.verticalPlacedIconSymbolIndex)}}catch(a){n.e(a)}finally{n.f()}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}]),e}();Tr("SymbolBucket",Gh,{omit:["layers","collisionBoxArray","features","compareText"]}),Gh.MAX_GLYPHS=65535,Gh.addDynamicAttributes=Vh;var qh=new Vo({"symbol-placement":new zo(Je.layout_symbol["symbol-placement"]),"symbol-spacing":new zo(Je.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new zo(Je.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Bo(Je.layout_symbol["symbol-sort-key"]),"symbol-z-order":new zo(Je.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new zo(Je.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new zo(Je.layout_symbol["icon-ignore-placement"]),"icon-optional":new zo(Je.layout_symbol["icon-optional"]),"icon-rotation-alignment":new zo(Je.layout_symbol["icon-rotation-alignment"]),"icon-size":new Bo(Je.layout_symbol["icon-size"]),"icon-text-fit":new zo(Je.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new zo(Je.layout_symbol["icon-text-fit-padding"]),"icon-image":new Bo(Je.layout_symbol["icon-image"]),"icon-rotate":new Bo(Je.layout_symbol["icon-rotate"]),"icon-padding":new zo(Je.layout_symbol["icon-padding"]),"icon-keep-upright":new zo(Je.layout_symbol["icon-keep-upright"]),"icon-offset":new Bo(Je.layout_symbol["icon-offset"]),"icon-anchor":new Bo(Je.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new zo(Je.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new zo(Je.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new zo(Je.layout_symbol["text-rotation-alignment"]),"text-field":new Bo(Je.layout_symbol["text-field"]),"text-font":new Bo(Je.layout_symbol["text-font"]),"text-size":new Bo(Je.layout_symbol["text-size"]),"text-max-width":new Bo(Je.layout_symbol["text-max-width"]),"text-line-height":new Bo(Je.layout_symbol["text-line-height"]),"text-letter-spacing":new Bo(Je.layout_symbol["text-letter-spacing"]),"text-justify":new Bo(Je.layout_symbol["text-justify"]),"text-radial-offset":new Bo(Je.layout_symbol["text-radial-offset"]),"text-variable-anchor":new zo(Je.layout_symbol["text-variable-anchor"]),"text-anchor":new Bo(Je.layout_symbol["text-anchor"]),"text-max-angle":new zo(Je.layout_symbol["text-max-angle"]),"text-writing-mode":new zo(Je.layout_symbol["text-writing-mode"]),"text-rotate":new Bo(Je.layout_symbol["text-rotate"]),"text-padding":new zo(Je.layout_symbol["text-padding"]),"text-keep-upright":new zo(Je.layout_symbol["text-keep-upright"]),"text-transform":new Bo(Je.layout_symbol["text-transform"]),"text-offset":new Bo(Je.layout_symbol["text-offset"]),"text-allow-overlap":new zo(Je.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new zo(Je.layout_symbol["text-ignore-placement"]),"text-optional":new zo(Je.layout_symbol["text-optional"])}),Zh={paint:new Vo({"icon-opacity":new Bo(Je.paint_symbol["icon-opacity"]),"icon-color":new Bo(Je.paint_symbol["icon-color"]),"icon-halo-color":new Bo(Je.paint_symbol["icon-halo-color"]),"icon-halo-width":new Bo(Je.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Bo(Je.paint_symbol["icon-halo-blur"]),"icon-translate":new zo(Je.paint_symbol["icon-translate"]),"icon-translate-anchor":new zo(Je.paint_symbol["icon-translate-anchor"]),"text-opacity":new Bo(Je.paint_symbol["text-opacity"]),"text-color":new Bo(Je.paint_symbol["text-color"],{runtimeType:ht,getOverride:function(e){return e.textColor},hasOverride:function(e){return!!e.textColor}}),"text-halo-color":new Bo(Je.paint_symbol["text-halo-color"]),"text-halo-width":new Bo(Je.paint_symbol["text-halo-width"]),"text-halo-blur":new Bo(Je.paint_symbol["text-halo-blur"]),"text-translate":new zo(Je.paint_symbol["text-translate"]),"text-translate-anchor":new zo(Je.paint_symbol["text-translate-anchor"])}),layout:qh},Xh=function(){function e(t){g(this,e),this.type=t.property.overrides?t.property.overrides.runtimeType:st,this.defaultValue=t}return y(e,[{key:"evaluate",value:function(e){if(e.formattedSection){var t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}},{key:"eachChild",value:function(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return null}}]),e}();Tr("FormatSectionOverride",Xh,{omit:["defaultValue"]});var Yh=function(e){f(i,e);var t=m(i);function i(e){return g(this,i),t.call(this,e,Zh)}return y(i,[{key:"recalculate",value:function(e,t){a(s(i.prototype),"recalculate",this).call(this,e,t),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));var n=this.layout.get("text-writing-mode");if(n){var r,o=[],l=d(n);try{for(l.s();!(r=l.n()).done;){var u=r.value;o.indexOf(u)<0&&o.push(u)}}catch(c){l.e(c)}finally{l.f()}this.layout._values["text-writing-mode"]=o}else this.layout._values["text-writing-mode"]="point"===this.layout.get("symbol-placement")?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}},{key:"getValueAndResolveTokens",value:function(e,t,i,n){var r=this.layout.get(e).evaluate(t,{},i,n),o=this._unevaluatedLayout._values[e];return o.isDataDriven()||kn(o.value)||!r?r:function(e,t){return t.replace(/{([^{}]+)}/g,(function(t,i){return i in e?String(e[i]):""}))}(t.properties,r)}},{key:"createBucket",value:function(e){return new Gh(e)}},{key:"queryRadius",value:function(){return 0}},{key:"queryIntersectsFeature",value:function(){return!1}},{key:"_setPaintOverrides",value:function(){var e,t=d(Zh.paint.overridableProperties);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(i.hasPaintOverride(this.layout,n)){var r=this.paint.get(n),o=new Xh(r),a=new Sn(o,r.property.specification),s=null;s="constant"===r.value.kind||"source"===r.value.kind?new Tn("source",a):new En("composite",a,r.value.zoomStops,r.value._interpolationType),this.paint._values[n]=new Io(r.property,s,r.parameters)}}}catch(l){t.e(l)}finally{t.f()}}},{key:"_handleOverridablePaintPropertyUpdate",value:function(e,t,n){return!(!this.layout||t.isDataDriven()||n.isDataDriven())&&i.hasPaintOverride(this.layout,e)}},{key:"getProgramConfiguration",value:function(e){return new Ka(this,e)}}],[{key:"hasPaintOverride",value:function(e,t){var i=e.get("text-field"),n=Zh.paint.properties[t],r=!1,o=function(e){var t,i=d(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(n.overrides&&n.overrides.hasOverride(o))return void(r=!0)}}catch(a){i.e(a)}finally{i.f()}};if("constant"===i.value.kind&&i.value.value instanceof At)o(i.value.value.sections);else if("source"===i.value.kind){var a=function e(t){r||(t instanceof It&&Ot(t.value)===mt?o(t.value.sections):t instanceof Ft?o(t.sections):t.eachChild(e))},s=i.value;s._styleExpression&&a(s._styleExpression.expression)}return r}}]),i}(os),$h={paint:new Vo({"background-color":new zo(Je.paint_background["background-color"]),"background-pattern":new No(Je.paint_background["background-pattern"]),"background-opacity":new zo(Je.paint_background["background-opacity"])})},Kh={paint:new Vo({"raster-opacity":new zo(Je.paint_raster["raster-opacity"]),"raster-hue-rotate":new zo(Je.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new zo(Je.paint_raster["raster-brightness-min"]),"raster-brightness-max":new zo(Je.paint_raster["raster-brightness-max"]),"raster-saturation":new zo(Je.paint_raster["raster-saturation"]),"raster-contrast":new zo(Je.paint_raster["raster-contrast"]),"raster-resampling":new zo(Je.paint_raster["raster-resampling"]),"raster-fade-duration":new zo(Je.paint_raster["raster-fade-duration"])})},Qh=function(e){f(i,e);var t=m(i);function i(e){var n;return g(this,i),(n=t.call(this,e,{})).implementation=e,n}return y(i,[{key:"is3D",value:function(){return"3d"===this.implementation.renderingMode}},{key:"hasOffscreenPass",value:function(){return void 0!==this.implementation.prerender}},{key:"recalculate",value:function(){}},{key:"updateTransitions",value:function(){}},{key:"hasTransition",value:function(){}},{key:"serialize",value:function(){}},{key:"onAdd",value:function(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)}},{key:"onRemove",value:function(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)}}]),i}(os),Jh={paint:new Vo({"sky-type":new zo(Je.paint_sky["sky-type"]),"sky-atmosphere-sun":new zo(Je.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new zo(Je.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new zo(Je.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new zo(Je.paint_sky["sky-gradient-radius"]),"sky-gradient":new jo(Je.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new zo(Je.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new zo(Je.paint_sky["sky-atmosphere-color"]),"sky-opacity":new zo(Je.paint_sky["sky-opacity"])})};function ed(e,t,i){var n=il(0,0,1),r=fl(pl());return function(e,t,i){i*=.5;var n=t[0],r=t[1],o=t[2],a=t[3],s=Math.sin(i),l=Math.cos(i);e[0]=n*l-o*s,e[1]=r*l+a*s,e[2]=o*l+n*s,e[3]=a*l-r*s}(r,r,i?-k(e)+Math.PI:k(e)),ml(r,r,-k(t)),sl(n,n,r),al(n,n)}var td={circle:function(e){f(i,e);var t=m(i);function i(e){return g(this,i),t.call(this,e,Xs)}return y(i,[{key:"createBucket",value:function(e){return new Ms(e)}},{key:"queryRadius",value:function(e){var t=e;return Ws("circle-radius",this,t)+Ws("circle-stroke-width",this,t)+Hs(this.paint.get("circle-translate"))}},{key:"queryIntersectsFeature",value:function(e,t,i,n,r,o,a,s){var l=qs(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),u=this.paint.get("circle-radius").evaluate(t,i)+this.paint.get("circle-stroke-width").evaluate(t,i);return yl(e,n,o,a,s,"map"===this.paint.get("circle-pitch-alignment"),"map"===this.paint.get("circle-pitch-scale"),l,u)}},{key:"getProgramIds",value:function(){return["circle"]}},{key:"getProgramConfiguration",value:function(e){return new Ka(this,e)}}]),i}(os),heatmap:function(e){f(i,e);var t=m(i);function i(e){var n;return g(this,i),(n=t.call(this,e,Al))._updateColorRamp(),n}return y(i,[{key:"createBucket",value:function(e){return new wl(e)}},{key:"_handleSpecialPaintPropertyUpdate",value:function(e){"heatmap-color"===e&&this._updateColorRamp()}},{key:"_updateColorRamp",value:function(){this.colorRamp=Pl({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}},{key:"resize",value:function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}},{key:"queryRadius",value:function(e){return Ws("heatmap-radius",this,e)}},{key:"queryIntersectsFeature",value:function(e,t,i,n,r,o,a,s){var l=this.paint.get("heatmap-radius").evaluate(t,i);return yl(e,n,o,a,s,!0,!0,new v(0,0),l)}},{key:"hasOffscreenPass",value:function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}},{key:"getProgramIds",value:function(){return["heatmap","heatmapTexture"]}},{key:"getProgramConfiguration",value:function(e){return new Ka(this,e)}}]),i}(os),hillshade:function(e){f(i,e);var t=m(i);function i(e){return g(this,i),t.call(this,e,Ml)}return y(i,[{key:"hasOffscreenPass",value:function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}},{key:"getProgramIds",value:function(){return["hillshade","hillshadePrepare"]}},{key:"getProgramConfiguration",value:function(e){return new Ka(this,e)}}]),i}(os),fill:function(e){f(i,e);var t=m(i);function i(e){return g(this,i),t.call(this,e,gu)}return y(i,[{key:"getProgramIds",value:function(){var e=this.paint.get("fill-pattern"),t=e&&e.constantOr(1),i=[t?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&i.push(t&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),i}},{key:"getProgramConfiguration",value:function(e){return new Ka(this,e)}},{key:"recalculate",value:function(e,t){a(s(i.prototype),"recalculate",this).call(this,e,t);var n=this.paint._values["fill-outline-color"];"constant"===n.value.kind&&void 0===n.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}},{key:"createBucket",value:function(e){return new fu(e)}},{key:"queryRadius",value:function(){return Hs(this.paint.get("fill-translate"))}},{key:"queryIntersectsFeature",value:function(e,t,i,n,r,o){return!e.queryGeometry.isAboveHorizon&&Rs(Gs(e.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),n)}},{key:"isTileClipped",value:function(){return!0}}]),i}(os),"fill-extrusion":function(e){f(i,e);var t=m(i);function i(e){return g(this,i),t.call(this,e,Du)}return y(i,[{key:"createBucket",value:function(e){return new Ru(e)}},{key:"queryRadius",value:function(){return Hs(this.paint.get("fill-extrusion-translate"))}},{key:"is3D",value:function(){return!0}},{key:"getProgramIds",value:function(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}},{key:"getProgramConfiguration",value:function(e){return new Ka(this,e)}},{key:"queryIntersectsFeature",value:function(e,t,i,n,r,o,a,s,l){var u=qs(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),c=this.paint.get("fill-extrusion-height").evaluate(t,i),h=this.paint.get("fill-extrusion-base").evaluate(t,i),p=[0,0],f=s&&o.elevation,m=o.elevation?o.elevation.exaggeration():1;if(f){var g=e.tile.getBucket(this).centroidVertexArray,y=l+1;if(y<g.length){var b=g.get(y);p[0]=b.a_centroid_pos0,p[1]=b.a_centroid_pos1}}if(0===p[0]&&1===p[1])return!1;var x=function(e,t,i,n,r,o,a,s,l){return o?function(e,t,i,n,r,o,a,s,l){var u,c=[],h=[],p=[0,0,0,1],f=d(e);try{for(f.s();!(u=f.n()).done;){var m,g=u.value,y=[],v=[],b=d(g);try{for(b.s();!(m=b.n()).done;){var x=m.value,_=x.x+n.x,w=x.y+n.y,S=Nu(_,w,t,i,o,a,s,l);p[0]=_,p[1]=w,p[2]=S.base,p[3]=1,dl(p,p,r),p[3]=Math.max(p[3],1e-5);var k=Fu([p[0]/p[3],p[1]/p[3],p[2]/p[3]]);p[0]=_,p[1]=w,p[2]=S.top,p[3]=1,dl(p,p,r),p[3]=Math.max(p[3],1e-5);var C=Fu([p[0]/p[3],p[1]/p[3],p[2]/p[3]]);y.push(k),v.push(C)}}catch(T){b.e(T)}finally{b.f()}c.push(y),h.push(v)}}catch(T){f.e(T)}finally{f.f()}return[c,h]}(e,t,i,n,r,o,a,s,l):function(e,t,i,n,r){var o,a=[],s=[],l=r[8]*t,u=r[9]*t,c=r[10]*t,h=r[11]*t,p=r[8]*i,f=r[9]*i,m=r[10]*i,g=r[11]*i,y=d(e);try{for(y.s();!(o=y.n()).done;){var b,x=o.value,_=[],w=[],S=d(x);try{for(S.s();!(b=S.n()).done;){var k=b.value,C=k.x+n.x,T=k.y+n.y,E=r[0]*C+r[4]*T+r[12],A=r[1]*C+r[5]*T+r[13],P=r[2]*C+r[6]*T+r[14],M=r[3]*C+r[7]*T+r[15],L=E+l,O=A+u,R=P+c,I=Math.max(M+h,1e-5),D=E+p,z=A+f,B=P+m,F=Math.max(M+g,1e-5),N=new v(L/I,O/I);N.z=R/I,_.push(N);var j=new v(D/F,z/F);j.z=B/F,w.push(j)}}catch(V){S.e(V)}finally{S.f()}a.push(_),s.push(w)}}catch(V){y.e(V)}finally{y.f()}return[a,s]}(e,t,i,n,r)}(n,h,c,u,a,f?s:null,p,m,o.center.lat),_=e.queryGeometry;return function(e,t,i){var n=1/0;Rs(i,t)&&(n=Bu(i,t[0]));for(var r=0;r<t.length;r++)for(var o=t[r],a=e[r],s=0;s<o.length-1;s++){var l=o[s],u=[l,o[s+1],a[s+1],a[s],l];Ls(i,u)&&(n=Math.min(n,Bu(i,u)))}return n!==1/0&&n}(x[0],x[1],_.isPointQuery()?_.screenBounds:_.screenGeometry)}}]),i}(os),line:function(e){f(i,e);var t=m(i);function i(e){var n;return g(this,i),(n=t.call(this,e,qu)).gradientVersion=0,n}return y(i,[{key:"_handleSpecialPaintPropertyUpdate",value:function(e){if("line-gradient"===e){var t=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=t._styleExpression&&t._styleExpression.expression instanceof gi,this.gradientVersion=(this.gradientVersion+1)%_}}},{key:"gradientExpression",value:function(){return this._transitionablePaint._values["line-gradient"].value.expression}},{key:"recalculate",value:function(e,t){a(s(i.prototype),"recalculate",this).call(this,e,t),this.paint._values["line-floorwidth"]=Zu.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)}},{key:"createBucket",value:function(e){return new Hu(e)}},{key:"getProgramIds",value:function(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}},{key:"getProgramConfiguration",value:function(e){return new Ka(this,e)}},{key:"queryRadius",value:function(e){var t=e,i=Xu(Ws("line-width",this,t),Ws("line-gap-width",this,t)),n=Ws("line-offset",this,t);return i/2+Math.abs(n)+Hs(this.paint.get("line-translate"))}},{key:"queryIntersectsFeature",value:function(e,t,i,n,r,o){if(e.queryGeometry.isAboveHorizon)return!1;var a=Gs(e.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),s=e.pixelToTileUnitsFactor/2*Xu(this.paint.get("line-width").evaluate(t,i),this.paint.get("line-gap-width").evaluate(t,i)),l=this.paint.get("line-offset").evaluate(t,i);return l&&(n=function(e,t){for(var i=[],n=new v(0,0),r=0;r<e.length;r++){for(var o=e[r],a=[],s=0;s<o.length;s++){var l=o[s-1],u=o[s],c=o[s+1],h=0===s?n:u.sub(l)._unit()._perp(),d=s===o.length-1?n:c.sub(u)._unit()._perp(),p=h._add(d)._unit();p._mult(1/(p.x*d.x+p.y*d.y)),a.push(p._mult(t)._add(u))}i.push(a)}return i}(n,l*e.pixelToTileUnitsFactor)),function(e,t,i){for(var n=0;n<t.length;n++){var r=t[n];if(e.length>=3)for(var o=0;o<r.length;o++)if(js(e,r[o]))return!0;if(Is(e,r,i))return!0}return!1}(a,n,s)}},{key:"isTileClipped",value:function(){return!0}}]),i}(os),symbol:Yh,background:function(e){f(i,e);var t=m(i);function i(e){return g(this,i),t.call(this,e,$h)}return y(i,[{key:"getProgramIds",value:function(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}}]),i}(os),raster:function(e){f(i,e);var t=m(i);function i(e){return g(this,i),t.call(this,e,Kh)}return y(i,[{key:"getProgramIds",value:function(){return["raster"]}}]),i}(os),sky:function(e){f(i,e);var t=m(i);function i(e){var n;return g(this,i),(n=t.call(this,e,Jh))._updateColorRamp(),n}return y(i,[{key:"_handleSpecialPaintPropertyUpdate",value:function(e){"sky-gradient"===e?this._updateColorRamp():"sky-atmosphere-sun"!==e&&"sky-atmosphere-halo-color"!==e&&"sky-atmosphere-color"!==e&&"sky-atmosphere-sun-intensity"!==e||(this._skyboxInvalidated=!0)}},{key:"_updateColorRamp",value:function(){this.colorRamp=Pl({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}},{key:"needsSkyboxCapture",value:function(e){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){var t=e.style.light.properties.get("position");return this._lightPosition.azimuthal!==t.azimuthal||this._lightPosition.polar!==t.polar}}},{key:"getCenter",value:function(e,t){var i=this.paint.get("sky-type");if("atmosphere"===i){var n=this.paint.get("sky-atmosphere-sun"),r=!n,o=e.style.light,a=o.properties.get("position");return r&&"viewport"===o.properties.get("anchor")&&q("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),r?ed(a.azimuthal,90-a.polar,t):ed(n[0],90-n[1],t)}if("gradient"===i){var s=this.paint.get("sky-gradient-center");return ed(s[0],90-s[1],t)}}},{key:"is3D",value:function(){return!1}},{key:"isSky",value:function(){return!0}},{key:"markSkyboxValid",value:function(e){this._skyboxInvalidated=!1,this._lightPosition=e.style.light.properties.get("position")}},{key:"hasOffscreenPass",value:function(){return!0}},{key:"getProgramIds",value:function(){var e=this.paint.get("sky-type");return"atmosphere"===e?["skyboxCapture","skybox"]:"gradient"===e?["skyboxGradient"]:null}}]),i}(os)},id=x.HTMLImageElement,nd=x.HTMLCanvasElement,rd=x.HTMLVideoElement,od=x.ImageData,ad=x.ImageBitmap,sd=function(){function e(t,i,n,r){g(this,e),this.context=t,this.format=n,this.texture=t.gl.createTexture(),this.update(i,r)}return y(e,[{key:"update",value:function(e,t,i){var n=e.width,r=e.height,o=this.context,a=o.gl;if(a.bindTexture(a.TEXTURE_2D,this.texture),o.pixelStoreUnpackFlipY.set(!1),o.pixelStoreUnpack.set(1),o.pixelStoreUnpackPremultiplyAlpha.set(this.format===a.RGBA&&(!t||!1!==t.premultiply)),i||this.size&&this.size[0]===n&&this.size[1]===r){var s=i||{x:0,y:0},l=s.x,u=s.y;e instanceof id||e instanceof nd||e instanceof rd||e instanceof od||ad&&e instanceof ad?a.texSubImage2D(a.TEXTURE_2D,0,l,u,a.RGBA,a.UNSIGNED_BYTE,e):a.texSubImage2D(a.TEXTURE_2D,0,l,u,n,r,a.RGBA,a.UNSIGNED_BYTE,e.data)}else this.size=[n,r],e instanceof id||e instanceof nd||e instanceof rd||e instanceof od||ad&&e instanceof ad?a.texImage2D(a.TEXTURE_2D,0,this.format,this.format,a.UNSIGNED_BYTE,e):a.texImage2D(a.TEXTURE_2D,0,this.format,n,r,0,this.format,a.UNSIGNED_BYTE,e.data);this.useMipmap=Boolean(t&&t.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&a.generateMipmap(a.TEXTURE_2D)}},{key:"bind",value:function(e,t){var i=this.context.gl;i.bindTexture(i.TEXTURE_2D,this.texture),e!==this.filter&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,this.useMipmap?e===i.NEAREST?i.NEAREST_MIPMAP_NEAREST:i.LINEAR_MIPMAP_NEAREST:e),this.filter=e),t!==this.wrap&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,t),this.wrap=t)}},{key:"isSizePowerOfTwo",value:function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}},{key:"destroy",value:function(){this.context.gl.deleteTexture(this.texture),this.texture=null}}]),e}(),ld=function(){function e(t,i){g(this,e),this.width=t,this.height=i,this.nextRow=0,this.image=new Tl({width:t,height:i}),this.positions={},this.uploaded=!1}return y(e,[{key:"getDash",value:function(e,t){var i=this.getKey(e,t);return this.positions[i]}},{key:"trim",value:function(){var e=this.width,t=this.height=F(this.nextRow);this.image.resize({width:e,height:t})}},{key:"getKey",value:function(e,t){return e.join(",")+t}},{key:"getDashRanges",value:function(e,t,i){var n=[],r=e.length%2==1?-e[e.length-1]*i:0,o=e[0]*i,a=!0;n.push({left:r,right:o,isDash:a,zeroLength:0===e[0]});for(var s=e[0],l=1;l<e.length;l++){a=!a;var u=e[l];r=s*i,o=(s+=u)*i,n.push({left:r,right:o,isDash:a,zeroLength:0===u})}return n}},{key:"addRoundDash",value:function(e,t,i){for(var n=t/2,r=-i;r<=i;r++)for(var o=this.width*(this.nextRow+i+r),a=0,s=e[a],l=0;l<this.width;l++){l/s.right>1&&(s=e[++a]);var u=Math.abs(l-s.left),c=Math.abs(l-s.right),h=Math.min(u,c),d=void 0,p=r/i*(n+1);if(s.isDash){var f=n-Math.abs(p);d=Math.sqrt(h*h+f*f)}else d=n-Math.sqrt(h*h+p*p);this.image.data[o+l]=Math.max(0,Math.min(255,d+128))}}},{key:"addRegularDash",value:function(e,t){for(var i=e.length-1;i>=0;--i){var n=e[i],r=e[i+1];n.zeroLength?e.splice(i,1):r&&r.isDash===n.isDash&&(r.left=n.left,e.splice(i,1))}var o=e[0],a=e[e.length-1];o.isDash===a.isDash&&(o.left=a.left-this.width,a.right=o.right+this.width);for(var s=this.width*this.nextRow,l=0,u=e[l],c=0;c<this.width;c++){c/u.right>1&&(u=e[++l]);var h=Math.abs(c-u.left),d=Math.abs(c-u.right),p=Math.min(h,d);this.image.data[s+c]=Math.max(0,Math.min(255,(u.isDash?p:-p)+t+128))}}},{key:"addDash",value:function(e,t){var i=this.getKey(e,t);if(this.positions[i])return this.positions[i];var n="round"===t,r=n?7:0,o=2*r+1;if(this.nextRow+o>this.height)return q("LineAtlas out of space"),null;0===e.length&&e.push(1);for(var a=0,s=0;s<e.length;s++)e[s]<0&&(q("Negative value is found in line dasharray, replacing values with 0"),e[s]=0),a+=e[s];if(0!==a){var l=this.width/a,u=this.getDashRanges(e,this.width,l);n?this.addRoundDash(u,l,r):this.addRegularDash(u,"square"===t?.5*l:0)}var c=this.nextRow+r;this.nextRow+=o;var h={tl:[c,r],br:[a,0]};return this.positions[i]=h,h}}]),e}();Tr("LineAtlas",ld);var ud=function(){function e(t){var i=this;g(this,e),this._callback=t,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){i._triggered=!1,i._callback()})}return y(e,[{key:"trigger",value:function(){var e=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){e._triggered=!1,e._callback()}),0))}},{key:"remove",value:function(){delete this._channel,this._callback=function(){}}}]),e}(),cd=x.performance;function hd(e){var t=e?e.url.toString():void 0;return cd.getEntriesByName(t)}var dd=function(){function e(){g(this,e),this.tasks={},this.taskQueue=[],j(["process"],this),this.invoker=new ud(this.process),this.nextId=0}return y(e,[{key:"add",value:function(e,t){var i=this,n=this.nextId++,r=function(e){var t=e.type,i=e.isSymbolTile,n=e.zoom;return n=n||0,"message"===t?0:"maybePrepare"!==t||i?"parseTile"!==t||i?"parseTile"===t&&i?300-n:"maybePrepare"===t&&i?400-n:500:200-n:100-n}(t);if(0===r){Y();try{e()}finally{}return{cancel:function(){}}}return this.tasks[n]={fn:e,metadata:t,priority:r,id:n},this.taskQueue.push(n),this.invoker.trigger(),{cancel:function(){delete i.tasks[n]}}}},{key:"process",value:function(){var e=this;Y();try{if(this.taskQueue=this.taskQueue.filter((function(t){return!!e.tasks[t]})),!this.taskQueue.length)return;var t=this.pick();if(null===t)return;var i=this.tasks[t];if(delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),!i)return;i.fn()}finally{}}},{key:"pick",value:function(){for(var e=null,t=1/0,i=0;i<this.taskQueue.length;i++){var n=this.tasks[this.taskQueue[i]];n.priority<t&&(t=n.priority,e=i)}if(null===e)return null;var r=this.taskQueue[e];return this.taskQueue.splice(e,1),r}},{key:"remove",value:function(){this.invoker.remove()}}]),e}();function pd(e,t){var i=Math.pow(2,-e.z),n=e.x*i,r=(e.x+1)*i,o=e.y*i,a=(e.y+1)*i;if("mercator"===t.name)return{scale:1<<e.z,x:e.x,y:e.y,x2:e.x+1,y2:e.y+1,projection:t};var s=ys(n),l=ys(r),u=vs(o),c=vs(a),h=t.project(s,u),d=t.project(l,u),p=t.project(l,c),f=t.project(s,c),m=Math.min(h.x,d.x,p.x,f.x),g=Math.min(h.y,d.y,p.y,f.y),y=Math.max(h.x,d.x,p.x,f.x),v=Math.max(h.y,d.y,p.y,f.y),b=i/16;function x(e,i,n,r,o,a){var s=(n+o)/2,l=(r+a)/2,u=t.project(ys(s),vs(l)),c=Math.max(0,m-u.x,g-u.y,u.x-y,u.y-v);m=Math.min(m,u.x),y=Math.max(y,u.x),g=Math.min(g,u.y),v=Math.max(v,u.y),c>b&&(x(e,u,n,r,s,l),x(u,i,s,l,o,a))}x(h,d,n,o,r,o),x(d,p,r,o,r,a),x(p,f,r,a,n,a),x(f,h,n,a,n,o),m-=b,g-=b,y+=b,v+=b;var _=1/Math.max(y-m,v-g);return{scale:_,x:m*_,y:g*_,x2:y*_,y2:v*_,projection:t}}function fd(e,t,i){var n=2*Math.PI*6378137/256/Math.pow(2,i);return[e*n-2*Math.PI*6378137/2,t*n-2*Math.PI*6378137/2]}var md=function(){function e(t,i,n){g(this,e),this.z=t,this.x=i,this.y=n,this.key=vd(0,t,t,i,n)}return y(e,[{key:"equals",value:function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}},{key:"url",value:function(e,t){var i,n,r,o,a,s=(n=this.y,r=this.z,o=fd(256*(i=this.x),256*(n=Math.pow(2,r)-n-1),r),a=fd(256*(i+1),256*(n+1),r),o[0]+","+o[1]+","+a[0]+","+a[1]),l=function(e,t,i){for(var n,r="",o=e;o>0;o--)r+=(t&(n=1<<o-1)?1:0)+(i&n?2:0);return r}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",l).replace("{bbox-epsg-3857}",s)}},{key:"toString",value:function(){return"".concat(this.z,"/").concat(this.x,"/").concat(this.y)}}]),e}(),gd=y((function e(t,i){g(this,e),this.wrap=t,this.canonical=i,this.key=vd(t,i.z,i.z,i.x,i.y)})),yd=function(){function e(t,i,n,r,o){g(this,e),this.overscaledZ=t,this.wrap=i,this.canonical=new md(n,+r,+o),this.key=0===i&&t===n?this.canonical.key:vd(i,t,n,r,o)}return y(e,[{key:"equals",value:function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}},{key:"scaledTo",value:function(t){var i=this.canonical.z-t;return t>this.canonical.z?new e(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new e(t,this.wrap,t,this.canonical.x>>i,this.canonical.y>>i)}},{key:"calculateScaledKey",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.overscaledZ===e&&t)return this.key;if(e>this.canonical.z)return vd(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y);var i=this.canonical.z-e;return vd(this.wrap*+t,e,e,this.canonical.x>>i,this.canonical.y>>i)}},{key:"isChildOf",value:function(e){if(e.wrap!==this.wrap)return!1;var t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t}},{key:"children",value:function(t){if(this.overscaledZ>=t)return[new e(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var i=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new e(i,this.wrap,i,n,r),new e(i,this.wrap,i,n+1,r),new e(i,this.wrap,i,n,r+1),new e(i,this.wrap,i,n+1,r+1)]}},{key:"isLessThan",value:function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}},{key:"wrapped",value:function(){return new e(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}},{key:"unwrapTo",value:function(t){return new e(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}},{key:"overscaleFactor",value:function(){return Math.pow(2,this.overscaledZ-this.canonical.z)}},{key:"toUnwrapped",value:function(){return new gd(this.wrap,this.canonical)}},{key:"toString",value:function(){return"".concat(this.overscaledZ,"/").concat(this.canonical.x,"/").concat(this.canonical.y)}}]),e}();function vd(e,t,i,n,r){var o=1<<Math.min(i,22),a=o*(r%o)+n%o;return e&&i<22&&(a+=o*o*((e<0?-2*e-1:2*e)%(1<<2*(22-i)))),16*(32*a+i)+(t-i)}Tr("CanonicalTileID",md),Tr("OverscaledTileID",yd,{omit:["projMatrix"]});for(var bd=function(){function e(t){g(this,e),this._stringToNumber={},this._numberToString=[];for(var i=0;i<t.length;i++){var n=t[i];this._stringToNumber[n]=i,this._numberToString[i]=n}}return y(e,[{key:"encode",value:function(e){return this._stringToNumber[e]}},{key:"decode",value:function(e){return this._numberToString[e]}}]),e}(),xd=function(){function e(t,i,n,r,o){g(this,e),this.type="Feature",this._vectorTileFeature=t,t._z=i,t._x=n,t._y=r,this.properties=t.properties,this.id=o}return y(e,[{key:"geometry",get:function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},set:function(e){this._geometry=e}},{key:"toJSON",value:function(){var e={geometry:this.geometry};for(var t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e}}]),e}(),_d=qo([{name:"a_pos",type:"Int16",components:2}]),wd=32,Sd=33,kd=new Uint16Array(8184),Cd=0;Cd<2046;Cd++){var Td=Cd+2,Ed=0,Ad=0,Pd=0,Md=0,Ld=0,Od=0;for(1&Td?Pd=Md=Ld=wd:Ed=Ad=Od=wd;(Td>>=1)>1;){var Rd=Ed+Pd>>1,Id=Ad+Md>>1;1&Td?(Pd=Ed,Md=Ad,Ed=Ld,Ad=Od):(Ed=Pd,Ad=Md,Pd=Ld,Md=Od),Ld=Rd,Od=Id}var Dd=4*Cd;kd[Dd+0]=Ed,kd[Dd+1]=Ad,kd[Dd+2]=Pd,kd[Dd+3]=Md}var zd=new Uint16Array(2178),Bd=new Uint8Array(1089),Fd=new Uint16Array(1089);function Nd(e){return 0===e?-.03125:32===e?.03125:0}var jd=qo([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),Vd={type:2,extent:ls,loadGeometry:function(){return[[new v(0,0),new v(8193,0),new v(8193,8193),new v(0,8193),new v(0,0)]]}},Ud=function(){function e(t,i,n,r,o){g(this,e),this.tileID=t,this.uid=z(),this.uses=0,this.tileSize=i,this.tileZoom=n,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=o,this.expiredRequestCount=0,this.state="loading",r&&r.transform&&(this.projection=r.transform.projection)}return y(e,[{key:"registerFadeDuration",value:function(e){var t=e+this.timeAdded;t<ae.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)}},{key:"wasRequested",value:function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}},{key:"tileTransform",get:function(){return this._tileTransform||(this._tileTransform=pd(this.tileID.canonical,this.projection)),this._tileTransform}},{key:"loadVectorData",value:function(e,t,i){if(this.unloadVectorData(),this.state="loaded",e){for(var n in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){var i={};if(!t)return i;var n,r=d(e);try{var o=function(){var e=n.value,r=e.layerIds.map((function(e){return t.getLayer(e)})).filter(Boolean);if(0!==r.length){e.layers=r,e.stateDependentLayerIds&&(e.stateDependentLayers=e.stateDependentLayerIds.map((function(e){return r.filter((function(t){return t.id===e}))[0]})));var o,a=d(r);try{for(a.s();!(o=a.n()).done;){var s=o.value;i[s.id]=e}}catch(l){a.e(l)}finally{a.f()}}};for(r.s();!(n=r.n()).done;)o()}catch(a){r.e(a)}finally{r.f()}return i}(e.buckets,t.style),this.hasSymbolBuckets=!1,this.buckets){var r=this.buckets[n];if(r instanceof Gh){if(this.hasSymbolBuckets=!0,!i)break;r.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var o in this.buckets){var a=this.buckets[o];if(a instanceof Gh&&a.hasRTLText){this.hasRTLText=!0,To.isLoading()||To.isLoaded()||"deferred"!==ko()||Co();break}}for(var s in this.queryPadding=0,this.buckets){var l=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(s).queryRadius(l))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage),e.lineAtlas&&(this.lineAtlas=e.lineAtlas)}else this.collisionBoxArray=new ya}},{key:"unloadVectorData",value:function(){if(this.hasData()){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugIndexBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}},{key:"getBucket",value:function(e){return this.buckets[e.id]}},{key:"upload",value:function(e){for(var t in this.buckets){var i=this.buckets[t];i.uploadPending()&&i.upload(e)}var n=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new sd(e,this.imageAtlas.image,n.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new sd(e,this.glyphAtlasImage,n.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new sd(e,this.lineAtlas.image,n.ALPHA),this.lineAtlas.uploaded=!0)}},{key:"prepare",value:function(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}},{key:"queryRenderedFeatures",value:function(e,t,i,n,r,o,a,s){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:n,pixelPosMatrix:a,transform:o,params:r,tileTransform:this.tileTransform},e,t,i):{}}},{key:"querySourceFeatures",value:function(e,t){var i=this.latestFeatureIndex;if(i&&i.rawTileData){var n=i.loadVTLayers(),r=t?t.sourceLayer:"",o=n._geojsonTileLayer||n[r];if(o)for(var a=Nn(t&&t.filter),s=this.tileID.canonical,l=s.z,u=s.x,c=s.y,h={z:l,x:u,y:c},d=0;d<o.length;d++){var p=o.feature(d);if(a.needGeometry){var f=As(p,!0);if(!a.filter(new Eo(this.tileID.overscaledZ),f,this.tileID.canonical))continue}else if(!a.filter(new Eo(this.tileID.overscaledZ),p))continue;var m=i.getId(p,r),g=new xd(p,l,u,c,m);g.tile=h,e.push(g)}}}},{key:"hasData",value:function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}},{key:"patternsLoaded",value:function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}},{key:"setExpiryData",value:function(e){var t=this.expirationTime;if(e.cacheControl){var i=$(e.cacheControl);i["max-age"]&&(this.expirationTime=Date.now()+1e3*i["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var n=Date.now(),r=!1;if(this.expirationTime>n)r=!1;else if(t)if(this.expirationTime<t)r=!0;else{var o=this.expirationTime-t;o?this.expirationTime=n+Math.max(o,3e4):r=!0}else r=!0;r?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}},{key:"getExpiryTimeout",value:function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}},{key:"setFeatureState",value:function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length&&t){var i=this.latestFeatureIndex.loadVTLayers(),n=t.style.listImages();for(var r in this.buckets)if(t.style.hasLayer(r)){var o=this.buckets[r],a=o.layers[0].sourceLayer||"_geojsonTileLayer",s=i[a],l=e[a];if(s&&l&&0!==Object.keys(l).length){if(o.update(l,s,n,this.imageAtlas&&this.imageAtlas.patternPositions||{}),o instanceof Hu||o instanceof fu){var u=t.style._getSourceCache(o.layers[0].source);t._terrain&&t._terrain.enabled&&u&&o.programConfigurations.needsUpload&&t._terrain._clearRenderCacheForTile(u.id,this.tileID)}var c=t&&t.style&&t.style.getLayer(r);c&&(this.queryPadding=Math.max(this.queryPadding,c.queryRadius(o)))}}}}},{key:"holdingForFade",value:function(){return void 0!==this.symbolFadeHoldUntil}},{key:"symbolFadeFinished",value:function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<ae.now()}},{key:"clearFadeHold",value:function(){this.symbolFadeHoldUntil=void 0}},{key:"setHoldDuration",value:function(e){this.symbolFadeHoldUntil=ae.now()+e}},{key:"setDependencies",value:function(e,t){var i,n={},r=d(t);try{for(r.s();!(i=r.n()).done;)n[i.value]=!0}catch(o){r.e(o)}finally{r.f()}this.dependencies[e]=n}},{key:"hasDependency",value:function(e,t){var i,n=d(e);try{for(n.s();!(i=n.n()).done;){var r=i.value,o=this.dependencies[r];if(o){var a,s=d(t);try{for(s.s();!(a=s.n()).done;)if(o[a.value])return!0}catch(l){s.e(l)}finally{s.f()}}}}catch(l){n.e(l)}finally{n.f()}return!1}},{key:"clearQueryDebugViz",value:function(){}},{key:"_makeDebugTileBoundsBuffers",value:function(e,t){if(t&&"mercator"!==t.name&&!this._tileDebugBuffer){for(var i=Es(Vd,this.tileID.canonical,this.tileTransform)[0],n=new Xo,r=new pa,o=0;o<i.length;o++){var a=i[o],s=a.x,l=a.y;n.emplaceBack(s,l),r.emplaceBack(o)}r.emplaceBack(0),this._tileDebugIndexBuffer=e.createIndexBuffer(r),this._tileDebugBuffer=e.createVertexBuffer(n,jd.members),this._tileDebugSegments=ss.simpleSegment(0,0,n.length,r.length)}}},{key:"_makeTileBoundsBuffers",value:function(e,t){if(!this._tileBoundsBuffer&&t&&"mercator"!==t.name){var i,n,r=Es(Vd,this.tileID.canonical,this.tileTransform)[0];if(this.isRaster){var o=function(e,t){for(var i=pd(e,t),n=Math.pow(2,e.z),r=0;r<Sd;r++)for(var o=0;o<Sd;o++){var a=ys((e.x+(o+Nd(o))/wd)/n),s=vs((e.y+(r+Nd(r))/wd)/n),l=t.project(a,s),u=r*Sd+o;zd[2*u+0]=Math.round((l.x*i.scale-i.x)*ls),zd[2*u+1]=Math.round((l.y*i.scale-i.y)*ls)}Bd.fill(0),Fd.fill(0);for(var c=2045;c>=0;c--){var h=4*c,d=kd[h+0],p=kd[h+1],f=kd[h+2],m=kd[h+3],g=d+f>>1,y=p+m>>1,v=g+y-p,b=y+d-g,x=p*Sd+d,_=m*Sd+f,w=y*Sd+g,S=Math.hypot((zd[2*x+0]+zd[2*_+0])/2-zd[2*w+0],(zd[2*x+1]+zd[2*_+1])/2-zd[2*w+1])>=16;if(Bd[w]=Bd[w]||(S?1:0),c<1022){var k=(p+b>>1)*Sd+(d+v>>1),C=(m+b>>1)*Sd+(f+v>>1);Bd[w]=Bd[w]||Bd[k]||Bd[C]}}var T=new Yo,E=new aa,A=0;function P(e,t){var i=t*Sd+e;return 0===Fd[i]&&(T.emplaceBack(zd[2*i+0],zd[2*i+1],e*ls/wd,t*ls/wd),Fd[i]=++A),Fd[i]-1}function M(e,t,i,n,r,o){var a=e+i>>1,s=t+n>>1;if(Math.abs(e-r)+Math.abs(t-o)>1&&Bd[s*Sd+a])M(r,o,e,t,a,s),M(i,n,r,o,a,s);else{var l=P(e,t),u=P(i,n),c=P(r,o);E.emplaceBack(l,u,c)}}return M(0,0,wd,wd,wd,0),M(wd,wd,0,0,0,wd),{vertices:T,indices:E}}(this.tileID.canonical,t);i=o.vertices,n=o.indices}else{i=new Yo,n=new aa;var a,s=d(r);try{for(s.s();!(a=s.n()).done;){var l=a.value,u=l.x,c=l.y;i.emplaceBack(u,c,0,0)}}catch(f){s.e(f)}finally{s.f()}for(var h=Ol(i.int16,void 0,4),p=0;p<h.length;p+=3)n.emplaceBack(h[p],h[p+1],h[p+2])}this._tileBoundsBuffer=e.createVertexBuffer(i,jd.members),this._tileBoundsIndexBuffer=e.createIndexBuffer(n),this._tileBoundsSegments=ss.simpleSegment(0,0,i.length,n.length)}}}]),e}(),Wd=function(){function e(){g(this,e),this.state={},this.stateChanges={},this.deletedStates={}}return y(e,[{key:"updateState",value:function(e,t,i){var n=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][n]=this.stateChanges[e][n]||{},I(this.stateChanges[e][n],i),null===this.deletedStates[e])for(var r in this.deletedStates[e]={},this.state[e])r!==n&&(this.deletedStates[e][r]=null);else if(this.deletedStates[e]&&null===this.deletedStates[e][n])for(var o in this.deletedStates[e][n]={},this.state[e][n])i[o]||(this.deletedStates[e][n][o]=null);else for(var a in i)this.deletedStates[e]&&this.deletedStates[e][n]&&null===this.deletedStates[e][n][a]&&delete this.deletedStates[e][n][a]}},{key:"removeFeatureState",value:function(e,t,i){if(null!==this.deletedStates[e]){var n=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},i&&void 0!==t)null!==this.deletedStates[e][n]&&(this.deletedStates[e][n]=this.deletedStates[e][n]||{},this.deletedStates[e][n][i]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][n])for(i in this.deletedStates[e][n]={},this.stateChanges[e][n])this.deletedStates[e][n][i]=null;else this.deletedStates[e][n]=null;else this.deletedStates[e]=null}}},{key:"getState",value:function(e,t){var i=String(t),n=I({},(this.state[e]||{})[i],(this.stateChanges[e]||{})[i]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){var r=this.deletedStates[e][t];if(null===r)return{};for(var o in r)delete n[o]}return n}},{key:"initializeTileState",value:function(e,t){e.setFeatureState(this.state,t)}},{key:"coalesceChanges",value:function(e,t){var i={};for(var n in this.stateChanges){this.state[n]=this.state[n]||{};var r={};for(var o in this.stateChanges[n])this.state[n][o]||(this.state[n][o]={}),I(this.state[n][o],this.stateChanges[n][o]),r[o]=this.state[n][o];i[n]=r}for(var a in this.deletedStates){this.state[a]=this.state[a]||{};var s={};if(null===this.deletedStates[a])for(var l in this.state[a])s[l]={},this.state[a][l]={};else for(var u in this.deletedStates[a]){if(null===this.deletedStates[a][u])this.state[a][u]={};else for(var c=0,h=Object.keys(this.deletedStates[a][u]);c<h.length;c++){var d=h[c];delete this.state[a][u][d]}s[u]=this.state[a][u]}i[a]=i[a]||{},I(i[a],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(i).length)for(var p in e)e[p].setFeatureState(i,t)}}]),e}(),Hd=function(){function e(t){g(this,e),this.size=t,this.minimums=[],this.maximums=[],this.leaves=[]}return y(e,[{key:"getElevation",value:function(e,t){var i=this.toIdx(e,t);return{min:this.minimums[i],max:this.maximums[i]}}},{key:"isLeaf",value:function(e,t){return this.leaves[this.toIdx(e,t)]}},{key:"toIdx",value:function(e,t){return t*this.size+e}}]),e}();function Gd(e,t,i,n){for(var r=0,o=Number.MAX_VALUE,a=0;a<3;a++)if(Math.abs(n[a])<1e-15){if(i[a]<e[a]||i[a]>t[a])return null}else{var s=1/n[a],l=(e[a]-i[a])*s,u=(t[a]-i[a])*s;if(l>u){var c=l;l=u,u=c}if(l>r&&(r=l),u<o&&(o=u),r>o)return null}return r}function qd(e,t,i,n,r,o,a,s,l,u,c){var h=n-e,d=r-t,p=o-i,f=a-e,m=s-t,g=l-i,y=c[1]*g-c[2]*m,v=c[2]*f-c[0]*g,b=c[0]*m-c[1]*f,x=h*y+d*v+p*b;if(Math.abs(x)<1e-15)return null;var _=1/x,w=u[0]-e,S=u[1]-t,k=u[2]-i,C=(w*y+S*v+k*b)*_;if(C<0||C>1)return null;var T=S*p-k*d,E=k*h-w*p,A=w*d-S*h,P=(c[0]*T+c[1]*E+c[2]*A)*_;return P<0||C+P>1?null:(f*T+m*E+g*A)*_}function Zd(e,t,i){return(e-t)/(i-t)}function Xd(e,t,i,n,r,o,a,s,l){var u=1<<i,c=o-n,h=a-r,d=(e+1)/u*c+n,p=(t+0)/u*h+r,f=(t+1)/u*h+r;s[0]=(e+0)/u*c+n,s[1]=p,l[0]=d,l[1]=f}var Yd=function(){function e(t){if(g(this,e),this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=t,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],this.dem){var i=function(e){for(var t=Math.ceil(Math.log2(e.dim/8)),i=[],n=Math.ceil(Math.pow(2,t)),r=1/n,o=function(e,t,i,n,r){var o=n?1:0,a=(e+1)*i-o,s=t*i,l=(t+1)*i-o;r[0]=e*i,r[1]=s,r[2]=a,r[3]=l},a=new Hd(n),s=[],l=0;l<n*n;l++){o(l%n,Math.floor(l/n),r,!1,s);var u=Kd(s[0],s[1],e),c=Kd(s[2],s[1],e),h=Kd(s[2],s[3],e),d=Kd(s[0],s[3],e);a.minimums.push(Math.min(u,c,h,d)),a.maximums.push(Math.max(u,c,h,d)),a.leaves.push(1)}for(i.push(a),n/=2;n>=1;n/=2){var p=i[i.length-1];a=new Hd(n);for(var f=0;f<n*n;f++){o(f%n,Math.floor(f/n),2,!0,s);var m=p.getElevation(s[0],s[1]),g=p.getElevation(s[2],s[1]),y=p.getElevation(s[2],s[3]),v=p.getElevation(s[0],s[3]),b=p.isLeaf(s[0],s[1]),x=p.isLeaf(s[2],s[1]),_=p.isLeaf(s[2],s[3]),w=p.isLeaf(s[0],s[3]),S=Math.min(m.min,g.min,y.min,v.min),k=Math.max(m.max,g.max,y.max,v.max),C=b&&x&&_&&w;a.maximums.push(k),a.minimums.push(S),a.leaves.push(k-S<=5&&C?1:0)}i.push(a)}return i}(this.dem),n=i.length-1,r=i[n];this._addNode(r.minimums[0],r.maximums[0],r.leaves[0]),this._construct(i,0,0,n,0)}}return y(e,[{key:"raycastRoot",value:function(e,t,i,n,r,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;return Gd([e,t,-100],[i,n,this.maximums[0]*a],r,o)}},{key:"raycast",value:function(e,t,i,n,r,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;if(!this.nodeCount)return null;var s=this.raycastRoot(e,t,i,n,r,o,a);if(null==s)return null;for(var l=[],u=[],c=[],h=[],d=[{idx:0,t:s,nodex:0,nodey:0,depth:0}];d.length>0;){var p=d.pop(),f=p.idx,m=p.t,g=p.nodex,y=p.nodey,v=p.depth;if(this.leaves[f]){Xd(g,y,v,e,t,i,n,c,h);var b=1<<v,x=(g+0)/b,_=(g+1)/b,w=(y+0)/b,S=(y+1)/b,k=Kd(x,w,this.dem)*a,C=Kd(_,w,this.dem)*a,T=Kd(_,S,this.dem)*a,E=Kd(x,S,this.dem)*a,A=qd(c[0],c[1],k,h[0],c[1],C,h[0],h[1],T,r,o),P=qd(h[0],h[1],T,c[0],h[1],E,c[0],c[1],k,r,o),M=Math.min(null!==A?A:Number.MAX_VALUE,null!==P?P:Number.MAX_VALUE);if(M!==Number.MAX_VALUE)return M;var L=ol([],r,o,m);if($d(k,C,E,T,Zd(L[0],c[0],h[0]),Zd(L[1],c[1],h[1]))>=L[2])return m}else{for(var O=0,R=0;R<this._siblingOffset.length;R++){Xd((g<<1)+this._siblingOffset[R][0],(y<<1)+this._siblingOffset[R][1],v+1,e,t,i,n,c,h),c[2]=-100,h[2]=this.maximums[this.childOffsets[f]+R]*a;var I=Gd(c,h,r,o);if(null!=I){var D=I;l[R]=D;for(var z=!1,B=0;B<O&&!z;B++)D>=l[u[B]]&&(u.splice(B,0,R),z=!0);z||(u[O]=R),O++}}for(var F=0;F<O;F++){var N=u[F];d.push({idx:this.childOffsets[f]+N,t:l[N],nodex:(g<<1)+this._siblingOffset[N][0],nodey:(y<<1)+this._siblingOffset[N][1],depth:v+1})}}}return null}},{key:"_addNode",value:function(e,t,i){return this.minimums.push(e),this.maximums.push(t),this.leaves.push(i),this.childOffsets.push(0),this.nodeCount++}},{key:"_construct",value:function(e,t,i,n,r){if(1!==e[n].isLeaf(t,i)){this.childOffsets[r]||(this.childOffsets[r]=this.nodeCount);for(var o,a=n-1,s=e[a],l=0,u=0;u<this._siblingOffset.length;u++){var c=2*t+this._siblingOffset[u][0],h=2*i+this._siblingOffset[u][1],d=s.getElevation(c,h),p=s.isLeaf(c,h),f=this._addNode(d.min,d.max,p);p&&(l|=1<<u),o||(o=f)}for(var m=0;m<this._siblingOffset.length;m++)l&1<<m||this._construct(e,2*t+this._siblingOffset[m][0],2*i+this._siblingOffset[m][1],a,o+m)}}}]),e}();function $d(e,t,i,n,r,o){return yi(yi(e,i,o),yi(t,n,o),r)}function Kd(e,t,i){var n=i.dim,r=M(e*n-.5,0,n-1),o=M(t*n-.5,0,n-1),a=Math.floor(r),s=Math.floor(o),l=Math.min(a+1,n-1),u=Math.min(s+1,n-1);return $d(i.get(a,s),i.get(l,s),i.get(a,u),i.get(l,u),r-a,o-s)}var Qd={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]},Jd=function(){function e(t,i,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(g(this,e),this.uid=t,i.height!==i.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return q('"'.concat(n,'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".'));this.stride=i.height;var a=this.dim=i.height-2;if(this.data=new Uint32Array(i.data.buffer),this.encoding=n||"mapbox",this.borderReady=r,!r){for(var s=0;s<a;s++)this.data[this._idx(-1,s)]=this.data[this._idx(0,s)],this.data[this._idx(a,s)]=this.data[this._idx(a-1,s)],this.data[this._idx(s,-1)]=this.data[this._idx(s,0)],this.data[this._idx(s,a)]=this.data[this._idx(s,a-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(a,-1)]=this.data[this._idx(a-1,0)],this.data[this._idx(-1,a)]=this.data[this._idx(0,a-1)],this.data[this._idx(a,a)]=this.data[this._idx(a-1,a-1)],o&&this._buildQuadTree()}}return y(e,[{key:"tree",get:function(){return this._tree||this._buildQuadTree(),this._tree}},{key:"_buildQuadTree",value:function(){this._tree=new Yd(this)}},{key:"get",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=new Uint8Array(this.data.buffer);i&&(e=M(e,-1,this.dim),t=M(t,-1,this.dim));var r=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(n[r],n[r+1],n[r+2])}},{key:"unpackVector",get:function(){return Qd[this.encoding]}},{key:"_idx",value:function(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)}},{key:"_unpackMapbox",value:function(e,t,i){return(256*e*256+256*t+i)/10-1e4}},{key:"_unpackTerrarium",value:function(e,t,i){return 256*e+t+i/256-32768}},{key:"getPixels",value:function(){return new El({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}},{key:"backfillBorder",value:function(e,t,i){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");var n=t*this.dim,r=t*this.dim+this.dim,o=i*this.dim,a=i*this.dim+this.dim;switch(t){case-1:n=r-1;break;case 1:r=n+1}switch(i){case-1:o=a-1;break;case 1:a=o+1}for(var s=-t*this.dim,l=-i*this.dim,u=o;u<a;u++)for(var c=n;c<r;c++)this.data[this._idx(c,u)]=e.data[this._idx(c+s,u+l)]}},{key:"onDeserialize",value:function(){this._tree&&(this._tree.dem=this)}}],[{key:"getUnpackVector",value:function(e){return Qd[e]}},{key:"pack",value:function(t,i){var n=[0,0,0,0],r=e.getUnpackVector(i),o=Math.floor((t+r[3])/r[2]);return n[2]=o%256,o=Math.floor(o/256),n[1]=o%256,o=Math.floor(o/256),n[0]=o,n}}]),e}();Tr("DEMData",Jd),Tr("DemMinMaxQuadTree",Yd,{omit:["dem"]});var ep=function(){function e(t,i){g(this,e),this.max=t,this.onRemove=i,this.reset()}return y(e,[{key:"reset",value:function(){for(var e in this.data){var t,i=d(this.data[e]);try{for(i.s();!(t=i.n()).done;){var n=t.value;n.timeout&&clearTimeout(n.timeout),this.onRemove(n.value)}}catch(r){i.e(r)}finally{i.f()}}return this.data={},this.order=[],this}},{key:"add",value:function(e,t,i){var n=this,r=e.wrapped().key;void 0===this.data[r]&&(this.data[r]=[]);var o={value:t,timeout:void 0};if(void 0!==i&&(o.timeout=setTimeout((function(){n.remove(e,o)}),i)),this.data[r].push(o),this.order.push(r),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this}},{key:"has",value:function(e){return e.wrapped().key in this.data}},{key:"getAndRemove",value:function(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}},{key:"_getAndRemoveByKey",value:function(e){var t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}},{key:"getByKey",value:function(e){var t=this.data[e];return t?t[0].value:null}},{key:"get",value:function(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}},{key:"remove",value:function(e,t){if(!this.has(e))return this;var i=e.wrapped().key,n=void 0===t?0:this.data[i].indexOf(t),r=this.data[i][n];return this.data[i].splice(n,1),r.timeout&&clearTimeout(r.timeout),0===this.data[i].length&&delete this.data[i],this.onRemove(r.value),this.order.splice(this.order.indexOf(i),1),this}},{key:"setMaxSize",value:function(e){for(this.max=e;this.order.length>this.max;){var t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this}},{key:"filter",value:function(e){var t=[];for(var i in this.data){var n,r=d(this.data[i]);try{for(r.s();!(n=r.n()).done;){var o=n.value;e(o.value)||t.push(o)}}catch(u){r.e(u)}finally{r.f()}}for(var a=0,s=t;a<s.length;a++){var l=s[a];this.remove(l.value.tileID,l)}}}]),e}(),tp=y((function e(t,i,n){g(this,e),this.func=t,this.mask=i,this.range=n}));tp.ReadOnly=!1,tp.ReadWrite=!0,tp.disabled=new tp(519,tp.ReadOnly,[0,1]);var ip=7680,np=y((function e(t,i,n,r,o,a){g(this,e),this.test=t,this.ref=i,this.mask=n,this.fail=r,this.depthFail=o,this.pass=a}));np.disabled=new np({func:519,mask:0},0,0,ip,ip,ip);var rp=y((function e(t,i,n){g(this,e),this.blendFunction=t,this.blendColor=i,this.mask=n}));rp.Replace=[1,0],rp.disabled=new rp(rp.Replace,Ct.transparent,[!1,!1,!1,!1]),rp.unblended=new rp(rp.Replace,Ct.transparent,[!0,!0,!0,!0]),rp.alphaBlended=new rp([1,771],Ct.transparent,[!0,!0,!0,!0]);var op=1029,ap=2305,sp=y((function e(t,i,n){g(this,e),this.enable=t,this.mode=i,this.frontFace=n}));sp.disabled=new sp(!1,op,ap),sp.backCCW=new sp(!0,op,ap),sp.backCW=new sp(!0,op,2304),sp.frontCW=new sp(!0,1028,2304),sp.frontCCW=new sp(!0,1028,ap);var lp=function(e){f(i,e);var t=m(i);function i(e,n,o){var a;return g(this,i),(a=t.call(this)).id=e,a._onlySymbols=o,n.on("data",(function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(a._sourceLoaded=!0),a._sourceLoaded&&!a._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(a.reload(),a.transform&&a.update(a.transform))})),n.on("error",(function(){a._sourceErrored=!0})),a._source=n,a._tiles={},a._cache=new ep(0,a._unloadTile.bind(r(a))),a._timers={},a._cacheTimers={},a._maxTileCacheSize=null,a._loadedParentTiles={},a._coveredTiles={},a._state=new Wd,a}return y(i,[{key:"onAdd",value:function(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null}},{key:"loaded",value:function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var e in this._tiles){var t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0}},{key:"getSource",value:function(){return this._source}},{key:"pause",value:function(){this._paused=!0}},{key:"resume",value:function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}}},{key:"_loadTile",value:function(e,t){return e.isSymbolTile=this._onlySymbols,this._source.loadTile(e,t)}},{key:"_unloadTile",value:function(e){if(this._source.unloadTile)return this._source.unloadTile(e,(function(){}))}},{key:"_abortTile",value:function(e){if(this._source.abortTile)return this._source.abortTile(e,(function(){}))}},{key:"serialize",value:function(){return this._source.serialize()}},{key:"prepare",value:function(e){for(var t in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var i=this._tiles[t];i.upload(e),i.prepare(this.map.style.imageManager)}}},{key:"getIds",value:function(){return R(this._tiles).map((function(e){return e.tileID})).sort(up).map((function(e){return e.key}))}},{key:"getRenderableIds",value:function(e){var t=this,i=[];for(var n in this._tiles)this._isIdRenderable(+n,e)&&i.push(this._tiles[n]);return e?i.sort((function(e,i){var n=e.tileID,r=i.tileID,o=new v(n.canonical.x,n.canonical.y)._rotate(t.transform.angle),a=new v(r.canonical.x,r.canonical.y)._rotate(t.transform.angle);return n.overscaledZ-r.overscaledZ||a.y-o.y||a.x-o.x})).map((function(e){return e.tileID.key})):i.map((function(e){return e.tileID})).sort(up).map((function(e){return e.key}))}},{key:"hasRenderableParent",value:function(e){var t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)}},{key:"_isIdRenderable",value:function(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())}},{key:"reload",value:function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var e in this._cache.reset(),this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(+e,"reloading")}},{key:"_reloadTile",value:function(e,t){var i=this._tiles[e];i&&("loading"!==i.state&&(i.state=t),this._loadTile(i,this._tileLoaded.bind(this,i,e,t)))}},{key:"_tileLoaded",value:function(e,t,i,n){if(n)return e.state="errored",void(404!==n.status?this._source.fire(new Ke(n,{tile:e})):this.update(this.transform));e.timeAdded=ae.now(),"expired"===i&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(t,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new $e("data",{dataType:"source",tile:e,coord:e.tileID,sourceCacheId:this.id}))}},{key:"_backfillDEM",value:function(e){for(var t=this.getRenderableIds(),i=0;i<t.length;i++){var n=t[i];if(e.neighboringTiles&&e.neighboringTiles[n]){var r=this.getTileByID(n);o(e,r),o(r,e)}}function o(e,t){if(e.dem&&!e.dem.borderReady){e.needsHillshadePrepare=!0,e.needsDEMTextureUpload=!0;var i=t.tileID.canonical.x-e.tileID.canonical.x,n=t.tileID.canonical.y-e.tileID.canonical.y,r=Math.pow(2,e.tileID.canonical.z),o=t.tileID.key;0===i&&0===n||Math.abs(n)>1||(Math.abs(i)>1&&(1===Math.abs(i+r)?i+=r:1===Math.abs(i-r)&&(i-=r)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,i,n),e.neighboringTiles&&e.neighboringTiles[o]&&(e.neighboringTiles[o].backfilled=!0)))}}}},{key:"getTile",value:function(e){return this.getTileByID(e.key)}},{key:"getTileByID",value:function(e){return this._tiles[e]}},{key:"_retainLoadedChildren",value:function(e,t,i,n){for(var r in this._tiles){var o=this._tiles[r];if(!(n[r]||!o.hasData()||o.tileID.overscaledZ<=t||o.tileID.overscaledZ>i)){for(var a=o.tileID;o&&o.tileID.overscaledZ>t+1;){var s=o.tileID.scaledTo(o.tileID.overscaledZ-1);(o=this._tiles[s.key])&&o.hasData()&&(a=s)}for(var l=a;l.overscaledZ>t;)if(e[(l=l.scaledTo(l.overscaledZ-1)).key]){n[a.key]=a;break}}}}},{key:"findLoadedParent",value:function(e,t){if(e.key in this._loadedParentTiles){var i=this._loadedParentTiles[e.key];return i&&i.tileID.overscaledZ>=t?i:null}for(var n=e.overscaledZ-1;n>=t;n--){var r=e.scaledTo(n),o=this._getLoadedTile(r);if(o)return o}}},{key:"_getLoadedTile",value:function(e){var t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(this._source.reparseOverscaled?e.wrapped().key:e.canonical.key)}},{key:"updateCacheSize",value:function(e,t){t=t||this._source.tileSize;var i=Math.ceil(e.width/t)+1,n=Math.ceil(e.height/t)+1,r=Math.floor(i*n*5),o="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(o)}},{key:"handleWrapJump",value:function(e){var t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){var i={};for(var n in this._tiles){var r=this._tiles[n];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+t),i[r.tileID.key]=r}for(var o in this._tiles=i,this._timers)clearTimeout(this._timers[o]),delete this._timers[o];for(var a in this._tiles)this._setTileReloadTimer(+a,this._tiles[a])}}},{key:"update",value:function(e,t,n){var r=this;if(this.transform=e,this._sourceLoaded&&!this._paused&&!this.transform.freezeTileCoverage&&(!this.usedForTerrain||n)){var o;this.updateCacheSize(e,t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?o=e.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(e){return new yd(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)})):(o=e.coveringTiles({tileSize:t||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!n,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(o=o.filter((function(e){return r._source.hasTile(e)})))):o=[];var a=this._updateRetainedTiles(o);if(cp(this._source.type)&&0!==o.length){for(var s={},l={},u=0,c=Object.keys(a);u<c.length;u++){var h=c[u],p=a[h],f=this._tiles[h];if(f&&!(f.fadeEndTime&&f.fadeEndTime<=ae.now())){var m=this.findLoadedParent(p,Math.max(p.overscaledZ-i.maxOverzooming,this._source.minzoom));m&&(this._addTile(m.tileID),s[m.tileID.key]=m.tileID),l[h]=p}}var g=o[o.length-1].overscaledZ;for(var y in this._tiles){var v=this._tiles[y];if(!a[y]&&v.hasData())for(var b=v.tileID;b.overscaledZ>g;){b=b.scaledTo(b.overscaledZ-1);var x=this._tiles[b.key];if(x&&x.hasData()&&l[b.key]){a[y]=v.tileID;break}}}for(var _ in s)a[_]||(this._coveredTiles[_]=!0,a[_]=s[_])}for(var w in a)this._tiles[w].clearFadeHold();var S,k=function(e,t){var i=[];for(var n in e)n in t||i.push(n);return i}(this._tiles,a),C=d(k);try{for(C.s();!(S=C.n()).done;){var T=S.value,E=this._tiles[T];E.hasSymbolBuckets&&!E.holdingForFade()?E.setHoldDuration(this.map._fadeDuration):E.hasSymbolBuckets&&!E.symbolFadeFinished()||this._removeTile(+T)}}catch(A){C.e(A)}finally{C.f()}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}}},{key:"releaseSymbolFadeTiles",value:function(){for(var e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(+e)}},{key:"_updateRetainedTiles",value:function(e){var t={};if(0===e.length)return t;var n,r={},o=e.reduce((function(e,t){return Math.min(e,t.overscaledZ)}),1/0),a=e[0].overscaledZ,s=Math.max(a-i.maxOverzooming,this._source.minzoom),l=Math.max(a+i.maxUnderzooming,this._source.minzoom),u={},c=d(e);try{for(c.s();!(n=c.n()).done;){var h=n.value,p=this._addTile(h);t[h.key]=h,p.hasData()||o<this._source.maxzoom&&(u[h.key]=h)}}catch(k){c.e(k)}finally{c.f()}this._retainLoadedChildren(u,o,l,t);var f,m=d(e);try{for(m.s();!(f=m.n()).done;){var g=f.value,y=this._tiles[g.key];if(!y.hasData()){if(g.canonical.z>=this._source.maxzoom){var v=g.children(this._source.maxzoom)[0],b=this.getTile(v);if(b&&b.hasData()){t[v.key]=v;continue}}else{var x=g.children(this._source.maxzoom);if(t[x[0].key]&&t[x[1].key]&&t[x[2].key]&&t[x[3].key])continue}for(var _=y.wasRequested(),w=g.overscaledZ-1;w>=s;--w){var S=g.scaledTo(w);if(r[S.key])break;if(r[S.key]=!0,!(y=this.getTile(S))&&_&&(y=this._addTile(S)),y&&(t[S.key]=S,_=y.wasRequested(),y.hasData()))break}}}}catch(k){m.e(k)}finally{m.f()}return t}},{key:"_updateLoadedParentTileCache",value:function(){for(var e in this._loadedParentTiles={},this._tiles){for(var t=[],i=void 0,n=this._tiles[e].tileID;n.overscaledZ>0;){if(n.key in this._loadedParentTiles){i=this._loadedParentTiles[n.key];break}t.push(n.key);var r=n.scaledTo(n.overscaledZ-1);if(i=this._getLoadedTile(r))break;n=r}for(var o=0,a=t;o<a.length;o++){var s=a[o];this._loadedParentTiles[s]=i}}}},{key:"_addTile",value:function(e){var t=this._tiles[e.key];if(t)return t;(t=this._cache.getAndRemove(e))&&(this._setTileReloadTimer(e.key,t),t.tileID=e,this._state.initializeTileState(t,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,t)));var i=Boolean(t);if(!i){var n=this.map?this.map.painter:null;t=new Ud(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,n,"raster"===this._source.type||"raster-dem"===this._source.type),this._loadTile(t,this._tileLoaded.bind(this,t,e.key,t.state))}return t?(t.uses++,this._tiles[e.key]=t,i||this._source.fire(new $e("dataloading",{tile:t,coord:t.tileID,dataType:"source"})),t):null}},{key:"_setTileReloadTimer",value:function(e,t){var i=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var n=t.getExpiryTimeout();n&&(this._timers[e]=setTimeout((function(){i._reloadTile(e,"expired"),delete i._timers[e]}),n))}},{key:"_removeTile",value:function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))}},{key:"clearTiles",value:function(){for(var e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(+e);this._source._clear&&this._source._clear(),this._cache.reset()}},{key:"tilesIn",value:function(e,t,i){var n=[],r=this.transform;if(!r)return n;for(var o in this._tiles){var a=this._tiles[o];if(i&&a.clearQueryDebugViz(),!a.holdingForFade()){var s=e.containsTile(a,r,t);s&&n.push(s)}}return n}},{key:"getVisibleCoordinates",value:function(e){var t,i=this,n=this.getRenderableIds(e).map((function(e){return i._tiles[e].tileID})),r=d(n);try{for(r.s();!(t=r.n()).done;){var o=t.value;o.projMatrix=this.transform.calculateProjMatrix(o.toUnwrapped())}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"hasTransition",value:function(){if(this._source.hasTransition())return!0;if(cp(this._source.type))for(var e in this._tiles){var t=this._tiles[e];if(void 0!==t.fadeEndTime&&t.fadeEndTime>=ae.now())return!0}return!1}},{key:"setFeatureState",value:function(e,t,i){this._state.updateState(e=e||"_geojsonTileLayer",t,i)}},{key:"removeFeatureState",value:function(e,t,i){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,i)}},{key:"getFeatureState",value:function(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)}},{key:"setDependencies",value:function(e,t,i){var n=this._tiles[e];n&&n.setDependencies(t,i)}},{key:"reloadTilesForDependencies",value:function(e,t){for(var i in this._tiles)this._tiles[i].hasDependency(e,t)&&this._reloadTile(+i,"reloading");this._cache.filter((function(i){return!i.hasDependency(e,t)}))}}]),i}(Qe);function up(e,t){var i=Math.abs(2*e.wrap)-+(e.wrap<0),n=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||n-i||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function cp(e){return"raster"===e||"image"===e||"video"===e}lp.maxOverzooming=10,lp.maxUnderzooming=3;var hp=function(){function e(t,i,n){g(this,e),this._demTile=t,this._dem=this._demTile.dem,this._scale=i,this._offset=n}return y(e,[{key:"tileCoordToPixel",value:function(e,t){var i=t*this._scale+this._offset[1],n=Math.floor(e*this._scale+this._offset[0]),r=Math.floor(i);return new v(n,r)}},{key:"getElevationAt",value:function(e,t,i,n){var r=e*this._scale+this._offset[0],o=t*this._scale+this._offset[1],a=Math.floor(r),s=Math.floor(o),l=this._dem;return n=!!n,i?yi(yi(l.get(a,s,n),l.get(a,s+1,n),o-s),yi(l.get(a+1,s,n),l.get(a+1,s+1,n),o-s),r-a):l.get(a,s,n)}},{key:"getElevationAtPixel",value:function(e,t,i){return this._dem.get(e,t,!!i)}},{key:"getMeterToDEM",value:function(e){return(1<<this._demTile.tileID.canonical.z)*gs(1,e)*this._dem.stride}}],[{key:"create",value:function(t,i,n){var r=n||t.findDEMTileFor(i);if(r&&r.dem){var o=r.dem,a=r.tileID,s=1<<i.canonical.z-a.canonical.z;return new e(r,r.tileSize/ls/s,[(i.canonical.x/s-a.canonical.x)*o.dim,(i.canonical.y/s-a.canonical.y)*o.dim])}}}]),e}(),dp=function(){function e(t,i){g(this,e),this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new _r(ls,16,0),this.featureIndexArray=new Ca,this.promoteId=i}return y(e,[{key:"insert",value:function(e,t,i,n,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(i,n,r,o);for(var s=this.grid,l=0;l<t.length;l++){for(var u=t[l],c=[1/0,1/0,-1/0,-1/0],h=0;h<u.length;h++){var d=u[h];c[0]=Math.min(c[0],d.x),c[1]=Math.min(c[1],d.y),c[2]=Math.max(c[2],d.x),c[3]=Math.max(c[3],d.y)}c[0]<ls&&c[1]<ls&&c[2]>=0&&c[3]>=0&&s.insert(a,c[0],c[1],c[2],c[3])}}},{key:"loadVTLayers",value:function(){if(!this.vtLayers)for(var e in this.vtLayers=new Au.VectorTile(new pc(this.rawTileData)).layers,this.sourceLayerCoder=new bd(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={},this.vtLayers)this.vtFeatures[e]=[];return this.vtLayers}},{key:"query",value:function(e,t,i,n){var r=this;this.loadVTLayers();var o=e.params||{},a=Nn(o.filter),s=e.tileResult,l=e.transform,u=s.bufferedTilespaceBounds,c=this.grid.query(u.min.x,u.min.y,u.max.x,u.max.y,(function(e,t,i,n){return Vs(s.bufferedTilespaceGeometry,e,t,i,n)}));c.sort(fp);var h=null;l.elevation&&c.length>0&&(h=hp.create(l.elevation,this.tileID));for(var d,p={},f=function(l){var u=c[l];if(u===d)return"continue";d=u;var f=r.featureIndexArray.get(u),m=null;r.loadMatchingFeature(p,f,a,o.layers,o.availableImages,t,i,n,(function(t,i,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return m||(m=Es(t,r.tileID.canonical,e.tileTransform)),i.queryIntersectsFeature(s,t,n,m,r.z,e.transform,e.pixelPosMatrix,h,o)}))},m=0;m<c.length;m++)f(m);return p}},{key:"loadMatchingFeature",value:function(e,t,i,n,r,o,a,s,l){var u=t.featureIndex,c=t.bucketIndex,h=t.sourceLayerIndex,d=t.layoutVertexArrayOffset,p=this.bucketLayerIDs[c];if(!n||function(e,t){for(var i=0;i<e.length;i++)if(t.indexOf(e[i])>=0)return!0;return!1}(n,p)){var f=this.sourceLayerCoder.decode(h),m=this.vtLayers[f].feature(u);if(i.needGeometry){var g=As(m,!0);if(!i.filter(new Eo(this.tileID.overscaledZ),g,this.tileID.canonical))return}else if(!i.filter(new Eo(this.tileID.overscaledZ),m))return;for(var y=this.getId(m,f),v=0;v<p.length;v++){var b=p[v];if(!(n&&n.indexOf(b)<0)){var x=o[b];if(x){var _={};void 0!==y&&s&&(_=s.getState(x.sourceLayer||"_geojsonTileLayer",y));var w=I({},a[b]);w.paint=pp(w.paint,x.paint,m,_,r),w.layout=pp(w.layout,x.layout,m,_,r);var S=!l||l(m,x,_,d);if(S){var k=new xd(m,this.z,this.x,this.y,y);k.layer=w;var C=e[b];void 0===C&&(C=e[b]=[]),C.push({featureIndex:u,feature:k,intersectionZ:S})}}}}}}},{key:"lookupSymbolFeatures",value:function(e,t,i,n,r,o,a,s){var l={};this.loadVTLayers();var u,c=Nn(r),h=d(e);try{for(h.s();!(u=h.n()).done;){var p=u.value;this.loadMatchingFeature(l,{bucketIndex:i,sourceLayerIndex:n,featureIndex:p,layoutVertexArrayOffset:0},c,o,a,s,t)}}catch(f){h.e(f)}finally{h.f()}return l}},{key:"loadFeature",value:function(e){var t=e.featureIndex,i=e.sourceLayerIndex;this.loadVTLayers();var n=this.sourceLayerCoder.decode(i),r=this.vtFeatures[n];if(r[t])return r[t];var o=this.vtLayers[n].feature(t);return r[t]=o,o}},{key:"hasLayer",value:function(e){var t,i=d(this.bucketLayerIDs);try{for(i.s();!(t=i.n()).done;){var n,r=t.value,o=d(r);try{for(o.s();!(n=o.n()).done;)if(e===n.value)return!0}catch(a){o.e(a)}finally{o.f()}}}catch(a){i.e(a)}finally{i.f()}return!1}},{key:"getId",value:function(e,t){var i=e.id;return this.promoteId&&"boolean"==typeof(i=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[t]])&&(i=Number(i)),i}}]),e}();function pp(e,t,i,n,r){return U(e,(function(e,o){var a=t instanceof Do?t.get(o):null;return a&&a.evaluate?a.evaluate(i,n,r):a}))}function fp(e,t){return t-e}Tr("FeatureIndex",dp,{omit:["rawTileData","sourceLayerCoder"]});var mp=y((function e(t){g(this,e);var i={},n=[];for(var r in t){var o=t[r],a=i[r]={};for(var s in o.glyphs){var l=o.glyphs[+s];if(l&&0!==l.bitmap.width&&0!==l.bitmap.height){var u=l.metrics.localGlyph?2:1,c={x:0,y:0,w:l.bitmap.width+2*u,h:l.bitmap.height+2*u};n.push(c),a[s]=c}}}var h=zc(n),d=h.w,p=h.h,f=new Tl({width:d||1,height:p||1});for(var m in t){var y=t[m];for(var v in y.glyphs){var b=y.glyphs[+v];if(b&&0!==b.bitmap.width&&0!==b.bitmap.height){var x=i[m][v],_=b.metrics.localGlyph?2:1;Tl.copy(b.bitmap,f,{x:0,y:0},{x:x.x+_,y:x.y+_},b.bitmap)}}}this.image=f,this.positions=i}));Tr("GlyphAtlas",mp);var gp=function(){function e(t){g(this,e),this.tileID=new yd(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.tileZoom=t.tileZoom,this.uid=t.uid,this.zoom=t.zoom,this.canonical=t.tileID.canonical,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId,this.enableTerrain=!!t.enableTerrain,this.isSymbolTile=t.isSymbolTile,t.projection&&(this.tileTransform=pd(t.tileID.canonical,t.projection))}return y(e,[{key:"parse",value:function(e,t,i,n,r){var o=this;this.status="parsing",this.data=e,this.collisionBoxArray=new ya;var a=new bd(Object.keys(e.layers).sort()),s=new dp(this.tileID,this.promoteId);s.bucketLayerIDs=[];var l,u,c,h,p={},f=new ld(256,256),m={featureIndex:s,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:f,availableImages:i},g=t.familiesBySource[this.source];for(var y in g){var v=e.layers[y];if(v){var b,x=!1,_=!1,w=d(g[y]);try{for(w.s();!(b=w.n()).done;)"symbol"===b.value[0].type?x=!0:_=!0}catch(F){w.e(F)}finally{w.f()}if((!0!==this.isSymbolTile||x)&&(!1!==this.isSymbolTile||_)){1===v.version&&q('Vector tile source "'.concat(this.source,'" layer "').concat(y,'" does not use vector tile spec v2 and therefore may have some rendering errors.'));for(var S=a.encode(y),k=[],C=0;C<v.length;C++){var T=v.feature(C),E=s.getId(T,y);k.push({feature:T,id:E,index:C,sourceLayerIndex:S})}var A,P=d(g[y]);try{for(P.s();!(A=P.n()).done;){var M=A.value,L=M[0];void 0!==this.isSymbolTile&&"symbol"===L.type!==this.isSymbolTile||L.minzoom&&this.zoom<Math.floor(L.minzoom)||L.maxzoom&&this.zoom>=L.maxzoom||"none"!==L.visibility&&(yp(M,this.zoom,i),(p[L.id]=L.createBucket({index:s.bucketLayerIDs.length,layers:M,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:S,sourceID:this.source,enableTerrain:this.enableTerrain,availableImages:i})).populate(k,m,this.tileID.canonical,this.tileTransform),s.bucketLayerIDs.push(M.map((function(e){return e.id}))))}}catch(F){P.e(F)}finally{P.f()}}}}f.trim();var O={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},I=U(m.glyphDependencies,(function(e){return Object.keys(e).map(Number)}));Object.keys(I).length?n.send("getGlyphs",{uid:this.uid,stacks:I},(function(e,t){l||(l=e,u=t,B.call(o))}),void 0,!1,O):u={};var D=Object.keys(m.iconDependencies);D.length?n.send("getImages",{icons:D,source:this.source,tileID:this.tileID,type:"icons"},(function(e,t){l||(l=e,c=t,B.call(o))}),void 0,!1,O):c={};var z=Object.keys(m.patternDependencies);function B(){if(l)return r(l);if(u&&c&&h){var e=new mp(u),t=new Fc(c,h);for(var n in p){var o=p[n];o instanceof Gh?(yp(o.layers,this.zoom,i),Ph(o,u,e.positions,c,t.iconPositions,this.showCollisionBoxes,i,this.tileID.canonical,this.tileZoom)):o.hasPattern&&(o instanceof Hu||o instanceof fu||o instanceof Ru)&&(yp(o.layers,this.zoom,i),o.addFeatures(m,this.tileID.canonical,t.patternPositions,i))}this.status="done",r(null,{buckets:R(p).filter((function(e){return!e.isEmpty()})),featureIndex:s,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,lineAtlas:f,imageAtlas:t,glyphMap:this.returnDependencies?u:null,iconMap:this.returnDependencies?c:null,glyphPositions:this.returnDependencies?e.positions:null})}}z.length?n.send("getImages",{icons:z,source:this.source,tileID:this.tileID,type:"patterns"},(function(e,t){l||(l=e,h=t,B.call(o))}),void 0,!1,O):h={},B.call(this)}}]),e}();function yp(e,t,i){var n,r=new Eo(t),o=d(e);try{for(o.s();!(n=o.n()).done;)n.value.recalculate(r,i)}catch(a){o.e(a)}finally{o.f()}}var vp=function(){function e(t){g(this,e),this.entries={},this.scheduler=t}return y(e,[{key:"request",value:function(e,t,i,n){var r=this,o=this.entries[e]=this.entries[e]||{callbacks:[]};if(o.result){var a=h(o.result,2),s=a[0],l=a[1];return this.scheduler?this.scheduler.add((function(){n(s,l)}),t):n(s,l),function(){}}return o.callbacks.push(n),o.cancel||(o.cancel=i((function(i,n){o.result=[i,n];var a,s=d(o.callbacks);try{var l=function(){var e=a.value;r.scheduler?r.scheduler.add((function(){e(i,n)}),t):e(i,n)};for(s.s();!(a=s.n()).done;)l()}catch(u){s.e(u)}finally{s.f()}setTimeout((function(){return delete r.entries[e]}),3e3)}))),function(){o.result||(o.callbacks=o.callbacks.filter((function(e){return e!==n})),o.callbacks.length||(o.cancel(),delete r.entries[e]))}}}]),e}();function bp(e,t,i){var n=JSON.stringify(e.request);return e.data&&(this.deduped.entries[n]={result:[null,e.data]}),this.deduped.request(n,{type:"parseTile",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom},(function(t){var n=je(e.request,(function(e,n,r,o){e?t(e):n&&t(null,{vectorTile:i?void 0:new Au.VectorTile(new pc(n)),rawData:n,cacheControl:r,expires:o})}));return function(){n.cancel(),t()}}),t)}var xp={name:"albers",range:[4,7],center:[-96,37.5],parallels:[29.5,45.5],conic:!0,initializeConstants:function(){if(!this.constants||!gl(this.parallels,this.constants.parallels)){var e=Math.sin(k(this.parallels[0])),t=(e+Math.sin(k(this.parallels[1])))/2,i=1+e*(2*t-e),n=Math.sqrt(i)/t;this.constants={n:t,c:i,r0:n,parallels:this.parallels}}},project:function(e,t){this.initializeConstants();var i=k(e-this.center[0]),n=k(t),r=this.constants,o=r.n,a=r.c,s=r.r0,l=Math.sqrt(a-2*o*Math.sin(n))/o;return{x:l*Math.sin(i*o),y:l*Math.cos(i*o)-s}},unproject:function(e,t){this.initializeConstants();var i=this.constants,n=i.n,r=i.c,o=i.r0+t,a=Math.atan2(e,Math.abs(o))*Math.sign(o);o*n<0&&(a-=Math.PI*Math.sign(e)*Math.sign(o));var s=k(this.center[0])*n,l=C((a=L(a,-Math.PI-s,Math.PI-s))/n)+this.center[0],u=Math.asin(M((r-(e*e+o*o)*n*n)/(2*n),-1,1)),c=M(C(u),-85.051129,xs);return new hs(l,c)}},_p=1.340264,wp=-.081106,Sp=893e-6,kp=.003796,Cp=Math.sqrt(3)/2,Tp={name:"equalEarth",center:[0,0],range:[3.5,7],project:function(e,t){t=t/180*Math.PI,e=e/180*Math.PI;var i=Math.asin(Cp*Math.sin(t)),n=i*i,r=n*n*n;return{x:.5*(e*Math.cos(i)/(Cp*(_p+3*wp*n+r*(7*Sp+9*kp*n)))/Math.PI+.5),y:1-.5*(i*(_p+wp*n+r*(Sp+kp*n))/Math.PI+1)}},unproject:function(e,t){e=(2*e-.5)*Math.PI;for(var i,n=t=(2*(1-t)-1)*Math.PI,r=n*n,o=r*r*r,a=0;a<12&&(o=(r=(n=M(n-(i=(n*(_p+wp*r+o*(Sp+kp*r))-t)/(_p+3*wp*r+o*(7*Sp+9*kp*r))),-Math.PI/3,Math.PI/3))*n)*r*r,!(Math.abs(i)<1e-12));++a);var s=Cp*e*(_p+3*wp*r+o*(7*Sp+9*kp*r))/Math.cos(n),l=Math.asin(Math.sin(n)/Cp),u=M(180*s/Math.PI,-180,180),c=M(180*l/Math.PI,-85.051129,xs);return new hs(u,c)}},Ep={name:"equirectangular",wrap:!0,center:[0,0],range:[3.5,7],project:function(e,t){return{x:.5+e/360,y:.5-t/360}},unproject:function(e,t){var i=360*(e-.5),n=M(360*(.5-t),-85.051129,xs);return new hs(i,n)}},Ap=Math.PI/2;function Pp(e){return Math.tan((Ap+e)/2)}var Mp={name:"lambertConformalConic",range:[3.5,7],center:[0,30],parallels:[30,30],conic:!0,initializeConstants:function(){if(!this.constants||!gl(this.parallels,this.constants.parallels)){var e=k(this.parallels[0]),t=k(this.parallels[1]),i=Math.cos(e),n=e===t?Math.sin(e):Math.log(i/Math.cos(t))/Math.log(Pp(t)/Pp(e)),r=i*Math.pow(Pp(e),n)/n;this.constants={n:n,f:r,parallels:this.parallels}}},project:function(e,t){this.initializeConstants(),t=k(t),e=k(e-this.center[0]);var i=1e-6,n=this.constants,r=n.n,o=n.f;o>0?t<-Ap+i&&(t=-Ap+i):t>Ap-i&&(t=Ap-i);var a=o/Math.pow(Pp(t),r),s=a*Math.sin(r*e),l=o-a*Math.cos(r*e);return{x:.5*(s/Math.PI+.5),y:1-.5*(l/Math.PI+.5)}},unproject:function(e,t){this.initializeConstants(),e=(2*e-.5)*Math.PI,t=(2*(1-t)-.5)*Math.PI;var i=this.constants,n=i.n,r=i.f,o=r-t,a=Math.sign(o),s=Math.sign(n)*Math.sqrt(e*e+o*o),l=Math.atan2(e,Math.abs(o))*a;o*n<0&&(l-=Math.PI*Math.sign(e)*a);var u=M(C(l/n)+this.center[0],-180,180),c=M(C(2*Math.atan(Math.pow(r/s,1/n))-Ap),-85.051129,xs);return new hs(u,c)}},Lp={name:"mercator",wrap:!0,center:[0,0],project:function(e,t){return{x:fs(e),y:ms(t)}},unproject:function(e,t){var i=ys(e),n=vs(t);return new hs(i,n)}},Op=k(xs),Rp={name:"naturalEarth",center:[0,0],range:[3.5,7],project:function(e,t){var i=(t=k(t))*t,n=i*i;return{x:.5*((e=k(e))*(.8707-.131979*i+n*(n*(.003971*i-.001529*n)-.013791))/Math.PI+.5),y:1-.5*(t*(1.007226+i*(.015085+n*(.028874*i-.044475-.005916*n)))/Math.PI+1)}},unproject:function(e,t){e=(2*e-.5)*Math.PI;var i=t=(2*(1-t)-1)*Math.PI,n=25,r=0,o=i*i;do{var a=(o=i*i)*o;i=M(i-(r=(i*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-t)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))),-Op,Op)}while(Math.abs(r)>1e-6&&--n>0);var s=M(C(e/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979))),-180,180),l=C(i);return new hs(s,l)}},Ip=k(xs),Dp={albers:xp,equalEarth:Tp,equirectangular:Ep,lambertConformalConic:Mp,mercator:Lp,naturalEarth:Rp,winkelTripel:{name:"winkelTripel",center:[0,0],range:[3.5,7],project:function(e,t){t=k(t),e=k(e);var i=Math.cos(t),n=2/Math.PI,r=Math.acos(i*Math.cos(e/2)),o=Math.sin(r)/r,a=.5*(e*n+2*i*Math.sin(e/2)/o)||0,s=.5*(t+Math.sin(t)/o)||0;return{x:.5*(a/Math.PI+.5),y:1-.5*(s/Math.PI+1)}},unproject:function(e,t){var i=e=(2*e-.5)*Math.PI,n=t=(2*(1-t)-1)*Math.PI,r=25,o=1e-6,a=0,s=0;do{var l=Math.cos(n),u=Math.sin(n),c=2*u*l,h=u*u,d=l*l,p=Math.cos(i/2),f=Math.sin(i/2),m=2*p*f,g=f*f,y=1-d*p*p,v=y?1/y:0,b=y?Math.acos(l*p)*Math.sqrt(1/y):0,x=.5*(2*b*l*f+2*i/Math.PI)-e,_=.5*(b*u+n)-t,w=.5*v*(d*g+b*l*p*h)+1/Math.PI,S=v*(m*c/4-b*u*f),k=.125*v*(c*f-b*u*d*m),T=.5*v*(h*p+b*g*l)+.5,E=S*k-T*w;s=(x*k-_*w)/E,i=M(i-(a=(_*S-x*T)/E),-Math.PI,Math.PI),n=M(n-s,-Ip,Ip)}while((Math.abs(a)>o||Math.abs(s)>o)&&--r>0);return new hs(C(i),C(n))}}};e.ARRAY_TYPE=Ys,e.AUTH_ERR_MSG=pe,e.Actor=function(){function e(t,i,n){g(this,e),this.target=t,this.parent=i,this.mapId=n,this.callbacks={},this.cancelCallbacks={},j(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=Y()?t:x,this.scheduler=new dd}return y(e,[{key:"send",value:function(e,t,i,n){var r=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5?arguments[5]:void 0,s=Math.round(1e18*Math.random()).toString(36).substring(0,10);i&&(i.metadata=a,this.callbacks[s]=i);var l=te(this.globalScope)?void 0:[];return this.target.postMessage({id:s,type:e,hasCallback:!!i,targetMapId:n,mustQueue:o,sourceMapId:this.mapId,data:Mr(t,l)},l),{cancel:function(){i&&delete r.callbacks[s],r.target.postMessage({id:s,type:"<cancel>",targetMapId:n,sourceMapId:r.mapId})}}}},{key:"receive",value:function(e){var t=this,i=e.data,n=i.id;if(n&&(!i.targetMapId||this.mapId===i.targetMapId))if("<cancel>"===i.type){var r=this.cancelCallbacks[n];delete this.cancelCallbacks[n],r&&r.cancel()}else if(i.mustQueue||Y()){var o=this.callbacks[n];this.cancelCallbacks[n]=this.scheduler.add((function(){return t.processTask(n,i)}),o&&o.metadata||{type:"message"})}else this.processTask(n,i)}},{key:"processTask",value:function(e,t){var i=this;if("<response>"===t.type){var n=this.callbacks[e];delete this.callbacks[e],n&&(t.error?n(Lr(t.error)):n(null,Lr(t.data)))}else{var r=te(this.globalScope)?void 0:[],o=t.hasCallback?function(t,n){delete i.cancelCallbacks[e],i.target.postMessage({id:e,type:"<response>",sourceMapId:i.mapId,error:t?Mr(t):null,data:Mr(n,r)},r)}:function(e){},a=Lr(t.data);if(this.parent[t.type])this.parent[t.type](t.sourceMapId,a,o);else if(this.parent.getWorkerSource){var s=t.type.split(".");this.parent.getWorkerSource(t.sourceMapId,s[0],a.source)[s[1]](a,o)}else o(new Error("Could not find function ".concat(t.type)))}}},{key:"remove",value:function(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}}]),e}(),e.CanonicalTileID=md,e.Color=Ct,e.ColorMode=rp,e.CullFaceMode=sp,e.DEMData=Jd,e.DataConstantProperty=zo,e.DedupedRequest=vp,e.DepthMode=tp,e.EXTENT=ls,e.Elevation=function(){function e(){g(this,e)}return y(e,[{key:"getAtPointOrZero",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.getAtPoint(e,t)||0}},{key:"getAtPoint",value:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];null==t&&(t=null);var n=this._source();if(!n)return t;if(e.y<0||e.y>1)return t;var r=n.getSource().maxzoom,o=1<<r,a=Math.floor(e.x),s=e.x-a,l=new yd(r,a,r,Math.floor(s*o),Math.floor(e.y*o)),u=this.findDEMTileFor(l);if(!u||!u.dem)return t;var c=u.dem,h=1<<u.tileID.canonical.z,d=(s*h-u.tileID.canonical.x)*c.dim,p=(e.y*h-u.tileID.canonical.y)*c.dim,f=Math.floor(d),m=Math.floor(p);return(i?this.exaggeration():1)*yi(yi(c.get(f,m),c.get(f,m+1),p-m),yi(c.get(f+1,m),c.get(f+1,m+1),p-m),d-f)}},{key:"getAtTileOffset",value:function(e,t,i){var n=1<<e.canonical.z;return this.getAtPointOrZero(new _s(e.wrap+(e.canonical.x+t/ls)/n,(e.canonical.y+i/ls)/n))}},{key:"getForTilePoints",value:function(e,t,i,n){var r=this,o=hp.create(this,e,n);return!!o&&(t.forEach((function(e){e[2]=r.exaggeration()*o.getElevationAt(e[0],e[1],i)})),!0)}},{key:"getMinMaxForTile",value:function(e){var t=this.findDEMTileFor(e);if(!t||!t.dem)return null;for(var i=t.dem.tree,n=t.tileID,r=1<<e.canonical.z-n.canonical.z,o=e.canonical.x/r-n.canonical.x,a=e.canonical.y/r-n.canonical.y,s=0,l=0;l<e.canonical.z-n.canonical.z&&!i.leaves[s];l++){o*=2,a*=2;var u=2*Math.floor(a)+Math.floor(o);s=i.childOffsets[s]+u,o%=1,a%=1}return{min:this.exaggeration()*i.minimums[s],max:this.exaggeration()*i.maximums[s]}}},{key:"getMinElevationBelowMSL",value:function(){throw new Error("Pure virtual method called.")}},{key:"raycast",value:function(e,t,i){throw new Error("Pure virtual method called.")}},{key:"pointCoordinate",value:function(e){throw new Error("Pure virtual method called.")}},{key:"_source",value:function(){throw new Error("Pure virtual method called.")}},{key:"exaggeration",value:function(){throw new Error("Pure virtual method called.")}},{key:"findDEMTileFor",value:function(e){throw new Error("Pure virtual method called.")}},{key:"visibleDemTiles",get:function(){throw new Error("Getter must be implemented in subclass.")}}]),e}(),e.ErrorEvent=Ke,e.EvaluationParameters=Eo,e.Event=$e,e.Evented=Qe,e.GlyphManager=fh,e.ImagePosition=Bc,e.LineAtlas=ld,e.LngLat=hs,e.LngLatBounds=us,e.LocalGlyphMode=ph,e.MAX_MERCATOR_LATITUDE=xs,e.MAX_SAFE_INTEGER=_,e.MercatorCoordinate=_s,e.ONE_EM=tc,e.OverscaledTileID=yd,e.Properties=Vo,e.RGBAImage=El,e.RequestManager=function(){function e(t,i,n){g(this,e),this._transformRequestFn=t,this._customAccessToken=i,this._silenceAuthErrors=!!n,this._createSkuToken()}return y(e,[{key:"_createSkuToken",value:function(){var e=function(){for(var e="",t=0;t<10;t++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",de,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt}},{key:"_isSkuTokenExpired",value:function(){return Date.now()>this._skuTokenExpiresAt}},{key:"transformRequest",value:function(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}},{key:"normalizeStyleURL",value:function(e,t){if(!fe(e))return e;var i=ye(e);return i.path="/styles/v1".concat(i.path),this._makeAPIURL(i,this._customAccessToken||t)}},{key:"normalizeGlyphsURL",value:function(e,t){if(!fe(e))return e;var i=ye(e);return i.path="/fonts/v1".concat(i.path),this._makeAPIURL(i,this._customAccessToken||t)}},{key:"normalizeSourceURL",value:function(e,t){if(!fe(e))return e;var i=ye(e);return i.path="/v4/".concat(i.authority,".json"),i.params.push("secure"),this._makeAPIURL(i,this._customAccessToken||t)}},{key:"normalizeSpriteURL",value:function(e,t,i,n){var r=ye(e);return fe(e)?(r.path="/styles/v1".concat(r.path,"/sprite").concat(t).concat(i),this._makeAPIURL(r,this._customAccessToken||n)):(r.path+="".concat(t).concat(i),ve(r))}},{key:"normalizeTileURL",value:function(e,t,i){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!fe(e))return e;var n=ye(e);n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,"".concat(t||i&&"raster"!==n.authority&&512===i?"@2x":"").concat(le.supported?".webp":"$1")),"raster"===n.authority?n.path="/".concat(se.RASTER_URL_PREFIX).concat(n.path):(n.path=n.path.replace(/^.+\/v4\//,"/"),n.path="/".concat(se.TILE_URL_VERSION).concat(n.path));var r=this._customAccessToken||function(e){var t,i=d(e);try{for(i.s();!(t=i.n()).done;){var n=t.value.match(/^access_token=(.*)$/);if(n)return n[1]}}catch(r){i.e(r)}finally{i.f()}return null}(n.params)||se.ACCESS_TOKEN;return se.REQUIRE_ACCESS_TOKEN&&r&&this._skuToken&&n.params.push("sku=".concat(this._skuToken)),this._makeAPIURL(n,r)}},{key:"canonicalizeTileURL",value:function(e,t){var i=ye(e);if(!i.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!i.path.match(/\.[\w]+$/))return e;var n="mapbox://";i.path.match(/^\/raster\/v1\//)?n+="raster/".concat(i.path.replace("/".concat(se.RASTER_URL_PREFIX,"/"),"")):n+="tiles/".concat(i.path.replace("/".concat(se.TILE_URL_VERSION,"/"),""));var r=i.params;return t&&(r=r.filter((function(e){return!e.match(/^access_token=/)}))),r.length&&(n+="?".concat(r.join("&"))),n}},{key:"canonicalizeTileset",value:function(e,t){var i,n=!!t&&fe(t),r=[],o=d(e.tiles||[]);try{for(o.s();!(i=o.n()).done;){var a=i.value;me(a)?r.push(this.canonicalizeTileURL(a,n)):r.push(a)}}catch(s){o.e(s)}finally{o.f()}return r}},{key:"_makeAPIURL",value:function(e,t){var i="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",n=ye(se.API_URL);if(e.protocol=n.protocol,e.authority=n.authority,"http"===e.protocol){var r=e.params.indexOf("secure");r>=0&&e.params.splice(r,1)}if("/"!==n.path&&(e.path="".concat(n.path).concat(e.path)),!se.REQUIRE_ACCESS_TOKEN)return ve(e);if(t=t||se.ACCESS_TOKEN,!this._silenceAuthErrors){if(!t)throw new Error("An API access token is required to use Mapbox GL. ".concat(i));if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ".concat(i))}return e.params=e.params.filter((function(e){return-1===e.indexOf("access_token")})),e.params.push("access_token=".concat(t||"")),ve(e)}}]),e}(),e.ResourceType=ze,e.SegmentVector=ss,e.SourceCache=lp,e.StencilMode=np,e.StructArrayLayout1ui2=pa,e.StructArrayLayout2f1f2i16=ra,e.StructArrayLayout2i4=Xo,e.StructArrayLayout2ui4=da,e.StructArrayLayout3f12=Ko,e.StructArrayLayout3ui6=aa,e.StructArrayLayout4i8=Yo,e.Texture=sd,e.Tile=Ud,e.Transitionable=Mo,e.Uniform1f=Na,e.Uniform1i=function(e){f(i,e);var t=m(i);function i(e,n){var r;return g(this,i),(r=t.call(this,e,n)).current=0,r}return y(i,[{key:"set",value:function(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))}}]),i}(Fa),e.Uniform2f=function(e){f(i,e);var t=m(i);function i(e,n){var r;return g(this,i),(r=t.call(this,e,n)).current=[0,0],r}return y(i,[{key:"set",value:function(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))}}]),i}(Fa),e.Uniform3f=function(e){f(i,e);var t=m(i);function i(e,n){var r;return g(this,i),(r=t.call(this,e,n)).current=[0,0,0],r}return y(i,[{key:"set",value:function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))}}]),i}(Fa),e.Uniform4f=ja,e.UniformColor=Va,e.UniformMatrix2f=function(e){f(i,e);var t=m(i);function i(e,n){var r;return g(this,i),(r=t.call(this,e,n)).current=Ha,r}return y(i,[{key:"set",value:function(e){for(var t=0;t<4;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix2fv(this.location,!1,e);break}}}]),i}(Fa),e.UniformMatrix3f=function(e){f(i,e);var t=m(i);function i(e,n){var r;return g(this,i),(r=t.call(this,e,n)).current=Wa,r}return y(i,[{key:"set",value:function(e){for(var t=0;t<9;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix3fv(this.location,!1,e);break}}}]),i}(Fa),e.UniformMatrix4f=function(e){f(i,e);var t=m(i);function i(e,n){var r;return g(this,i),(r=t.call(this,e,n)).current=Ua,r}return y(i,[{key:"set",value:function(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(var t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}}}]),i}(Fa),e.UnwrappedTileID=gd,e.ValidationError=et,e.VectorTileWorkerSource=function(e){f(i,e);var t=m(i);function i(e,n,r,o,a){var s;return g(this,i),(s=t.call(this)).actor=e,s.layerIndex=n,s.availableImages=r,s.loadVectorData=a||bp,s.loading={},s.loaded={},s.deduped=new vp(e.scheduler),s.isSpriteLoaded=o,s.scheduler=e.scheduler,s}return y(i,[{key:"loadTile",value:function(e,t){var i=this,n=e.uid,r=e&&e.request,o=r&&r.collectResourceTiming,a=this.loading[n]=new gp(e);a.abort=this.loadVectorData(e,(function(s,l){var u=!i.loading[n];if(delete i.loading[n],u||s||!l)return a.status="done",u||(i.loaded[n]=a),t(s);var c=l.rawData,h={};l.expires&&(h.expires=l.expires),l.cacheControl&&(h.cacheControl=l.cacheControl),a.vectorTile=l.vectorTile||new Au.VectorTile(new pc(c));var d=function(){a.parse(a.vectorTile,i.layerIndex,i.availableImages,i.actor,(function(e,i){if(e||!i)return t(e);var n={};if(o){var a=hd(r);a.length>0&&(n.resourceTiming=JSON.parse(JSON.stringify(a)))}t(null,I({rawTileData:c.slice(0)},i,h,n))}))};i.isSpriteLoaded?d():i.once("isSpriteLoaded",(function(){i.scheduler?i.scheduler.add(d,{type:"parseTile",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom}):d()})),i.loaded=i.loaded||{},i.loaded[n]=a}))}},{key:"reloadTile",value:function(e,t){var i=this,n=this.loaded,r=e.uid,o=this;if(n&&n[r]){var a=n[r];a.showCollisionBoxes=e.showCollisionBoxes,a.enableTerrain=!!e.enableTerrain;var s=function(e,n){var r=a.reloadCallback;r&&(delete a.reloadCallback,a.parse(a.vectorTile,o.layerIndex,i.availableImages,o.actor,r)),t(e,n)};"parsing"===a.status?a.reloadCallback=s:"done"===a.status&&(a.vectorTile?a.parse(a.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}}},{key:"abortTile",value:function(e,t){var i=e.uid,n=this.loading[i];n&&(n.abort&&n.abort(),delete this.loading[i]),t()}},{key:"removeTile",value:function(e,t){var i=this.loaded,n=e.uid;i&&i[n]&&delete i[n],t()}}]),i}(Qe),e.WritingMode=Nc,e.ZoomHistory=Or,e.add=function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e},e.addDynamicAttributes=Vh,e.altitudeFromMercatorZ=bs,e.asyncAll=O,e.bezier=A,e.bindAll=j,e.boundsAttributes=jd,e.bufferConvexPolygon=function(e,t){for(var i=[],n=0;n<e.length;n++){var r=L(n-1,-1,e.length-1),o=L(n+1,-1,e.length-1),a=e[n],s=e[o],l=e[r].sub(a).unit(),u=s.sub(a).unit(),c=u.angleWithSep(l.x,l.y),h=l.add(u).unit().mult(-1*t/Math.sin(c/2));i.push(a.add(h))}return i},e.cacheEntryPossiblyAdded=function(e){++De>Oe&&(e.getActor().send("enforceCacheSizeLimit",Le),De=0)},e.clamp=M,e.clearTileCache=function(e){var t=x.caches.delete(Me);e&&t.catch(e).then((function(){return e()}))},e.clipLine=uh,e.clone=function(e){var t=new Ys(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.clone$1=function(e){var t=new Ys(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$2=H,e.collisionCircleLayout=ec,e.config=se,e.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},e.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.create=el,e.create$1=function(){var e=new Ys(16);return Ys!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$2=$s,e.createExpression=Cn,e.createLayout=qo,e.createStyleLayer=function(e){return"custom"===e.type?new Qh(e):new td[e.type](e)},e.cross=function(e,t,i){var n=t[0],r=t[1],o=t[2],a=i[0],s=i[1],l=i[2];return e[0]=r*l-o*s,e[1]=o*a-n*l,e[2]=n*s-r*a,e},e.degToRad=k,e.div=function(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e},e.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},e.dot$1=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},e.ease=P,e.easeCubicInOut=E,e.emitValidationErrors=xr,e.endsWith=V,e.enforceCacheSizeLimit=function(e){Re(),xe&&xe.then((function(t){t.keys().then((function(i){for(var n=0;n<i.length-e;n++)t.delete(i[n])}))}))},e.evaluateSizeForFeature=rc,e.evaluateSizeForZoom=oc,e.evaluateVariableOffset=Ah,e.evented=So,e.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},e.exactEquals$1=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},e.exported=ae,e.exported$1=le,e.extend=I,e.filterObject=W,e.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},e.fromQuat=function(e,t){var i=t[0],n=t[1],r=t[2],o=t[3],a=i+i,s=n+n,l=r+r,u=i*a,c=n*a,h=n*s,d=r*a,p=r*s,f=r*l,m=o*a,g=o*s,y=o*l;return e[0]=1-h-f,e[1]=c+y,e[2]=d-g,e[3]=0,e[4]=c-y,e[5]=1-u-f,e[6]=p+m,e[7]=0,e[8]=d+g,e[9]=p-m,e[10]=1-u-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.fromRotation=function(e,t){var i=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=i,e[2]=0,e[3]=-i,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.furthestTileCorner=function(e){var t=Math.round((e+45+360)%360/90)%4;return T[t]},e.getAABBPointSquareDist=function(e,t,i){for(var n=0,r=0;r<2;++r){var o=i?i[r]:0;e[r]>o&&(n+=(e[r]-o)*(e[r]-o)),t[r]<o&&(n+=(o-t[r])*(o-t[r]))}return n},e.getAnchorAlignment=Kc,e.getAnchorJustification=Mh,e.getBounds=function(e){var t,i=1/0,n=1/0,r=-1/0,o=-1/0,a=d(e);try{for(a.s();!(t=a.n()).done;){var s=t.value;i=Math.min(i,s.x),n=Math.min(n,s.y),r=Math.max(r,s.x),o=Math.max(o,s.y)}}catch(l){a.e(l)}finally{a.f()}return{min:new v(i,n),max:new v(r,o)}},e.getImage=Ze,e.getJSON=function(e,t){return Ne(I(e,{type:"json"}),t)},e.getMapSessionAPI=Ae,e.getPerformanceMeasurement=hd,e.getProjection=function(e){var t=Dp[e.name];if(!t)throw new Error("Invalid projection name: ".concat(e.name));return t.conic?function(e,t){if(t.parallels&&Math.abs(t.parallels[0]+t.parallels[1])<.01){var i=function(e){var t=Math.max(.01,Math.cos(k(e))),i=1/(2*Math.max(Math.PI*t,1/t));return{wrap:!0,project:function(e,n){var r=k(e)*t,o=Math.sin(k(n))/t;return{x:r*i+.5,y:-o*i+.5}},unproject:function(e,n){var r=-(n-.5)/i,o=M(C((e-.5)/i)/t,-180,180),a=Math.asin(M(r*t,-1,1)),s=M(C(a),-85.051129,xs);return new hs(o,s)}}}(t.parallels[0]);if("lambertConformalConic"===t.name){var n=Dp.mercator;i={wrap:!0,project:n.project,unproject:n.unproject}}return I({},e,t,i)}return I({},e,t)}(t,e):t},e.getRTLTextPluginStatus=ko,e.getReferrer=Fe,e.getTilePoint=function(e,t){var i=t.x,n=t.y;return new v(((i-(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0))*e.scale-e.x)*ls,(n*e.scale-e.y)*ls)},e.getTileVec3=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return il(((t.x-i)*e.scale-e.x)*ls,(t.y*e.scale-e.y)*ls,bs(t.z,t.y))},e.getVideo=function(e,t){var i=x.document.createElement("video");i.muted=!0,i.onloadstart=function(){t(null,i)};for(var n=0;n<e.length;n++){var r=x.document.createElement("source");We(e[n])||(i.crossOrigin="Anonymous"),r.src=e[n],i.appendChild(r)}return{cancel:function(){}}},e.identity=Ks,e.identity$1=fl,e.invert=function(e,t){var i=t[0],n=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],h=t[9],d=t[10],p=t[11],f=t[12],m=t[13],g=t[14],y=t[15],v=i*s-n*a,b=i*l-r*a,x=i*u-o*a,_=n*l-r*s,w=n*u-o*s,S=r*u-o*l,k=c*m-h*f,C=c*g-d*f,T=c*y-p*f,E=h*g-d*m,A=h*y-p*m,P=d*y-p*g,M=v*P-b*A+x*E+_*T-w*C+S*k;return M?(e[0]=(s*P-l*A+u*E)*(M=1/M),e[1]=(r*A-n*P-o*E)*M,e[2]=(m*S-g*w+y*_)*M,e[3]=(d*w-h*S-p*_)*M,e[4]=(l*T-a*P-u*C)*M,e[5]=(i*P-r*T+o*C)*M,e[6]=(g*x-f*S-y*b)*M,e[7]=(c*S-d*x+p*b)*M,e[8]=(a*A-s*T+u*k)*M,e[9]=(n*T-i*A-o*k)*M,e[10]=(f*w-m*x+y*v)*M,e[11]=(h*x-c*w-p*v)*M,e[12]=(s*C-a*E-l*k)*M,e[13]=(i*E-n*C+r*k)*M,e[14]=(m*b-f*_-g*v)*M,e[15]=(c*_-h*b+d*v)*M,e):null},e.isMapAuthenticated=function(e){return Pe.has(e)},e.isMapboxURL=fe,e.latFromMercatorY=vs,e.len=hl,e.length=tl,e.length$1=function(e){return Math.hypot(e[0],e[1],e[2],e[3])},e.loadVectorTile=bp,e.makeRequest=Ne,e.mercatorXfromLng=fs,e.mercatorYfromLat=ms,e.mercatorZfromAltitude=gs,e.mul=function(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e[3]=t[3]*i[3],e},e.mul$1=Js,e.mul$2=cl,e.multiply=Qs,e.multiply$1=rl,e.nextPowerOfTwo=F,e.normalize=al,e.normalize$1=function(e,t){var i=t[0],n=t[1],r=t[2],o=t[3],a=i*i+n*n+r*r+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=i*a,e[1]=n*a,e[2]=r*a,e[3]=o*a,e},e.number=yi,e.ortho=function(e,t,i,n,r,o,a){var s=1/(t-i),l=1/(n-r),u=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+i)*s,e[13]=(r+n)*l,e[14]=(a+o)*u,e[15]=1,e},e.pbf=pc,e.perspective=function(e,t,i,n,r){var o,a=1/Math.tan(t/2);return e[0]=a/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=r&&r!==1/0?(e[10]=(r+n)*(o=1/(n-r)),e[14]=2*r*n*o):(e[10]=-1,e[14]=-2*n),e},e.pick=function(e,t){for(var i={},n=0;n<t.length;n++){var r=t[n];r in e&&(i[r]=e[r])}return i},e.plugin=To,e.pointGeometry=v,e.polygonIntersectsBox=Vs,e.polygonIntersectsPolygon=Ls,e.polygonizeBounds=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=new v(i,i),o=e.sub(r),a=t.add(r),s=[o,new v(a.x,o.y),a,new v(o.x,a.y)];return n&&s.push(o),s},e.posAttributes=_d,e.postMapLoadEvent=Te,e.postTurnstileEvent=ke,e.potpack=zc,e.prevPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},e.radToDeg=C,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.registerForPluginStateChange=function(e){return e({pluginStatus:bo,pluginURL:xo}),So.on("pluginStateChange",e),e},e.removeAuthState=function(e){Pe.delete(e)},e.renderColorRamp=Pl,e.rotateX=function(e,t,i){var n=Math.sin(i),r=Math.cos(i),o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],h=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*r+u*n,e[5]=a*r+c*n,e[6]=s*r+h*n,e[7]=l*r+d*n,e[8]=u*r-o*n,e[9]=c*r-a*n,e[10]=h*r-s*n,e[11]=d*r-l*n,e},e.rotateX$1=ml,e.rotateY=function(e,t,i){var n=Math.sin(i),r=Math.cos(i),o=t[0],a=t[1],s=t[2],l=t[3],u=t[8],c=t[9],h=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*r-u*n,e[1]=a*r-c*n,e[2]=s*r-h*n,e[3]=l*r-d*n,e[8]=o*n+u*r,e[9]=a*n+c*r,e[10]=s*n+h*r,e[11]=l*n+d*r,e},e.rotateZ=function(e,t,i){var n=Math.sin(i),r=Math.cos(i),o=t[0],a=t[1],s=t[2],l=t[3],u=t[4],c=t[5],h=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*r+u*n,e[1]=a*r+c*n,e[2]=s*r+h*n,e[3]=l*r+d*n,e[4]=u*r-o*n,e[5]=c*r-a*n,e[6]=h*r-s*n,e[7]=d*r-l*n,e},e.rotateZ$1=function(e,t,i){i*=.5;var n=t[0],r=t[1],o=t[2],a=t[3],s=Math.sin(i),l=Math.cos(i);return e[0]=n*l+r*s,e[1]=r*l-n*s,e[2]=o*l+a*s,e[3]=a*l-o*s,e},e.scale=function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e},e.scale$1=function(e,t,i){var n=i[0],r=i[1],o=i[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.scale$2=function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e},e.scaleAndAdd=ol,e.setCacheLimits=function(e,t){Le=e,Oe=t},e.setRTLTextPlugin=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(bo===mo||bo===go||bo===yo)throw new Error("setRTLTextPlugin cannot be called multiple times.");xo=ae.resolveURL(e),bo=mo,vo=t,wo(),i||Co()},e.smoothstep=function(e,t,i){return(i=M((i-e)/(t-e),0,1))*i*(3-2*i)},e.spec=Je,e.storeAuthState=function(e,t){t?Pe.add(e):Pe.delete(e)},e.sub=ul,e.subtract=nl,e.symbolSize=ac,e.tileTransform=pd,e.transformMat3=function(e,t,i){var n=t[0],r=t[1],o=t[2];return e[0]=n*i[0]+r*i[3]+o*i[6],e[1]=n*i[1]+r*i[4]+o*i[7],e[2]=n*i[2]+r*i[5]+o*i[8],e},e.transformMat4=dl,e.transformMat4$1=function(e,t,i){var n=t[0],r=t[1],o=t[2],a=i[3]*n+i[7]*r+i[11]*o+i[15];return e[0]=(i[0]*n+i[4]*r+i[8]*o+i[12])/(a=a||1),e[1]=(i[1]*n+i[5]*r+i[9]*o+i[13])/a,e[2]=(i[2]*n+i[6]*r+i[10]*o+i[14])/a,e},e.transformQuat=sl,e.translate=function(e,t,i){var n,r,o,a,s,l,u,c,h,d,p,f,m=i[0],g=i[1],y=i[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*y+t[12],e[13]=t[1]*m+t[5]*g+t[9]*y+t[13],e[14]=t[2]*m+t[6]*g+t[10]*y+t[14],e[15]=t[3]*m+t[7]*g+t[11]*y+t[15]):(r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],d=t[9],p=t[10],f=t[11],e[0]=n=t[0],e[1]=r,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=h,e[9]=d,e[10]=p,e[11]=f,e[12]=n*m+s*g+h*y+t[12],e[13]=r*m+l*g+d*y+t[13],e[14]=o*m+u*g+p*y+t[14],e[15]=a*m+c*g+f*y+t[15]),e},e.triggerPluginCompletionEvent=_o,e.uniqueId=z,e.validateCustomStyleLayer=function(e){var t=[],i=e.id;return void 0===i&&t.push({message:"layers.".concat(i,': missing required property "id"')}),void 0===e.render&&t.push({message:"layers.".concat(i,': missing required method "render"')}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:"layers.".concat(i,': property "renderingMode" must be either "2d" or "3d"')}),t},e.validateFog=yr,e.validateLight=gr,e.validateStyle=mr,e.values=R,e.vectorTile=Au,e.version=t,e.warnOnce=q,e.window=x,e.wrap=L})),v(["./shared"],(function(e){function t(e){var i=typeof e;if("number"===i||"boolean"===i||"string"===i||null==e)return JSON.stringify(e);if(Array.isArray(e)){var n,r="[",o=d(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;r+="".concat(t(a),",")}}catch(c){o.e(c)}finally{o.f()}return"".concat(r,"]")}for(var s=Object.keys(e).sort(),l="{",u=0;u<s.length;u++)l+="".concat(JSON.stringify(s[u]),":").concat(t(e[s[u]]),",");return"".concat(l,"}")}function i(i){var n,r="",o=d(e.refProperties);try{for(o.s();!(n=o.n()).done;){var a=n.value;r+="/".concat(t(i[a]))}}catch(s){o.e(s)}finally{o.f()}return r}var n=function(){function t(e){g(this,t),this.keyCache={},e&&this.replace(e)}return y(t,[{key:"replace",value:function(e){this._layerConfigs={},this._layers={},this.update(e,[])}},{key:"update",value:function(t,n){var r,o=this,a=d(t);try{for(a.s();!(r=a.n()).done;){var s=r.value;this._layerConfigs[s.id]=s,(this._layers[s.id]=e.createStyleLayer(s)).compileFilter(),this.keyCache[s.id]&&delete this.keyCache[s.id]}}catch(_){a.e(_)}finally{a.f()}var l,u=d(n);try{for(u.s();!(l=u.n()).done;){var c=l.value;delete this.keyCache[c],delete this._layerConfigs[c],delete this._layers[c]}}catch(_){u.e(_)}finally{u.f()}this.familiesBySource={};var h,p=function(e,t){for(var n={},r=0;r<e.length;r++){var o=t&&t[e[r].id]||i(e[r]);t&&(t[e[r].id]=o);var a=n[o];a||(a=n[o]=[]),a.push(e[r])}var s=[];for(var l in n)s.push(n[l]);return s}(e.values(this._layerConfigs),this.keyCache),f=d(p);try{for(f.s();!(h=f.n()).done;){var m=h.value.map((function(e){return o._layers[e.id]})),g=m[0];if("none"!==g.visibility){var y=g.source||"",v=this.familiesBySource[y];v||(v=this.familiesBySource[y]={});var b=g.sourceLayer||"_geojsonTileLayer",x=v[b];x||(x=v[b]=[]),x.push(m)}}}catch(_){f.e(_)}finally{f.f()}}}]),t}(),r=e.window.ImageBitmap,o=function(){function t(){g(this,t)}return y(t,[{key:"loadTile",value:function(t,i){var n=t.uid,o=t.encoding,a=t.rawImageData,s=t.padding,l=t.buildQuadTree,u=r&&a instanceof r?this.getImageData(a,s):a;i(null,new e.DEMData(n,u,o,s<1,l))}},{key:"getImageData",value:function(t,i){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(t.width,t.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=t.width,this.offscreenCanvas.height=t.height,this.offscreenCanvasContext.drawImage(t,0,0,t.width,t.height);var n=this.offscreenCanvasContext.getImageData(-i,-i,t.width+2*i,t.height+2*i);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new e.RGBAImage({width:n.width,height:n.height},n.data)}}]),t}(),l=function e(t,i){var n,r=t&&t.type;if("FeatureCollection"===r)for(n=0;n<t.features.length;n++)e(t.features[n],i);else if("GeometryCollection"===r)for(n=0;n<t.geometries.length;n++)e(t.geometries[n],i);else if("Feature"===r)e(t.geometry,i);else if("Polygon"===r)u(t.coordinates,i);else if("MultiPolygon"===r)for(n=0;n<t.coordinates.length;n++)u(t.coordinates[n],i);return t};function u(e,t){if(0!==e.length){c(e[0],t);for(var i=1;i<e.length;i++)c(e[i],!t)}}function c(e,t){for(var i=0,n=0,r=0,o=e.length,a=o-1;r<o;a=r++){var s=(e[r][0]-e[a][0])*(e[a][1]+e[r][1]),l=i+s;n+=Math.abs(i)>=Math.abs(s)?i-l+s:s-l+i,i=l}i+n>=0!=!!t&&e.reverse()}var p=e.vectorTile.VectorTileFeature.prototype.toGeoJSON,v=function(){function t(i){g(this,t),this._feature=i,this.extent=e.EXTENT,this.type=i.type,this.properties=i.tags,"id"in i&&!isNaN(i.id)&&(this.id=parseInt(i.id,10))}return y(t,[{key:"loadGeometry",value:function(){if(1===this._feature.type){var t,i=[],n=d(this._feature.geometry);try{for(n.s();!(t=n.n()).done;){var r=t.value;i.push([new e.pointGeometry(r[0],r[1])])}}catch(f){n.e(f)}finally{n.f()}return i}var o,a=[],s=d(this._feature.geometry);try{for(s.s();!(o=s.n()).done;){var l,u=o.value,c=[],h=d(u);try{for(h.s();!(l=h.n()).done;){var p=l.value;c.push(new e.pointGeometry(p[0],p[1]))}}catch(f){h.e(f)}finally{h.f()}a.push(c)}}catch(f){s.e(f)}finally{s.f()}return a}},{key:"toGeoJSON",value:function(e,t,i){return p.call(this,e,t,i)}}]),t}(),b=function(){function t(i){g(this,t),this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=i.length,this._features=i}return y(t,[{key:"feature",value:function(e){return new v(this._features[e])}}]),t}(),x=e.vectorTile.VectorTileFeature,_=w;function w(e,t){this.options=t||{},this.features=e,this.length=e.length}function S(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}w.prototype.feature=function(e){return new S(this.features[e],this.options.extent)},S.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var i=0;i<t.length;i++){for(var n=t[i],r=[],o=0;o<n.length;o++)r.push(new e.pointGeometry(n[o][0],n[o][1]));this.geometry.push(r)}return this.geometry},S.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,i=-1/0,n=1/0,r=-1/0,o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var l=a[s];t=Math.min(t,l.x),i=Math.max(i,l.x),n=Math.min(n,l.y),r=Math.max(r,l.y)}return[t,n,i,r]},S.prototype.toGeoJSON=x.prototype.toGeoJSON;var k=T,C=_;function T(t){var i=new e.pbf;return function(e,t){for(var i in e.layers)t.writeMessage(3,E,e.layers[i])}(t,i),i.finish()}function E(e,t){var i;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var n={keys:[],values:[],keycache:{},valuecache:{}};for(i=0;i<e.length;i++)n.feature=e.feature(i),t.writeMessage(2,A,n);var r=n.keys;for(i=0;i<r.length;i++)t.writeStringField(3,r[i]);var o=n.values;for(i=0;i<o.length;i++)t.writeMessage(4,R,o[i])}function A(e,t){var i=e.feature;void 0!==i.id&&t.writeVarintField(1,i.id),t.writeMessage(2,P,e),t.writeVarintField(3,i.type),t.writeMessage(4,O,i)}function P(e,t){var i=e.feature,n=e.keys,r=e.values,o=e.keycache,a=e.valuecache;for(var s in i.properties){var l=i.properties[s],u=o[s];if(null!==l){void 0===u&&(n.push(s),o[s]=u=n.length-1),t.writeVarint(u);var c=typeof l;"string"!==c&&"boolean"!==c&&"number"!==c&&(l=JSON.stringify(l));var h=c+":"+l,d=a[h];void 0===d&&(r.push(l),a[h]=d=r.length-1),t.writeVarint(d)}}}function M(e,t){return(t<<3)+(7&e)}function L(e){return e<<1^e>>31}function O(e,t){for(var i=e.loadGeometry(),n=e.type,r=0,o=0,a=i.length,s=0;s<a;s++){var l=i[s],u=1;1===n&&(u=l.length),t.writeVarint(M(1,u));for(var c=3===n?l.length-1:l.length,h=0;h<c;h++){1===h&&1!==n&&t.writeVarint(M(2,c-1));var d=l[h].x-r,p=l[h].y-o;t.writeVarint(L(d)),t.writeVarint(L(p)),r+=d,o+=p}3===n&&t.writeVarint(M(7,1))}}function R(e,t){var i=typeof e;"string"===i?t.writeStringField(1,e):"boolean"===i?t.writeBooleanField(7,e):"number"===i&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function I(e,t,i,n,r,o){if(!(r-n<=i)){var a=n+r>>1;D(e,t,a,n,r,o%2),I(e,t,i,n,a-1,o+1),I(e,t,i,a+1,r,o+1)}}function D(e,t,i,n,r,o){for(;r>n;){if(r-n>600){var a=r-n+1,s=i-n+1,l=Math.log(a),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(a-u)/a)*(s-a/2<0?-1:1);D(e,t,i,Math.max(n,Math.floor(i-s*u/a+c)),Math.min(r,Math.floor(i+(a-s)*u/a+c)),o)}var h=t[2*i+o],d=n,p=r;for(z(e,t,n,i),t[2*r+o]>h&&z(e,t,n,r);d<p;){for(z(e,t,d,p),d++,p--;t[2*d+o]<h;)d++;for(;t[2*p+o]>h;)p--}t[2*n+o]===h?z(e,t,n,p):z(e,t,++p,r),p<=i&&(n=p+1),i<=p&&(r=p-1)}}function z(e,t,i,n){B(e,i,n),B(t,2*i,2*n),B(t,2*i+1,2*n+1)}function B(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function F(e,t,i,n){var r=e-i,o=t-n;return r*r+o*o}k.fromVectorTileJs=T,k.fromGeojsonVt=function(e,t){t=t||{};var i={};for(var n in e)i[n]=new _(e[n].features,t),i[n].name=n,i[n].version=t.version,i[n].extent=t.extent;return T({layers:i})},k.GeoJSONWrapper=C;var N,j=function(e){return e[0]},V=function(e){return e[1]},U=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Float64Array;g(this,e),this.nodeSize=r,this.points=t;for(var a=t.length<65536?Uint16Array:Uint32Array,s=this.ids=new a(t.length),l=this.coords=new o(2*t.length),u=0;u<t.length;u++)s[u]=u,l[2*u]=i(t[u]),l[2*u+1]=n(t[u]);I(s,l,r,0,s.length-1,0)}return y(e,[{key:"range",value:function(e,t,i,n){return function(e,t,i,n,r,o,a){for(var s,l,u=[0,e.length-1,0],c=[];u.length;){var h=u.pop(),d=u.pop(),p=u.pop();if(d-p<=a)for(var f=p;f<=d;f++)s=t[2*f],l=t[2*f+1],s>=i&&s<=r&&l>=n&&l<=o&&c.push(e[f]);else{var m=Math.floor((p+d)/2);s=t[2*m],l=t[2*m+1],s>=i&&s<=r&&l>=n&&l<=o&&c.push(e[m]);var g=(h+1)%2;(0===h?i<=s:n<=l)&&(u.push(p),u.push(m-1),u.push(g)),(0===h?r>=s:o>=l)&&(u.push(m+1),u.push(d),u.push(g))}}return c}(this.ids,this.coords,e,t,i,n,this.nodeSize)}},{key:"within",value:function(e,t,i){return function(e,t,i,n,r,o){for(var a=[0,e.length-1,0],s=[],l=r*r;a.length;){var u=a.pop(),c=a.pop(),h=a.pop();if(c-h<=o)for(var d=h;d<=c;d++)F(t[2*d],t[2*d+1],i,n)<=l&&s.push(e[d]);else{var p=Math.floor((h+c)/2),f=t[2*p],m=t[2*p+1];F(f,m,i,n)<=l&&s.push(e[p]);var g=(u+1)%2;(0===u?i-r<=f:n-r<=m)&&(a.push(h),a.push(p-1),a.push(g)),(0===u?i+r>=f:n+r>=m)&&(a.push(p+1),a.push(c),a.push(g))}}return s}(this.ids,this.coords,e,t,i,this.nodeSize)}}]),e}(),W={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},H=Math.fround||(N=new Float32Array(1),function(e){return N[0]=+e,N[0]}),G=function(){function e(t){g(this,e),this.options=J(Object.create(W),t),this.trees=new Array(this.options.maxZoom+1)}return y(e,[{key:"load",value:function(e){var t=this.options,i=t.log,n=t.minZoom,r=t.maxZoom,o=t.nodeSize;i&&console.time("total time");var a="prepare ".concat(e.length," points");i&&console.time(a),this.points=e;for(var s=[],l=0;l<e.length;l++)e[l].geometry&&s.push(Z(e[l],l));this.trees[r+1]=new U(s,ee,te,o,Float32Array),i&&console.timeEnd(a);for(var u=r;u>=n;u--){var c=+Date.now();s=this._cluster(s,u),this.trees[u]=new U(s,ee,te,o,Float32Array),i&&console.log("z%d: %d clusters in %dms",u,s.length,+Date.now()-c)}return i&&console.timeEnd("total time"),this}},{key:"getClusters",value:function(e,t){var i=((e[0]+180)%360+360)%360-180,n=Math.max(-90,Math.min(90,e[1])),r=180===e[2]?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)i=-180,r=180;else if(i>r){var a=this.getClusters([i,n,180,o],t),s=this.getClusters([-180,n,r,o],t);return a.concat(s)}var l,u=this.trees[this._limitZoom(t)],c=u.range($(i),K(o),$(r),K(n)),h=[],p=d(c);try{for(p.s();!(l=p.n()).done;){var f=l.value,m=u.points[f];h.push(m.numPoints?X(m):this.points[m.index])}}catch(g){p.e(g)}finally{p.f()}return h}},{key:"getChildren",value:function(e){var t=this._getOriginId(e),i=this._getOriginZoom(e),n="No cluster with the specified id.",r=this.trees[i];if(!r)throw new Error(n);var o=r.points[t];if(!o)throw new Error(n);var a,s=this.options.radius/(this.options.extent*Math.pow(2,i-1)),l=r.within(o.x,o.y,s),u=[],c=d(l);try{for(c.s();!(a=c.n()).done;){var h=a.value,p=r.points[h];p.parentId===e&&u.push(p.numPoints?X(p):this.points[p.index])}}catch(f){c.e(f)}finally{c.f()}if(0===u.length)throw new Error(n);return u}},{key:"getLeaves",value:function(e,t,i){var n=[];return this._appendLeaves(n,e,t=t||10,i=i||0,0),n}},{key:"getTile",value:function(e,t,i){var n=this.trees[this._limitZoom(e)],r=Math.pow(2,e),o=this.options,a=o.extent,s=o.radius/a,l=(i-s)/r,u=(i+1+s)/r,c={features:[]};return this._addTileFeatures(n.range((t-s)/r,l,(t+1+s)/r,u),n.points,t,i,r,c),0===t&&this._addTileFeatures(n.range(1-s/r,l,1,u),n.points,r,i,r,c),t===r-1&&this._addTileFeatures(n.range(0,l,s/r,u),n.points,-1,i,r,c),c.features.length?c:null}},{key:"getClusterExpansionZoom",value:function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var i=this.getChildren(e);if(t++,1!==i.length)break;e=i[0].properties.cluster_id}return t}},{key:"_appendLeaves",value:function(e,t,i,n,r){var o,a=this.getChildren(t),s=d(a);try{for(s.s();!(o=s.n()).done;){var l=o.value,u=l.properties;if(u&&u.cluster?r+u.point_count<=n?r+=u.point_count:r=this._appendLeaves(e,u.cluster_id,i,n,r):r<n?r++:e.push(l),e.length===i)break}}catch(c){s.e(c)}finally{s.f()}return r}},{key:"_addTileFeatures",value:function(e,t,i,n,r,o){var a,s=d(e);try{for(s.s();!(a=s.n()).done;){var l=t[a.value],u=l.numPoints,c=void 0,h=void 0,p=void 0;if(u)c=Y(l),h=l.x,p=l.y;else{var f=this.points[l.index];c=f.properties,h=$(f.geometry.coordinates[0]),p=K(f.geometry.coordinates[1])}var m={type:1,geometry:[[Math.round(this.options.extent*(h*r-i)),Math.round(this.options.extent*(p*r-n))]],tags:c},g=void 0;u?g=l.id:this.options.generateId?g=l.index:this.points[l.index].id&&(g=this.points[l.index].id),void 0!==g&&(m.id=g),o.features.push(m)}}catch(y){s.e(y)}finally{s.f()}}},{key:"_limitZoom",value:function(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))}},{key:"_cluster",value:function(e,t){for(var i=[],n=this.options,r=n.radius,o=n.extent,a=n.reduce,s=n.minPoints,l=r/(o*Math.pow(2,t)),u=0;u<e.length;u++){var c=e[u];if(!(c.zoom<=t)){c.zoom=t;var h,p=this.trees[t+1],f=p.within(c.x,c.y,l),m=c.numPoints||1,g=m,y=d(f);try{for(y.s();!(h=y.n()).done;){var v=h.value,b=p.points[v];b.zoom>t&&(g+=b.numPoints||1)}}catch(R){y.e(R)}finally{y.f()}if(g>m&&g>=s){var x,_=c.x*m,w=c.y*m,S=a&&m>1?this._map(c,!0):null,k=(u<<5)+(t+1)+this.points.length,C=d(f);try{for(C.s();!(x=C.n()).done;){var T=x.value,E=p.points[T];if(!(E.zoom<=t)){E.zoom=t;var A=E.numPoints||1;_+=E.x*A,w+=E.y*A,E.parentId=k,a&&(S||(S=this._map(c,!0)),a(S,this._map(E)))}}}catch(R){C.e(R)}finally{C.f()}c.parentId=k,i.push(q(_/g,w/g,k,g,S))}else if(i.push(c),g>1){var P,M=d(f);try{for(M.s();!(P=M.n()).done;){var L=P.value,O=p.points[L];O.zoom<=t||(O.zoom=t,i.push(O))}}catch(R){M.e(R)}finally{M.f()}}}}return i}},{key:"_getOriginId",value:function(e){return e-this.points.length>>5}},{key:"_getOriginZoom",value:function(e){return(e-this.points.length)%32}},{key:"_map",value:function(e,t){if(e.numPoints)return t?J({},e.properties):e.properties;var i=this.points[e.index].properties,n=this.options.map(i);return t&&n===i?J({},n):n}}]),e}();function q(e,t,i,n,r){return{x:H(e),y:H(t),zoom:1/0,id:i,parentId:-1,numPoints:n,properties:r}}function Z(e,t){var i=h(e.geometry.coordinates,2),n=i[0],r=i[1];return{x:H($(n)),y:H(K(r)),zoom:1/0,index:t,parentId:-1}}function X(e){return{type:"Feature",id:e.id,properties:Y(e),geometry:{type:"Point",coordinates:[(t=e.x,360*(t-.5)),Q(e.y)]}};var t}function Y(e){var t=e.numPoints,i=t>=1e4?"".concat(Math.round(t/1e3),"k"):t>=1e3?Math.round(t/100)/10+"k":t;return J(J({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:i})}function $(e){return e/360+.5}function K(e){var t=Math.sin(e*Math.PI/180),i=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return i<0?0:i>1?1:i}function Q(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function J(e,t){for(var i in t)e[i]=t[i];return e}function ee(e){return e.x}function te(e){return e.y}function ie(e,t,i,n){for(var r,o=n,a=i-t>>1,s=i-t,l=e[t],u=e[t+1],c=e[i],h=e[i+1],d=t+3;d<i;d+=3){var p=ne(e[d],e[d+1],l,u,c,h);if(p>o)r=d,o=p;else if(p===o){var f=Math.abs(d-a);f<s&&(r=d,s=f)}}o>n&&(r-t>3&&ie(e,t,r,n),e[r+2]=o,i-r>3&&ie(e,r,i,n))}function ne(e,t,i,n,r,o){var a=r-i,s=o-n;if(0!==a||0!==s){var l=((e-i)*a+(t-n)*s)/(a*a+s*s);l>1?(i=r,n=o):l>0&&(i+=a*l,n+=s*l)}return(a=e-i)*a+(s=t-n)*s}function re(e,t,i,n){var r={id:void 0===e?null:e,type:t,geometry:i,tags:n,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,i=e.type;if("Point"===i||"MultiPoint"===i||"LineString"===i)oe(e,t);else if("Polygon"===i||"MultiLineString"===i)for(var n=0;n<t.length;n++)oe(e,t[n]);else if("MultiPolygon"===i)for(n=0;n<t.length;n++)for(var r=0;r<t[n].length;r++)oe(e,t[n][r])}(r),r}function oe(e,t){for(var i=0;i<t.length;i+=3)e.minX=Math.min(e.minX,t[i]),e.minY=Math.min(e.minY,t[i+1]),e.maxX=Math.max(e.maxX,t[i]),e.maxY=Math.max(e.maxY,t[i+1])}function ae(e,t,i,n){if(t.geometry){var r=t.geometry.coordinates,o=t.geometry.type,a=Math.pow(i.tolerance/((1<<i.maxZoom)*i.extent),2),s=[],l=t.id;if(i.promoteId?l=t.properties[i.promoteId]:i.generateId&&(l=n||0),"Point"===o)se(r,s);else if("MultiPoint"===o)for(var u=0;u<r.length;u++)se(r[u],s);else if("LineString"===o)le(r,s,a,!1);else if("MultiLineString"===o){if(i.lineMetrics){for(u=0;u<r.length;u++)le(r[u],s=[],a,!1),e.push(re(l,"LineString",s,t.properties));return}ue(r,s,a,!1)}else if("Polygon"===o)ue(r,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(u=0;u<t.geometry.geometries.length;u++)ae(e,{id:l,geometry:t.geometry.geometries[u],properties:t.properties},i,n);return}throw new Error("Input data is not a valid GeoJSON object.")}for(u=0;u<r.length;u++){var c=[];ue(r[u],c,a,!0),s.push(c)}}e.push(re(l,o,s,t.properties))}}function se(e,t){t.push(ce(e[0])),t.push(he(e[1])),t.push(0)}function le(e,t,i,n){for(var r,o,a=0,s=0;s<e.length;s++){var l=ce(e[s][0]),u=he(e[s][1]);t.push(l),t.push(u),t.push(0),s>0&&(a+=n?(r*u-l*o)/2:Math.sqrt(Math.pow(l-r,2)+Math.pow(u-o,2))),r=l,o=u}var c=t.length-3;t[2]=1,ie(t,0,c,i),t[c+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function ue(e,t,i,n){for(var r=0;r<e.length;r++){var o=[];le(e[r],o,i,n),t.push(o)}}function ce(e){return e/360+.5}function he(e){var t=Math.sin(e*Math.PI/180),i=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return i<0?0:i>1?1:i}function de(e,t,i,n,r,o,a,s){if(n/=t,o>=(i/=t)&&a<n)return e;if(a<i||o>=n)return null;for(var l=[],u=0;u<e.length;u++){var c=e[u],h=c.geometry,d=c.type,p=0===r?c.minX:c.minY,f=0===r?c.maxX:c.maxY;if(p>=i&&f<n)l.push(c);else if(!(f<i||p>=n)){var m=[];if("Point"===d||"MultiPoint"===d)pe(h,m,i,n,r);else if("LineString"===d)fe(h,m,i,n,r,!1,s.lineMetrics);else if("MultiLineString"===d)ge(h,m,i,n,r,!1);else if("Polygon"===d)ge(h,m,i,n,r,!0);else if("MultiPolygon"===d)for(var g=0;g<h.length;g++){var y=[];ge(h[g],y,i,n,r,!0),y.length&&m.push(y)}if(m.length){if(s.lineMetrics&&"LineString"===d){for(g=0;g<m.length;g++)l.push(re(c.id,d,m[g],c.tags));continue}"LineString"!==d&&"MultiLineString"!==d||(1===m.length?(d="LineString",m=m[0]):d="MultiLineString"),"Point"!==d&&"MultiPoint"!==d||(d=3===m.length?"Point":"MultiPoint"),l.push(re(c.id,d,m,c.tags))}}}return l.length?l:null}function pe(e,t,i,n,r){for(var o=0;o<e.length;o+=3){var a=e[o+r];a>=i&&a<=n&&(t.push(e[o]),t.push(e[o+1]),t.push(e[o+2]))}}function fe(e,t,i,n,r,o,a){for(var s,l,u=me(e),c=0===r?ve:be,h=e.start,d=0;d<e.length-3;d+=3){var p=e[d],f=e[d+1],m=e[d+2],g=e[d+3],y=e[d+4],v=0===r?p:f,b=0===r?g:y,x=!1;a&&(s=Math.sqrt(Math.pow(p-g,2)+Math.pow(f-y,2))),v<i?b>i&&(l=c(u,p,f,g,y,i),a&&(u.start=h+s*l)):v>n?b<n&&(l=c(u,p,f,g,y,n),a&&(u.start=h+s*l)):ye(u,p,f,m),b<i&&v>=i&&(l=c(u,p,f,g,y,i),x=!0),b>n&&v<=n&&(l=c(u,p,f,g,y,n),x=!0),!o&&x&&(a&&(u.end=h+s*l),t.push(u),u=me(e)),a&&(h+=s)}var _=e.length-3;p=e[_],f=e[_+1],m=e[_+2],(v=0===r?p:f)>=i&&v<=n&&ye(u,p,f,m),_=u.length-3,o&&_>=3&&(u[_]!==u[0]||u[_+1]!==u[1])&&ye(u,u[0],u[1],u[2]),u.length&&t.push(u)}function me(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function ge(e,t,i,n,r,o){for(var a=0;a<e.length;a++)fe(e[a],t,i,n,r,o,!1)}function ye(e,t,i,n){e.push(t),e.push(i),e.push(n)}function ve(e,t,i,n,r,o){var a=(o-t)/(n-t);return e.push(o),e.push(i+(r-i)*a),e.push(1),a}function be(e,t,i,n,r,o){var a=(o-i)/(r-i);return e.push(t+(n-t)*a),e.push(o),e.push(1),a}function xe(e,t){for(var i=[],n=0;n<e.length;n++){var r,o=e[n],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)r=_e(o.geometry,t);else if("MultiLineString"===a||"Polygon"===a){r=[];for(var s=0;s<o.geometry.length;s++)r.push(_e(o.geometry[s],t))}else if("MultiPolygon"===a)for(r=[],s=0;s<o.geometry.length;s++){for(var l=[],u=0;u<o.geometry[s].length;u++)l.push(_e(o.geometry[s][u],t));r.push(l)}i.push(re(o.id,a,r,o.tags))}return i}function _e(e,t){var i=[];i.size=e.size,void 0!==e.start&&(i.start=e.start,i.end=e.end);for(var n=0;n<e.length;n+=3)i.push(e[n]+t,e[n+1],e[n+2]);return i}function we(e,t){if(e.transformed)return e;var i,n,r,o=1<<e.z,a=e.x,s=e.y;for(i=0;i<e.features.length;i++){var l=e.features[i],u=l.geometry,c=l.type;if(l.geometry=[],1===c)for(n=0;n<u.length;n+=2)l.geometry.push(Se(u[n],u[n+1],t,o,a,s));else for(n=0;n<u.length;n++){var h=[];for(r=0;r<u[n].length;r+=2)h.push(Se(u[n][r],u[n][r+1],t,o,a,s));l.geometry.push(h)}}return e.transformed=!0,e}function Se(e,t,i,n,r,o){return[Math.round(i*(e*n-r)),Math.round(i*(t*n-o))]}function ke(e,t,i,n,r){for(var o=t===r.maxZoom?0:r.tolerance/((1<<t)*r.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:i,y:n,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){a.numFeatures++,Ce(a,e[s],o,r);var l=e[s].minX,u=e[s].minY,c=e[s].maxX,h=e[s].maxY;l<a.minX&&(a.minX=l),u<a.minY&&(a.minY=u),c>a.maxX&&(a.maxX=c),h>a.maxY&&(a.maxY=h)}return a}function Ce(e,t,i,n){var r=t.geometry,o=t.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<r.length;s+=3)a.push(r[s]),a.push(r[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===o)Te(a,r,e,i,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<r.length;s++)Te(a,r[s],e,i,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var l=0;l<r.length;l++){var u=r[l];for(s=0;s<u.length;s++)Te(a,u[s],e,i,!0,0===s)}if(a.length){var c=t.tags||null;if("LineString"===o&&n.lineMetrics){for(var h in c={},t.tags)c[h]=t.tags[h];c.mapbox_clip_start=r.start/r.size,c.mapbox_clip_end=r.end/r.size}var d={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:c};null!==t.id&&(d.id=t.id),e.features.push(d)}}function Te(e,t,i,n,r,o){var a=n*n;if(n>0&&t.size<(r?a:n))i.numPoints+=t.length/3;else{for(var s=[],l=0;l<t.length;l+=3)(0===n||t[l+2]>a)&&(i.numSimplified++,s.push(t[l]),s.push(t[l+1])),i.numPoints++;r&&function(e,t){for(var i=0,n=0,r=e.length,o=r-2;n<r;o=n,n+=2)i+=(e[n]-e[o])*(e[n+1]+e[o+1]);if(i>0===t)for(n=0,r=e.length;n<r/2;n+=2){var a=e[n],s=e[n+1];e[n]=e[r-2-n],e[n+1]=e[r-1-n],e[r-2-n]=a,e[r-1-n]=s}}(s,o),e.push(s)}}function Ee(e,t){var i=(t=this.options=function(e,t){for(var i in t)e[i]=t[i];return e}(Object.create(this.options),t)).debug;if(i&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var n=function(e,t){var i=[];if("FeatureCollection"===e.type)for(var n=0;n<e.features.length;n++)ae(i,e.features[n],t,n);else ae(i,"Feature"===e.type?e:{geometry:e},t);return i}(e,t);this.tiles={},this.tileCoords=[],i&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(n=function(e,t){var i=t.buffer/t.extent,n=e,r=de(e,1,-1-i,i,0,-1,2,t),o=de(e,1,1-i,2+i,0,-1,2,t);return(r||o)&&(n=de(e,1,-i,1+i,0,-1,2,t)||[],r&&(n=xe(r,1).concat(n)),o&&(n=n.concat(xe(o,-1)))),n}(n,t)).length&&this.splitTile(n,0,0,0),i&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ae(e,t,i){return 32*((1<<e)*i+t)+e}function Pe(e,t){var i=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);var n=this._geoJSONIndex.getTile(i.z,i.x,i.y);if(!n)return t(null,null);var r=new b(n.features),o=k(r);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),t(null,{vectorTile:r,rawData:o.buffer})}Ee.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Ee.prototype.splitTile=function(e,t,i,n,r,o,a){for(var s=[e,t,i,n],l=this.options,u=l.debug;s.length;){n=s.pop(),i=s.pop(),t=s.pop(),e=s.pop();var c=1<<t,h=Ae(t,i,n),d=this.tiles[h];if(!d&&(u>1&&console.time("creation"),d=this.tiles[h]=ke(e,t,i,n,l),this.tileCoords.push({z:t,x:i,y:n}),u)){u>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,i,n,d.numFeatures,d.numPoints,d.numSimplified),console.timeEnd("creation"));var p="z"+t;this.stats[p]=(this.stats[p]||0)+1,this.total++}if(d.source=e,r){if(t===l.maxZoom||t===r)continue;var f=1<<r-t;if(i!==Math.floor(o/f)||n!==Math.floor(a/f))continue}else if(t===l.indexMaxZoom||d.numPoints<=l.indexMaxPoints)continue;if(d.source=null,0!==e.length){u>1&&console.time("clipping");var m,g,y,v,b,x,_=.5*l.buffer/l.extent,w=.5-_,S=.5+_,k=1+_;m=g=y=v=null,b=de(e,c,i-_,i+S,0,d.minX,d.maxX,l),x=de(e,c,i+w,i+k,0,d.minX,d.maxX,l),e=null,b&&(m=de(b,c,n-_,n+S,1,d.minY,d.maxY,l),g=de(b,c,n+w,n+k,1,d.minY,d.maxY,l),b=null),x&&(y=de(x,c,n-_,n+S,1,d.minY,d.maxY,l),v=de(x,c,n+w,n+k,1,d.minY,d.maxY,l),x=null),u>1&&console.timeEnd("clipping"),s.push(m||[],t+1,2*i,2*n),s.push(g||[],t+1,2*i,2*n+1),s.push(y||[],t+1,2*i+1,2*n),s.push(v||[],t+1,2*i+1,2*n+1)}}},Ee.prototype.getTile=function(e,t,i){var n=this.options,r=n.extent,o=n.debug;if(e<0||e>24)return null;var a=1<<e,s=Ae(e,t=(t%a+a)%a,i);if(this.tiles[s])return we(this.tiles[s],r);o>1&&console.log("drilling down to z%d-%d-%d",e,t,i);for(var l,u=e,c=t,h=i;!l&&u>0;)u--,c=Math.floor(c/2),h=Math.floor(h/2),l=this.tiles[Ae(u,c,h)];return l&&l.source?(o>1&&console.log("found parent tile z%d-%d-%d",u,c,h),o>1&&console.time("drilling down"),this.splitTile(l.source,u,c,h,e,t,i),o>1&&console.timeEnd("drilling down"),this.tiles[s]?we(this.tiles[s],r):null):null};var Me=function(t){f(n,t);var i=m(n);function n(e,t,r,o,a){var s;return g(this,n),s=i.call(this,e,t,r,o,Pe),a&&(s.loadGeoJSON=a),s}return y(n,[{key:"loadData",value:function(t,i){var n=this,r=t&&t.request,o=r&&r.collectResourceTiming;this.loadGeoJSON(t,(function(a,s){if(a||!s)return i(a);if("object"!=typeof s)return i(new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object.")));l(s,!0);try{if(t.filter){var u=e.createExpression(t.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===u.result)throw new Error(u.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));var c=s.features.filter((function(e){return u.value.evaluate({zoom:0},e)}));s={type:"FeatureCollection",features:c}}n._geoJSONIndex=t.cluster?new G(function(t){var i=t.superclusterOptions,n=t.clusterProperties;if(!n||!i)return i;for(var r={},o={},a={accumulated:null,zoom:0},s={properties:null},l=Object.keys(n),u=0,c=l;u<c.length;u++){var p=c[u],f=h(n[p],2),m=f[0],g=f[1],y=e.createExpression(g),v=e.createExpression("string"==typeof m?[m,["accumulated"],["get",p]]:m);r[p]=y.value,o[p]=v.value}return i.map=function(e){s.properties=e;var t,i={},n=d(l);try{for(n.s();!(t=n.n()).done;){var o=t.value;i[o]=r[o].evaluate(a,s)}}catch(u){n.e(u)}finally{n.f()}return i},i.reduce=function(e,t){s.properties=t;var i,n=d(l);try{for(n.s();!(i=n.n()).done;){var r=i.value;a.accumulated=e[r],e[r]=o[r].evaluate(a,s)}}catch(u){n.e(u)}finally{n.f()}},i}(t)).load(s.features):function(e,t){return new Ee(e,t)}(s,t.geojsonVtOptions)}catch(a){return i(a)}n.loaded={};var p={};if(o){var f=e.getPerformanceMeasurement(r);f&&(p.resourceTiming={},p.resourceTiming[t.source]=JSON.parse(JSON.stringify(f)))}i(null,p)}))}},{key:"reloadTile",value:function(e,t){var i=this.loaded;return i&&i[e.uid]?a(s(n.prototype),"reloadTile",this).call(this,e,t):this.loadTile(e,t)}},{key:"loadGeoJSON",value:function(t,i){if(t.request)e.getJSON(t.request,i);else{if("string"!=typeof t.data)return i(new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object.")));try{return i(null,JSON.parse(t.data))}catch(e){return i(new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object.")))}}}},{key:"getClusterExpansionZoom",value:function(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}}},{key:"getClusterChildren",value:function(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}}},{key:"getClusterLeaves",value:function(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}}}]),n}(e.VectorTileWorkerSource),Le=function(){function t(i){var n=this;g(this,t),this.self=i,this.actor=new e.Actor(i,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=e.getProjection({name:"mercator"}),this.workerSourceTypes={vector:e.VectorTileWorkerSource,geojson:Me},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,t){if(n.workerSourceTypes[e])throw new Error('Worker source with name "'.concat(e,'" already registered.'));n.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=function(t){if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}}return y(t,[{key:"clearCaches",value:function(e,t,i){delete this.layerIndexes[e],delete this.availableImages[e],delete this.workerSources[e],delete this.demWorkerSources[e],i()}},{key:"checkIfReady",value:function(e,t,i){i()}},{key:"setReferrer",value:function(e,t){this.referrer=t}},{key:"spriteLoaded",value:function(t,i){for(var n in this.isSpriteLoaded[t]=i,this.workerSources[t]){var r=this.workerSources[t][n];for(var o in r)r[o]instanceof e.VectorTileWorkerSource&&(r[o].isSpriteLoaded=i,r[o].fire(new e.Event("isSpriteLoaded")))}}},{key:"setImages",value:function(e,t,i){for(var n in this.availableImages[e]=t,this.workerSources[e]){var r=this.workerSources[e][n];for(var o in r)r[o].availableImages=t}i()}},{key:"enableTerrain",value:function(e,t,i){this.terrain=t,i()}},{key:"setProjection",value:function(t,i){this.projections[t]=e.getProjection(i)}},{key:"setLayers",value:function(e,t,i){this.getLayerIndex(e).replace(t),i()}},{key:"updateLayers",value:function(e,t,i){this.getLayerIndex(e).update(t.layers,t.removedIds),i()}},{key:"loadTile",value:function(t,i,n){var r=this.enableTerrain?e.extend({enableTerrain:this.terrain},i):i;r.projection=this.projections[t]||this.defaultProjection,this.getWorkerSource(t,i.type,i.source).loadTile(r,n)}},{key:"loadDEMTile",value:function(t,i,n){var r=this.enableTerrain?e.extend({buildQuadTree:this.terrain},i):i;this.getDEMWorkerSource(t,i.source).loadTile(r,n)}},{key:"reloadTile",value:function(t,i,n){var r=this.enableTerrain?e.extend({enableTerrain:this.terrain},i):i;r.projection=this.projections[t]||this.defaultProjection,this.getWorkerSource(t,i.type,i.source).reloadTile(r,n)}},{key:"abortTile",value:function(e,t,i){this.getWorkerSource(e,t.type,t.source).abortTile(t,i)}},{key:"removeTile",value:function(e,t,i){this.getWorkerSource(e,t.type,t.source).removeTile(t,i)}},{key:"removeSource",value:function(e,t,i){if(this.workerSources[e]&&this.workerSources[e][t.type]&&this.workerSources[e][t.type][t.source]){var n=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==n.removeSource?n.removeSource(t,i):i()}}},{key:"loadWorkerSource",value:function(e,t,i){try{this.self.importScripts(t.url),i()}catch(e){i(e.toString())}}},{key:"syncRTLPluginState",value:function(t,i,n){try{e.plugin.setState(i);var r=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=r){this.self.importScripts(r);var o=e.plugin.isParsed();n(o?void 0:new Error("RTL Text Plugin failed to import scripts from ".concat(r)),o)}}catch(e){n(e.toString())}}},{key:"getAvailableImages",value:function(e){var t=this.availableImages[e];return t||(t=[]),t}},{key:"getLayerIndex",value:function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new n),t}},{key:"getWorkerSource",value:function(e,t,i){var n=this;return this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),this.workerSources[e][t][i]||(this.workerSources[e][t][i]=new this.workerSourceTypes[t]({send:function(t,i,r,o,a,s){n.actor.send(t,i,r,e,a,s)},scheduler:this.actor.scheduler},this.getLayerIndex(e),this.getAvailableImages(e),this.isSpriteLoaded[e])),this.workerSources[e][t][i]}},{key:"getDEMWorkerSource",value:function(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new o),this.demWorkerSources[e][t]}},{key:"enforceCacheSizeLimit",value:function(t,i){e.enforceCacheSizeLimit(i)}},{key:"getWorkerPerformanceMetrics",value:function(e,t,i){i(void 0,void 0)}}]),t}();return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new Le(self)),Le})),v(["./shared"],(function(e){var t=i;function i(e){return!function(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,i=new Blob([""],{type:"text/javascript"}),n=URL.createObjectURL(i);try{t=new Worker(n),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(n),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var i=t.getImageData(0,0,1,1);return i&&i.width===e.width}()?(void 0===o[t=e&&e.failIfMajorPerformanceCaveat]&&(o[t]=function(e){var t,n=function(e){var t=document.createElement("canvas"),n=Object.create(i.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=e,t.getContext("webgl",n)||t.getContext("experimental-webgl",n)}(e);if(!n)return!1;try{t=n.createShader(n.VERTEX_SHADER)}catch(e){return!1}return!(!t||n.isContextLost())&&(n.shaderSource(t,"void main() {}"),n.compileShader(t),!0===n.getShaderParameter(t,n.COMPILE_STATUS))}(t)),o[t]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var t}(e)}var o={};function u(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!u(e[i],t[i]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==t){if("object"!=typeof t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!u(e[n],t[n]))return!1;return!0}return e===t}i.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};var p,v={create:function(t,i,n){var r=e.window.document.createElement(t);return void 0!==i&&(r.className=i),n&&n.appendChild(r),r},createNS:function(t,i){return e.window.document.createElementNS(t,i)}},b=e.window.document&&e.window.document.documentElement.style,x=b&&void 0!==b.userSelect?"userSelect":"WebkitUserSelect";v.disableDrag=function(){b&&x&&(p=b[x],b[x]="none")},v.enableDrag=function(){b&&x&&(b[x]=p)},v.setTransform=function(e,t){e.style.transform=t};var _=!1;try{var w=Object.defineProperty({},"passive",{get:function(){_=!0}});e.window.addEventListener("test",w,w),e.window.removeEventListener("test",w,w)}catch(e){_=!1}v.addEventListener=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.addEventListener(t,i,"passive"in n&&_?n:n.capture)},v.removeEventListener=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.removeEventListener(t,i,"passive"in n&&_?n:n.capture)};var S=function t(i){i.preventDefault(),i.stopPropagation(),e.window.removeEventListener("click",t,!0)};function k(t,i,n){var r=t.offsetWidth===i.width?1:t.offsetWidth/i.width;return new e.pointGeometry((n.clientX-i.left)*r,(n.clientY-i.top)*r)}function C(e,t){var i=t[0],n=t[1],r=t[2],o=t[3],a=i*o-r*n;return a?(e[0]=o*(a=1/a),e[1]=-n*a,e[2]=-r*a,e[3]=i*a,e):null}v.suppressClick=function(){e.window.addEventListener("click",S,!0),e.window.setTimeout((function(){e.window.removeEventListener("click",S,!0)}),0)},v.mousePos=function(e,t){var i=e.getBoundingClientRect();return k(e,i,t)},v.touchPos=function(e,t){for(var i=e.getBoundingClientRect(),n=[],r=0;r<t.length;r++)n.push(k(e,i,t[r]));return n},v.mouseButton=function(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button},v.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)};var T=function(){function t(e,i){g(this,t),this.pos=e,this.dir=i}return y(t,[{key:"intersectsPlane",value:function(t,i,n){var r=e.dot(i,this.dir);if(Math.abs(r)<1e-6)return!1;var o=e.dot(e.sub(e.create(),t,this.pos),i)/r,a=e.scaleAndAdd(e.create(),this.pos,this.dir,o);return e.copy(n,a),!0}}]),t}(),E=function(){function t(e,i){g(this,t),this.points=e,this.planes=i}return y(t,null,[{key:"fromInvProjectionMatrix",value:function(i,n,r){var o=Math.pow(2,r),a=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(t){var r=e.transformMat4([],t,i),a=1/r[3]/n*o;return e.mul(r,r,[a,a,1/r[3],a])})),s=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(t){var i=e.sub([],a[t[0]],a[t[1]]),n=e.sub([],a[t[2]],a[t[1]]),r=e.normalize([],e.cross([],i,n)),o=-e.dot(r,a[t[1]]);return r.concat(o)}));return new t(a,s)}}]),t}(),A=function(){function t(i,n){g(this,t),this.min=i,this.max=n,this.center=e.scale([],e.add([],this.min,this.max),.5)}return y(t,[{key:"quadrant",value:function(i){for(var n=[i%2==0,i<2],r=e.clone(this.min),o=e.clone(this.max),a=0;a<n.length;a++)r[a]=n[a]?this.min[a]:this.center[a],o[a]=n[a]?this.center[a]:this.max[a];return o[2]=this.max[2],new t(r,o)}},{key:"distanceX",value:function(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}},{key:"distanceY",value:function(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}},{key:"distanceZ",value:function(e){return Math.max(Math.min(this.max[2],e[2]),this.min[2])-e[2]}},{key:"intersects",value:function(t){for(var i=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]],n=!0,r=0;r<t.planes.length;r++){for(var o=t.planes[r],a=0,s=0;s<i.length;s++)a+=e.dot$1(o,i[s])>=0;if(0===a)return 0;a!==i.length&&(n=!1)}if(n)return 2;for(var l=0;l<3;l++){for(var u=Number.MAX_VALUE,c=-Number.MAX_VALUE,h=0;h<t.points.length;h++){var d=t.points[h][l]-this.min[l];u=Math.min(u,d),c=Math.max(c,d)}if(c<0||u>this.max[l]-this.min[l])return 0}return 1}}]),t}();function P(e){var t=e.userImage;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}var M=function(t){f(n,t);var i=m(n);function n(){var t;return g(this,n),(t=i.call(this)).images={},t.updatedImages={},t.callbackDispatchedThisFrame={},t.loaded=!1,t.requestors=[],t.patterns={},t.atlasImage=new e.RGBAImage({width:1,height:1}),t.dirty=!0,t}return y(n,[{key:"isLoaded",value:function(){return this.loaded}},{key:"setLoaded",value:function(e){if(this.loaded!==e&&(this.loaded=e,e)){var t,i=d(this.requestors);try{for(i.s();!(t=i.n()).done;){var n=t.value,r=n.ids,o=n.callback;this._notify(r,o)}}catch(a){i.e(a)}finally{i.f()}this.requestors=[]}}},{key:"getImage",value:function(e){return this.images[e]}},{key:"addImage",value:function(e,t){this._validate(e,t)&&(this.images[e]=t)}},{key:"_validate",value:function(t,i){var n=!0;return this._validateStretch(i.stretchX,i.data&&i.data.width)||(this.fire(new e.ErrorEvent(new Error('Image "'.concat(t,'" has invalid "stretchX" value')))),n=!1),this._validateStretch(i.stretchY,i.data&&i.data.height)||(this.fire(new e.ErrorEvent(new Error('Image "'.concat(t,'" has invalid "stretchY" value')))),n=!1),this._validateContent(i.content,i)||(this.fire(new e.ErrorEvent(new Error('Image "'.concat(t,'" has invalid "content" value')))),n=!1),n}},{key:"_validateStretch",value:function(e,t){if(!e)return!0;var i,n=0,r=d(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(o[0]<n||o[1]<o[0]||t<o[1])return!1;n=o[1]}}catch(a){r.e(a)}finally{r.f()}return!0}},{key:"_validateContent",value:function(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))}},{key:"updateImage",value:function(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0}},{key:"removeImage",value:function(e){var t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()}},{key:"listImages",value:function(){return Object.keys(this.images)}},{key:"getImages",value:function(e,t){var i=!0;if(!this.isLoaded()){var n,r=d(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;this.images[o]||(i=!1)}}catch(a){r.e(a)}finally{r.f()}}this.isLoaded()||i?this._notify(e,t):this.requestors.push({ids:e,callback:t})}},{key:"_notify",value:function(t,i){var n,r={},o=d(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;this.images[a]||this.fire(new e.Event("styleimagemissing",{id:a}));var s=this.images[a];s?r[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:e.warnOnce('Image "'.concat(a,'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.'))}}catch(l){o.e(l)}finally{o.f()}i(null,r)}},{key:"getPixelSize",value:function(){var e=this.atlasImage;return{width:e.width,height:e.height}}},{key:"getPattern",value:function(t){var i=this.patterns[t],n=this.getImage(t);if(!n)return null;if(i&&i.position.version===n.version)return i.position;if(i)i.position.version=n.version;else{var r={w:n.data.width+2,h:n.data.height+2,x:0,y:0},o=new e.ImagePosition(r,n);this.patterns[t]={bin:r,position:o}}return this._updatePatternAtlas(),this.patterns[t].position}},{key:"bind",value:function(t){var i=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,i.RGBA),this.atlasTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE)}},{key:"_updatePatternAtlas",value:function(){var t=[];for(var i in this.patterns)t.push(this.patterns[i].bin);var n=e.potpack(t),r=n.w,o=n.h,a=this.atlasImage;for(var s in a.resize({width:r||1,height:o||1}),this.patterns){var l=this.patterns[s].bin,u=l.x+1,c=l.y+1,h=this.images[s].data,d=h.width,p=h.height;e.RGBAImage.copy(h,a,{x:0,y:0},{x:u,y:c},{width:d,height:p}),e.RGBAImage.copy(h,a,{x:0,y:p-1},{x:u,y:c-1},{width:d,height:1}),e.RGBAImage.copy(h,a,{x:0,y:0},{x:u,y:c+p},{width:d,height:1}),e.RGBAImage.copy(h,a,{x:d-1,y:0},{x:u-1,y:c},{width:1,height:p}),e.RGBAImage.copy(h,a,{x:0,y:0},{x:u+d,y:c},{width:1,height:p})}this.dirty=!0}},{key:"beginFrame",value:function(){this.callbackDispatchedThisFrame={}}},{key:"dispatchRenderCallbacks",value:function(e){var t,i=d(e);try{for(i.s();!(t=i.n()).done;){var n=t.value;if(!this.callbackDispatchedThisFrame[n]){this.callbackDispatchedThisFrame[n]=!0;var r=this.images[n];P(r)&&this.updateImage(n,r)}}}catch(o){i.e(o)}finally{i.f()}}}]),n}(e.Evented),L=new e.Properties({anchor:new e.DataConstantProperty(e.spec.light.anchor),position:new(function(){function t(){g(this,t),this.specification=e.spec.light.position}return y(t,[{key:"possiblyEvaluate",value:function(t,i){return function(t){var i=h(t,3),n=i[0],r=i[1],o=i[2],a=e.degToRad(r+90),s=e.degToRad(o);return{x:n*Math.cos(a)*Math.sin(s),y:n*Math.sin(a)*Math.sin(s),z:n*Math.cos(s),azimuthal:r,polar:o}}(t.expression.evaluate(i))}},{key:"interpolate",value:function(t,i,n){return{x:e.number(t.x,i.x,n),y:e.number(t.y,i.y,n),z:e.number(t.z,i.z,n),azimuthal:e.number(t.azimuthal,i.azimuthal,n),polar:e.number(t.polar,i.polar,n)}}}]),t}()),color:new e.DataConstantProperty(e.spec.light.color),intensity:new e.DataConstantProperty(e.spec.light.intensity)}),O="-transition",R=function(t){f(n,t);var i=m(n);function n(t){var r;return g(this,n),(r=i.call(this))._transitionable=new e.Transitionable(L),r.setLight(t),r._transitioning=r._transitionable.untransitioned(),r}return y(n,[{key:"getLight",value:function(){return this._transitionable.serialize()}},{key:"setLight",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._validate(e.validateLight,t,i))for(var n in t){var r=t[n];e.endsWith(n,O)?this._transitionable.setTransition(n.slice(0,-O.length),r):this._transitionable.setValue(n,r)}}},{key:"updateTransitions",value:function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}},{key:"hasTransition",value:function(){return this._transitioning.hasTransition()}},{key:"recalculate",value:function(e){this.properties=this._transitioning.possiblyEvaluate(e)}},{key:"_validate",value:function(t,i,n){return(!n||!1!==n.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:i,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}]),n}(e.Evented),I=new e.Properties({source:new e.DataConstantProperty(e.spec.terrain.source),exaggeration:new e.DataConstantProperty(e.spec.terrain.exaggeration)}),D="-transition",z=function(t){f(n,t);var i=m(n);function n(t){var r;return g(this,n),(r=i.call(this))._transitionable=new e.Transitionable(I),r.set(t),r._transitioning=r._transitionable.untransitioned(),r}return y(n,[{key:"get",value:function(){return this._transitionable.serialize()}},{key:"set",value:function(t){for(var i in t){var n=t[i];e.endsWith(i,D)?this._transitionable.setTransition(i.slice(0,-D.length),n):this._transitionable.setValue(i,n)}}},{key:"updateTransitions",value:function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}},{key:"hasTransition",value:function(){return this._transitioning.hasTransition()}},{key:"recalculate",value:function(e){this.properties=this._transitioning.possiblyEvaluate(e)}}]),n}(e.Evented);function B(t,i,n,r){var o=e.smoothstep(45,65,n),a=F(t,r),s=h(a,2),l=s[0],u=s[1],c=e.length(i),d=1-Math.min(1,Math.exp((c-l)/(u-l)*-6));return d*=d*d,(d=Math.min(1,1.00747*d))*o*t.alpha}function F(e,t){var i=.5/Math.tan(.5*t);return[e.range[0]+i,e.range[1]+i]}var N=new e.Properties({range:new e.DataConstantProperty(e.spec.fog.range),color:new e.DataConstantProperty(e.spec.fog.color),"horizon-blend":new e.DataConstantProperty(e.spec.fog["horizon-blend"])}),j="-transition",V=function(t){f(n,t);var i=m(n);function n(t,r){var o;return g(this,n),(o=i.call(this))._transitionable=new e.Transitionable(N),o.set(t),o._transitioning=o._transitionable.untransitioned(),o._transform=r,o}return y(n,[{key:"isSoftDisabled",value:function(){return"mercator"!==this._transform.projection.name}},{key:"state",get:function(){return{range:this.properties.get("range"),horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}},{key:"get",value:function(){return this._transitionable.serialize()}},{key:"set",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._validate(e.validateFog,t,i))for(var n in t){var r=t[n];e.endsWith(n,j)?this._transitionable.setTransition(n.slice(0,-j.length),r):this._transitionable.setValue(n,r)}}},{key:"getOpacity",value:function(t){if(this.isSoftDisabled())return 0;var i=this.properties&&this.properties.get("color")||1;return e.smoothstep(45,65,t)*i.a}},{key:"getOpacityAtLatLng",value:function(t,i){return this.isSoftDisabled()?0:function(t,i,n){var r=e.MercatorCoordinate.fromLngLat(i),o=n.elevation?n.elevation.getAtPointOrZero(r):0,a=[r.x,r.y,o];return e.transformMat4$1(a,a,n.mercatorFogMatrix),B(t,a,n.pitch,n._fov)}(this.state,t,i)}},{key:"getFovAdjustedRange",value:function(e){return this.isSoftDisabled()?[0,1]:F(this.state,e)}},{key:"updateTransitions",value:function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}},{key:"hasTransition",value:function(){return this._transitioning.hasTransition()}},{key:"recalculate",value:function(e){this.properties=this._transitioning.possiblyEvaluate(e)}},{key:"_validate",value:function(t,i,n){return(!n||!1!==n.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:i,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}]),n}(e.Evented),U=function(){function t(i,n){var r=this;g(this,t),this.workerPool=i,this.actors=[],this.currentActor=0,this.id=e.uniqueId();for(var o=this.workerPool.acquire(this.id),a=0;a<o.length;a++){var s=new t.Actor(o[a],n,this.id);s.name="Worker ".concat(a),this.actors.push(s)}this.ready=!1,this.broadcast("checkIfReady",null,(function(){r.ready=!0}))}return y(t,[{key:"broadcast",value:function(t,i,n){e.asyncAll(this.actors,(function(e,n){e.send(t,i,n)}),n=n||function(){})}},{key:"getActor",value:function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}},{key:"remove",value:function(){this.actors.forEach((function(e){e.remove()})),this.actors=[],this.workerPool.release(this.id)}}]),t}();function W(t,i,n){return i*(e.EXTENT/(t.tileSize*Math.pow(2,n-t.tileID.overscaledZ)))}U.Actor=e.Actor;var H=function(){function t(e,i,n,r){g(this,t),this.screenBounds=e,this.cameraPoint=i,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=n,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this.screenGeometry.map((function(e){return r.pointCoordinate3D(e)})),this.cameraGeometry=this.bufferedCameraGeometry(0)}return y(t,[{key:"isPointQuery",value:function(){return 1===this.screenBounds.length}},{key:"bufferedScreenGeometry",value:function(t){return e.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],t)}},{key:"bufferedCameraGeometry",value:function(t){var i=this.screenBounds[0],n=1===this.screenBounds.length?this.screenBounds[0].add(new e.pointGeometry(1,1)):this.screenBounds[1],r=e.polygonizeBounds(i,n,0,!1);return this.cameraPoint.y>n.y&&(this.cameraPoint.x>i.x&&this.cameraPoint.x<n.x?r.splice(3,0,this.cameraPoint):this.cameraPoint.x>=n.x?r[2]=this.cameraPoint:this.cameraPoint.x<=i.x&&(r[3]=this.cameraPoint)),e.bufferConvexPolygon(r,t)}},{key:"containsTile",value:function(t,i,n){var r,o=t.queryPadding+1,a=t.tileID.wrap,s=n?this._bufferedCameraMercator(o,i).map((function(i){return e.getTilePoint(t.tileTransform,i,a)})):this._bufferedScreenMercator(o,i).map((function(i){return e.getTilePoint(t.tileTransform,i,a)})),l=this.screenGeometryMercator.map((function(i){return e.getTileVec3(t.tileTransform,i,a)})),u=l.map((function(t){return new e.pointGeometry(t[0],t[1])})),c=i.getFreeCameraOptions().position||new e.MercatorCoordinate(0,0,0),h=e.getTileVec3(t.tileTransform,c,a),d=l.map((function(t){var i=e.sub(t,t,h);return e.normalize(i,i),new T(h,i)})),p=W(t,1,i.zoom);if(e.polygonIntersectsBox(s,0,0,e.EXTENT,e.EXTENT))return{queryGeometry:this,tilespaceGeometry:u,tilespaceRays:d,bufferedTilespaceGeometry:s,bufferedTilespaceBounds:(r=e.getBounds(s),r.min.x=e.clamp(r.min.x,0,e.EXTENT),r.min.y=e.clamp(r.min.y,0,e.EXTENT),r.max.x=e.clamp(r.max.x,0,e.EXTENT),r.max.y=e.clamp(r.max.y,0,e.EXTENT),r),tile:t,tileID:t.tileID,pixelToTileUnitsFactor:p}}},{key:"_bufferedScreenMercator",value:function(e,t){var i=G(e);if(this._screenRaycastCache[i])return this._screenRaycastCache[i];var n=this.bufferedScreenGeometry(e).map((function(e){return t.pointCoordinate3D(e)}));return this._screenRaycastCache[i]=n,n}},{key:"_bufferedCameraMercator",value:function(e,t){var i=G(e);if(this._cameraRaycastCache[i])return this._cameraRaycastCache[i];var n=this.bufferedCameraGeometry(e).map((function(e){return t.pointCoordinate3D(e)}));return this._cameraRaycastCache[i]=n,n}}],[{key:"createFromScreenPoints",value:function(i,n){var r,o;if(i instanceof e.pointGeometry||"number"==typeof i[0]){var a=e.pointGeometry.convert(i);r=[e.pointGeometry.convert(i)],o=n.isPointAboveHorizon(a)}else{var s=e.pointGeometry.convert(i[0]),l=e.pointGeometry.convert(i[1]);r=[s,l],o=e.polygonizeBounds(s,l).every((function(e){return n.isPointAboveHorizon(e)}))}return new t(r,n.getCameraPoint(),o,n)}}]),t}();function G(e){return 100*e|0}function q(t,i,n){var r=function(r,o){if(r)return n(r);if(o){var a=e.pick(e.extend(o,t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);o.vector_layers&&(a.vectorLayers=o.vector_layers,a.vectorLayerIds=a.vectorLayers.map((function(e){return e.id}))),a.tiles=i.canonicalizeTileset(a,t.url),n(null,a)}};return t.url?e.getJSON(i.transformRequest(i.normalizeSourceURL(t.url),e.ResourceType.Source),r):e.exported.frame((function(){return r(null,t)}))}var Z,X=function(){function t(i,n,r){g(this,t),this.bounds=e.LngLatBounds.convert(this.validateBounds(i)),this.minzoom=n||0,this.maxzoom=r||24}return y(t,[{key:"validateBounds",value:function(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}},{key:"contains",value:function(t){var i=Math.pow(2,t.z),n=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*i),r=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*i),o=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*i),a=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*i);return t.x>=n&&t.x<o&&t.y>=r&&t.y<a}}]),t}(),Y=function(){function e(t,i,n){g(this,e),this.context=t;var r=t.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,i.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete i.arrayBuffer}return y(e,[{key:"bind",value:function(){this.context.bindElementBuffer.set(this.buffer)}},{key:"updateData",value:function(e){var t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}},{key:"destroy",value:function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}]),e}(),$={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},K=function(){function e(t,i,n,r){g(this,e),this.length=i.length,this.attributes=n,this.itemSize=i.bytesPerElement,this.dynamicDraw=r,this.context=t;var o=t.gl;this.buffer=o.createBuffer(),t.bindVertexBuffer.set(this.buffer),o.bufferData(o.ARRAY_BUFFER,i.arrayBuffer,this.dynamicDraw?o.DYNAMIC_DRAW:o.STATIC_DRAW),this.dynamicDraw||delete i.arrayBuffer}return y(e,[{key:"bind",value:function(){this.context.bindVertexBuffer.set(this.buffer)}},{key:"updateData",value:function(e){var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)}},{key:"enableAttributes",value:function(e,t){for(var i=0;i<this.attributes.length;i++){var n=t.attributes[this.attributes[i].name];void 0!==n&&e.enableVertexAttribArray(n)}}},{key:"setVertexAttribPointers",value:function(e,t,i){for(var n=0;n<this.attributes.length;n++){var r=this.attributes[n],o=t.attributes[r.name];void 0!==o&&e.vertexAttribPointer(o,r.components,e[$[r.type]],!1,this.itemSize,r.offset+this.itemSize*(i||0))}}},{key:"destroy",value:function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}]),e}(),Q=function(){function e(t){g(this,e),this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}return y(e,[{key:"get",value:function(){return this.current}},{key:"set",value:function(e){}},{key:"getDefault",value:function(){return this.default}},{key:"setDefault",value:function(){this.set(this.default)}}]),e}(),J=function(t){f(n,t);var i=m(n);function n(){return g(this,n),i.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return e.Color.transparent}},{key:"set",value:function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}]),n}(Q),ee=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){return 1}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}]),i}(Q),te=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){return 0}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}]),i}(Q),ie=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){return[!0,!0,!0,!0]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}]),i}(Q),ne=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){return!0}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}]),i}(Q),re=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){return 255}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}]),i}(Q),oe=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){return{func:this.gl.ALWAYS,ref:0,mask:255}}},{key:"set",value:function(e){var t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}]),i}(Q),ae=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){var e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}]),i}(Q),se=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}}}]),i}(Q),le=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){return[0,1]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}]),i}(Q),ue=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}}}]),i}(Q),ce=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){return this.gl.LESS}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}]),i}(Q),he=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}}}]),i}(Q),de=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){var e=this.gl;return[e.ONE,e.ZERO]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}]),i}(Q),pe=function(t){f(n,t);var i=m(n);function n(){return g(this,n),i.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return e.Color.transparent}},{key:"set",value:function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}]),n}(Q),fe=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){return this.gl.FUNC_ADD}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}]),i}(Q),me=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}}}]),i}(Q),ge=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){return this.gl.BACK}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}]),i}(Q),ye=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){return this.gl.CCW}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}]),i}(Q),ve=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}]),i}(Q),be=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){return this.gl.TEXTURE0}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}]),i}(Q),xe=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){var e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}]),i}(Q),_e=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}}]),i}(Q),we=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}}]),i}(Q),Se=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}}}]),i}(Q),ke=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}}]),i}(Q),Ce=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}]),i}(Q),Te=function(e){f(i,e);var t=m(i);function i(e){var n;return g(this,i),(n=t.call(this,e)).vao=e.extVertexArrayObject,n}return y(i,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)}}]),i}(Q),Ee=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){return 4}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}}]),i}(Q),Ae=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}}]),i}(Q),Pe=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}}]),i}(Q),Me=function(e){f(i,e);var t=m(i);function i(e,n){var r;return g(this,i),(r=t.call(this,e)).context=e,r.parent=n,r}return y(i,[{key:"getDefault",value:function(){return null}}]),i}(Q),Le=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"setDirty",value:function(){this.dirty=!0}},{key:"set",value:function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}}]),i}(Me),Oe=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"attachment",value:function(){return this.gl.DEPTH_ATTACHMENT}},{key:"set",value:function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,this.attachment(),t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}}]),i}(Me),Re=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"attachment",value:function(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}]),i}(Oe),Ie=function(){function e(t,i,n,r){g(this,e),this.context=t,this.width=i,this.height=n;var o=this.framebuffer=t.gl.createFramebuffer();this.colorAttachment=new Le(t,o),r&&(this.depthAttachment=new Oe(t,o))}return y(e,[{key:"destroy",value:function(){var e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){var i=this.depthAttachment.get();i&&e.deleteRenderbuffer(i)}e.deleteFramebuffer(this.framebuffer)}}]),e}(),De=function(){function t(e){g(this,t),this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new J(this),this.clearDepth=new ee(this),this.clearStencil=new te(this),this.colorMask=new ie(this),this.depthMask=new ne(this),this.stencilMask=new re(this),this.stencilFunc=new oe(this),this.stencilOp=new ae(this),this.stencilTest=new se(this),this.depthRange=new le(this),this.depthTest=new ue(this),this.depthFunc=new ce(this),this.blend=new he(this),this.blendFunc=new de(this),this.blendColor=new pe(this),this.blendEquation=new fe(this),this.cullFace=new me(this),this.cullFaceSide=new ge(this),this.frontFace=new ye(this),this.program=new ve(this),this.activeTexture=new be(this),this.viewport=new xe(this),this.bindFramebuffer=new _e(this),this.bindRenderbuffer=new we(this),this.bindTexture=new Se(this),this.bindVertexBuffer=new ke(this),this.bindElementBuffer=new Ce(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Te(this),this.pixelStoreUnpack=new Ee(this),this.pixelStoreUnpackPremultiplyAlpha=new Ae(this),this.pixelStoreUnpackFlipY=new Pe(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)}return y(t,[{key:"setDefault",value:function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}},{key:"setDirty",value:function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}},{key:"createIndexBuffer",value:function(e,t){return new Y(this,e,t)}},{key:"createVertexBuffer",value:function(e,t,i){return new K(this,e,t,i)}},{key:"createRenderbuffer",value:function(e,t,i){var n=this.gl,r=n.createRenderbuffer();return this.bindRenderbuffer.set(r),n.renderbufferStorage(n.RENDERBUFFER,e,t,i),this.bindRenderbuffer.set(null),r}},{key:"createFramebuffer",value:function(e,t,i){return new Ie(this,e,t,i)}},{key:"clear",value:function(e){var t=e.color,i=e.depth,n=e.stencil,r=this.gl,o=0;t&&(o|=r.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==i&&(o|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(i),this.depthMask.set(!0)),void 0!==n&&(o|=r.STENCIL_BUFFER_BIT,this.clearStencil.set(n),this.stencilMask.set(255)),r.clear(o)}},{key:"setCullFace",value:function(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}},{key:"setDepthMode",value:function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}},{key:"setStencilMode",value:function(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}},{key:"setColorMode",value:function(t){u(t.blendFunction,e.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)}},{key:"unbindVAO",value:function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}]),t}(),ze=function(t){f(n,t);var i=m(n);function n(t,o,a,s){var l;return g(this,n),(l=i.call(this)).id=t,l.dispatcher=a,l.setEventedParent(s),l.type="raster",l.minzoom=0,l.maxzoom=22,l.roundZoom=!0,l.scheme="xyz",l.tileSize=512,l._loaded=!1,l._options=e.extend({type:"raster"},o),e.extend(r(l),e.pick(o,["url","scheme","tileSize"])),l}return y(n,[{key:"load",value:function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=q(this._options,this.map._requestManager,(function(i,n){t._tileJSONRequest=null,t._loaded=!0,i?t.fire(new e.ErrorEvent(i)):n&&(e.extend(t,n),n.bounds&&(t.tileBounds=new X(n.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(n.tiles),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))}},{key:"loaded",value:function(){return this._loaded}},{key:"onAdd",value:function(e){this.map=e,this.load()}},{key:"onRemove",value:function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},{key:"serialize",value:function(){return e.extend({},this._options)}},{key:"hasTile",value:function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}},{key:"loadTile",value:function(t,i){var n=this,r=e.exported.devicePixelRatio>=2,o=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),r,this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(o,e.ResourceType.Tile),(function(r,o,a,s){if(delete t.request,t.aborted)t.state="unloaded",i(null);else if(r)t.state="errored",i(r);else if(o){n.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:a,expires:s});var l=n.map.painter.context,u=l.gl;t.texture=n.map.painter.getTileTexture(o.width),t.texture?t.texture.update(o,{useMipmap:!0}):(t.texture=new e.Texture(l,o,u.RGBA,{useMipmap:!0}),t.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE),l.extTextureFilterAnisotropic&&u.texParameterf(u.TEXTURE_2D,l.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,l.extTextureFilterAnisotropicMax)),t.state="loaded",e.cacheEntryPossiblyAdded(n.dispatcher),i(null)}}))}},{key:"abortTile",value:function(e,t){e.request&&(e.request.cancel(),delete e.request),t()}},{key:"unloadTile",value:function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()}},{key:"hasTransition",value:function(){return!1}}]),n}(e.Evented),Be=function(t){f(n,t);var i=m(n);function n(e,t,r,o){var a;return g(this,n),(a=i.call(this)).id=e,a.dispatcher=r,a.coordinates=t.coordinates,a.type="image",a.minzoom=0,a.maxzoom=22,a.tileSize=512,a.tiles={},a._loaded=!1,a.setEventedParent(o),a.options=t,a}return y(n,[{key:"load",value:function(t,i){var n=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),(function(r,o){n._loaded=!0,r?n.fire(new e.ErrorEvent(r)):o&&(n.image=e.exported.getImageData(o),t&&(n.coordinates=t),i&&i(),n._finishLoading())}))}},{key:"loaded",value:function(){return this._loaded}},{key:"updateImage",value:function(e){var t=this;return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,(function(){t.texture=null})),this):this}},{key:"_finishLoading",value:function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))}},{key:"onAdd",value:function(e){this.map=e,this.load()}},{key:"setCoordinates",value:function(t){this.coordinates=t,delete this._boundsArray;var i=t.map(e.MercatorCoordinate.fromLngLat);return this.tileID=function(t){var i,n=1/0,r=1/0,o=-1/0,a=-1/0,s=d(t);try{for(s.s();!(i=s.n()).done;){var l=i.value;n=Math.min(n,l.x),r=Math.min(r,l.y),o=Math.max(o,l.x),a=Math.max(a,l.y)}}catch(p){s.e(p)}finally{s.f()}var u=Math.max(o-n,a-r),c=Math.max(0,Math.floor(-Math.log(u)/Math.LN2)),h=Math.pow(2,c);return new e.CanonicalTileID(c,Math.floor((n+o)/2*h),Math.floor((r+a)/2*h))}(i),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this}},{key:"_clear",value:function(){delete this._boundsArray}},{key:"_makeBoundsArray",value:function(){var t=e.tileTransform(this.tileID,this.map.transform.projection),i=this.coordinates.map((function(i){var n=t.projection.project(i[0],i[1]);return e.getTilePoint(t,n)._round()}));return this._boundsArray=new e.StructArrayLayout4i8,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(i[2].x,i[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this}},{key:"prepare",value:function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,i=t.gl;for(var n in this._boundsArray||this._makeBoundsArray(),this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,e.boundsAttributes.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new e.Texture(t,this.image,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE)),this.tiles){var r=this.tiles[n];"loaded"!==r.state&&(r.state="loaded",r.texture=this.texture)}}}},{key:"loadTile",value:function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))}},{key:"serialize",value:function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}},{key:"hasTransition",value:function(){return!1}}]),n}(e.Evented),Fe={vector:function(t){f(n,t);var i=m(n);function n(t,o,a,s){var u;if(g(this,n),(u=i.call(this)).id=t,u.dispatcher=a,u.type="vector",u.minzoom=0,u.maxzoom=22,u.scheme="xyz",u.tileSize=512,u.reparseOverscaled=!0,u.isTileClipped=!0,u._loaded=!1,e.extend(r(u),e.pick(o,["url","scheme","tileSize","promoteId"])),u._options=e.extend({type:"vector"},o),u._collectResourceTiming=o.collectResourceTiming,512!==u.tileSize)throw new Error("vector tile sources must have a tileSize of 512");return u.setEventedParent(s),u._tileWorkers={},u._deduped=new e.DedupedRequest,l(u)}return y(n,[{key:"load",value:function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=q(this._options,this.map._requestManager,(function(i,n){t._tileJSONRequest=null,t._loaded=!0,i?t.fire(new e.ErrorEvent(i)):n&&(e.extend(t,n),n.bounds&&(t.tileBounds=new X(n.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(n.tiles,t.map._requestManager._customAccessToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))}},{key:"loaded",value:function(){return this._loaded}},{key:"hasTile",value:function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}},{key:"onAdd",value:function(e){this.map=e,this.load()}},{key:"setSourceProperty",value:function(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e();var t,i=this.map.style._getSourceCaches(this.id),n=d(i);try{for(n.s();!(t=n.n()).done;)t.value.clearTiles()}catch(r){n.e(r)}finally{n.f()}this.load()}},{key:"setTiles",value:function(e){var t=this;return this.setSourceProperty((function(){t._options.tiles=e})),this}},{key:"setUrl",value:function(e){var t=this;return this.setSourceProperty((function(){t.url=e,t._options.url=e})),this}},{key:"onRemove",value:function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},{key:"serialize",value:function(){return e.extend({},this._options)}},{key:"loadTile",value:function(t,i){var n=this,r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),o={request:this.map._requestManager.transformRequest(r,e.ResourceType.Tile),data:void 0,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:t.isSymbolTile};if(o.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state)"loading"===t.state?t.reloadCallback=i:t.request=t.actor.send("reloadTile",o,s.bind(this));else if(t.actor=this._tileWorkers[r]=this._tileWorkers[r]||this.dispatcher.getActor(),this.dispatcher.ready)t.request=t.actor.send("loadTile",o,s.bind(this),void 0,!0);else{var a=e.loadVectorTile.call({deduped:this._deduped},o,(function(e,i){e||!i?s.call(n,e):(o.data={cacheControl:i.cacheControl,expires:i.expires,rawData:i.rawData.slice(0)},t.actor&&t.actor.send("loadTile",o,s.bind(n),void 0,!0))}),!0);t.request={cancel:a}}function s(n,r){return delete t.request,t.aborted?i(null):n&&404!==n.status?i(n):(r&&r.resourceTiming&&(t.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&r&&t.setExpiryData(r),t.loadVectorData(r,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),i(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}}},{key:"abortTile",value:function(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id})}},{key:"unloadTile",value:function(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}},{key:"hasTransition",value:function(){return!1}},{key:"afterUpdate",value:function(){this._tileWorkers={}}}]),n}(e.Evented),raster:ze,"raster-dem":function(t){f(n,t);var i=m(n);function n(t,r,o,a){var s;return g(this,n),(s=i.call(this,t,r,o,a)).type="raster-dem",s.maxzoom=22,s._options=e.extend({type:"raster-dem"},r),s.encoding=r.encoding||"mapbox",s}return y(n,[{key:"loadTile",value:function(t,i){var n=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function r(e,n){e&&(t.state="errored",i(e)),n&&(t.dem=n,t.dem.onDeserialize(),t.needsHillshadePrepare=!0,t.needsDEMTextureUpload=!0,t.state="loaded",i(null))}t.request=e.getImage(this.map._requestManager.transformRequest(n,e.ResourceType.Tile),function(n,o,a,s){if(delete t.request,t.aborted)t.state="unloaded",i(null);else if(n)t.state="errored",i(n);else if(o){this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:a,expires:s});var l=e.window.ImageBitmap&&o instanceof e.window.ImageBitmap&&(null==Z&&(Z=e.window.OffscreenCanvas&&new e.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof e.window.createImageBitmap),Z),u=1-(o.width-e.prevPowerOfTwo(o.width))/2;u<1||t.neighboringTiles||(t.neighboringTiles=this._getNeighboringTiles(t.tileID));var c=l?o:e.exported.getImageData(o,u),h={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:c,encoding:this.encoding,padding:u};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",h,r.bind(this),void 0,!0))}}.bind(this))}},{key:"_getNeighboringTiles",value:function(t){var i=t.canonical,n=Math.pow(2,i.z),r=(i.x-1+n)%n,o=0===i.x?t.wrap-1:t.wrap,a=(i.x+1+n)%n,s=i.x+1===n?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,o,i.z,r,i.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,i.z,a,i.y).key]={backfilled:!1},i.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,o,i.z,r,i.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,i.z,i.x,i.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,i.z,a,i.y-1).key]={backfilled:!1}),i.y+1<n&&(l[new e.OverscaledTileID(t.overscaledZ,o,i.z,r,i.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,i.z,i.x,i.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,i.z,a,i.y+1).key]={backfilled:!1}),l}},{key:"unloadTile",value:function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded"}}]),n}(ze),geojson:function(t){f(n,t);var i=m(n);function n(t,r,o,a){var s;g(this,n),(s=i.call(this)).id=t,s.type="geojson",s.minzoom=0,s.maxzoom=18,s.tileSize=512,s.isTileClipped=!0,s.reparseOverscaled=!0,s._loaded=!1,s.actor=o.getActor(),s.setEventedParent(a),s._data=r.data,s._options=e.extend({},r),s._collectResourceTiming=r.collectResourceTiming,void 0!==r.maxzoom&&(s.maxzoom=r.maxzoom),r.type&&(s.type=r.type),r.attribution&&(s.attribution=r.attribution),s.promoteId=r.promoteId;var l=e.EXTENT/s.tileSize;return s.workerOptions=e.extend({source:s.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(void 0!==r.buffer?r.buffer:128)*l,tolerance:(void 0!==r.tolerance?r.tolerance:.375)*l,extent:e.EXTENT,maxZoom:s.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:void 0!==r.clusterMaxZoom?r.clusterMaxZoom:s.maxzoom-1,minPoints:Math.max(2,r.clusterMinPoints||2),extent:e.EXTENT,radius:(void 0!==r.clusterRadius?r.clusterRadius:50)*l,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties,filter:r.filter},r.workerOptions),s}return y(n,[{key:"onAdd",value:function(e){this.map=e,this.setData(this._data)}},{key:"setData",value:function(e){return this._data=e,this._updateWorkerData(),this}},{key:"getClusterExpansionZoom",value:function(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this}},{key:"getClusterChildren",value:function(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this}},{key:"getClusterLeaves",value:function(e,t,i,n){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:i},n),this}},{key:"_updateWorkerData",value:function(){var t=this;if(this._pendingLoad)this._coalesce=!0;else{this.fire(new e.Event("dataloading",{dataType:"source"})),this._loaded=!1;var i=e.extend({},this.workerOptions),n=this._data;"string"==typeof n?(i.request=this.map._requestManager.transformRequest(e.exported.resolveURL(n),e.ResourceType.Source),i.request.collectResourceTiming=this._collectResourceTiming):i.data=JSON.stringify(n),this._pendingLoad=this.actor.send("".concat(this.type,".loadData"),i,(function(i,n){if(t._loaded=!0,t._pendingLoad=null,i)t.fire(new e.ErrorEvent(i));else{var r={dataType:"source",sourceDataType:t._metadataFired?"content":"metadata"};t._collectResourceTiming&&n&&n.resourceTiming&&n.resourceTiming[t.id]&&(r.resourceTiming=n.resourceTiming[t.id]),t.fire(new e.Event("data",r)),t._metadataFired=!0}t._coalesce&&(t._updateWorkerData(),t._coalesce=!1)}))}}},{key:"loaded",value:function(){return this._loaded}},{key:"loadTile",value:function(t,i){var n=this,r=t.actor?"reloadTile":"loadTile";t.actor=this.actor,t.request=this.actor.send(r,{type:this.type,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(e,o){return delete t.request,t.unloadVectorData(),t.aborted?i(null):e?i(e):(t.loadVectorData(o,n.map.painter,"reloadTile"===r),i(null))}),void 0,"loadTile"===r)}},{key:"abortTile",value:function(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0}},{key:"unloadTile",value:function(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}},{key:"onRemove",value:function(){this._pendingLoad&&this._pendingLoad.cancel()}},{key:"serialize",value:function(){return e.extend({},this._options,{type:this.type,data:this._data})}},{key:"hasTransition",value:function(){return!1}}]),n}(e.Evented),video:function(t){f(n,t);var i=m(n);function n(e,t,r,o){var a;return g(this,n),(a=i.call(this,e,t,r,o)).roundZoom=!0,a.type="video",a.options=t,a}return y(n,[{key:"load",value:function(){var t=this;this._loaded=!1;var i=this.options;this.urls=[];var n,r=d(i.urls);try{for(r.s();!(n=r.n()).done;){var o=n.value;this.urls.push(this.map._requestManager.transformRequest(o,e.ResourceType.Source).url)}}catch(a){r.e(a)}finally{r.f()}e.getVideo(this.urls,(function(i,n){t._loaded=!0,i?t.fire(new e.ErrorEvent(i)):n&&(t.video=n,t.video.loop=!0,t.video.setAttribute("playsinline",""),t.video.addEventListener("playing",(function(){t.map.triggerRepaint()})),t.map&&t.video.play(),t._finishLoading())}))}},{key:"pause",value:function(){this.video&&this.video.pause()}},{key:"play",value:function(){this.video&&this.video.play()}},{key:"seek",value:function(t){if(this.video){var i=this.video.seekable;t<i.start(0)||t>i.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(this.id),null,"Playback for this video can be set only between the ".concat(i.start(0)," and ").concat(i.end(0),"-second mark.")))):this.video.currentTime=t}}},{key:"getVideo",value:function(){return this.video}},{key:"onAdd",value:function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}},{key:"prepare",value:function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,i=t.gl;for(var n in this._boundsArray||this._makeBoundsArray(),this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,e.boundsAttributes.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE)),this.tiles){var r=this.tiles[n];"loaded"!==r.state&&(r.state="loaded",r.texture=this.texture)}}}},{key:"serialize",value:function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}},{key:"hasTransition",value:function(){return this.video&&!this.video.paused}}]),n}(Be),image:Be,canvas:function(t){f(n,t);var i=m(n);function n(t,r,o,a){var s;return g(this,n),s=i.call(this,t,r,o,a),r.coordinates?Array.isArray(r.coordinates)&&4===r.coordinates.length&&!r.coordinates.some((function(e){return!Array.isArray(e)||2!==e.length||e.some((function(e){return"number"!=typeof e}))}))||s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'missing required property "coordinates"'))),r.animate&&"boolean"!=typeof r.animate&&s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'optional "animate" property must be a boolean value'))),r.canvas?"string"==typeof r.canvas||r.canvas instanceof e.window.HTMLCanvasElement||s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'missing required property "canvas"'))),s.options=r,s.animate=void 0===r.animate||r.animate,s}return y(n,[{key:"load",value:function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}},{key:"getCanvas",value:function(){return this.canvas}},{key:"onAdd",value:function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}},{key:"onRemove",value:function(){this.pause()}},{key:"prepare",value:function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var i=this.map.painter.context,n=i.gl;for(var r in this._boundsArray||this._makeBoundsArray(),this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,e.boundsAttributes.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(i,this.canvas,n.RGBA,{premultiply:!0}),this.tiles){var o=this.tiles[r];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}}},{key:"serialize",value:function(){return{type:"canvas",coordinates:this.coordinates}}},{key:"hasTransition",value:function(){return this._playing}},{key:"_hasInvalidDimensions",value:function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e++){var i=t[e];if(isNaN(i)||i<=0)return!0}return!1}}]),n}(Be)},Ne=function(t,i,n,r){var o=new Fe[i.type](t,i,n,r);if(o.id!==t)throw new Error("Expected Source id to be ".concat(t," instead of ").concat(o.id));return e.bindAll(["load","abort","unload","serialize","prepare"],o),o};function je(t,i){var n=e.identity([]);return e.scale$1(n,n,[.5*t.width,.5*-t.height,1]),e.translate(n,n,[1,-1,0]),e.multiply(n,n,t.calculateProjMatrix(i.toUnwrapped()))}function Ve(e,t,i,n,r,o,a){var s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=e.tilesIn(n,a,s);l.sort(We);var u,c=[],h=d(l);try{for(h.s();!(u=h.n()).done;){var p=u.value;c.push({wrappedTileID:p.tile.tileID.wrapped().key,queryResults:p.tile.queryRenderedFeatures(t,i,e._state,p,r,o,je(e.transform,p.tile.tileID),s)})}}catch(g){h.e(g)}finally{h.f()}var f=function(e){var t,i={},n={},r=d(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,a=o.queryResults,s=o.wrappedTileID,l=n[s]=n[s]||{};for(var u in a){var c,h=a[u],p=l[u]=l[u]||{},f=i[u]=i[u]||[],m=d(h);try{for(m.s();!(c=m.n()).done;){var y=c.value;p[y.featureIndex]||(p[y.featureIndex]=!0,f.push(y))}}catch(g){m.e(g)}finally{m.f()}}}}catch(g){r.e(g)}finally{r.f()}return i}(c);for(var m in f)f[m].forEach((function(t){var i=t.feature,n=e.getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=n}));return f}function Ue(e,t){for(var i=e.getRenderableIds().map((function(t){return e.getTileByID(t)})),n=[],r={},o=0;o<i.length;o++){var a=i[o],s=a.tileID.canonical.key;r[s]||(r[s]=!0,a.querySourceFeatures(n,t))}return n}function We(e,t){var i=e.tileID,n=t.tileID;return i.overscaledZ-n.overscaledZ||i.canonical.y-n.canonical.y||i.wrap-n.wrap||i.canonical.x-n.canonical.x}function He(){return null!=po.workerClass?new po.workerClass:new e.window.Worker(po.workerUrl)}var Ge,qe="mapboxgl_preloaded_worker_pool",Ze=function(){function e(){g(this,e),this.active={}}return y(e,[{key:"acquire",value:function(t){if(!this.workers)for(this.workers=[];this.workers.length<e.workerCount;)this.workers.push(new He);return this.active[t]=!0,this.workers.slice()}},{key:"release",value:function(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((function(e){e.terminate()})),this.workers=null)}},{key:"isPreloaded",value:function(){return!!this.active[qe]}},{key:"numActive",value:function(){return Object.keys(this.active).length}}]),e}();function Xe(){return Ge||(Ge=new Ze),Ge}function Ye(t,i){var n={};for(var r in t)"ref"!==r&&(n[r]=t[r]);return e.refProperties.forEach((function(e){e in i&&(n[e]=i[e])})),n}function $e(e){e=e.slice();for(var t=Object.create(null),i=0;i<e.length;i++)t[e[i].id]=e[i];for(var n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=Ye(e[n],t[e[n].ref]));return e}Ze.workerCount=2;var Ke={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function Qe(e,t,i){i.push({command:Ke.addSource,args:[e,t[e]]})}function Je(e,t,i){t.push({command:Ke.removeSource,args:[e]}),i[e]=!0}function et(e,t,i,n){Je(e,i,n),Qe(e,t,i)}function tt(e,t,i){var n;for(n in e[i])if(e[i].hasOwnProperty(n)&&"data"!==n&&!u(e[i][n],t[i][n]))return!1;for(n in t[i])if(t[i].hasOwnProperty(n)&&"data"!==n&&!u(e[i][n],t[i][n]))return!1;return!0}function it(e,t,i,n,r,o){var a;for(a in t=t||{},e=e||{})e.hasOwnProperty(a)&&(u(e[a],t[a])||i.push({command:o,args:[n,a,t[a],r]}));for(a in t)t.hasOwnProperty(a)&&!e.hasOwnProperty(a)&&(u(e[a],t[a])||i.push({command:o,args:[n,a,t[a],r]}))}function nt(e){return e.id}function rt(e,t){return e[t.id]=t,e}var ot=function(){function t(e,i){g(this,t),this.reset(e,i)}return y(t,[{key:"reset",value:function(e,t){this.points=e||[],this._distances=[0];for(var i=1;i<this.points.length;i++)this._distances[i]=this._distances[i-1]+this.points[i].dist(this.points[i-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding}},{key:"lerp",value:function(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);for(var i=1,n=this._distances[i],r=t*this.paddedLength+this.padding;n<r&&i<this._distances.length;)n=this._distances[++i];var o=i-1,a=this._distances[o],s=n-a,l=s>0?(r-a)/s:0;return this.points[o].mult(1-l).add(this.points[i].mult(l))}}]),t}(),at=function(){function e(t,i,n){g(this,e);var r=this.boxCells=[],o=this.circleCells=[];this.xCellCount=Math.ceil(t/n),this.yCellCount=Math.ceil(i/n);for(var a=0;a<this.xCellCount*this.yCellCount;a++)r.push([]),o.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=i,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/i,this.boxUid=0,this.circleUid=0}return y(e,[{key:"keysLength",value:function(){return this.boxKeys.length+this.circleKeys.length}},{key:"insert",value:function(e,t,i,n,r){this._forEachCell(t,i,n,r,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(i),this.bboxes.push(n),this.bboxes.push(r)}},{key:"insertCircle",value:function(e,t,i,n){this._forEachCell(t-n,i-n,t+n,i+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(i),this.circles.push(n)}},{key:"_insertBoxCell",value:function(e,t,i,n,r,o){this.boxCells[r].push(o)}},{key:"_insertCircleCell",value:function(e,t,i,n,r,o){this.circleCells[r].push(o)}},{key:"_query",value:function(e,t,i,n,r,o){if(i<0||e>this.width||n<0||t>this.height)return!r&&[];var a=[];if(e<=0&&t<=0&&this.width<=i&&this.height<=n){if(r)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var l=0;l<this.circleKeys.length;l++){var u=this.circles[3*l],c=this.circles[3*l+1],h=this.circles[3*l+2];a.push({key:this.circleKeys[l],x1:u-h,y1:c-h,x2:u+h,y2:c+h})}return o?a.filter(o):a}return this._forEachCell(e,t,i,n,this._queryCell,a,{hitTest:r,seenUids:{box:{},circle:{}}},o),r?a.length>0:a}},{key:"_queryCircle",value:function(e,t,i,n,r){var o=e-i,a=e+i,s=t-i,l=t+i;if(a<0||o>this.width||l<0||s>this.height)return!n&&[];var u=[];return this._forEachCell(o,s,a,l,this._queryCellCircle,u,{hitTest:n,circle:{x:e,y:t,radius:i},seenUids:{box:{},circle:{}}},r),n?u.length>0:u}},{key:"query",value:function(e,t,i,n,r){return this._query(e,t,i,n,!1,r)}},{key:"hitTest",value:function(e,t,i,n,r){return this._query(e,t,i,n,!0,r)}},{key:"hitTestCircle",value:function(e,t,i,n){return this._queryCircle(e,t,i,!0,n)}},{key:"_queryCell",value:function(e,t,i,n,r,o,a,s){var l=a.seenUids,u=this.boxCells[r];if(null!==u){var c,h=this.bboxes,p=d(u);try{for(p.s();!(c=p.n()).done;){var f=c.value;if(!l.box[f]){l.box[f]=!0;var m=4*f;if(e<=h[m+2]&&t<=h[m+3]&&i>=h[m+0]&&n>=h[m+1]&&(!s||s(this.boxKeys[f]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[f],x1:h[m],y1:h[m+1],x2:h[m+2],y2:h[m+3]})}}}}catch(C){p.e(C)}finally{p.f()}}var g=this.circleCells[r];if(null!==g){var y,v=this.circles,b=d(g);try{for(b.s();!(y=b.n()).done;){var x=y.value;if(!l.circle[x]){l.circle[x]=!0;var _=3*x;if(this._circleAndRectCollide(v[_],v[_+1],v[_+2],e,t,i,n)&&(!s||s(this.circleKeys[x]))){if(a.hitTest)return o.push(!0),!0;var w=v[_],S=v[_+1],k=v[_+2];o.push({key:this.circleKeys[x],x1:w-k,y1:S-k,x2:w+k,y2:S+k})}}}}catch(C){b.e(C)}finally{b.f()}}}},{key:"_queryCellCircle",value:function(e,t,i,n,r,o,a,s){var l=a.circle,u=a.seenUids,c=this.boxCells[r];if(null!==c){var h,p=this.bboxes,f=d(c);try{for(f.s();!(h=f.n()).done;){var m=h.value;if(!u.box[m]){u.box[m]=!0;var g=4*m;if(this._circleAndRectCollide(l.x,l.y,l.radius,p[g+0],p[g+1],p[g+2],p[g+3])&&(!s||s(this.boxKeys[m])))return o.push(!0),!0}}}catch(S){f.e(S)}finally{f.f()}}var y=this.circleCells[r];if(null!==y){var v,b=this.circles,x=d(y);try{for(x.s();!(v=x.n()).done;){var _=v.value;if(!u.circle[_]){u.circle[_]=!0;var w=3*_;if(this._circlesCollide(b[w],b[w+1],b[w+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[_])))return o.push(!0),!0}}}catch(S){x.e(S)}finally{x.f()}}}},{key:"_forEachCell",value:function(e,t,i,n,r,o,a,s){for(var l=this._convertToXCellCoord(e),u=this._convertToYCellCoord(t),c=this._convertToXCellCoord(i),h=this._convertToYCellCoord(n),d=l;d<=c;d++)for(var p=u;p<=h;p++)if(r.call(this,e,t,i,n,this.xCellCount*p+d,o,a,s))return}},{key:"_convertToXCellCoord",value:function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}},{key:"_convertToYCellCoord",value:function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}},{key:"_circlesCollide",value:function(e,t,i,n,r,o){var a=n-e,s=r-t,l=i+o;return l*l>a*a+s*s}},{key:"_circleAndRectCollide",value:function(e,t,i,n,r,o,a){var s=(o-n)/2,l=Math.abs(e-(n+s));if(l>s+i)return!1;var u=(a-r)/2,c=Math.abs(t-(r+u));if(c>u+i)return!1;if(l<=s||c<=u)return!0;var h=l-s,d=c-u;return h*h+d*d<=i*i}}]),e}(),st=Math.tan(85*Math.PI/180);function lt(t,i,n,r,o){var a=e.create$1();if(i){var s=C([],o);a[0]=s[0],a[1]=s[1],a[4]=s[2],a[5]=s[3],n||e.rotateZ(a,a,r.angle)}else e.multiply(a,r.labelPlaneMatrix,t);return a}function ut(t,i,n,r,o){if(i){var a=e.clone$1(t),s=e.identity([]);return s[0]=o[0],s[1]=o[1],s[4]=o[2],s[5]=o[3],e.multiply(a,a,s),n||e.rotateZ(a,a,-r.angle),a}return r.glCoordMatrix}function ct(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[t.x,t.y,n,1];n?e.transformMat4(r,r,i):wt(r,r,i);var o=r[3];return{point:new e.pointGeometry(r[0]/o,r[1]/o),signedDistanceFromCamera:o}}function ht(e,t){return Math.min(.5+e/t*.5,1.5)}function dt(e,t){var i=e[0]/e[3],n=e[1]/e[3];return i>=-t[0]&&i<=t[0]&&n>=-t[1]&&n<=t[1]}function pt(t,i,n,r,o,a,s,l,u){var c=r?t.textSizeData:t.iconSizeData,h=e.evaluateSizeForZoom(c,n.transform.zoom),d=[256/n.width*2+1,256/n.height*2+1],p=r?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;p.clear();for(var f=t.lineVertexArray,m=r?t.text.placedSymbolArray:t.icon.placedSymbolArray,g=n.transform.width/n.transform.height,y=!1,v=0;v<m.length;v++){var b=m.get(v);if(b.writingMode!==e.WritingMode.vertical||y||0!==v&&m.get(v-1).writingMode===e.WritingMode.horizontal||(y=!0),b.hidden||b.writingMode===e.WritingMode.vertical&&!y)_t(b.numGlyphs,p);else{y=!1;var x=new e.pointGeometry(b.tileAnchorX,b.tileAnchorY),_=u?u(x):0,w=[x.x,x.y,_],S=[].concat(w,[1]);if(e.transformMat4(S,S,i),dt(S,d)){var k=ht(n.transform.cameraToCenterDistance,S[3]),C=e.evaluateSizeForFeature(c,h,b),T=s?C/k:C*k,E=ct(new e.pointGeometry(w[0],w[1]),o,w[2]);if(E.signedDistanceFromCamera<=0)_t(b.numGlyphs,p);else{var A={},P=s?null:u,M=gt(b,T,!1,l,i,o,a,t.glyphOffsetArray,f,p,E.point,x,A,g,P);y=M.useVertical,P&&M.needsFlipping&&(A={}),(M.notEnoughRoom||y||M.needsFlipping&&gt(b,T,!0,l,i,o,a,t.glyphOffsetArray,f,p,E.point,x,A,g,P).notEnoughRoom)&&_t(b.numGlyphs,p)}}else _t(b.numGlyphs,p)}}r?t.text.dynamicLayoutVertexBuffer.updateData(p):t.icon.dynamicLayoutVertexBuffer.updateData(p)}function ft(e,t,i,n,r,o,a,s,l,u,c,h,d){var p=s.glyphStartIndex+s.numGlyphs,f=s.lineStartIndex,m=s.lineStartIndex+s.lineLength,g=t.getoffsetX(s.glyphStartIndex),y=t.getoffsetX(p-1),v=bt(e*g,i,n,r,o,a,s.segment,f,m,l,u,c,h,d,!0);if(!v)return null;var b=bt(e*y,i,n,r,o,a,s.segment,f,m,l,u,c,h,d,!0);return b?{first:v,last:b}:null}function mt(t,i,n,r){return t.writingMode===e.WritingMode.horizontal&&Math.abs(n.y-i.y)>Math.abs(n.x-i.x)*r?{useVertical:!0}:t.writingMode===e.WritingMode.vertical?i.y<n.y?{needsFlipping:!0}:null:0!==t.flipState&&function(e,t,i){var n=(t.x-e.x)*i;return 0===n||Math.abs((t.y-e.y)/n)>st}(i,n,r)?1===t.flipState?{needsFlipping:!0}:null:i.x>n.x?{needsFlipping:!0}:null}function gt(t,i,n,r,o,a,s,l,u,c,h,p,f,m,g){var y,v=i/24,b=t.lineOffsetX*v,x=t.lineOffsetY*v;if(t.numGlyphs>1){var _=t.glyphStartIndex+t.numGlyphs,w=t.lineStartIndex,S=t.lineStartIndex+t.lineLength,k=ft(v,l,b,x,n,h,p,t,u,a,f,g,!1);if(!k)return{notEnoughRoom:!0};var C=ct(k.first.point,s).point,T=ct(k.last.point,s).point;if(r&&!n){var E=mt(t,C,T,m);if(t.flipState=E&&E.needsFlipping?1:2,E)return E}y=[k.first];for(var A=t.glyphStartIndex+1;A<_-1;A++)y.push(bt(v*l.getoffsetX(A),b,x,n,h,p,t.segment,w,S,u,a,f,g,!1,!1));y.push(k.last)}else{if(r&&!n){var P=ct(p,o).point,M=t.lineStartIndex+t.segment+1,L=new e.pointGeometry(u.getx(M),u.gety(M)),O=ct(L,o),R=mt(t,P,O.signedDistanceFromCamera>0?O.point:vt(p,L,P,1,o,void 0),m);if(t.flipState=R&&R.needsFlipping?1:2,R)return R}var I=bt(v*l.getoffsetX(t.glyphStartIndex),b,x,n,h,p,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,u,a,f,g,!1,!1);if(!I)return{notEnoughRoom:!0};y=[I]}var D,z=d(y);try{for(z.s();!(D=z.n()).done;){var B=D.value;e.addDynamicAttributes(c,B.point,B.angle)}}catch(F){z.e(F)}finally{z.f()}return{}}function yt(t,i,n){var r={x:t.x,y:t.y,z:0};if(!n)return ct(r,i,r.z);var o=n(t);return ct(new e.pointGeometry(r.x,r.y),i,r.z+o)}function vt(e,t,i,n,r,o){var a=yt(e.add(e.sub(t)._unit()),r,o).point,s=i.sub(a);return i.add(s._mult(n/s.mag()))}function bt(t,i,n,r,o,a,s,l,u,c,h,d,p,f,m){var g=r?t-i:t+i,y=g>0?1:-1,v=0;r&&(y*=-1,v=Math.PI),y<0&&(v+=Math.PI);for(var b=y>0?l+s:l+s+1,x=o,_=o,w=0,S=0,k=Math.abs(g),C=[],T=[],E=a,A=function(){var t=b-y;return 0===w?a:new e.pointGeometry(c.getx(t),c.gety(t))},P=function(){return vt(A(),E,_,k-w+1,h,p)};w+S<=k;){if((b+=y)<l||b>=u)return null;if(_=x,C.push(x),f&&T.push(E||A()),void 0===(x=d[b])){var M=yt(E=new e.pointGeometry(c.getx(b),c.gety(b)),h,p);x=M.signedDistanceFromCamera>0?d[b]=M.point:P()}else E=null;w+=S,S=_.dist(x)}m&&p&&(E=E||new e.pointGeometry(c.getx(b),c.gety(b)),d[b]=x=void 0===d[b]?x:P(),S=_.dist(x));var L=(k-w)/S,O=x.sub(_),R=O.mult(L)._add(_);n&&R._add(O._unit()._perp()._mult(n*y));var I=v+Math.atan2(x.y-_.y,x.x-_.x);return C.push(R),f&&(E=E||new e.pointGeometry(c.getx(b),c.gety(b)),T.push(function(t,i,n){var r=1-n;return new e.pointGeometry(t.x*r+i.x*n,t.y*r+i.y*n)}(T.length>0?T[T.length-1]:E,E,L))),{point:R,angle:I,path:C,tilePath:T}}var xt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function _t(e,t){for(var i=0;i<e;i++){var n=t.length;t.resize(n+4),t.float32.set(xt,3*n)}}function wt(e,t,i){var n=t[0],r=t[1];return e[0]=i[0]*n+i[4]*r+i[12],e[1]=i[1]*n+i[5]*r+i[13],e[3]=i[3]*n+i[7]*r+i[15],e}var St=100,kt=function(){function t(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new at(e.width+200,e.height+200,25),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new at(e.width+200,e.height+200,25);g(this,t),this.transform=e,this.grid=n,this.ignoredGrid=r,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+St,this.screenBottomBoundary=e.height+St,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.fogState=i}return y(t,[{key:"placeCollisionBox",value:function(e,t,i,n,r,o,a){var s=t.projectedAnchorZ;t.elevation&&(s+=t.elevation);var l=this.projectAndGetPerspectiveRatio(o,t.projectedAnchorX,t.projectedAnchorY,s,t.tileID),u=r*l.perspectiveRatio,c=(t.x1*e+i.x-t.padding)*u+l.point.x,h=(t.y1*e+i.y-t.padding)*u+l.point.y,d=(t.x2*e+i.x+t.padding)*u+l.point.x,p=(t.y2*e+i.y+t.padding)*u+l.point.y,f=l.perspectiveRatio<=.55||l.aboveHorizon;return!this.isInsideGrid(c,h,d,p)||!n&&this.grid.hitTest(c,h,d,p,a)||f?{box:[],offscreen:!1}:{box:[c,h,d,p],offscreen:this.isOffscreen(c,h,d,p)}}},{key:"placeCollisionCircles",value:function(t,i,n,r,o,a,s,l,u,c,h,p,f,m){var g=[],y=this.transform.elevation,v=y?function(e){return y.getAtTileOffset(m,e.x,e.y)}:function(e){return 0},b=new e.pointGeometry(i.tileAnchorX,i.tileAnchorY),x=v(b),_=this.projectAndGetPerspectiveRatio(a,b.x,b.y,x,m),w=_.perspectiveRatio,S=(c?o/w:o*w)/e.ONE_EM,k=ct(b,s,x).point,C=_.signedDistanceFromCamera>0?ft(S,r,i.lineOffsetX*S,i.lineOffsetY*S,!1,k,b,i,n,s,{},y&&!c?v:null,c&&!!y):null,T=!1,E=!1,A=!0;if(C&&!_.aboveHorizon){for(var P=.5*p*w+f,M=new e.pointGeometry(-100,-100),L=new e.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),O=new ot,R=C.first,I=C.last,D=[],z=R.path.length-1;z>=1;z--)D.push(R.path[z]);for(var B=1;B<I.path.length;B++)D.push(I.path[B]);var F=2.5*P;if(l){var N=D.map(y?function(e,t){var i=v(t<R.path.length-1?R.tilePath[R.path.length-1-t]:I.tilePath[t-R.path.length+2]);return ct(e,l,i)}:function(e){return ct(e,l)});D=N.some((function(e){return e.signedDistanceFromCamera<=0}))?[]:N.map((function(e){return e.point}))}var j=[];if(D.length>0){for(var V=D[0].clone(),U=D[0].clone(),W=1;W<D.length;W++)V.x=Math.min(V.x,D[W].x),V.y=Math.min(V.y,D[W].y),U.x=Math.max(U.x,D[W].x),U.y=Math.max(U.y,D[W].y);j=V.x>=M.x&&U.x<=L.x&&V.y>=M.y&&U.y<=L.y?[D]:U.x<M.x||V.x>L.x||U.y<M.y||V.y>L.y?[]:e.clipLine([D],M.x,M.y,L.x,L.y)}var H,G=d(j);try{for(G.s();!(H=G.n()).done;){var q=H.value;O.reset(q,.25*P);var Z=0;Z=O.length<=.5*P?1:Math.ceil(O.paddedLength/F)+1;for(var X=0;X<Z;X++){var Y=X/Math.max(Z-1,1),$=O.lerp(Y),K=$.x+St,Q=$.y+St;g.push(K,Q,P,0);var J=K-P,ee=Q-P,te=K+P,ie=Q+P;if(A=A&&this.isOffscreen(J,ee,te,ie),E=E||this.isInsideGrid(J,ee,te,ie),!t&&this.grid.hitTestCircle(K,Q,P,h)&&(T=!0,!u))return{circles:[],offscreen:!1,collisionDetected:T}}}}catch(ne){G.e(ne)}finally{G.f()}}return{circles:!u&&T||!E?[]:g,offscreen:A,collisionDetected:T}}},{key:"queryRenderedSymbols",value:function(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};var i,n=[],r=1/0,o=1/0,a=-1/0,s=-1/0,l=d(t);try{for(l.s();!(i=l.n()).done;){var u=i.value,c=new e.pointGeometry(u.x+St,u.y+St);r=Math.min(r,c.x),o=Math.min(o,c.y),a=Math.max(a,c.x),s=Math.max(s,c.y),n.push(c)}}catch(x){l.e(x)}finally{l.f()}var h,p=this.grid.query(r,o,a,s).concat(this.ignoredGrid.query(r,o,a,s)),f={},m={},g=d(p);try{for(g.s();!(h=g.n()).done;){var y=h.value,v=y.key;if(void 0===f[v.bucketInstanceId]&&(f[v.bucketInstanceId]={}),!f[v.bucketInstanceId][v.featureIndex]){var b=[new e.pointGeometry(y.x1,y.y1),new e.pointGeometry(y.x2,y.y1),new e.pointGeometry(y.x2,y.y2),new e.pointGeometry(y.x1,y.y2)];e.polygonIntersectsPolygon(n,b)&&(f[v.bucketInstanceId][v.featureIndex]=!0,void 0===m[v.bucketInstanceId]&&(m[v.bucketInstanceId]=[]),m[v.bucketInstanceId].push(v.featureIndex))}}}catch(x){g.e(x)}finally{g.f()}return m}},{key:"insertCollisionBox",value:function(e,t,i,n,r){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:i,featureIndex:n,collisionGroupID:r},e[0],e[1],e[2],e[3])}},{key:"insertCollisionCircles",value:function(e,t,i,n,r){for(var o=t?this.ignoredGrid:this.grid,a={bucketInstanceId:i,featureIndex:n,collisionGroupID:r},s=0;s<e.length;s+=4)o.insertCircle(a,e[s],e[s+1],e[s+2])}},{key:"projectAndGetPerspectiveRatio",value:function(t,i,n,r,o){var a=[i,n,r||0,1],s=!1;if(r||this.transform.pitch>0){e.transformMat4(a,a,t);var l=!1;this.fogState&&o&&(l=function(t,i,n,r,o,a){var s=a.calculateFogTileMatrix(o),l=[i,n,r];return e.transformMat4$1(l,l,s),B(t,l,a.pitch,a._fov)}(this.fogState,i,n,r||0,o.toUnwrapped(),this.transform)>.9),s=a[2]>a[3]||l}else wt(a,a,t);return{point:new e.pointGeometry((a[0]/a[3]+1)/2*this.transform.width+St,(-a[1]/a[3]+1)/2*this.transform.height+St),perspectiveRatio:Math.min(.5+this.transform.cameraToCenterDistance/a[3]*.5,1.5),signedDistanceFromCamera:a[3],aboveHorizon:s}}},{key:"isOffscreen",value:function(e,t,i,n){return i<St||e>=this.screenRightBoundary||n<St||t>this.screenBottomBoundary}},{key:"isInsideGrid",value:function(e,t,i,n){return i>=0&&e<this.gridRightBoundary&&n>=0&&t<this.gridBottomBoundary}},{key:"getViewportMatrix",value:function(){var t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t}}]),t}(),Ct=function(){function e(t,i,n,r){g(this,e),this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?i:-i))):r&&n?1:0,this.placed=n}return y(e,[{key:"isHidden",value:function(){return 0===this.opacity&&!this.placed}}]),e}(),Tt=function(){function e(t,i,n,r,o){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];g(this,e),this.text=new Ct(t?t.text:null,i,n,o),this.icon=new Ct(t?t.icon:null,i,r,o),this.clipped=a}return y(e,[{key:"isHidden",value:function(){return this.text.isHidden()&&this.icon.isHidden()}}]),e}(),Et=y((function e(t,i,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];g(this,e),this.text=t,this.icon=i,this.skipFade=n,this.clipped=r})),At=y((function t(){g(this,t),this.invProjMatrix=e.create$1(),this.viewportMatrix=e.create$1(),this.circles=[]})),Pt=y((function e(t,i,n,r,o){g(this,e),this.bucketInstanceId=t,this.featureIndex=i,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=o})),Mt=function(){function e(t){g(this,e),this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}}return y(e,[{key:"get",value:function(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){var t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:function(e){return e.collisionGroupID===t}}}return this.collisionGroups[e]}}]),e}();function Lt(t,i,n,r,o){var a=e.getAnchorAlignment(t),s=-(a.horizontalAlign-.5)*i,l=-(a.verticalAlign-.5)*n,u=e.evaluateVariableOffset(t,r);return new e.pointGeometry(s+u[0]*o,l+u[1]*o)}function Ot(t,i,n,r,o){var a=new e.pointGeometry(t,i);return n&&a._rotate(r?o:-o),a}var Rt=function(){function t(e,i,n,r,o){g(this,t),this.transform=e.clone(),this.collisionIndex=new kt(this.transform,o),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=i,this.retainedQueryData={},this.collisionGroups=new Mt(n),this.collisionCircleArrays={},this.prevPlacement=r,r&&(r.prevPlacement=void 0),this.placedOrientations={}}return y(t,[{key:"getBucketParts",value:function(t,i,n,r){var o=n.getBucket(i),a=n.latestFeatureIndex;if(o&&a&&i.id===o.layerIds[0]){var s=o.layers[0].layout,l=n.collisionBoxArray,u=Math.pow(2,this.transform.zoom-n.tileID.overscaledZ),c=n.tileSize/e.EXTENT,h=n.tileID.toUnwrapped(),p=this.transform.calculateProjMatrix(h),f="map"===s.get("text-pitch-alignment"),m="map"===s.get("text-rotation-alignment");i.compileFilter();var g=i.dynamicFilter(),y=i.dynamicFilterNeedsFeature(),v=this.transform.calculatePixelsToTileUnitsMatrix(n),b=lt(p,f,m,this.transform,v),x=null;if(f){var _=ut(p,f,m,this.transform,v);x=e.multiply([],this.transform.labelPlaneMatrix,_)}var w=null;g&&n.latestFeatureIndex&&(w={unwrappedTileID:h,dynamicFilter:g,dynamicFilterNeedsFeature:y,featureIndex:n.latestFeatureIndex}),this.retainedQueryData[o.bucketInstanceId]=new Pt(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,n.tileID);var S={bucket:o,layout:s,posMatrix:p,textLabelPlaneMatrix:b,labelToScreenMatrix:x,clippingData:w,scale:u,textPixelRatio:c,holdingForFade:n.holdingForFade(),collisionBoxArray:l,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(o.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:e.evaluateSizeForZoom(o.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(r){var k,C=d(o.sortKeyRanges);try{for(C.s();!(k=C.n()).done;){var T=k.value,E=T.sortKey,A=T.symbolInstanceStart,P=T.symbolInstanceEnd;t.push({sortKey:E,symbolInstanceStart:A,symbolInstanceEnd:P,parameters:S})}}catch(M){C.e(M)}finally{C.f()}}else t.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:S})}}},{key:"attemptAnchorPlacement",value:function(e,t,i,n,r,o,a,s,l,u,c,h,d,p,f,m,g,y){var v,b=[h.textOffset0,h.textOffset1],x=Lt(e,i,n,b,r),_=this.collisionIndex.placeCollisionBox(r,t,Ot(x.x,x.y,o,a,this.transform.angle),c,s,l,u.predicate);if((!m||0!==this.collisionIndex.placeCollisionBox(p.getSymbolInstanceIconSize(y,this.transform.zoom,d),m,Ot(x.x,x.y,o,a,this.transform.angle),c,s,l,u.predicate).box.length)&&_.box.length>0)return this.prevPlacement&&this.prevPlacement.variableOffsets[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID].text&&(v=this.prevPlacement.variableOffsets[h.crossTileID].anchor),this.variableOffsets[h.crossTileID]={textOffset:b,width:i,height:n,anchor:e,textScale:r,prevAnchor:v},this.markUsedJustification(p,e,h,f),p.allowVerticalPlacement&&(this.markUsedOrientation(p,f,h),this.placedOrientations[h.crossTileID]=f),{shift:x,placedGlyphBoxes:_}}},{key:"placeLayerBucketPart",value:function(t,i,n,r){var o=this,a=t.parameters,s=a.bucket,l=a.layout,u=a.posMatrix,c=a.textLabelPlaneMatrix,h=a.labelToScreenMatrix,p=a.clippingData,f=a.textPixelRatio,m=a.holdingForFade,g=a.collisionBoxArray,y=a.partiallyEvaluatedTextSize,v=a.partiallyEvaluatedIconSize,b=a.collisionGroup,x=l.get("text-optional"),_=l.get("icon-optional"),w=l.get("text-allow-overlap"),S=l.get("icon-allow-overlap"),k="map"===l.get("text-rotation-alignment"),C="map"===l.get("text-pitch-alignment"),T="none"!==l.get("icon-text-fit"),E="viewport-y"===l.get("symbol-z-order"),A=w&&(S||!s.hasIconData()||_),P=S&&(w||!s.hasTextData()||x);!s.collisionArrays&&g&&s.deserializeCollisionBoxes(g),n&&r&&s.updateCollisionDebugBuffers(this.transform.zoom,g);var M=function(t,r,a){if(p){var g={zoom:o.transform.zoom,pitch:o.transform.pitch},E=null;if(p.dynamicFilterNeedsFeature){var M=o.retainedQueryData[s.bucketInstanceId];E=p.featureIndex.loadFeature({featureIndex:t.featureIndex,bucketIndex:M.bucketIndex,sourceLayerIndex:M.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,p.dynamicFilter)(g,E,o.retainedQueryData[s.bucketInstanceId].tileID.canonical,new e.pointGeometry(t.tileAnchorX,t.tileAnchorY),o.transform.calculateDistanceTileData(p.unwrappedTileID)))return o.placements[t.crossTileID]=new Et(!1,!1,!1,!0),void(i[t.crossTileID]=!0)}if(!i[t.crossTileID])if(m)o.placements[t.crossTileID]=new Et(!1,!1,!1);else{var L=!1,O=!1,R=!0,I=null,D={box:null,offscreen:null},z={box:null,offscreen:null},B=null,F=null,N=null,j=0,V=0,U=0;a.textFeatureIndex?j=a.textFeatureIndex:t.useRuntimeCollisionCircles&&(j=t.featureIndex),a.verticalTextFeatureIndex&&(V=a.verticalTextFeatureIndex);var W=function(e){e.tileID=o.retainedQueryData[s.bucketInstanceId].tileID,(o.transform.elevation||e.elevation)&&(e.elevation=o.transform.elevation?o.transform.elevation.getAtTileOffset(o.retainedQueryData[s.bucketInstanceId].tileID,e.tileAnchorX,e.tileAnchorY):0)},H=a.textBox;if(H){W(H);var G=function(i){var n=e.WritingMode.horizontal;if(s.allowVerticalPlacement&&!i&&o.prevPlacement){var r=o.prevPlacement.placedOrientations[t.crossTileID];r&&(o.placedOrientations[t.crossTileID]=r,n=r,o.markUsedOrientation(s,n,t))}return n},q=function(i,n){if(s.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&a.verticalTextBox){var r,o=d(s.writingModes);try{for(o.s();!(r=o.n()).done&&(r.value===e.WritingMode.vertical?(D=n(),z=D):D=i(),!(D&&D.box&&D.box.length)););}catch(l){o.e(l)}finally{o.f()}}else D=i()};if(l.get("text-variable-anchor")){var Z=l.get("text-variable-anchor");if(o.prevPlacement&&o.prevPlacement.variableOffsets[t.crossTileID]){var X=o.prevPlacement.variableOffsets[t.crossTileID];Z.indexOf(X.anchor)>0&&(Z=Z.filter((function(e){return e!==X.anchor})),Z.unshift(X.anchor))}var Y=function(e,i,n){var a=s.getSymbolInstanceTextSize(y,t,o.transform.zoom,r),l=(e.x2-e.x1)*a+2*e.padding,c=(e.y2-e.y1)*a+2*e.padding,h=T&&!S?i:null;h&&W(h);for(var d={box:[],offscreen:!1},p=w?2*Z.length:Z.length,m=0;m<p;++m){var g=o.attemptAnchorPlacement(Z[m%Z.length],e,l,c,a,k,C,f,u,b,m>=Z.length,t,r,s,n,h,y,v);if(g&&(d=g.placedGlyphBoxes)&&d.box&&d.box.length){L=!0,I=g.shift;break}}return d};q((function(){return Y(H,a.iconBox,e.WritingMode.horizontal)}),(function(){var i=a.verticalTextBox;return i&&W(i),s.allowVerticalPlacement&&!(D&&D.box&&D.box.length)&&t.numVerticalGlyphVertices>0&&i?Y(i,a.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null}})),D&&(L=D.box,R=D.offscreen);var $=G(D&&D.box);if(!L&&o.prevPlacement){var K=o.prevPlacement.variableOffsets[t.crossTileID];K&&(o.variableOffsets[t.crossTileID]=K,o.markUsedJustification(s,K.anchor,t,$))}}else{var Q=function(i,n){var a=s.getSymbolInstanceTextSize(y,t,o.transform.zoom,r),l=o.collisionIndex.placeCollisionBox(a,i,new e.pointGeometry(0,0),w,f,u,b.predicate);return l&&l.box&&l.box.length&&(o.markUsedOrientation(s,n,t),o.placedOrientations[t.crossTileID]=n),l};q((function(){return Q(H,e.WritingMode.horizontal)}),(function(){var i=a.verticalTextBox;return s.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&i?(W(i),Q(i,e.WritingMode.vertical)):{box:null,offscreen:null}})),G(D&&D.box&&D.box.length)}}if(L=(B=D)&&B.box&&B.box.length>0,R=B&&B.offscreen,t.useRuntimeCollisionCircles){var J=s.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex),ee=e.evaluateSizeForFeature(s.textSizeData,y,J),te=l.get("text-padding");F=o.collisionIndex.placeCollisionCircles(w,J,s.lineVertexArray,s.glyphOffsetArray,ee,u,c,h,n,C,b.predicate,t.collisionCircleDiameter*ee/e.ONE_EM,te,o.retainedQueryData[s.bucketInstanceId].tileID),L=w||F.circles.length>0&&!F.collisionDetected,R=R&&F.offscreen}if(a.iconFeatureIndex&&(U=a.iconFeatureIndex),a.iconBox){var ie=function(t){W(t);var i=T&&I?Ot(I.x,I.y,k,C,o.transform.angle):new e.pointGeometry(0,0),n=s.getSymbolInstanceIconSize(v,o.transform.zoom,r);return o.collisionIndex.placeCollisionBox(n,t,i,S,f,u,b.predicate)};O=z&&z.box&&z.box.length&&a.verticalIconBox?(N=ie(a.verticalIconBox)).box.length>0:(N=ie(a.iconBox)).box.length>0,R=R&&N.offscreen}var ne=x||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,re=_||0===t.numIconVertices;if(ne||re?re?ne||(O=O&&L):L=O&&L:O=L=O&&L,L&&B&&B.box&&o.collisionIndex.insertCollisionBox(B.box,l.get("text-ignore-placement"),s.bucketInstanceId,z&&z.box&&V?V:j,b.ID),O&&N&&o.collisionIndex.insertCollisionBox(N.box,l.get("icon-ignore-placement"),s.bucketInstanceId,U,b.ID),F&&(L&&o.collisionIndex.insertCollisionCircles(F.circles,l.get("text-ignore-placement"),s.bucketInstanceId,j,b.ID),n)){var oe=s.bucketInstanceId,ae=o.collisionCircleArrays[oe];void 0===ae&&(ae=o.collisionCircleArrays[oe]=new At);for(var se=0;se<F.circles.length;se+=4)ae.circles.push(F.circles[se+0]),ae.circles.push(F.circles[se+1]),ae.circles.push(F.circles[se+2]),ae.circles.push(F.collisionDetected?1:0)}o.placements[t.crossTileID]=new Et(L||A,O||P,R||s.justReloaded),i[t.crossTileID]=!0}};if(E)for(var L=s.getSortedSymbolIndexes(this.transform.angle),O=L.length-1;O>=0;--O){var R=L[O];M(s.symbolInstances.get(R),R,s.collisionArrays[R])}else for(var I=t.symbolInstanceStart;I<t.symbolInstanceEnd;I++)M(s.symbolInstances.get(I),I,s.collisionArrays[I]);if(n&&s.bucketInstanceId in this.collisionCircleArrays){var D=this.collisionCircleArrays[s.bucketInstanceId];e.invert(D.invProjMatrix,u),D.viewportMatrix=this.collisionIndex.getViewportMatrix()}s.justReloaded=!1}},{key:"markUsedJustification",value:function(t,i,n,r){var o;o=r===e.WritingMode.vertical?n.verticalPlacedTextSymbolIndex:{left:n.leftJustifiedTextSymbolIndex,center:n.centerJustifiedTextSymbolIndex,right:n.rightJustifiedTextSymbolIndex}[e.getAnchorJustification(i)];for(var a=0,s=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex,n.verticalPlacedTextSymbolIndex];a<s.length;a++){var l=s[a];l>=0&&(t.text.placedSymbolArray.get(l).crossTileID=o>=0&&l!==o?0:n.crossTileID)}}},{key:"markUsedOrientation",value:function(t,i,n){for(var r=i===e.WritingMode.horizontal||i===e.WritingMode.horizontalOnly?i:0,o=i===e.WritingMode.vertical?i:0,a=0,s=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex];a<s.length;a++){var l=s[a];t.text.placedSymbolArray.get(l).placedOrientation=r}n.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(n.verticalPlacedTextSymbolIndex).placedOrientation=o)}},{key:"commit",value:function(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;var t=this.prevPlacement,i=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;var n=t?t.symbolFadeChange(e):1,r=t?t.opacities:{},o=t?t.variableOffsets:{},a=t?t.placedOrientations:{};for(var s in this.placements){var l=this.placements[s],u=r[s];u?(this.opacities[s]=new Tt(u,n,l.text,l.icon,null,l.clipped),i=i||l.text!==u.text.placed||l.icon!==u.icon.placed):(this.opacities[s]=new Tt(null,n,l.text,l.icon,l.skipFade,l.clipped),i=i||l.text||l.icon)}for(var c in r){var h=r[c];if(!this.opacities[c]){var d=new Tt(h,n,!1,!1);d.isHidden()||(this.opacities[c]=d,i=i||h.text.placed||h.icon.placed)}}for(var p in o)this.variableOffsets[p]||!this.opacities[p]||this.opacities[p].isHidden()||(this.variableOffsets[p]=o[p]);for(var f in a)this.placedOrientations[f]||!this.opacities[f]||this.opacities[f].isHidden()||(this.placedOrientations[f]=a[f]);i?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)}},{key:"updateLayerOpacities",value:function(e,t){var i,n={},r=d(t);try{for(r.s();!(i=r.n()).done;){var o=i.value,a=o.getBucket(e);a&&o.latestFeatureIndex&&e.id===a.layerIds[0]&&this.updateBucketOpacities(a,n,o.collisionBoxArray)}}catch(s){r.e(s)}finally{r.f()}}},{key:"updateBucketOpacities",value:function(t,i,n){var r=this;t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();var o=t.layers[0].layout,a=!!t.layers[0].dynamicFilter(),s=new Tt(null,0,!1,!1,!0),l=o.get("text-allow-overlap"),u=o.get("icon-allow-overlap"),c=o.get("text-variable-anchor"),h="map"===o.get("text-rotation-alignment"),d="map"===o.get("text-pitch-alignment"),p="none"!==o.get("icon-text-fit"),f=new Tt(null,0,l&&(u||!t.hasIconData()||o.get("icon-optional")),u&&(l||!t.hasTextData()||o.get("text-optional")),!0);!t.collisionArrays&&n&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(n);for(var m=function(e,t,i){for(var n=0;n<t/4;n++)e.opacityVertexArray.emplaceBack(i)},g=function(n){var o=t.symbolInstances.get(n),l=o.numHorizontalGlyphVertices,u=o.numVerticalGlyphVertices,g=o.crossTileID,y=r.opacities[g];i[g]?y=s:y||(y=f,r.opacities[g]=y),i[g]=!0;var v=o.numIconVertices>0,b=r.placedOrientations[o.crossTileID],x=b===e.WritingMode.vertical,_=b===e.WritingMode.horizontal||b===e.WritingMode.horizontalOnly;if(l>0||u>0){var w=Ut(y.text);m(t.text,l,x?Wt:w),m(t.text,u,_?Wt:w);var S=y.text.isHidden();[o.rightJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.leftJustifiedTextSymbolIndex].forEach((function(e){e>=0&&(t.text.placedSymbolArray.get(e).hidden=S||x?1:0)})),o.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(o.verticalPlacedTextSymbolIndex).hidden=S||_?1:0);var k=r.variableOffsets[o.crossTileID];k&&r.markUsedJustification(t,k.anchor,o,b);var C=r.placedOrientations[o.crossTileID];C&&(r.markUsedJustification(t,"left",o,C),r.markUsedOrientation(t,C,o))}if(v){var T=Ut(y.icon);o.placedIconSymbolIndex>=0&&(m(t.icon,o.numIconVertices,x?Wt:T),t.icon.placedSymbolArray.get(o.placedIconSymbolIndex).hidden=y.icon.isHidden()),o.verticalPlacedIconSymbolIndex>=0&&(m(t.icon,o.numVerticalIconVertices,_?Wt:T),t.icon.placedSymbolArray.get(o.verticalPlacedIconSymbolIndex).hidden=y.icon.isHidden())}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){var E=t.collisionArrays[n];if(E){var A=new e.pointGeometry(0,0),P=!0;if(E.textBox||E.verticalTextBox){if(c){var M=r.variableOffsets[g];M?(A=Lt(M.anchor,M.width,M.height,M.textOffset,M.textScale),h&&A._rotate(d?r.transform.angle:-r.transform.angle)):P=!1}a&&(P=!y.clipped),E.textBox&&It(t.textCollisionBox.collisionVertexArray,y.text.placed,!P||x,A.x,A.y),E.verticalTextBox&&It(t.textCollisionBox.collisionVertexArray,y.text.placed,!P||_,A.x,A.y)}var L=P&&Boolean(!_&&E.verticalIconBox);E.iconBox&&It(t.iconCollisionBox.collisionVertexArray,y.icon.placed,L,p?A.x:0,p?A.y:0),E.verticalIconBox&&It(t.iconCollisionBox.collisionVertexArray,y.icon.placed,!L,p?A.x:0,p?A.y:0)}}},y=0;y<t.symbolInstances.length;y++)g(y);if(t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){var v=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=v.invProjMatrix,t.placementViewportMatrix=v.viewportMatrix,t.collisionCircleArray=v.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}}},{key:"symbolFadeChange",value:function(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}},{key:"zoomAdjustment",value:function(e){return Math.max(0,(this.transform.zoom-e)/1.5)}},{key:"hasTransitions",value:function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}},{key:"stillRecent",value:function(e,t){var i=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*i>e}},{key:"setStale",value:function(){this.stale=!0}}]),t}();function It(e,t,i,n,r){e.emplaceBack(t?1:0,i?1:0,n||0,r||0),e.emplaceBack(t?1:0,i?1:0,n||0,r||0),e.emplaceBack(t?1:0,i?1:0,n||0,r||0),e.emplaceBack(t?1:0,i?1:0,n||0,r||0)}var Dt=Math.pow(2,25),zt=Math.pow(2,24),Bt=Math.pow(2,17),Ft=Math.pow(2,16),Nt=Math.pow(2,9),jt=Math.pow(2,8),Vt=Math.pow(2,1);function Ut(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;var t=e.placed?1:0,i=Math.floor(127*e.opacity);return i*Dt+t*zt+i*Bt+t*Ft+i*Nt+t*jt+i*Vt+t}var Wt=0,Ht=function(){function e(t){g(this,e),this._sortAcrossTiles="viewport-y"!==t.layout.get("symbol-z-order")&&void 0!==t.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}return y(e,[{key:"continuePlacement",value:function(e,t,i,n,r){for(var o=this._bucketParts;this._currentTileIndex<e.length;)if(t.getBucketParts(o,n,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,r())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort((function(e,t){return e.sortKey-t.sortKey})));this._currentPartIndex<o.length;){var a=o[this._currentPartIndex];if(t.placeLayerBucketPart(a,this._seenCrossTileIDs,i,0===a.symbolInstanceStart),this._currentPartIndex++,r())return!0}return!1}}]),e}(),Gt=function(){function t(e,i,n,r,o,a,s,l){g(this,t),this.placement=new Rt(e,o,a,s,l),this._currentPlacementIndex=i.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1}return y(t,[{key:"isDone",value:function(){return this._done}},{key:"continuePlacement",value:function(t,i,n){for(var r=this,o=e.exported.now(),a=function(){var t=e.exported.now()-o;return!r._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=i[t[this._currentPlacementIndex]],l=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=l)&&(!s.maxzoom||s.maxzoom>l)){if(this._inProgressLayer||(this._inProgressLayer=new Ht(s)),this._inProgressLayer.continuePlacement(n[s.source],this.placement,this._showCollisionBoxes,s,a))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}},{key:"commit",value:function(e){return this.placement.commit(e),this.placement}}]),t}(),qt=512/e.EXTENT/2,Zt=function(){function t(e,i,n){g(this,t),this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var r=0;r<i.length;r++){var o=i.get(r),a=o.key;this.indexedSymbolInstances[a]||(this.indexedSymbolInstances[a]=[]),this.indexedSymbolInstances[a].push({crossTileID:o.crossTileID,coord:this.getScaledCoordinates(o,e)})}}return y(t,[{key:"getScaledCoordinates",value:function(t,i){var n=qt/Math.pow(2,i.canonical.z-this.tileID.canonical.z);return{x:Math.floor((i.canonical.x*e.EXTENT+t.tileAnchorX)*n),y:Math.floor((i.canonical.y*e.EXTENT+t.tileAnchorY)*n)}}},{key:"findMatches",value:function(e,t,i){for(var n=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z),r=0;r<e.length;r++){var o=e.get(r);if(!o.crossTileID){var a=this.indexedSymbolInstances[o.key];if(a){var s,l=this.getScaledCoordinates(o,t),u=d(a);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(Math.abs(c.coord.x-l.x)<=n&&Math.abs(c.coord.y-l.y)<=n&&!i[c.crossTileID]){i[c.crossTileID]=!0,o.crossTileID=c.crossTileID;break}}}catch(h){u.e(h)}finally{u.f()}}}}}}]),t}(),Xt=function(){function e(){g(this,e),this.maxCrossTileID=0}return y(e,[{key:"generate",value:function(){return++this.maxCrossTileID}}]),e}(),Yt=function(){function e(){g(this,e),this.indexes={},this.usedCrossTileIDs={},this.lng=0}return y(e,[{key:"handleWrapJump",value:function(e){var t=Math.round((e-this.lng)/360);if(0!==t)for(var i in this.indexes){var n=this.indexes[i],r={};for(var o in n){var a=n[o];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+t),r[a.tileID.key]=a}this.indexes[i]=r}this.lng=e}},{key:"addBucket",value:function(e,t,i){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var n=0;n<t.symbolInstances.length;n++)t.symbolInstances.get(n).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var r=this.usedCrossTileIDs[e.overscaledZ];for(var o in this.indexes){var a=this.indexes[o];if(Number(o)>e.overscaledZ)for(var s in a){var l=a[s];l.tileID.isChildOf(e)&&l.findMatches(t.symbolInstances,e,r)}else{var u=a[e.scaledTo(Number(o)).key];u&&u.findMatches(t.symbolInstances,e,r)}}for(var c=0;c<t.symbolInstances.length;c++){var h=t.symbolInstances.get(c);h.crossTileID||(h.crossTileID=i.generate(),r[h.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Zt(e,t.symbolInstances,t.bucketInstanceId),!0}},{key:"removeBucketCrossTileIDs",value:function(e,t){for(var i in t.indexedSymbolInstances){var n,r=d(t.indexedSymbolInstances[i]);try{for(r.s();!(n=r.n()).done;){var o=n.value;delete this.usedCrossTileIDs[e][o.crossTileID]}}catch(a){r.e(a)}finally{r.f()}}}},{key:"removeStaleBuckets",value:function(e){var t=!1;for(var i in this.indexes){var n=this.indexes[i];for(var r in n)e[n[r].bucketInstanceId]||(this.removeBucketCrossTileIDs(i,n[r]),delete n[r],t=!0)}return t}}]),e}(),$t=function(){function e(){g(this,e),this.layerIndexes={},this.crossTileIDs=new Xt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}return y(e,[{key:"addLayer",value:function(e,t,i){var n=this.layerIndexes[e.id];void 0===n&&(n=this.layerIndexes[e.id]=new Yt);var r=!1,o={};n.handleWrapJump(i);var a,s=d(t);try{for(s.s();!(a=s.n()).done;){var l=a.value,u=l.getBucket(e);u&&e.id===u.layerIds[0]&&(u.bucketInstanceId||(u.bucketInstanceId=++this.maxBucketInstanceId),n.addBucket(l.tileID,u,this.crossTileIDs)&&(r=!0),o[u.bucketInstanceId]=!0)}}catch(c){s.e(c)}finally{s.f()}return n.removeStaleBuckets(o)&&(r=!0),r}},{key:"pruneUnusedLayers",value:function(e){var t={};for(var i in e.forEach((function(e){t[e]=!0})),this.layerIndexes)t[i]||delete this.layerIndexes[i]}}]),e}(),Kt=function(t,i){return e.emitValidationErrors(t,i&&i.filter((function(e){return"source.canvas"!==e.identifier})))},Qt=e.pick(Ke,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),Jt=e.pick(Ke,["setCenter","setZoom","setBearing","setPitch"]),ei=function(){var t={},i=e.spec.$version;for(var n in e.spec.$root){var r=e.spec.$root[n];if(r.required){var o=null;null!=(o="version"===n?i:"array"===r.type?[]:{})&&(t[n]=o)}}return t}(),ti={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0},ii=function(t){f(n,t);var i=m(n);function n(t){var o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(this,n),(o=i.call(this)).map=t,o.dispatcher=new U(Xe(),r(o)),o.imageManager=new M,o.imageManager.setEventedParent(r(o)),o.glyphManager=new e.GlyphManager(t._requestManager,a.localFontFamily?e.LocalGlyphMode.all:a.localIdeographFontFamily?e.LocalGlyphMode.ideographs:e.LocalGlyphMode.none,a.localFontFamily||a.localIdeographFontFamily),o.lineAtlas=new e.LineAtlas(256,512),o.crossTileSymbolIndex=new $t,o._layers={},o._num3DLayers=0,o._numSymbolLayers=0,o._numCircleLayers=0,o._serializedLayers={},o._sourceCaches={},o._otherSourceCaches={},o._symbolSourceCaches={},o.zoomHistory=new e.ZoomHistory,o._loaded=!1,o._availableImages=[],o._order=[],o._drapedFirstOrder=[],o._markersNeedUpdate=!1,o._resetUpdates(),o.dispatcher.broadcast("setReferrer",e.getReferrer());var s=r(o);return o._rtlTextPluginCallback=n.registerForPluginStateChange((function(t){s.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},(function(t,i){if(e.triggerPluginCompletionEvent(t),i&&i.every((function(e){return e})))for(var n in s._sourceCaches){var r=s._sourceCaches[n],o=r.getSource().type;"vector"!==o&&"geojson"!==o||r.reload()}}))})),o.on("data",(function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var t=o.getSource(e.sourceId);if(t&&t.vectorLayerIds)for(var i in o._layers){var n=o._layers[i];n.source===t.id&&o._validateLayer(n)}}})),o}return y(n,[{key:"loadURL",value:function(t){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.fire(new e.Event("dataloading",{dataType:"style"}));var r="boolean"==typeof n.validate?n.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,n.accessToken);var o=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(o,(function(t,n){i._request=null,t?i.fire(new e.ErrorEvent(t)):n&&i._load(n,r)}))}},{key:"loadJSON",value:function(t){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.exported.frame((function(){i._request=null,i._load(t,!1!==n.validate)}))}},{key:"loadEmpty",value:function(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(ei,!1)}},{key:"_updateLayerCount",value:function(e,t){var i=t?1:-1;e.is3D()&&(this._num3DLayers+=i),"circle"===e.type&&(this._numCircleLayers+=i),"symbol"===e.type&&(this._numSymbolLayers+=i)}},{key:"_load",value:function(t,i){if(!i||!Kt(this,e.validateStyle(t))){for(var n in this._loaded=!0,this.stylesheet=t,this.updateProjection(),t.sources)this.addSource(n,t.sources[n],{validate:!1});this._changed=!1,t.sprite?this._loadSprite(t.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(t.glyphs);var r=$e(this.stylesheet.layers);this._order=r.map((function(e){return e.id})),this._layers={},this._serializedLayers={};var o,a=d(r);try{for(a.s();!(o=a.n()).done;){var s=o.value;(s=e.createStyleLayer(s)).setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s,this._serializedLayers[s.id]=s.serialize(),this._updateLayerCount(s,!0)}}catch(l){a.e(l)}finally{a.f()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new R(this.stylesheet.light),this.stylesheet.terrain&&this._createTerrain(this.stylesheet.terrain),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}}},{key:"setProjection",value:function(e){e?this.stylesheet.projection=e:delete this.stylesheet.projection,this.updateProjection()}},{key:"updateProjection",value:function(){var e=this.map.transform.setProjection(this.map._runtimeProjection||(this.stylesheet?this.stylesheet.projection:void 0));if(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),e){for(var t in this.map.painter.clearBackgroundTiles(),this._sourceCaches)this._sourceCaches[t].clearTiles();this.map._update(!0)}}},{key:"_loadSprite",value:function(t){var i=this;this._spriteRequest=function(t,i,n){var r,o,a,s=e.exported.devicePixelRatio>1?"@2x":"",l=e.getJSON(i.transformRequest(i.normalizeSpriteURL(t,s,".json"),e.ResourceType.SpriteJSON),(function(e,t){l=null,a||(a=e,r=t,c())})),u=e.getImage(i.transformRequest(i.normalizeSpriteURL(t,s,".png"),e.ResourceType.SpriteImage),(function(e,t){u=null,a||(a=e,o=t,c())}));function c(){if(a)n(a);else if(r&&o){var t=e.exported.getImageData(o),i={};for(var s in r){var l=r[s],u=l.width,c=l.height,h=l.x,d=l.y,p=l.sdf,f=l.pixelRatio,m=l.stretchX,g=l.stretchY,y=l.content,v=new e.RGBAImage({width:u,height:c});e.RGBAImage.copy(t,v,{x:h,y:d},{x:0,y:0},{width:u,height:c}),i[s]={data:v,pixelRatio:f,sdf:p,stretchX:m,stretchY:g,content:y}}n(null,i)}}return{cancel:function(){l&&(l.cancel(),l=null),u&&(u.cancel(),u=null)}}}(t,this.map._requestManager,(function(t,n){if(i._spriteRequest=null,t)i.fire(new e.ErrorEvent(t));else if(n)for(var r in n)i.imageManager.addImage(r,n[r]);i.imageManager.setLoaded(!0),i._availableImages=i.imageManager.listImages(),i.dispatcher.broadcast("setImages",i._availableImages),i.dispatcher.broadcast("spriteLoaded",!0),i.fire(new e.Event("data",{dataType:"style"}))}))}},{key:"_validateLayer",value:function(t){var i=this.getSource(t.source);if(i){var n=t.sourceLayer;n&&("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(n))&&this.fire(new e.ErrorEvent(new Error('Source layer "'.concat(n,'" does not exist on source "').concat(i.id,'" as specified by style layer "').concat(t.id,'"'))))}}},{key:"loaded",value:function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in this._sourceCaches)if(!this._sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}},{key:"_serializeLayers",value:function(e){var t,i=[],n=d(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=this._layers[r];"custom"!==o.type&&i.push(o.serialize())}}catch(a){n.e(a)}finally{n.f()}return i}},{key:"hasTransitions",value:function(){if(this.light&&this.light.hasTransition())return!0;if(this.fog&&this.fog.hasTransition())return!0;for(var e in this._sourceCaches)if(this._sourceCaches[e].hasTransition())return!0;for(var t in this._layers)if(this._layers[t].hasTransition())return!0;return!1}},{key:"order",get:function(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}},{key:"isLayerDraped",value:function(e){return!!this.terrain&&ti[e.type]}},{key:"_checkLoaded",value:function(){if(!this._loaded)throw new Error("Style is not done loading")}},{key:"update",value:function(t){if(this._loaded){var i=this._changed;if(this._changed){var n=Object.keys(this._updatedLayers),r=Object.keys(this._removedLayers);for(var o in(n.length||r.length)&&this._updateWorkerLayers(n,r),this._updatedSources){var a=this._updatedSources[o];"reload"===a?this._reloadSource(o):"clear"===a&&this._clearSource(o)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(t);this.light.updateTransitions(t),this.fog&&this.fog.updateTransitions(t),this._resetUpdates()}var l={};for(var u in this._sourceCaches){var c=this._sourceCaches[u];l[u]=c.used,c.used=!1}var h,p=d(this._order);try{for(p.s();!(h=p.n()).done;){var f=h.value,m=this._layers[f];if(m.recalculate(t,this._availableImages),!m.isHidden(t.zoom)){var g=this._getLayerSourceCache(m);g&&(g.used=!0)}var y=this.map.painter;if(y){var v=m.getProgramIds();if(!v)continue;var b,x=m.getProgramConfiguration(t.zoom),_=d(v);try{for(_.s();!(b=_.n()).done;){var w=b.value;y.useProgram(w,x)}}catch(C){_.e(C)}finally{_.f()}}}}catch(C){p.e(C)}finally{p.f()}for(var S in l){var k=this._sourceCaches[S];l[S]!==k.used&&k.getSource().fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:k.getSource().id}))}this.light.recalculate(t),this.terrain&&this.terrain.recalculate(t),this.fog&&this.fog.recalculate(t),this.z=t.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),i&&this.fire(new e.Event("data",{dataType:"style"}))}}},{key:"_updateTilesForChangedImages",value:function(){var e=Object.keys(this._changedImages);if(e.length){for(var t in this._sourceCaches)this._sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}},{key:"_updateWorkerLayers",value:function(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})}},{key:"_resetUpdates",value:function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}},{key:"setState",value:function(t){var i=this;if(this._checkLoaded(),Kt(this,e.validateStyle(t)))return!1;(t=e.clone$2(t)).layers=$e(t.layers);var n=function(e,t){if(!e)return[{command:Ke.setStyle,args:[t]}];var i=[];try{if(!u(e.version,t.version))return[{command:Ke.setStyle,args:[t]}];u(e.center,t.center)||i.push({command:Ke.setCenter,args:[t.center]}),u(e.zoom,t.zoom)||i.push({command:Ke.setZoom,args:[t.zoom]}),u(e.bearing,t.bearing)||i.push({command:Ke.setBearing,args:[t.bearing]}),u(e.pitch,t.pitch)||i.push({command:Ke.setPitch,args:[t.pitch]}),u(e.sprite,t.sprite)||i.push({command:Ke.setSprite,args:[t.sprite]}),u(e.glyphs,t.glyphs)||i.push({command:Ke.setGlyphs,args:[t.glyphs]}),u(e.transition,t.transition)||i.push({command:Ke.setTransition,args:[t.transition]}),u(e.light,t.light)||i.push({command:Ke.setLight,args:[t.light]}),u(e.fog,t.fog)||i.push({command:Ke.setFog,args:[t.fog]}),u(e.projection,t.projection)||i.push({command:Ke.setProjection,args:[t.projection]});var n={},r=[];!function(e,t,i,n){var r;for(r in t=t||{},e=e||{})e.hasOwnProperty(r)&&(t.hasOwnProperty(r)||Je(r,i,n));for(r in t)t.hasOwnProperty(r)&&(e.hasOwnProperty(r)?u(e[r],t[r])||("geojson"===e[r].type&&"geojson"===t[r].type&&tt(e,t,r)?i.push({command:Ke.setGeoJSONSourceData,args:[r,t[r].data]}):et(r,t,i,n)):Qe(r,t,i))}(e.sources,t.sources,r,n);var o=[];e.layers&&e.layers.forEach((function(e){n[e.source]?i.push({command:Ke.removeLayer,args:[e.id]}):o.push(e)}));var a=e.terrain;a&&n[a.source]&&(i.push({command:Ke.setTerrain,args:[void 0]}),a=void 0),i=i.concat(r),u(a,t.terrain)||i.push({command:Ke.setTerrain,args:[t.terrain]}),function(e,t,i){t=t||[];var n,r,o,a,s,l,c,h=(e=e||[]).map(nt),d=t.map(nt),p=e.reduce(rt,{}),f=t.reduce(rt,{}),m=h.slice(),g=Object.create(null);for(n=0,r=0;n<h.length;n++)o=h[n],f.hasOwnProperty(o)?r++:(i.push({command:Ke.removeLayer,args:[o]}),m.splice(m.indexOf(o,r),1));for(n=0,r=0;n<d.length;n++)o=d[d.length-1-n],m[m.length-1-n]!==o&&(p.hasOwnProperty(o)?(i.push({command:Ke.removeLayer,args:[o]}),m.splice(m.lastIndexOf(o,m.length-r),1)):r++,l=m[m.length-n],i.push({command:Ke.addLayer,args:[f[o],l]}),m.splice(m.length-n,0,o),g[o]=!0);for(n=0;n<d.length;n++)if(a=p[o=d[n]],s=f[o],!g[o]&&!u(a,s))if(u(a.source,s.source)&&u(a["source-layer"],s["source-layer"])&&u(a.type,s.type)){for(c in it(a.layout,s.layout,i,o,null,Ke.setLayoutProperty),it(a.paint,s.paint,i,o,null,Ke.setPaintProperty),u(a.filter,s.filter)||i.push({command:Ke.setFilter,args:[o,s.filter]}),u(a.minzoom,s.minzoom)&&u(a.maxzoom,s.maxzoom)||i.push({command:Ke.setLayerZoomRange,args:[o,s.minzoom,s.maxzoom]}),a)a.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?it(a[c],s[c],i,o,c.slice(6),Ke.setPaintProperty):u(a[c],s[c])||i.push({command:Ke.setLayerProperty,args:[o,c,s[c]]}));for(c in s)s.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?it(a[c],s[c],i,o,c.slice(6),Ke.setPaintProperty):u(a[c],s[c])||i.push({command:Ke.setLayerProperty,args:[o,c,s[c]]}))}else i.push({command:Ke.removeLayer,args:[o]}),l=m[m.lastIndexOf(o)+1],i.push({command:Ke.addLayer,args:[s,l]})}(o,t.layers,i)}catch(e){console.warn("Unable to compute style diff:",e),i=[{command:Ke.setStyle,args:[t]}]}return i}(this.serialize(),t).filter((function(e){return!(e.command in Jt)}));if(0===n.length)return!1;var r=n.filter((function(e){return!(e.command in Qt)}));if(r.length>0)throw new Error("Unimplemented: ".concat(r.map((function(e){return e.command})).join(", "),"."));return n.forEach((function(e){"setTransition"!==e.command&&i[e.command].apply(i,e.args)})),this.stylesheet=t,!0}},{key:"addImage",value:function(t,i){if(this.getImage(t))return this.fire(new e.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(t,i),this._afterImageUpdated(t)}},{key:"updateImage",value:function(e,t){this.imageManager.updateImage(e,t)}},{key:"getImage",value:function(e){return this.imageManager.getImage(e)}},{key:"removeImage",value:function(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(t),this._afterImageUpdated(t)}},{key:"_afterImageUpdated",value:function(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))}},{key:"listImages",value:function(){return this._checkLoaded(),this._availableImages.slice()}},{key:"addSource",value:function(t,i){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this._checkLoaded(),void 0!==this.getSource(t))throw new Error("There is already a source with this ID");if(!i.type)throw new Error("The type property must be defined, but only the following properties were given: ".concat(Object.keys(i).join(", "),"."));if(!(["vector","raster","geojson","video","image"].indexOf(i.type)>=0&&this._validate(e.validateStyle.source,"sources.".concat(t),i,null,r))){this.map&&this.map._collectResourceTiming&&(i.collectResourceTiming=!0);var o=Ne(t,i,this.dispatcher,this);o.setEventedParent(this,(function(){return{isSourceLoaded:n.loaded(),source:o.serialize(),sourceId:t}}));var a=function(i){var r=(i?"symbol:":"other:")+t,a=n._sourceCaches[r]=new e.SourceCache(r,o,i);(i?n._symbolSourceCaches:n._otherSourceCaches)[t]=a,a.style=n,a.onAdd(n.map)};a(!1),"vector"!==i.type&&"geojson"!==i.type||a(!0),o.onAdd&&o.onAdd(this.map),this._changed=!0}}},{key:"removeSource",value:function(t){this._checkLoaded();var i=this.getSource(t);if(void 0===i)throw new Error("There is no source with this ID");for(var n in this._layers)if(this._layers[n].source===t)return this.fire(new e.ErrorEvent(new Error('Source "'.concat(t,'" cannot be removed while layer "').concat(n,'" is using it.'))));if(this.terrain&&this.terrain.get().source===t)return this.fire(new e.ErrorEvent(new Error('Source "'.concat(t,'" cannot be removed while terrain is using it.'))));var r,o=this._getSourceCaches(t),a=d(o);try{for(a.s();!(r=a.n()).done;){var s=r.value;delete this._sourceCaches[s.id],delete this._updatedSources[s.id],s.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:s.getSource().id})),s.setEventedParent(null),s.clearTiles()}}catch(l){a.e(l)}finally{a.f()}delete this._otherSourceCaches[t],delete this._symbolSourceCaches[t],i.setEventedParent(null),i.onRemove&&i.onRemove(this.map),this._changed=!0}},{key:"setGeoJSONSourceData",value:function(e,t){this._checkLoaded(),this.getSource(e).setData(t),this._changed=!0}},{key:"getSource",value:function(e){var t=this._getSourceCache(e);return t&&t.getSource()}},{key:"addLayer",value:function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkLoaded();var r=t.id;if(this.getLayer(r))this.fire(new e.ErrorEvent(new Error('Layer with id "'.concat(r,'" already exists on this map'))));else{var o;if("custom"===t.type){if(Kt(this,e.validateCustomStyleLayer(t)))return;o=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(r,t.source),t=e.clone$2(t),t=e.extend(t,{source:r})),this._validate(e.validateStyle.layer,"layers.".concat(r),t,{arrayIndex:-1},n))return;o=e.createStyleLayer(t),this._validateLayer(o),o.setEventedParent(this,{layer:{id:r}}),this._serializedLayers[o.id]=o.serialize(),this._updateLayerCount(o,!0)}var a=i?this._order.indexOf(i):this._order.length;if(i&&-1===a)this.fire(new e.ErrorEvent(new Error('Layer with id "'.concat(i,'" does not exist on this map.'))));else{this._order.splice(a,0,r),this._layerOrderChanged=!0,this._layers[r]=o;var s=this._getLayerSourceCache(o);if(this._removedLayers[r]&&o.source&&s&&"custom"!==o.type){var l=this._removedLayers[r];delete this._removedLayers[r],l.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",s.pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map),this._updateDrapeFirstLayers()}}}},{key:"moveLayer",value:function(t,i){if(this._checkLoaded(),this._changed=!0,this._layers[t]){if(t!==i){var n=this._order.indexOf(t);this._order.splice(n,1);var r=i?this._order.indexOf(i):this._order.length;i&&-1===r?this.fire(new e.ErrorEvent(new Error('Layer with id "'.concat(i,'" does not exist on this map.')))):(this._order.splice(r,0,t),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}}else this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot be moved."))))}},{key:"removeLayer",value:function(t){this._checkLoaded();var i=this._layers[t];if(i){i.setEventedParent(null),this._updateLayerCount(i,!1);var n=this._order.indexOf(t);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=i,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],i.onRemove&&i.onRemove(this.map),this._updateDrapeFirstLayers()}else this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot be removed."))))}},{key:"getLayer",value:function(e){return this._layers[e]}},{key:"hasLayer",value:function(e){return e in this._layers}},{key:"hasLayerType",value:function(e){for(var t in this._layers)if(this._layers[t].type===e)return!0;return!1}},{key:"setLayerZoomRange",value:function(t,i,n){this._checkLoaded();var r=this.getLayer(t);r?r.minzoom===i&&r.maxzoom===n||(null!=i&&(r.minzoom=i),null!=n&&(r.maxzoom=n),this._updateLayer(r)):this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot have zoom extent."))))}},{key:"setFilter",value:function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkLoaded();var r=this.getLayer(t);if(r){if(!u(r.filter,i))return null==i?(r.filter=void 0,void this._updateLayer(r)):void(this._validate(e.validateStyle.filter,"layers.".concat(r.id,".filter"),i,{layerType:r.type},n)||(r.filter=e.clone$2(i),this._updateLayer(r)))}else this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot be filtered."))))}},{key:"getFilter",value:function(t){return e.clone$2(this.getLayer(t).filter)}},{key:"setLayoutProperty",value:function(t,i,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._checkLoaded();var o=this.getLayer(t);o?u(o.getLayoutProperty(i),n)||(o.setLayoutProperty(i,n,r),this._updateLayer(o)):this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot be styled."))))}},{key:"getLayoutProperty",value:function(t,i){var n=this.getLayer(t);if(n)return n.getLayoutProperty(i);this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style."))))}},{key:"setPaintProperty",value:function(t,i,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._checkLoaded();var o=this.getLayer(t);o?u(o.getPaintProperty(i),n)||(o.setPaintProperty(i,n,r)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot be styled."))))}},{key:"getPaintProperty",value:function(e,t){return this.getLayer(e).getPaintProperty(t)}},{key:"setFeatureState",value:function(t,i){this._checkLoaded();var n=t.source,r=t.sourceLayer,o=this.getSource(n);if(void 0!==o){var a=o.type;if("geojson"===a&&r)this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));else if("vector"!==a||r){void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided.")));var s,l=this._getSourceCaches(n),u=d(l);try{for(u.s();!(s=u.n()).done;)s.value.setFeatureState(r,t.id,i)}catch(c){u.e(c)}finally{u.f()}}else this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '".concat(n,"' does not exist in the map's style."))))}},{key:"removeFeatureState",value:function(t,i){this._checkLoaded();var n=t.source,r=this.getSource(n);if(void 0!==r){var o=r.type,a="vector"===o?t.sourceLayer:void 0;if("vector"!==o||a)if(i&&"string"!=typeof t.id&&"number"!=typeof t.id)this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));else{var s,l=this._getSourceCaches(n),u=d(l);try{for(u.s();!(s=u.n()).done;)s.value.removeFeatureState(a,t.id,i)}catch(c){u.e(c)}finally{u.f()}}else this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '".concat(n,"' does not exist in the map's style."))))}},{key:"getFeatureState",value:function(t){this._checkLoaded();var i=t.source,n=t.sourceLayer,r=this.getSource(i);if(void 0!==r){if("vector"!==r.type||n)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(i)[0].getFeatureState(n,t.id);this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '".concat(i,"' does not exist in the map's style."))))}},{key:"getTransition",value:function(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}},{key:"serialize",value:function(){var t={};for(var i in this._sourceCaches){var n=this._sourceCaches[i].getSource();t[n.id]||(t[n.id]=n.serialize())}return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.stylesheet.terrain,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:t,layers:this._serializeLayers(this._order)},(function(e){return void 0!==e}))}},{key:"_updateLayer",value:function(e){this._updatedLayers[e.id]=!0;var t=this._getLayerSourceCache(e);e.source&&!this._updatedSources[e.source]&&t&&"raster"!==t.getSource().type&&(this._updatedSources[e.source]="reload",t.pause()),this._changed=!0,e.invalidateCompiledFilter()}},{key:"_flattenAndSortRenderedFeatures",value:function(e){for(var t=this,i=function(e){return"fill-extrusion"===t._layers[e].type},n={},r=[],o=this._order.length-1;o>=0;o--){var a=this._order[o];if(i(a)){n[a]=o;var s,l=d(e);try{for(l.s();!(s=l.n()).done;){var u=s.value[a];if(u){var c,h=d(u);try{for(h.s();!(c=h.n()).done;){var p=c.value;r.push(p)}}catch(C){h.e(C)}finally{h.f()}}}}catch(C){l.e(C)}finally{l.f()}}}r.sort((function(e,t){return t.intersectionZ-e.intersectionZ}));for(var f=[],m=this._order.length-1;m>=0;m--){var g=this._order[m];if(i(g))for(var y=r.length-1;y>=0;y--){var v=r[y].feature;if(n[v.layer.id]<m)break;f.push(v),r.pop()}else{var b,x=d(e);try{for(x.s();!(b=x.n()).done;){var _=b.value[g];if(_){var w,S=d(_);try{for(S.s();!(w=S.n()).done;){var k=w.value;f.push(k.feature)}}catch(C){S.e(C)}finally{S.f()}}}}catch(C){x.e(C)}finally{x.f()}}}return f}},{key:"queryRenderedFeatures",value:function(t,i,n){var r=this;i&&i.filter&&this._validate(e.validateStyle.filter,"queryRenderedFeatures.filter",i.filter,null,i);var o={};if(i&&i.layers){if(!Array.isArray(i.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];var a,s=d(i.layers);try{for(s.s();!(a=s.n()).done;){var l=a.value,u=this._layers[l];if(!u)return this.fire(new e.ErrorEvent(new Error("The layer '".concat(l,"' does not exist in the map's style and cannot be queried for features.")))),[];o[u.source]=!0}}catch(g){s.e(g)}finally{s.f()}}var c=[];i.availableImages=this._availableImages;var h=i&&i.layers?i.layers.some((function(e){var t=r.getLayer(e);return t&&t.is3D()})):this.has3DLayers(),p=H.createFromScreenPoints(t,n);for(var f in this._sourceCaches){var m=this._sourceCaches[f].getSource().id;i.layers&&!o[m]||c.push(Ve(this._sourceCaches[f],this._layers,this._serializedLayers,p,i,n,h,!!this.map._showQueryGeometry))}return this.placement&&c.push(function(e,t,i,n,r,o,a){var s,l={},u=o.queryRenderedSymbols(n),c=[],h=d(Object.keys(u).map(Number));try{for(h.s();!(s=h.n()).done;){var p=s.value;c.push(a[p])}}catch(g){h.e(g)}finally{h.f()}c.sort(We);for(var f=function(){var i=y[m],n=i.featureIndex.lookupSymbolFeatures(u[i.bucketInstanceId],t,i.bucketIndex,i.sourceLayerIndex,r.filter,r.layers,r.availableImages,e);for(var o in n){var a=l[o]=l[o]||[],s=n[o];s.sort((function(e,t){var n=i.featureSortOrder;if(n){var r=n.indexOf(e.featureIndex);return n.indexOf(t.featureIndex)-r}return t.featureIndex-e.featureIndex}));var c,h=d(s);try{for(h.s();!(c=h.n()).done;){var p=c.value;a.push(p)}}catch(g){h.e(g)}finally{h.f()}}},m=0,y=c;m<y.length;m++)f();var v=function(t){l[t].forEach((function(n){var r=n.feature,o=i(e[t]).getFeatureState(r.layer["source-layer"],r.id);r.source=r.layer.source,r.layer["source-layer"]&&(r.sourceLayer=r.layer["source-layer"]),r.state=o}))};for(var b in l)v(b);return l}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),p.screenGeometry,i,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(c)}},{key:"querySourceFeatures",value:function(t,i){i&&i.filter&&this._validate(e.validateStyle.filter,"querySourceFeatures.filter",i.filter,null,i);var n,r=this._getSourceCaches(t),o=[],a=d(r);try{for(a.s();!(n=a.n()).done;){var s=n.value;o=o.concat(Ue(s,i))}}catch(l){a.e(l)}finally{a.f()}return o}},{key:"addSourceType",value:function(e,t,i){return n.getSourceType(e)?i(new Error('A source type called "'.concat(e,'" already exists.'))):(n.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},i):i(null,null))}},{key:"getLight",value:function(){return this.light.getLight()}},{key:"setLight",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkLoaded();var n=this.light.getLight(),r=!1;for(var o in t)if(!u(t[o],n[o])){r=!0;break}if(r){var a={now:e.exported.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,i),this.light.updateTransitions(a)}}},{key:"getTerrain",value:function(){return this.terrain?this.terrain.get():null}},{key:"setTerrain",value:function(t){if(this._checkLoaded(),!t)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if("object"==typeof t.source){var i="terrain-dem-src";this.addSource(i,t.source),t=e.clone$2(t),t=e.extend(t,{source:i})}if(!this._validate(e.validateStyle.terrain,"terrain",t)){if(this.terrain){var n=this.terrain,r=n.get();for(var o in t)if(!u(t[o],r[o])){n.set(t),this.stylesheet.terrain=t;var a={now:e.exported.now(),transition:e.extend({duration:0},this.stylesheet.transition)};n.updateTransitions(a);break}}else this._createTerrain(t);this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}}},{key:"_createFog",value:function(t){var i=this.fog=new V(t,this.map.transform);this.stylesheet.fog=t;var n={now:e.exported.now(),transition:e.extend({duration:0},this.stylesheet.transition)};i.updateTransitions(n)}},{key:"_updateMarkersOpacity",value:function(){var e=this;0!==this.map._markers.length&&this.map._requestDomTask((function(){var t,i=d(e.map._markers);try{for(i.s();!(t=i.n()).done;)t.value._evaluateOpacity()}catch(n){i.e(n)}finally{i.f()}}))}},{key:"getFog",value:function(){return this.fog?this.fog.get():null}},{key:"setFog",value:function(t){if(this._checkLoaded(),!t)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){var i=this.fog,n=i.get();for(var r in t)if(!u(t[r],n[r])){i.set(t),this.stylesheet.fog=t;var o={now:e.exported.now(),transition:e.extend({duration:0},this.stylesheet.transition)};i.updateTransitions(o);break}}else this._createFog(t);this._markersNeedUpdate=!0}},{key:"_updateDrapeFirstLayers",value:function(){var e,t,i=this;if(this.map._optimizeForTerrain&&this.terrain){var n=this._order.filter((function(e){return i.isLayerDraped(i._layers[e])})),r=this._order.filter((function(e){return!i.isLayerDraped(i._layers[e])}));this._drapedFirstOrder=[],(e=this._drapedFirstOrder).push.apply(e,c(n)),(t=this._drapedFirstOrder).push.apply(t,c(r))}}},{key:"_createTerrain",value:function(t){var i=this.terrain=new z(t);this.stylesheet.terrain=t,this.dispatcher.broadcast("enableTerrain",!0),this._force3DLayerUpdate();var n={now:e.exported.now(),transition:e.extend({duration:0},this.stylesheet.transition)};i.updateTransitions(n)}},{key:"_force3DLayerUpdate",value:function(){for(var e in this._layers){var t=this._layers[e];"fill-extrusion"===t.type&&this._updateLayer(t)}}},{key:"_validate",value:function(t,i,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(!o||!1!==o.validate)&&Kt(this,t.call(e.validateStyle,e.extend({key:i,style:this.serialize(),value:n,styleSpec:e.spec},r)))}},{key:"_remove",value:function(){for(var t in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[t].setEventedParent(null);for(var i in this._sourceCaches)this._sourceCaches[i].clearTiles(),this._sourceCaches[i].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}},{key:"_clearSource",value:function(e){var t,i=this._getSourceCaches(e),n=d(i);try{for(n.s();!(t=n.n()).done;)t.value.clearTiles()}catch(r){n.e(r)}finally{n.f()}}},{key:"_reloadSource",value:function(e){var t,i=this._getSourceCaches(e),n=d(i);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.resume(),r.reload()}}catch(o){n.e(o)}finally{n.f()}}},{key:"_updateSources",value:function(e){for(var t in this._sourceCaches)this._sourceCaches[t].update(e)}},{key:"_generateCollisionBoxes",value:function(){for(var e in this._sourceCaches){var t=this._sourceCaches[e];t.resume(),t.reload()}}},{key:"_updatePlacement",value:function(t,i,n,r){var o,a=this,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=!1,u=!1,c={},h=d(this._order);try{for(h.s();!(o=h.n()).done;){var p=o.value,f=this._layers[p];if("symbol"===f.type){if(!c[f.source]){var m=function(){var e=a._getLayerSourceCache(f);if(!e)return"continue";c[f.source]=e.getRenderableIds(!0).map((function(t){return e.getTileByID(t)})).sort((function(e,t){return t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)}))}();if("continue"===m)continue}var g=this.crossTileSymbolIndex.addLayer(f,c[f.source],t.center.lng);l=l||g}}}catch(_){h.e(_)}finally{h.f()}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),s=s||this._layerOrderChanged||0===n,this._layerOrderChanged&&this.fire(new e.Event("neworder")),(s||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.exported.now(),t.zoom))&&(this.pauseablePlacement=new Gt(t,this._order,s,i,n,r,this.placement,this.fog&&!this.fog.isSoftDisabled()?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,c),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.exported.now()),u=!0),l&&this.pauseablePlacement.placement.setStale()),u||l){var y,v=d(this._order);try{for(v.s();!(y=v.n()).done;){var b=y.value,x=this._layers[b];"symbol"===x.type&&this.placement.updateLayerOpacities(x,c[x.source])}}catch(_){v.e(_)}finally{v.f()}}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.exported.now())}},{key:"_releaseSymbolFadeTiles",value:function(){for(var e in this._sourceCaches)this._sourceCaches[e].releaseSymbolFadeTiles()}},{key:"getImages",value:function(e,t,i){this.imageManager.getImages(t.icons,i),this._updateTilesForChangedImages();var n=function(e){e&&e.setDependencies(t.tileID.key,t.type,t.icons)};n(this._otherSourceCaches[t.source]),n(this._symbolSourceCaches[t.source])}},{key:"getGlyphs",value:function(e,t,i){this.glyphManager.getGlyphs(t.stacks,i)}},{key:"getResource",value:function(t,i,n){return e.makeRequest(i,n)}},{key:"_getSourceCache",value:function(e){return this._otherSourceCaches[e]}},{key:"_getLayerSourceCache",value:function(e){return"symbol"===e.type?this._symbolSourceCaches[e.source]:this._otherSourceCaches[e.source]}},{key:"_getSourceCaches",value:function(e){var t=[];return this._otherSourceCaches[e]&&t.push(this._otherSourceCaches[e]),this._symbolSourceCaches[e]&&t.push(this._symbolSourceCaches[e]),t}},{key:"has3DLayers",value:function(){return this._num3DLayers>0}},{key:"hasSymbolLayers",value:function(){return this._numSymbolLayers>0}},{key:"hasCircleLayers",value:function(){return this._numCircleLayers>0}},{key:"clearWorkerCaches",value:function(){this.dispatcher.broadcast("clearCaches")}}]),n}(e.Evented);ii.getSourceType=function(e){return Fe[e]},ii.setSourceType=function(e,t){Fe[e]=t},ii.registerForPluginStateChange=e.registerForPluginStateChange;var ni="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#define EXTENT 8192.0\n#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}\n#endif",ri="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",oi={},ai={};oi=ci("","\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\n#else \nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\n#endif\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {return currentElevation(apos);}\n#endif\nfloat unpack_depth(vec4 rgba_depth)\n{const vec4 bit_shift=vec4(1.0/(256.0*256.0*256.0),1.0/(256.0*256.0),1.0/256.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",!0),ai=ci("#ifdef FOG\nuniform float u_fog_temporal_offset;float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif","#ifdef FOG\nuniform mat4 u_fog_matrix;vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",!0);var si=ci("\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}\n#ifdef TERRAIN\nhighp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(256.0*256.0*256.0,256.0*256.0,256.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/256.0,1.0/256.0,1.0/256.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}\n#endif","\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\n#if defined(PROJECTION_GLOBE_VIEW) && !defined(PROJECTED_POS_ON_VIEWPORT)\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\n#else\nreturn vec3(0.0);\n#endif\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {\n#if defined(PROJECTION_GLOBE_VIEW) && !defined(PROJECTED_POS_ON_VIEWPORT)\nreturn mix(globe,mercator,t);\n#else\nreturn globe;\n#endif\n}vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),li=ni,ui={background:ci("uniform vec4 u_color;uniform float u_opacity;void main() {vec4 out_color=u_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:ci("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_mix);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:ci("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float height=circle_elevation(circle_center);vec4 world_center=vec4(circle_center,height,1);vec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);vec4 occlusion_world_center=vec4(circle_center,cantilevered_height,1);vec4 occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nvec4 occlusion_world_center=world_center;vec4 occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:ci("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:ci("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\ngl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;attribute float a_scale;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);\n#ifdef PROJECTION_GLOBE_VIEW\nextrude*=a_scale;vec3 normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));vec3 globePos=a_pos_3+xAxis*extrude.x+yAxis*extrude.y+elevationVector(tilePos)*elevation(tilePos);vec3 mercPos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+xAxis*extrude.x+yAxis*extrude.y;vec3 pos=mix_globe_mercator(globePos,mercPos,u_zoom_transition);\n#else\nvec3 pos=vec3(tilePos+extrude,elevation(tilePos));\n#endif\ngl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:ci("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:ci("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:ci("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:ci("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);}"),fill:ci("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:ci("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:ci("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:ci("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:ci("varying vec4 v_color;void main() {vec4 color=v_color;\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;float ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 pos=vec3(pos_nx.xy,h);\n#else\nvec3 pos=vec3(pos_nx.xy,t > 0.0 ? height : base);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.rgb+=clamp(color.rgb*directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:ci("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);out_color=out_color*v_lighting;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;float ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 p=vec3(pos_nx.xy,h);\n#else\nvec3 p=vec3(pos_nx.xy,z);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:ci("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos);float f=getElevation(v_pos+vec2(epsilon.x,0));float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float h=getElevation(v_pos+vec2(0,epsilon.y));float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:ci("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:ci("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#ifdef RENDER_LINE_DASH\nuniform sampler2D u_dash_image;uniform float u_mix;uniform vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform sampler2D u_gradient_image;varying highp vec2 v_uv;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash_from\n#pragma mapbox: initialize lowp vec4 dash_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\n#ifdef RENDER_LINE_DASH\nfloat sdfdist_a=texture2D(u_dash_image,v_tex_a).a;float sdfdist_b=texture2D(u_dash_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfwidth=min(dash_from.z*u_scale.y,dash_to.z*u_scale.z);float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/sdfwidth;alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\n#endif\n#ifdef RENDER_LINE_GRADIENT\nvec4 out_color=texture2D(u_gradient_image,v_uv);\n#else\nvec4 out_color=color;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;\n#ifdef RENDER_LINE_GRADIENT\nattribute vec3 a_packed;\n#else\nattribute float a_linesofar;\n#endif\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;\n#ifdef RENDER_LINE_DASH\nuniform vec2 u_texsize;uniform mediump vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform float u_image_height;varying highp vec2 v_uv;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash_from\n#pragma mapbox: initialize lowp vec4 dash_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];float a_linesofar=a_packed[2];highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);\n#endif\n#ifdef RENDER_LINE_DASH\nfloat tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;float scaleA=dash_from.z==0.0 ? 0.0 : tileZoomRatio/(dash_from.z*fromScale);float scaleB=dash_to.z==0.0 ? 0.0 : tileZoomRatio/(dash_to.z*toScale);float heightA=dash_from.y;float heightB=dash_to.y;v_tex_a=vec2(a_linesofar*scaleA/floorwidth,(-normal.y*heightA+dash_from.x+0.5)/u_texsize.y);v_tex_b=vec2(a_linesofar*scaleB/floorwidth,(-normal.y*heightB+dash_to.x+0.5)/u_texsize.y);\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:ci("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:ci("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:ci("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_z_tile_anchor;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float anchorZ=a_z_tile_anchor.x;vec2 tileAnchor=a_z_tile_anchor.yz;vec3 h=elevationVector(tileAnchor)*elevation(tileAnchor);vec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tileAnchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(vec3(a_pos,anchorZ)+h,mercator_pos,u_zoom_transition);vec4 projectedPoint=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),anchorZ,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec3 proj_pos=mix_globe_mercator(vec3(a_projected_pos.xy,anchorZ),mercator_pos,u_zoom_transition);\n#ifdef PROJECTED_POS_ON_VIEWPORT\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xy,0.0,1.0);\n#else\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xyz+h,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}"),symbolSDF:ci("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_z_tile_anchor;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_tile_id;uniform float u_zoom_transition;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float anchorZ=a_z_tile_anchor.x;vec2 tileAnchor=a_z_tile_anchor.yz;vec3 h=elevationVector(tileAnchor)*elevation(tileAnchor);vec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tileAnchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(vec3(a_pos,anchorZ)+h,mercator_pos,u_zoom_transition);vec4 projectedPoint=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),anchorZ,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec3 proj_pos=mix_globe_mercator(vec3(a_projected_pos.xy,anchorZ),mercator_pos,u_zoom_transition);\n#ifdef PROJECTED_POS_ON_VIEWPORT\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xy,0.0,1.0);\n#else\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xyz+h,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}"),symbolTextAndIcon:ci("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_z_tile_anchor;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float anchorZ=a_z_tile_anchor.x;vec2 tileAnchor=a_z_tile_anchor.yz;vec3 h=elevationVector(tileAnchor)*elevation(tileAnchor);vec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tileAnchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(vec3(a_pos,anchorZ)+h,mercator_pos,u_zoom_transition);vec4 projectedPoint=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),anchorZ,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec3 proj_pos=mix_globe_mercator(vec3(a_projected_pos.xy,anchorZ),mercator_pos,u_zoom_transition);\n#ifdef PROJECTED_POS_ON_VIEWPORT\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xy,0.0,1.0);\n#else\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xyz+h,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}"),terrainRaster:ci("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef FOG\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\nconst float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=u_skirt_height*u_skirt_height*wireframeOffset;\n#endif\nvec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n}"),terrainDepth:ci("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:ci("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",ri),skyboxGradient:ci("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",ri),skyboxCapture:ci("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:ci("uniform sampler2D u_image0;varying vec2 v_pos0;void main() {vec4 color=texture2D(u_image0,v_pos0);gl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_proj_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat4 u_up_vector_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;attribute vec3 a_globe_pos;attribute vec2 a_merc_pos;attribute vec2 a_uv;varying vec2 v_pos0;void main() {v_pos0=a_uv;vec2 uv=a_uv*EXTENT;vec4 up_vector=u_up_vector_matrix*vec4(elevationVector(uv),1.0);float height=elevation(uv);vec4 globe=u_globe_matrix*vec4(a_globe_pos+up_vector.xyz*height,1.0);vec4 mercator=vec4(a_merc_pos,height,1.0);mercator.xy-=u_merc_center;mercator.x=wrap(mercator.x,-0.5,0.5);mercator=u_merc_matrix*mercator;vec3 position=mix(globe.xyz,mercator.xyz,u_zoom_transition);gl_Position=u_proj_matrix*vec4(position,1.0);}"),globeAtmosphere:ci("uniform vec2 u_center;uniform float u_radius;uniform vec2 u_screen_size;uniform float u_opacity;uniform highp float u_fadeout_range;uniform vec3 u_start_color;uniform vec3 u_end_color;uniform float u_pixel_ratio;void main() {highp vec2 fragCoord=gl_FragCoord.xy/u_pixel_ratio;fragCoord.y=u_screen_size.y-fragCoord.y;float distFromCenter=length(fragCoord-u_center);float normDistFromCenter=length(fragCoord-u_center)/u_radius;if (normDistFromCenter < 1.0)\ndiscard;float t=clamp(1.0-sqrt(normDistFromCenter-1.0)/u_fadeout_range,0.0,1.0);vec3 color=mix(u_start_color,u_end_color,1.0-t);gl_FragColor=vec4(color*t*u_opacity,u_opacity);}","attribute vec3 a_pos;void main() {gl_Position=vec4(a_pos,1.0);}"),globeDepth:ci("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_proj_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat4 u_up_vector_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;attribute vec3 a_globe_pos;attribute vec2 a_merc_pos;attribute vec2 a_uv;varying float v_depth;void main() {vec2 uv=a_uv*EXTENT;vec4 up_vector=u_up_vector_matrix*vec4(elevationVector(uv),1.0);float height=elevation(uv);vec4 globe=u_globe_matrix*vec4(a_globe_pos+up_vector.xyz*height,1.0);vec4 mercator=vec4(a_merc_pos,height,1.0);mercator.xy-=u_merc_center;mercator.x=wrap(mercator.x,-0.5,0.5);mercator=u_merc_matrix*mercator;vec3 position=mix(globe.xyz,mercator.xyz,u_zoom_transition);gl_Position=u_proj_matrix*vec4(position,1.0);v_depth=gl_Position.z/gl_Position.w;}")};function ci(e,t,i){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=/uniform (highp |mediump |lowp )?([\w]+) ([\w]+)([\s]*)([\w]*)/g,o=t.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),a=e.match(r),s=t.match(r),l=ni.match(r),u=s?s.concat(a):a;i||(oi.staticUniforms&&(u=oi.staticUniforms.concat(u)),ai.staticUniforms&&(u=ai.staticUniforms.concat(u))),u&&(u=u.concat(l));var c={};return{fragmentSource:e=e.replace(n,(function(e,t,i,n,r){return c[r]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(r,"\nvarying ").concat(i," ").concat(n," ").concat(r,";\n#else\nuniform ").concat(i," ").concat(n," u_").concat(r,";\n#endif\n"):"\n#ifdef HAS_UNIFORM_u_".concat(r,"\n    ").concat(i," ").concat(n," ").concat(r," = u_").concat(r,";\n#endif\n")})),vertexSource:t=t.replace(n,(function(e,t,i,n,r){var o="float"===n?"vec2":"vec4",a=r.match(/color/)?"color":o;return c[r]?"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(r,"\nuniform lowp float u_").concat(r,"_t;\nattribute ").concat(i," ").concat(o," a_").concat(r,";\nvarying ").concat(i," ").concat(n," ").concat(r,";\n#else\nuniform ").concat(i," ").concat(n," u_").concat(r,";\n#endif\n"):"vec4"===a?"\n#ifndef HAS_UNIFORM_u_".concat(r,"\n    ").concat(r," = a_").concat(r,";\n#else\n    ").concat(i," ").concat(n," ").concat(r," = u_").concat(r,";\n#endif\n"):"\n#ifndef HAS_UNIFORM_u_".concat(r,"\n    ").concat(r," = unpack_mix_").concat(a,"(a_").concat(r,", u_").concat(r,"_t);\n#else\n    ").concat(i," ").concat(n," ").concat(r," = u_").concat(r,";\n#endif\n"):"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(r,"\nuniform lowp float u_").concat(r,"_t;\nattribute ").concat(i," ").concat(o," a_").concat(r,";\n#else\nuniform ").concat(i," ").concat(n," u_").concat(r,";\n#endif\n"):"vec4"===a?"\n#ifndef HAS_UNIFORM_u_".concat(r,"\n    ").concat(i," ").concat(n," ").concat(r," = a_").concat(r,";\n#else\n    ").concat(i," ").concat(n," ").concat(r," = u_").concat(r,";\n#endif\n"):"\n#ifndef HAS_UNIFORM_u_".concat(r,"\n    ").concat(i," ").concat(n," ").concat(r," = unpack_mix_").concat(a,"(a_").concat(r,", u_").concat(r,"_t);\n#else\n    ").concat(i," ").concat(n," ").concat(r," = u_").concat(r,";\n#endif\n")})),staticAttributes:o,staticUniforms:u}}var hi=function(){function e(){g(this,e),this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}return y(e,[{key:"bind",value:function(e,t,i,n,r,o,a,s){this.context=e;for(var l=this.boundPaintVertexBuffers.length!==n.length,u=0;!l&&u<n.length;u++)this.boundPaintVertexBuffers[u]!==n[u]&&(l=!0);e.extVertexArrayObject&&this.vao&&this.boundProgram===t&&this.boundLayoutVertexBuffer===i&&!l&&this.boundIndexBuffer===r&&this.boundVertexOffset===o&&this.boundDynamicVertexBuffer===a&&this.boundDynamicVertexBuffer2===s?(e.bindVertexArrayOES.set(this.vao),a&&a.bind(),r&&r.dynamicDraw&&r.bind(),s&&s.bind()):this.freshBind(t,i,n,r,o,a,s)}},{key:"freshBind",value:function(e,t,i,n,r,o,a){var s,l=e.numAttributes,u=this.context,c=u.gl;if(u.extVertexArrayObject)this.vao&&this.destroy(),this.vao=u.extVertexArrayObject.createVertexArrayOES(),u.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=i,this.boundIndexBuffer=n,this.boundVertexOffset=r,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=u.currentNumAttributes||0;for(var h=l;h<s;h++)c.disableVertexAttribArray(h)}t.enableAttributes(c,e);var p,f=d(i);try{for(f.s();!(p=f.n()).done;)p.value.enableAttributes(c,e)}catch(v){f.e(v)}finally{f.f()}o&&o.enableAttributes(c,e),a&&a.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,r);var m,g=d(i);try{for(g.s();!(m=g.n()).done;){var y=m.value;y.bind(),y.setVertexAttribPointers(c,e,r)}}catch(v){g.e(v)}finally{g.f()}o&&(o.bind(),o.setVertexAttribPointers(c,e,r)),n&&n.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,e,r)),u.currentNumAttributes=l}},{key:"destroy",value:function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}]),e}();function di(t,i){var n=Math.pow(2,i.canonical.z),r=i.canonical.y;return[new e.MercatorCoordinate(0,r/n).toLngLat().lat,new e.MercatorCoordinate(0,(r+1)/n).toLngLat().lat]}function pi(t,i,n,r,o,a,s){var l=t.context,u=l.gl,c=n.fbo;if(c){t.prepareDrawTile(i);var h=t.useProgram("hillshade");l.activeTexture.set(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,c.colorAttachment.get());var d=function(e,t,i,n){var r=i.paint.get("hillshade-shadow-color"),o=i.paint.get("hillshade-highlight-color"),a=i.paint.get("hillshade-accent-color"),s=i.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===i.paint.get("hillshade-illumination-anchor")&&(s-=e.transform.angle);var l=!e.options.moving;return{u_matrix:n||e.transform.calculateProjMatrix(t.tileID.toUnwrapped(),l),u_image:0,u_latrange:di(0,t.tileID),u_light:[i.paint.get("hillshade-exaggeration"),s],u_shadow:r,u_highlight:o,u_accent:a}}(t,n,r,t.terrain?i.projMatrix:null);t.prepareDrawProgram(l,h,i.toUnwrapped());var p=t.getTileBoundsBuffers(n),f=p.tileBoundsBuffer,m=p.tileBoundsIndexBuffer,g=p.tileBoundsSegments;h.draw(l,u.TRIANGLES,o,a,s,e.CullFaceMode.disabled,d,r.id,f,m,g)}}function fi(t,i,n){if(i.needsDEMTextureUpload){var r=t.context,o=r.gl;r.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||t.getTileTexture(n.stride);var a=n.getPixels();i.demTexture?i.demTexture.update(a,{premultiply:!1}):i.demTexture=new e.Texture(r,a,o.RGBA,{premultiply:!1}),i.needsDEMTextureUpload=!1}}function mi(t,i,n,r,o,a){var s=t.context,l=s.gl;if(i.dem){var u=i.dem;if(s.activeTexture.set(l.TEXTURE1),fi(t,i,u),i.demTexture){i.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);var c=u.dim;s.activeTexture.set(l.TEXTURE0);var h=i.fbo;if(!h){var d=new e.Texture(s,{width:c,height:c,data:null},l.RGBA);d.bind(l.LINEAR,l.CLAMP_TO_EDGE),(h=i.fbo=s.createFramebuffer(c,c,!0)).colorAttachment.set(d.texture)}s.bindFramebuffer.set(h.framebuffer),s.viewport.set([0,0,c,c]);var p=t.getMercatorTileBoundsBuffers(),f=p.tileBoundsBuffer,m=p.tileBoundsIndexBuffer,g=p.tileBoundsSegments;t.useProgram("hillshadePrepare").draw(s,l.TRIANGLES,r,o,a,e.CullFaceMode.disabled,function(t,i){var n=i.stride,r=e.create$1();return e.ortho(r,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(r,r,[0,-e.EXTENT,0]),{u_matrix:r,u_image:1,u_dimension:[n,n],u_zoom:t.overscaledZ,u_unpack:i.unpackVector}}(i.tileID,u),n.id,f,m,g),i.needsHillshadePrepare=!1}}}var gi=function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_image0:new e.Uniform1i(t,i.u_image0),u_skirt_height:new e.Uniform1f(t,i.u_skirt_height)}},yi=function(e,t){return{u_matrix:e,u_image0:0,u_skirt_height:t}},vi=new(function(){function e(){g(this,e),this.operations={}}return y(e,[{key:"newMorphing",value:function(e,t,i,n,r){if(e in this.operations){var o=this.operations[e];o.to.tileID.key!==i.tileID.key&&(o.queued=i)}else this.operations[e]={startTime:n,phase:0,duration:r,from:t,to:i,queued:null}}},{key:"getMorphValuesForProxy",value:function(e){if(!(e in this.operations))return null;var t=this.operations[e];return{from:t.from,to:t.to,phase:t.phase}}},{key:"update",value:function(e){for(var t in this.operations){var i=this.operations[t];for(i.phase=(e-i.startTime)/i.duration;i.phase>=1||!this._validOp(i);)if(!this._nextOp(i,e)){delete this.operations[t];break}}}},{key:"_nextOp",value:function(e,t){return!!e.queued&&(e.from=e.to,e.to=e.queued,e.queued=null,e.phase=0,e.startTime=t,!0)}},{key:"_validOp",value:function(e){return e.from.hasData()&&e.to.hasData()}}]),e}()),bi={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function xi(e,t){var i=1<<e.z;return!t&&(0===e.x||e.x===i-1)||0===e.y||e.y===i-1}var _i=function(e){return{u_matrix:e}};function wi(t,i,n,r,o){if(o>0){var a=e.exported.now(),s=(a-t.timeAdded)/o,l=i?(a-i.timeAdded)/o:-1,u=n.getSource(),c=r.coveringZoomLevel({tileSize:u.tileSize,roundZoom:u.roundZoom}),h=!i||Math.abs(i.tileID.overscaledZ-c)>Math.abs(t.tileID.overscaledZ-c),d=h&&t.refreshedUponExpiration?1:e.clamp(h?s:1-l,0,1);return t.refreshedUponExpiration&&s>=1&&(t.refreshedUponExpiration=!1),i?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return{opacity:1,mix:0}}var Si=function(t){f(n,t);var i=m(n);function n(e){var t;g(this,n);var o=Ne("proxy",{type:"geojson",maxzoom:e.transform.maxZoom},new U(Xe(),null),e.style);return t=i.call(this,"proxy",o,!1),o.setEventedParent(r(t)),t.map=t.getSource().map=e,t.used=t._sourceLoaded=!0,t.renderCache=[],t.renderCachePool=[],t.proxyCachedFBO={},t}return y(n,[{key:"update",value:function(t,i,n){var r=this;if(!t.freezeTileCoverage){this.transform=t;var o=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((function(i,n){if(i[n.key]="",!r._tiles[n.key]){var o=new e.Tile(n,r._source.tileSize*n.overscaleFactor(),t.tileZoom);o.state="loaded",r._tiles[n.key]=o}return i}),{});for(var a in this._tiles)a in o||(this.freeFBO(a),this._tiles[a].unloadVectorData(),delete this._tiles[a])}}},{key:"freeFBO",value:function(e){var t=this.proxyCachedFBO[e];if(void 0!==t){var i,n=Object.values(t);(i=this.renderCachePool).push.apply(i,c(n)),delete this.proxyCachedFBO[e]}}},{key:"deallocRenderCache",value:function(){this.renderCache.forEach((function(e){return e.fb.destroy()})),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}]),n}(e.SourceCache),ki=function(e){f(i,e);var t=m(i);function i(e,n,r){var o;return g(this,i),(o=t.call(this,e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)).proxyTileKey=n,o.projMatrix=r,o}return y(i)}(e.OverscaledTileID),Ci=function(t){f(n,t);var i=m(n);function n(t,r){var o;g(this,n),(o=i.call(this)).painter=t,o.terrainTileForTile={},o.prevTerrainTileForTile={};var a=function(t){var i=new e.StructArrayLayout4i8,n=new e.StructArrayLayout3ui6,r=131;i.reserve(17161),n.reserve(33800);for(var o=e.EXTENT/128,a=e.EXTENT+o/2,s=a+o,l=-o;l<s;l+=o)for(var u=-o;u<s;u+=o){var c=u<0||u>a||l<0||l>a?24575:0,h=e.clamp(Math.round(u),0,e.EXTENT),d=e.clamp(Math.round(l),0,e.EXTENT);i.emplaceBack(h+c,d,h,d)}for(var p=function(e,t){var i=t*r+e;n.emplaceBack(i+1,i,i+r),n.emplaceBack(i+r,i+r+1,i+1)},f=1;f<129;f++)for(var m=1;m<129;m++)p(m,f);return[0,129].forEach((function(e){for(var t=0;t<130;t++)p(t,e),p(e,t)})),[i,n,32768]}(),s=h(a,3),l=s[0],u=s[1],c=s[2],d=t.context;o.gridBuffer=d.createVertexBuffer(l,e.boundsAttributes.members),o.gridIndexBuffer=d.createIndexBuffer(u),o.gridSegments=e.SegmentVector.simpleSegment(0,0,l.length,u.length),o.gridNoSkirtSegments=e.SegmentVector.simpleSegment(0,0,l.length,c),o.proxyCoords=[],o.proxiedCoords={},o._visibleDemTiles=[],o._drapedRenderBatches=[],o._sourceTilesOverlap={},o.proxySourceCache=new Si(r.map),o.orthoMatrix=e.create$1(),e.ortho(o.orthoMatrix,0,e.EXTENT,0,e.EXTENT,0,1);var p=d.gl;return o._overlapStencilMode=new e.StencilMode({func:p.GEQUAL,mask:255},0,255,p.KEEP,p.KEEP,p.REPLACE),o._previousZoom=t.transform.zoom,o.pool=[],o._findCoveringTileCache={},o._tilesDirty={},o.style=r,o._useVertexMorphing=!0,o._exaggeration=1,o}return y(n,[{key:"style",set:function(e){e.on("data",this._onStyleDataEvent.bind(this)),e.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=e,this._checkRenderCacheEfficiency()}},{key:"update",value:function(t,i,n){var r=this;if(t&&t.terrain){this._style!==t&&(this.style=t),this.enabled=!0;var o=t.terrain.properties;this.sourceCache=t._getSourceCache(o.get("source")),this._exaggeration=o.get("exaggeration");var a=function(){r.sourceCache.used&&e.warnOnce("Raster DEM source '".concat(r.sourceCache.id,"' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source."));var t=r.sourceCache.getSource().tileSize/128,n=r.proxySourceCache.getSource().tileSize;r.sourceCache.update(i,t*n,!0),r._findCoveringTileCache[r.sourceCache.id]={}};this.sourceCache.usedForTerrain||(this._findCoveringTileCache[this.sourceCache.id]={},this.sourceCache.usedForTerrain=!0,a(),this._initializing=!0),a(),i.updateElevation(!n),this._findCoveringTileCache[this.proxySourceCache.id]={},this.proxySourceCache.update(i),this._emptyDEMTextureDirty=!0}else this._disable()}},{key:"_checkRenderCacheEfficiency",value:function(){var t=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==t.efficiency&&e.warnOnce("Terrain render cache efficiency is not optimal (".concat(t.efficiency,"%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '").concat(t.firstUndrapedLayer,"' or create a map using optimizeForTerrain: true option."))}},{key:"_onStyleDataEvent",value:function(e){e.coord&&"source"===e.dataType?this._clearRenderCacheForTile(e.sourceCacheId,e.coord):"style"===e.dataType&&(this._invalidateRenderCache=!0)}},{key:"_disable",value:function(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(var e in this._style._sourceCaches)this._style._sourceCaches[e].usedForTerrain=!1}},{key:"destroy",value:function(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this.pool.forEach((function(e){return e.fb.destroy()})),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture)}},{key:"_source",value:function(){return this.enabled?this.sourceCache:null}},{key:"exaggeration",value:function(){return this._exaggeration}},{key:"visibleDemTiles",get:function(){return this._visibleDemTiles}},{key:"drapeBufferSize",get:function(){var e=2*this.proxySourceCache.getSource().tileSize;return[e,e]}},{key:"useVertexMorphing",set:function(e){this._useVertexMorphing=e}},{key:"updateTileBinding",value:function(t){var i=this;if(this.enabled){this.prevTerrainTileForTile=this.terrainTileForTile;var n=this.proxySourceCache,r=this.painter.transform;this._initializing&&(this._initializing=0===r._centerAltitude&&-1===this.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(r.center),-1),this._emptyDEMTextureDirty=!this._initializing);var o=this.proxyCoords=n.getIds().map((function(e){var t=n.getTileByID(e).tileID;return t.projMatrix=r.calculateProjMatrix(t.toUnwrapped()),t}));!function(t,i){var n=i.transform.pointCoordinate(i.transform.getCameraPoint()),r=new e.pointGeometry(n.x,n.y);t.sort((function(t,i){if(i.overscaledZ-t.overscaledZ)return i.overscaledZ-t.overscaledZ;var n=new e.pointGeometry(t.canonical.x+(1<<t.canonical.z)*t.wrap,t.canonical.y),o=new e.pointGeometry(i.canonical.x+(1<<i.canonical.z)*i.wrap,i.canonical.y),a=r.mult(1<<t.canonical.z);return a.x-=.5,a.y-=.5,a.distSqr(n)-a.distSqr(o)}))}(o,this.painter),this._previousZoom=r.zoom;var a=this.proxyToSource||{};this.proxyToSource={},o.forEach((function(e){i.proxyToSource[e.key]={}})),this.terrainTileForTile={};var s=this._style._sourceCaches;for(var l in s){var u=s[l];if(u.used&&(u!==this.sourceCache&&(this._findCoveringTileCache[u.id]={}),this._setupProxiedCoordsForOrtho(u,t[l],a),!u.usedForTerrain)){var c=t[l];u.getSource().reparseOverscaled&&this._assignTerrainTiles(c)}}this.proxiedCoords[n.id]=o.map((function(e){return new ki(e,e.key,i.orthoMatrix)})),this._assignTerrainTiles(o),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(a),this.renderingToTexture=!1,this._updateTimestamp=e.exported.now();var h={};this._visibleDemTiles=[];var p,f=d(this.proxyCoords);try{for(f.s();!(p=f.n()).done;){var m=p.value,g=this.terrainTileForTile[m.key];if(g){var y=g.tileID.key;y in h||(this._visibleDemTiles.push(g),h[y]=y)}}}catch(v){f.e(v)}finally{f.f()}}}},{key:"_assignTerrainTiles",value:function(e){var t=this;this._initializing||e.forEach((function(e){if(!t.terrainTileForTile[e.key]){var i=t._findTileCoveringTileID(e,t.sourceCache);i&&(t.terrainTileForTile[e.key]=i)}}))}},{key:"_prepareDEMTextures",value:function(){var e=this.painter.context,t=e.gl;for(var i in this.terrainTileForTile){var n=this.terrainTileForTile[i],r=n.dem;!r||n.demTexture&&!n.needsDEMTextureUpload||(e.activeTexture.set(t.TEXTURE1),fi(this.painter,n,r))}}},{key:"_prepareDemTileUniforms",value:function(e,t,i,n){if(!t||null==t.demTexture)return!1;var r=e.tileID.canonical,o=Math.pow(2,t.tileID.canonical.z-r.z),a=n||"";return i["u_dem_tl".concat(a)]=[r.x*o%1,r.y*o%1],i["u_dem_scale".concat(a)]=o,!0}},{key:"emptyDEMTexture",get:function(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}},{key:"_getLoadedAreaMinimum",value:function(){var e=0,t=this._visibleDemTiles.reduce((function(t,i){if(!i.dem)return t;var n=i.dem.tree.minimums[0];return n>0&&e++,t+n}),0);return e?t/e:0}},{key:"_updateEmptyDEMTexture",value:function(){var t=this.painter.context,i=t.gl;t.activeTexture.set(i.TEXTURE2);var n=this._getLoadedAreaMinimum(),r={width:1,height:1,data:new Uint8Array(e.DEMData.pack(n,this.sourceCache.getSource().encoding))};this._emptyDEMTextureDirty=!1;var o=this._emptyDEMTexture;return o?o.update(r,{premultiply:!1}):o=this._emptyDEMTexture=new e.Texture(t,r,i.RGBA,{premultiply:!1}),o}},{key:"setupElevationDraw",value:function(t,i,n){var r,o=this.painter.context,a=o.gl,s=(r=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:e.DEMData.getUnpackVector(r),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0,u_tile_tl_up:[0,0,1],u_tile_tr_up:[0,0,1],u_tile_br_up:[0,0,1],u_tile_bl_up:[0,0,1],u_tile_up_scale:1});s.u_dem_size=this.sourceCache.getSource().tileSize,s.u_exaggeration=this.exaggeration();var l=null,u=null,c=1;if(n&&n.morphing&&this._useVertexMorphing){var h=n.morphing.srcDemTile,d=n.morphing.dstDemTile;c=n.morphing.phase,h&&d&&(this._prepareDemTileUniforms(t,h,s,"_prev")&&(u=h),this._prepareDemTileUniforms(t,d,s)&&(l=d))}if(u&&l?(o.activeTexture.set(a.TEXTURE2),l.demTexture.bind(a.NEAREST,a.CLAMP_TO_EDGE,a.NEAREST),o.activeTexture.set(a.TEXTURE4),u.demTexture.bind(a.NEAREST,a.CLAMP_TO_EDGE,a.NEAREST),s.u_dem_lerp=c):(l=this.terrainTileForTile[t.tileID.key],o.activeTexture.set(a.TEXTURE2),(this._prepareDemTileUniforms(t,l,s)?l.demTexture:this.emptyDEMTexture).bind(a.NEAREST,a.CLAMP_TO_EDGE)),n&&n.useDepthForOcclusion&&(o.activeTexture.set(a.TEXTURE3),this._depthTexture.bind(a.NEAREST,a.CLAMP_TO_EDGE),s.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height]),n&&n.useMeterToDem&&l){var p=(1<<l.tileID.canonical.z)*e.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;s.u_meter_to_dem=p}n&&n.labelPlaneMatrixInv&&(s.u_label_plane_matrix_inv=n.labelPlaneMatrixInv),i.setTerrainUniformValues(o,s)}},{key:"renderToBackBuffer",value:function(t){var i=this.painter,n=this.painter.context;0!==t.length&&(n.bindFramebuffer.set(null),n.viewport.set([0,0,i.width,i.height]),this.renderingToTexture=!1,function(t,i,n,r,o){var a,s,l=t.context,u=l.gl,c=t.options.showTerrainWireframe?2:0,p=function(e,i){if(s!==e){var n=[bi[e]];i&&n.push(bi[c]),a=t.useProgram("terrainRaster",null,n),s=e}},f=t.colorModeForRenderPass(),m=new e.DepthMode(u.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);vi.update(o);var g=t.transform,y=6*Math.pow(1.5,22-g.zoom)*i.exaggeration();(c?[!1,!0]:[!1]).forEach((function(c){s=-1;var v,b,x,_=c?u.LINES:u.TRIANGLES,w=c?i.getWirefameBuffer():[i.gridIndexBuffer,i.gridSegments],S=h(w,2),k=S[0],C=S[1],T=d(r);try{for(T.s();!(v=T.n()).done;){var E=v.value,A=n.getTile(E),P=e.StencilMode.disabled,M=i.prevTerrainTileForTile[E.key],L=i.terrainTileForTile[E.key];x=L,null!=(b=M)&&null!=x&&b.hasData()&&x.hasData()&&null!=b.demTexture&&null!=x.demTexture&&b.tileID.key!==x.tileID.key&&vi.newMorphing(E.key,M,L,o,250),l.activeTexture.set(u.TEXTURE0),A.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE);var O=vi.getMorphValuesForProxy(E.key),R=O?1:0,I=void 0;O&&(I={morphing:{srcDemTile:O.from,dstDemTile:O.to,phase:e.easeCubicInOut(O.phase)}});var D=yi(E.projMatrix,xi(E.canonical,g.renderWorldCopies)?y/10:y);p(R,c),i.setupElevationDraw(A,a,I),t.prepareDrawProgram(l,a,E.toUnwrapped()),a.draw(l,_,m,P,f,e.CullFaceMode.backCCW,D,"terrain_raster",i.gridBuffer,k,C)}}catch(z){T.e(z)}finally{T.f()}}))}(i,this,this.proxySourceCache,t,this._updateTimestamp),this.renderingToTexture=!0,t.splice(0,t.length))}},{key:"renderBatch",value:function(t){if(0===this._drapedRenderBatches.length)return t+1;this.renderingToTexture=!0;var i,n=this.painter,r=this.painter.context,o=this.proxySourceCache,a=this.proxiedCoords[o.id],s=this._drapedRenderBatches.shift(),l=[],u=n.style.order,c=0,h=d(a);try{for(h.s();!(i=h.n()).done;){var p=i.value,f=o.getTileByID(p.proxyTileKey),m=o.proxyCachedFBO[p.key]?o.proxyCachedFBO[p.key][t]:void 0,g=void 0!==m?o.renderCache[m]:this.pool[c++],y=void 0!==m;if(f.texture=g.tex,!y||g.dirty){var v=void 0;r.bindFramebuffer.set(g.fb.framebuffer),this.renderedToTile=!1,g.dirty&&(r.clear({color:e.Color.transparent}),g.dirty=!1);for(var b=s.start;b<=s.end;++b){var x=n.style._layers[u[b]];if(!x.isHidden(n.transform.zoom)){var _=n.style._getLayerSourceCache(x),w=_?this.proxyToSource[p.key][_.id]:[p];if(w){var S=w;r.viewport.set([0,0,g.fb.width,g.fb.height]),v!==(_?_.id:null)&&(this._setupStencil(g,w,x,_),v=_?_.id:null),n.renderLayer(n,_,x,S)}}}this.renderedToTile?(g.dirty=!0,l.push(f.tileID)):y||--c,5===c&&(c=0,this.renderToBackBuffer(l))}else l.push(f.tileID)}}catch(k){h.e(k)}finally{h.f()}return this.renderToBackBuffer(l),this.renderingToTexture=!1,r.bindFramebuffer.set(null),r.viewport.set([0,0,n.width,n.height]),s.end+1}},{key:"postRender",value:function(){}},{key:"renderCacheEfficiency",value:function(e){var t=e.order.length;if(0===t)return{efficiency:100};for(var i,n=0,r=0,o=!1,a=0;a<t;++a){var s=e._layers[e.order[a]];this._style.isLayerDraped(s)?(o&&++n,++r):o||(o=!0,i=s.id)}return 0===r?{efficiency:100}:{efficiency:100*(1-n/r),firstUndrapedLayer:i}}},{key:"getMinElevationBelowMSL",value:function(){var e=0;return this._visibleDemTiles.filter((function(e){return e.dem})).forEach((function(t){e=Math.min(e,t.dem.tree.minimums[0])})),0===e?e:(e-30)*this._exaggeration}},{key:"raycast",value:function(e,t,i){if(!this._visibleDemTiles)return null;var n=this._visibleDemTiles.filter((function(e){return e.dem})).map((function(n){var r=n.tileID,o=Math.pow(2,r.overscaledZ),a=r.canonical,s=a.x,l=a.y,u=s/o,c=(s+1)/o,h=l/o,d=(l+1)/o;return{minx:u,miny:h,maxx:c,maxy:d,t:n.dem.tree.raycastRoot(u,h,c,d,e,t,i),tile:n}}));n.sort((function(e,t){return(null!==e.t?e.t:Number.MAX_VALUE)-(null!==t.t?t.t:Number.MAX_VALUE)}));var r,o=d(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(null==a.t)return null;var s=a.tile.dem.tree.raycast(a.minx,a.miny,a.maxx,a.maxy,e,t,i);if(null!=s)return s}}catch(l){o.e(l)}finally{o.f()}return null}},{key:"_createFBO",value:function(){var t=this.painter.context,i=t.gl,n=this.drapeBufferSize;t.activeTexture.set(i.TEXTURE0);var r=new e.Texture(t,{width:n[0],height:n[1],data:null},i.RGBA);r.bind(i.LINEAR,i.CLAMP_TO_EDGE);var o=t.createFramebuffer(n[0],n[1],!1);return o.colorAttachment.set(r.texture),o.depthAttachment=new Re(t,o.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=t.createRenderbuffer(t.gl.DEPTH_STENCIL,n[0],n[1]),this._stencilRef=0,o.depthAttachment.set(this._sharedDepthStencil),t.clear({stencil:0})):o.depthAttachment.set(this._sharedDepthStencil),t.extTextureFilterAnisotropic&&!t.extTextureFilterAnisotropicForceOff&&i.texParameterf(i.TEXTURE_2D,t.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,t.extTextureFilterAnisotropicMax),{fb:o,tex:r,dirty:!1}}},{key:"_initFBOPool",value:function(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}},{key:"_shouldDisableRenderCache",value:function(){var e=this;if(this._style.light&&this._style.light.hasTransition())return!0;for(var t in this._style._sourceCaches)if(this._style._sourceCaches[t].hasTransition())return!0;return this._style.order.some((function(t){var i=e._style._layers[t],n=i.isHidden(e.painter.transform.zoom),r=i.getCrossfadeParameters(),o=!!r&&1!==r.t,a=i.hasTransition();return"custom"!==i.type&&!n&&(o||a)}))}},{key:"_clearRasterFadeFromRenderCache",value:function(){var e=!1;for(var t in this._style._sourceCaches)if(this._style._sourceCaches[t]._source instanceof ze){e=!0;break}if(e)for(var i=0;i<this._style.order.length;++i){var n=this._style._layers[this._style.order[i]],r=n.isHidden(this.painter.transform.zoom),o=this._style._getLayerSourceCache(n);if("raster"===n.type&&!r&&o){var a,s=n.paint.get("raster-fade-duration"),l=d(this.proxyCoords);try{for(l.s();!(a=l.n()).done;){var u=a.value,c=this.proxyToSource[u.key][o.id];if(c){var h,p=d(c);try{for(p.s();!(h=p.n()).done;){var f=h.value,m=wi(o.getTile(f),o.findLoadedParent(f,0),o,this.painter.transform,s);(1!==m.opacity||0!==m.mix)&&this._clearRenderCacheForTile(o.id,f)}}catch(g){p.e(g)}finally{p.f()}}}}catch(g){l.e(g)}finally{l.f()}}}}},{key:"_setupDrapedRenderBatches",value:function(){var e=this._style.order,t=e.length;if(0!==t){for(var i,n=[],r=0,o=this._style._layers[e[r]];!this._style.isLayerDraped(o)&&o.isHidden(this.painter.transform.zoom)&&++r<t;)o=this._style._layers[e[r]];for(;r<t;++r){var a=this._style._layers[e[r]];a.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(a)?void 0===i&&(i=r):void 0!==i&&(n.push({start:i,end:r-1}),i=void 0))}void 0!==i&&n.push({start:i,end:r-1}),this._drapedRenderBatches=n}}},{key:"_setupRenderCache",value:function(e){var t=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,t.renderCache.length>t.renderCachePool.length){var i=Object.values(t.proxyCachedFBO);t.proxyCachedFBO={};for(var n=0;n<i.length;++n){var r,o=Object.values(i[n]);(r=t.renderCachePool).push.apply(r,c(o))}}}else{this._clearRasterFadeFromRenderCache();for(var a=this.proxyCoords,s=this._tilesDirty,l=a.length-1;l>=0;l--){var u=a[l];if(t.getTileByID(u.key),void 0!==t.proxyCachedFBO[u.key]){var h=e[u.key],p=this.proxyToSource[u.key],f=0,m=function(e){var t=p[e],i=h[e];if(!i||i.length!==t.length||t.some((function(t,n){return t!==i[n]||s[e]&&s[e].hasOwnProperty(t.key)})))return f=-1,"break";++f};for(var g in p)if("break"===m(g))break;for(var y in t.proxyCachedFBO[u.key])t.renderCache[t.proxyCachedFBO[u.key][y]].dirty=f<0||f!==Object.values(h).length}}var v=c(this._drapedRenderBatches);v.sort((function(e,t){return t.end-t.start-(e.end-e.start)}));var b,x=d(v);try{for(x.s();!(b=x.n()).done;){var _,w=b.value,S=d(a);try{for(S.s();!(_=S.n()).done;){var k=_.value;if(!t.proxyCachedFBO[k.key]){var C=t.renderCachePool.pop();void 0===C&&t.renderCache.length<50&&(C=t.renderCache.length,t.renderCache.push(this._createFBO())),void 0!==C&&(t.proxyCachedFBO[k.key]={},t.proxyCachedFBO[k.key][w.start]=C,t.renderCache[C].dirty=!0)}}}catch(T){S.e(T)}finally{S.f()}}}catch(T){x.e(T)}finally{x.f()}this._tilesDirty={}}}},{key:"_setupStencil",value:function(e,t,i,n){if(n&&this._sourceTilesOverlap[n.id]){var r=this.painter.context,o=r.gl;if(t.length<=1)this._overlapStencilType=!1;else{var a;if(i.isTileClipped())a=t.length,this._overlapStencilMode.test={func:o.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(t[0].overscaledZ>t[t.length-1].overscaledZ))return void(this._overlapStencilType=!1);a=1,this._overlapStencilMode.test={func:o.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+a>255&&(r.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=a,this._overlapStencilMode.ref=this._stencilRef,i.isTileClipped()&&this._renderTileClippingMasks(t,this._overlapStencilMode.ref)}}else this._overlapStencilType&&(this._overlapStencilType=!1)}},{key:"stencilModeForRTTOverlap",value:function(t){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[t.key]),this._overlapStencilMode):e.StencilMode.disabled}},{key:"_renderTileClippingMasks",value:function(t,i){var n=this.painter,r=this.painter.context,o=r.gl;n._tileClippingMaskIDs={},r.setColorMode(e.ColorMode.disabled),r.setDepthMode(e.DepthMode.disabled);var a,s=n.useProgram("clippingMask"),l=d(t);try{for(l.s();!(a=l.n()).done;){var u=a.value,c=n._tileClippingMaskIDs[u.key]=--i;s.draw(r,o.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:o.ALWAYS,mask:0},c,255,o.KEEP,o.KEEP,o.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,_i(u.projMatrix),"$clipping",n.tileExtentBuffer,n.quadTriangleIndexBuffer,n.tileExtentSegments)}}catch(h){l.e(h)}finally{l.f()}}},{key:"pointCoordinate",value:function(t){var i=this.painter.transform;if(t.x<0||t.x>i.width||t.y<0||t.y>i.height)return null;var n=[t.x,t.y,1,1];e.transformMat4(n,n,i.pixelMatrixInverse),e.scale$2(n,n,1/n[3]),n[0]/=i.worldSize,n[1]/=i.worldSize;var r=i._camera.position,o=e.mercatorZfromAltitude(1,i.center.lat),a=[r[0],r[1],r[2]/o,0],s=e.subtract([],n.slice(0,3),a);e.normalize(s,s);var l=this.raycast(a,s,this._exaggeration);return null!==l&&l?(e.scaleAndAdd(a,a,s,l),a[3]=a[2],a[2]*=o,a):null}},{key:"drawDepth",value:function(){var t=this.painter,i=t.context,n=this.proxySourceCache,r=Math.ceil(t.width),o=Math.ceil(t.height);if(!this._depthFBO||this._depthFBO.width===r&&this._depthFBO.height===o||(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture),!this._depthFBO){var a=i.gl,s=i.createFramebuffer(r,o,!0);i.activeTexture.set(a.TEXTURE0);var l=new e.Texture(i,{width:r,height:o,data:null},a.RGBA);l.bind(a.NEAREST,a.CLAMP_TO_EDGE),s.colorAttachment.set(l.texture);var u=i.createRenderbuffer(i.gl.DEPTH_COMPONENT16,r,o);s.depthAttachment.set(u),this._depthFBO=s,this._depthTexture=l}i.bindFramebuffer.set(this._depthFBO.framebuffer),i.viewport.set([0,0,r,o]),function(t,i,n,r){var o=t.context,a=o.gl;o.clear({depth:1});var s,l=t.useProgram("terrainDepth"),u=new e.DepthMode(a.LESS,e.DepthMode.ReadWrite,t.depthRangeFor3D),c=d(r);try{for(c.s();!(s=c.n()).done;){var h=s.value,p=n.getTile(h),f=yi(h.projMatrix,0);i.setupElevationDraw(p,l),l.draw(o,a.TRIANGLES,u,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.backCCW,f,"terrain_depth",i.gridBuffer,i.gridIndexBuffer,i.gridNoSkirtSegments)}}catch(m){c.e(m)}finally{c.f()}}(t,this,n,this.proxyCoords)}},{key:"_setupProxiedCoordsForOrtho",value:function(e,t,i){if(e.getSource()instanceof Be)return this._setupProxiedCoordsForImageSource(e,t,i);this._findCoveringTileCache[e.id]=this._findCoveringTileCache[e.id]||{};for(var n=this.proxiedCoords[e.id]=[],r=this.proxyCoords,o=0;o<r.length;o++){var a=r[o],s=this._findTileCoveringTileID(a,e);if(s){var l=this._createProxiedId(a,s,i[a.key]&&i[a.key][e.id]);n.push(l),this.proxyToSource[a.key][e.id]=[l]}}for(var u=!1,c=0;c<t.length;c++){var h=e.getTile(t[c]);if(h&&h.hasData()){var d=this._findTileCoveringTileID(h.tileID,this.proxySourceCache);if(d&&d.tileID.canonical.z!==h.tileID.canonical.z){var p=this.proxyToSource[d.tileID.key][e.id],f=this._createProxiedId(d.tileID,h,i[d.tileID.key]&&i[d.tileID.key][e.id]);p?p.splice(p.length-1,0,f):this.proxyToSource[d.tileID.key][e.id]=[f],n.push(f),u=!0}}}this._sourceTilesOverlap[e.id]=u}},{key:"_setupProxiedCoordsForImageSource",value:function(t,i,n){if(t.getSource().loaded())for(var r=this.proxiedCoords[t.id]=[],o=this.proxyCoords,a=t.getSource(),s=new e.pointGeometry(a.tileID.x,a.tileID.y)._div(1<<a.tileID.z),l=a.coordinates.map(e.MercatorCoordinate.fromLngLat).reduce((function(e,t){return e.min.x=Math.min(e.min.x,t.x-s.x),e.min.y=Math.min(e.min.y,t.y-s.y),e.max.x=Math.max(e.max.x,t.x-s.x),e.max.y=Math.max(e.max.y,t.y-s.y),e}),{min:new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new e.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),u=function(t,i){var n=t.wrap+t.canonical.x/(1<<t.canonical.z),r=t.canonical.y/(1<<t.canonical.z),o=e.EXTENT/(1<<t.canonical.z),a=i.wrap+i.canonical.x/(1<<i.canonical.z),s=i.canonical.y/(1<<i.canonical.z);return n+o<a+l.min.x||n>a+l.max.x||r+o<s+l.min.y||r>s+l.max.y},c=0;c<o.length;c++)for(var h=o[c],d=0;d<i.length;d++){var p=t.getTile(i[d]);if(p&&p.hasData()&&!u(h,p.tileID)){var f=this._createProxiedId(h,p,n[h.key]&&n[h.key][t.id]),m=this.proxyToSource[h.key][t.id];m?m.push(f):this.proxyToSource[h.key][t.id]=[f],r.push(f)}}}},{key:"_createProxiedId",value:function(t,i,n){var r=this.orthoMatrix;if(n){var o=n.find((function(e){return e.key===i.tileID.key}));if(o)return o}if(i.tileID.key!==t.key){var a,s,l,u=t.canonical.z-i.tileID.canonical.z;r=e.create$1();var c=i.tileID.wrap-t.wrap<<t.overscaledZ;u>0?(s=(a=e.EXTENT>>u)*((i.tileID.canonical.x<<u)-t.canonical.x+c),l=a*((i.tileID.canonical.y<<u)-t.canonical.y)):(a=e.EXTENT<<-u,s=e.EXTENT*(i.tileID.canonical.x-(t.canonical.x+c<<-u)),l=e.EXTENT*(i.tileID.canonical.y-(t.canonical.y<<-u))),e.ortho(r,0,a,0,a,0,1),e.translate(r,r,[s,l,0])}return new ki(i.tileID,t.key,r)}},{key:"_findTileCoveringTileID",value:function(t,i){var n=i.getTile(t);if(n&&n.hasData())return n;var r=this._findCoveringTileCache[i.id],o=r[t.key];if((n=o?i.getTileByID(o):null)&&n.hasData()||null===o)return n;var a=n?n.tileID:t,s=a.overscaledZ,l=i.getSource().minzoom,u=[];if(!o){var c=i.getSource().maxzoom;if(t.canonical.z>=c){var h=t.canonical.z-c;i.getSource().reparseOverscaled?(s=Math.max(t.canonical.z+2,i.transform.tileZoom),a=new e.OverscaledTileID(s,t.wrap,c,t.canonical.x>>h,t.canonical.y>>h)):0!==h&&(s=c,a=new e.OverscaledTileID(s,t.wrap,c,t.canonical.x>>h,t.canonical.y>>h))}a.key!==t.key&&(u.push(a.key),n=i.getTile(a))}var d=function(e){u.forEach((function(t){r[t]=e})),u.length=0};for(s-=1;s>=l&&(!n||!n.hasData());s--){n&&d(n.tileID.key);var p=a.calculateScaledKey(s);if((n=i.getTileByID(p))&&n.hasData())break;var f=r[p];if(null===f)break;void 0===f?u.push(p):n=i.getTileByID(f)}return d(n?n.tileID.key:null),n&&n.hasData()?n:null}},{key:"findDEMTileFor",value:function(e){return this.enabled?this._findTileCoveringTileID(e,this.sourceCache):null}},{key:"prepareDrawTile",value:function(e){this.renderedToTile=!0}},{key:"_clearRenderCacheForTile",value:function(e,t){var i=this._tilesDirty[e];i||(i=this._tilesDirty[e]={}),i[t.key]=!0}},{key:"getWirefameBuffer",value:function(){if(!this.wireframeSegments){var t=function(t){var i,n,r,o=new e.StructArrayLayout2ui4,a=131;for(n=1;n<129;n++){for(i=1;i<129;i++)r=n*a+i,o.emplaceBack(r,r+1),o.emplaceBack(r,r+a),o.emplaceBack(r+1,r+a),128===n&&o.emplaceBack(r+a,r+a+1);o.emplaceBack(r+1,r+1+a)}return o}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(t),this.wireframeSegments=e.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,t.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}]),n}(e.Elevation);function Ti(e){for(var t=[],i=0;i<e.length;i++)if(null!==e[i]){var n=e[i].split(" ");t.push(n.pop())}return t}var Ei=function(){function t(i,n,r,o,a,s){g(this,t);var l=i.gl;this.program=l.createProgram();var u,c=Ti(r.staticAttributes),h=o?o.getBinderAttributes():[],p=c.concat(h),f=r.staticUniforms?Ti(r.staticUniforms):[],m=o?o.getBinderUniforms():[],y=f.concat(m),v=[],b=d(y);try{for(b.s();!(u=b.n()).done;){var x=u.value;v.indexOf(x)<0&&v.push(x)}}catch(L){b.e(L)}finally{b.f()}var _=o?o.defines():[];_=_.concat(s.map((function(e){return"#define ".concat(e)})));var w=_.concat("\n#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",li,si.fragmentSource,ai.fragmentSource,r.fragmentSource).join("\n"),S=_.concat("\n#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",li,si.vertexSource,ai.vertexSource,oi.vertexSource,r.vertexSource).join("\n"),k=l.createShader(l.FRAGMENT_SHADER);if(l.isContextLost())this.failedToCreate=!0;else{l.shaderSource(k,w),l.compileShader(k),l.attachShader(this.program,k);var C=l.createShader(l.VERTEX_SHADER);if(l.isContextLost())this.failedToCreate=!0;else{l.shaderSource(C,S),l.compileShader(C),l.attachShader(this.program,C),this.attributes={};var T={};this.numAttributes=p.length;for(var E=0;E<this.numAttributes;E++)p[E]&&(l.bindAttribLocation(this.program,E,p[E]),this.attributes[p[E]]=E);l.linkProgram(this.program),l.deleteShader(C),l.deleteShader(k);for(var A=0;A<v.length;A++){var P=v[A];if(P&&!T[P]){var M=l.getUniformLocation(this.program,P);M&&(T[P]=M)}}this.fixedUniforms=a(i,T),this.binderUniforms=o?o.getUniforms(i,T):[],-1!==s.indexOf("TERRAIN")&&(this.terrainUniforms=function(t,i){return{u_dem:new e.Uniform1i(t,i.u_dem),u_dem_prev:new e.Uniform1i(t,i.u_dem_prev),u_dem_unpack:new e.Uniform4f(t,i.u_dem_unpack),u_dem_tl:new e.Uniform2f(t,i.u_dem_tl),u_dem_scale:new e.Uniform1f(t,i.u_dem_scale),u_dem_tl_prev:new e.Uniform2f(t,i.u_dem_tl_prev),u_dem_scale_prev:new e.Uniform1f(t,i.u_dem_scale_prev),u_dem_size:new e.Uniform1f(t,i.u_dem_size),u_dem_lerp:new e.Uniform1f(t,i.u_dem_lerp),u_exaggeration:new e.Uniform1f(t,i.u_exaggeration),u_depth:new e.Uniform1i(t,i.u_depth),u_depth_size_inv:new e.Uniform2f(t,i.u_depth_size_inv),u_meter_to_dem:new e.Uniform1f(t,i.u_meter_to_dem),u_label_plane_matrix_inv:new e.UniformMatrix4f(t,i.u_label_plane_matrix_inv),u_tile_tl_up:new e.Uniform3f(t,i.u_tile_tl_up),u_tile_tr_up:new e.Uniform3f(t,i.u_tile_tr_up),u_tile_br_up:new e.Uniform3f(t,i.u_tile_br_up),u_tile_bl_up:new e.Uniform3f(t,i.u_tile_bl_up),u_tile_up_scale:new e.Uniform1f(t,i.u_tile_up_scale)}}(i,T)),-1!==s.indexOf("FOG")&&(this.fogUniforms=function(t,i){return{u_fog_matrix:new e.UniformMatrix4f(t,i.u_fog_matrix),u_fog_range:new e.Uniform2f(t,i.u_fog_range),u_fog_color:new e.Uniform4f(t,i.u_fog_color),u_fog_horizon_blend:new e.Uniform1f(t,i.u_fog_horizon_blend),u_fog_temporal_offset:new e.Uniform1f(t,i.u_fog_temporal_offset)}}(i,T))}}}return y(t,[{key:"setTerrainUniformValues",value:function(e,t){if(this.terrainUniforms){var i=this.terrainUniforms;if(!this.failedToCreate)for(var n in e.program.set(this.program),t)i[n].set(t[n])}}},{key:"setFogUniformValues",value:function(e,t){if(this.fogUniforms){var i=this.fogUniforms;if(!this.failedToCreate)for(var n in e.program.set(this.program),t)i[n].location&&i[n].set(t[n])}}},{key:"draw",value:function(e,t,i,r,o,a,s,l,u,c,h,p,f,m,g,y){var v,b=e.gl;if(!this.failedToCreate){for(var x in e.program.set(this.program),e.setDepthMode(i),e.setStencilMode(r),e.setColorMode(o),e.setCullFace(a),this.fixedUniforms)this.fixedUniforms[x].set(s[x]);m&&m.setUniforms(e,this.binderUniforms,p,{zoom:f});var _,w=(v={},n(v,b.LINES,2),n(v,b.TRIANGLES,3),n(v,b.LINE_STRIP,1),v)[t],S=d(h.get());try{for(S.s();!(_=S.n()).done;){var k=_.value,C=k.vaos||(k.vaos={});(C[l]||(C[l]=new hi)).bind(e,this,u,m?m.getPaintVertexBuffers():[],c,k.vertexOffset,g,y),b.drawElements(t,k.primitiveLength*w,b.UNSIGNED_SHORT,k.primitiveOffset*w*2)}}catch(T){S.e(T)}finally{S.f()}}}}],[{key:"cacheKey",value:function(e,t,i){var n,r="".concat(e).concat(i?i.cacheKey:""),o=d(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;r+="/".concat(a)}}catch(s){o.e(s)}finally{o.f()}return r}}]),t}();function Ai(e,t,i){var n=1/W(i,1,t.transform.tileZoom),r=Math.pow(2,i.tileID.overscaledZ),o=i.tileSize*Math.pow(2,t.transform.tileZoom)/r,a=o*(i.tileID.canonical.x+i.tileID.wrap*r),s=o*i.tileID.canonical.y;return{u_image:0,u_texsize:i.imageAtlasTexture.size,u_scale:[n,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[a>>16,s>>16],u_pixel_coord_lower:[65535&a,65535&s]}}var Pi=function(t,i,n,r){var o=i.style.light,a=o.properties.get("position"),s=[a.x,a.y,a.z],l=e.create$2();"viewport"===o.properties.get("anchor")&&(e.fromRotation(l,-i.transform.angle),e.transformMat3(s,s,l));var u=o.properties.get("color");return{u_matrix:t,u_lightpos:s,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[u.r,u.g,u.b],u_vertical_gradient:+n,u_opacity:r}},Mi=function(t,i,n,r,o,a,s){return e.extend(Pi(t,i,n,r),Ai(a,i,s),{u_height_factor:-Math.pow(2,o.overscaledZ)/s.tileSize/8})},Li=function(e){return{u_matrix:e}},Oi=function(t,i,n,r){return e.extend(Li(t),Ai(n,i,r))},Ri=function(e,t){return{u_matrix:e,u_world:t}},Ii=function(t,i,n,r,o){return e.extend(Oi(t,i,n,r),{u_world:o})},Di=function(t,i,n,r){var o,a=t.transform;return o="map"===r.paint.get("circle-pitch-alignment")?a.calculatePixelsToTileUnitsMatrix(n):new Float32Array([a.pixelsToGLUnits[0],0,0,a.pixelsToGLUnits[1]]),{u_camera_to_center_distance:a.cameraToCenterDistance,u_matrix:t.translatePosMatrix(i.projMatrix,n,r.paint.get("circle-translate"),r.paint.get("circle-translate-anchor")),u_device_pixel_ratio:e.exported.devicePixelRatio,u_extrude_scale:o}},zi=function(e){var t=[];return"map"===e.paint.get("circle-pitch-alignment")&&t.push("PITCH_WITH_MAP"),"map"===e.paint.get("circle-pitch-scale")&&t.push("SCALE_WITH_MAP"),t},Bi=function(t,i,n){var r=e.EXTENT/n.tileSize;return{u_matrix:t,u_camera_to_center_distance:i.cameraToCenterDistance,u_extrude_scale:[i.pixelsToGLUnits[0]/r,i.pixelsToGLUnits[1]/r]}},Fi=function(e,t){return{u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:arguments.length>2&&void 0!==arguments[2]?arguments[2]:1}},Ni=function(e,t,i,n){return{u_matrix:e,u_extrude_scale:W(t,1,i),u_intensity:n}},ji=function(t,i,n,r,o,a){var s=t.transform,l=s.calculatePixelsToTileUnitsMatrix(i),u={u_matrix:Wi(t,i,n,o),u_pixels_to_tile_units:l,u_device_pixel_ratio:e.exported.devicePixelRatio,u_units_to_pixels:[1/s.pixelsToGLUnits[0],1/s.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:a,u_texsize:[0,0],u_scale:[0,0,0],u_mix:0};if(Gi(n)){var c=Ui(i,t.transform);u.u_texsize=i.lineAtlasTexture.size,u.u_scale=[c,r.fromScale,r.toScale],u.u_mix=r.t}return u},Vi=function(t,i,n,r,o){var a=t.transform,s=Ui(i,a);return{u_matrix:Wi(t,i,n,o),u_texsize:i.imageAtlasTexture.size,u_pixels_to_tile_units:a.calculatePixelsToTileUnitsMatrix(i),u_device_pixel_ratio:e.exported.devicePixelRatio,u_image:0,u_scale:[s,r.fromScale,r.toScale],u_fade:r.t,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]]}};function Ui(e,t){return 1/W(e,1,t.tileZoom)}function Wi(e,t,i,n){return e.translatePosMatrix(n||t.tileID.projMatrix,t,i.paint.get("line-translate"),i.paint.get("line-translate-anchor"))}var Hi=function(e){var t=[];return Gi(e)&&t.push("RENDER_LINE_DASH"),e.paint.get("line-gradient")&&t.push("RENDER_LINE_GRADIENT"),t};function Gi(e){var t=e.paint.get("line-dasharray").value;return t.value||"constant"!==t.kind}var qi=function(e,t,i,n,r){return{u_matrix:e,u_tl_parent:t,u_scale_parent:i,u_buffer_scale:1,u_fade_t:n.mix,u_opacity:n.opacity*r.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:r.paint.get("raster-brightness-min"),u_brightness_high:r.paint.get("raster-brightness-max"),u_saturation_factor:(a=r.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(o=r.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:Zi(r.paint.get("raster-hue-rotate"))};var o,a};function Zi(e){e*=Math.PI/180;var t=Math.sin(e),i=Math.cos(e);return[(2*i+1)/3,(-Math.sqrt(3)*t-i+1)/3,(Math.sqrt(3)*t-i+1)/3]}var Xi,Yi=function(e,t,i,n,r,o,a,s,l,u,c,h,d,p){var f=r.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:f.cameraToCenterDistance,u_pitch:f.pitch/360*2*Math.PI,u_rotate_symbol:+i,u_aspect_ratio:f.width/f.height,u_fade_change:r.options.fadeDuration?r.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:a,u_coord_matrix:s,u_is_text:+l,u_pitch_with_map:+n,u_texsize:u,u_tile_id:c,u_zoom_transition:h,u_inv_rot_matrix:d,u_merc_center:p,u_texture:0}},$i=function(t,i,n,r,o,a,s,l,u,c,h,d,p,f,m){var g=o.transform,y=g.cameraToCenterDistance,v=g._pitch;return e.extend(Yi(t,i,n,r,o,a,s,l,u,c,d,p,f,m),{u_gamma_scale:r?y*Math.cos(o.terrain?0:v):1,u_device_pixel_ratio:e.exported.devicePixelRatio,u_is_halo:+h})},Ki=function(t,i,n,r,o,a,s,l,u,c,h,d,p,f){return e.extend($i(t,i,n,r,o,a,s,l,!0,u,!0,h,d,p,f),{u_texsize_icon:c,u_texture_icon:1})},Qi=function(e,t,i){return{u_matrix:e,u_opacity:t,u_color:i}},Ji=function(t,i,n,r,o,a){return e.extend(function(e,t,i,n){var r=i.imageManager.getPattern(e.from.toString()),o=i.imageManager.getPattern(e.to.toString()),a=i.imageManager.getPixelSize(),s=a.width,l=a.height,u=Math.pow(2,n.tileID.overscaledZ),c=n.tileSize*Math.pow(2,i.transform.tileZoom)/u,h=c*(n.tileID.canonical.x+n.tileID.wrap*u),d=c*n.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:r.tl,u_pattern_br_a:r.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[s,l],u_mix:t.t,u_pattern_size_a:r.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/W(n,1,i.transform.tileZoom),u_pixel_coord_upper:[h>>16,d>>16],u_pixel_coord_lower:[65535&h,65535&d]}}(r,a,n,o),{u_matrix:t,u_opacity:i})},en={fillExtrusion:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_lightpos:new e.Uniform3f(t,i.u_lightpos),u_lightintensity:new e.Uniform1f(t,i.u_lightintensity),u_lightcolor:new e.Uniform3f(t,i.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,i.u_vertical_gradient),u_opacity:new e.Uniform1f(t,i.u_opacity)}},fillExtrusionPattern:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_lightpos:new e.Uniform3f(t,i.u_lightpos),u_lightintensity:new e.Uniform1f(t,i.u_lightintensity),u_lightcolor:new e.Uniform3f(t,i.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,i.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,i.u_height_factor),u_image:new e.Uniform1i(t,i.u_image),u_texsize:new e.Uniform2f(t,i.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,i.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,i.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,i.u_scale),u_fade:new e.Uniform1f(t,i.u_fade),u_opacity:new e.Uniform1f(t,i.u_opacity)}},fill:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix)}},fillPattern:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_image:new e.Uniform1i(t,i.u_image),u_texsize:new e.Uniform2f(t,i.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,i.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,i.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,i.u_scale),u_fade:new e.Uniform1f(t,i.u_fade)}},fillOutline:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_world:new e.Uniform2f(t,i.u_world)}},fillOutlinePattern:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_world:new e.Uniform2f(t,i.u_world),u_image:new e.Uniform1i(t,i.u_image),u_texsize:new e.Uniform2f(t,i.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,i.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,i.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,i.u_scale),u_fade:new e.Uniform1f(t,i.u_fade)}},circle:function(t,i){return{u_camera_to_center_distance:new e.Uniform1f(t,i.u_camera_to_center_distance),u_extrude_scale:new e.UniformMatrix2f(t,i.u_extrude_scale),u_device_pixel_ratio:new e.Uniform1f(t,i.u_device_pixel_ratio),u_matrix:new e.UniformMatrix4f(t,i.u_matrix)}},collisionBox:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,i.u_camera_to_center_distance),u_extrude_scale:new e.Uniform2f(t,i.u_extrude_scale)}},collisionCircle:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_inv_matrix:new e.UniformMatrix4f(t,i.u_inv_matrix),u_camera_to_center_distance:new e.Uniform1f(t,i.u_camera_to_center_distance),u_viewport_size:new e.Uniform2f(t,i.u_viewport_size)}},debug:function(t,i){return{u_color:new e.UniformColor(t,i.u_color),u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_overlay:new e.Uniform1i(t,i.u_overlay),u_overlay_scale:new e.Uniform1f(t,i.u_overlay_scale)}},clippingMask:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix)}},heatmap:function(t,i){return{u_extrude_scale:new e.Uniform1f(t,i.u_extrude_scale),u_intensity:new e.Uniform1f(t,i.u_intensity),u_matrix:new e.UniformMatrix4f(t,i.u_matrix)}},heatmapTexture:function(t,i){return{u_image:new e.Uniform1i(t,i.u_image),u_color_ramp:new e.Uniform1i(t,i.u_color_ramp),u_opacity:new e.Uniform1f(t,i.u_opacity)}},hillshade:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_image:new e.Uniform1i(t,i.u_image),u_latrange:new e.Uniform2f(t,i.u_latrange),u_light:new e.Uniform2f(t,i.u_light),u_shadow:new e.UniformColor(t,i.u_shadow),u_highlight:new e.UniformColor(t,i.u_highlight),u_accent:new e.UniformColor(t,i.u_accent)}},hillshadePrepare:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_image:new e.Uniform1i(t,i.u_image),u_dimension:new e.Uniform2f(t,i.u_dimension),u_zoom:new e.Uniform1f(t,i.u_zoom),u_unpack:new e.Uniform4f(t,i.u_unpack)}},line:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_pixels_to_tile_units:new e.UniformMatrix2f(t,i.u_pixels_to_tile_units),u_device_pixel_ratio:new e.Uniform1f(t,i.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,i.u_units_to_pixels),u_dash_image:new e.Uniform1i(t,i.u_dash_image),u_gradient_image:new e.Uniform1i(t,i.u_gradient_image),u_image_height:new e.Uniform1f(t,i.u_image_height),u_texsize:new e.Uniform2f(t,i.u_texsize),u_scale:new e.Uniform3f(t,i.u_scale),u_mix:new e.Uniform1f(t,i.u_mix)}},linePattern:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_texsize:new e.Uniform2f(t,i.u_texsize),u_pixels_to_tile_units:new e.UniformMatrix2f(t,i.u_pixels_to_tile_units),u_device_pixel_ratio:new e.Uniform1f(t,i.u_device_pixel_ratio),u_image:new e.Uniform1i(t,i.u_image),u_units_to_pixels:new e.Uniform2f(t,i.u_units_to_pixels),u_scale:new e.Uniform3f(t,i.u_scale),u_fade:new e.Uniform1f(t,i.u_fade)}},raster:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_tl_parent:new e.Uniform2f(t,i.u_tl_parent),u_scale_parent:new e.Uniform1f(t,i.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,i.u_buffer_scale),u_fade_t:new e.Uniform1f(t,i.u_fade_t),u_opacity:new e.Uniform1f(t,i.u_opacity),u_image0:new e.Uniform1i(t,i.u_image0),u_image1:new e.Uniform1i(t,i.u_image1),u_brightness_low:new e.Uniform1f(t,i.u_brightness_low),u_brightness_high:new e.Uniform1f(t,i.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,i.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,i.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,i.u_spin_weights)}},symbolIcon:function(t,i){return{u_is_size_zoom_constant:new e.Uniform1i(t,i.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,i.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,i.u_size_t),u_size:new e.Uniform1f(t,i.u_size),u_camera_to_center_distance:new e.Uniform1f(t,i.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,i.u_pitch),u_rotate_symbol:new e.Uniform1i(t,i.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,i.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,i.u_fade_change),u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,i.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,i.u_coord_matrix),u_is_text:new e.Uniform1i(t,i.u_is_text),u_pitch_with_map:new e.Uniform1i(t,i.u_pitch_with_map),u_texsize:new e.Uniform2f(t,i.u_texsize),u_tile_id:new e.Uniform3f(t,i.u_tile_id),u_zoom_transition:new e.Uniform1f(t,i.u_zoom_transition),u_inv_rot_matrix:new e.UniformMatrix4f(t,i.u_inv_rot_matrix),u_merc_center:new e.Uniform2f(t,i.u_merc_center),u_texture:new e.Uniform1i(t,i.u_texture)}},symbolSDF:function(t,i){return{u_is_size_zoom_constant:new e.Uniform1i(t,i.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,i.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,i.u_size_t),u_size:new e.Uniform1f(t,i.u_size),u_camera_to_center_distance:new e.Uniform1f(t,i.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,i.u_pitch),u_rotate_symbol:new e.Uniform1i(t,i.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,i.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,i.u_fade_change),u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,i.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,i.u_coord_matrix),u_is_text:new e.Uniform1i(t,i.u_is_text),u_pitch_with_map:new e.Uniform1i(t,i.u_pitch_with_map),u_texsize:new e.Uniform2f(t,i.u_texsize),u_texture:new e.Uniform1i(t,i.u_texture),u_gamma_scale:new e.Uniform1f(t,i.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,i.u_device_pixel_ratio),u_tile_id:new e.Uniform3f(t,i.u_tile_id),u_zoom_transition:new e.Uniform1f(t,i.u_zoom_transition),u_inv_rot_matrix:new e.UniformMatrix4f(t,i.u_inv_rot_matrix),u_merc_center:new e.Uniform2f(t,i.u_merc_center),u_is_halo:new e.Uniform1i(t,i.u_is_halo)}},symbolTextAndIcon:function(t,i){return{u_is_size_zoom_constant:new e.Uniform1i(t,i.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,i.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,i.u_size_t),u_size:new e.Uniform1f(t,i.u_size),u_camera_to_center_distance:new e.Uniform1f(t,i.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,i.u_pitch),u_rotate_symbol:new e.Uniform1i(t,i.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,i.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,i.u_fade_change),u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,i.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,i.u_coord_matrix),u_is_text:new e.Uniform1i(t,i.u_is_text),u_pitch_with_map:new e.Uniform1i(t,i.u_pitch_with_map),u_texsize:new e.Uniform2f(t,i.u_texsize),u_texsize_icon:new e.Uniform2f(t,i.u_texsize_icon),u_texture:new e.Uniform1i(t,i.u_texture),u_texture_icon:new e.Uniform1i(t,i.u_texture_icon),u_gamma_scale:new e.Uniform1f(t,i.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,i.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,i.u_is_halo)}},background:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_opacity:new e.Uniform1f(t,i.u_opacity),u_color:new e.UniformColor(t,i.u_color)}},backgroundPattern:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_opacity:new e.Uniform1f(t,i.u_opacity),u_image:new e.Uniform1i(t,i.u_image),u_pattern_tl_a:new e.Uniform2f(t,i.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,i.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,i.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,i.u_pattern_br_b),u_texsize:new e.Uniform2f(t,i.u_texsize),u_mix:new e.Uniform1f(t,i.u_mix),u_pattern_size_a:new e.Uniform2f(t,i.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,i.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,i.u_scale_a),u_scale_b:new e.Uniform1f(t,i.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,i.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,i.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,i.u_tile_units_to_pixels)}},terrainRaster:gi,terrainDepth:gi,skybox:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_sun_direction:new e.Uniform3f(t,i.u_sun_direction),u_cubemap:new e.Uniform1i(t,i.u_cubemap),u_opacity:new e.Uniform1f(t,i.u_opacity),u_temporal_offset:new e.Uniform1f(t,i.u_temporal_offset)}},skyboxGradient:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_color_ramp:new e.Uniform1i(t,i.u_color_ramp),u_center_direction:new e.Uniform3f(t,i.u_center_direction),u_radius:new e.Uniform1f(t,i.u_radius),u_opacity:new e.Uniform1f(t,i.u_opacity),u_temporal_offset:new e.Uniform1f(t,i.u_temporal_offset)}},skyboxCapture:function(t,i){return{u_matrix_3f:new e.UniformMatrix3f(t,i.u_matrix_3f),u_sun_direction:new e.Uniform3f(t,i.u_sun_direction),u_sun_intensity:new e.Uniform1f(t,i.u_sun_intensity),u_color_tint_r:new e.Uniform4f(t,i.u_color_tint_r),u_color_tint_m:new e.Uniform4f(t,i.u_color_tint_m),u_luminance:new e.Uniform1f(t,i.u_luminance)}}};function tn(t,i,n,r,o,a,s){for(var l=t.context,u=l.gl,c=t.useProgram("collisionBox"),h=[],d=0,p=0,f=0;f<r.length;f++){var m=r[f],g=i.getTile(m),y=g.getBucket(n);if(y){var v=m.projMatrix;0===o[0]&&0===o[1]||(v=t.translatePosMatrix(m.projMatrix,g,o,a));var b=s?y.textCollisionBox:y.iconCollisionBox,x=y.collisionCircleArray;if(x.length>0){var _=e.create$1(),w=v;e.mul$1(_,y.placementInvProjMatrix,t.transform.glCoordMatrix),e.mul$1(_,_,y.placementViewportMatrix),h.push({circleArray:x,circleOffset:p,transform:w,invTransform:_}),p=d+=x.length/4}b&&(t.terrain&&t.terrain.setupElevationDraw(g,c),c.draw(l,u.LINES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,Bi(v,t.transform,g),n.id,b.layoutVertexBuffer,b.indexBuffer,b.segments,null,t.transform.zoom,null,b.collisionVertexBuffer,b.collisionVertexBufferExt))}}if(s&&h.length){var S=t.useProgram("collisionCircle"),k=new e.StructArrayLayout2f1f2i16;k.resize(4*d),k._trim();for(var C=0,T=0,E=h;T<E.length;T++)for(var A=E[T],P=0;P<A.circleArray.length/4;P++){var M=4*P,L=A.circleArray[M+0],O=A.circleArray[M+1],R=A.circleArray[M+2],I=A.circleArray[M+3];k.emplace(C++,L,O,R,I,0),k.emplace(C++,L,O,R,I,1),k.emplace(C++,L,O,R,I,2),k.emplace(C++,L,O,R,I,3)}(!Xi||Xi.length<2*d)&&(Xi=function(t){var i=2*t,n=new e.StructArrayLayout3ui6;n.resize(i),n._trim();for(var r=0;r<i;r++){var o=6*r;n.uint16[o+0]=4*r+0,n.uint16[o+1]=4*r+1,n.uint16[o+2]=4*r+2,n.uint16[o+3]=4*r+2,n.uint16[o+4]=4*r+3,n.uint16[o+5]=4*r+0}return n}(d));for(var D,z=l.createIndexBuffer(Xi,!0),B=l.createVertexBuffer(k,e.collisionCircleLayout.members,!0),F=0,N=h;F<N.length;F++){var j=N[F],V={u_matrix:j.transform,u_inv_matrix:j.invTransform,u_camera_to_center_distance:(D=t.transform).cameraToCenterDistance,u_viewport_size:[D.width,D.height]};S.draw(l,u.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,V,n.id,B,z,e.SegmentVector.simpleSegment(0,2*j.circleOffset,j.circleArray.length,j.circleArray.length/2),null,t.transform.zoom,null,null,null)}B.destroy(),z.destroy()}}var nn=e.identity(new Float32Array(16));function rn(t,i,n,r,o,a){var s=e.getAnchorAlignment(t),l=-(s.horizontalAlign-.5)*i,u=-(s.verticalAlign-.5)*n,c=e.evaluateVariableOffset(t,r);return new e.pointGeometry((l/o+c[0])*a,(u/o+c[1])*a)}function on(t,i,n,r,o,a,s,l,u,c,h,d){var p=t.text.placedSymbolArray,f=t.text.dynamicLayoutVertexArray,m=t.icon.dynamicLayoutVertexArray,g={};f.clear();for(var y=0;y<p.length;y++){var v=p.get(y),b=t.allowVerticalPlacement&&!v.placedOrientation,x=v.hidden||!v.crossTileID||b?null:r[v.crossTileID];if(x){var _=new e.pointGeometry(v.tileAnchorX,v.tileAnchorY),w=d(_),S=ct(_,n?l:s,w),k=ht(a.cameraToCenterDistance,S.signedDistanceFromCamera),C=o.evaluateSizeForFeature(t.textSizeData,c,v)*k/e.ONE_EM;n&&(C*=t.tilePixelRatio/u);for(var T=x.width,E=x.height,A=rn(x.anchor,T,E,x.textOffset,x.textScale,C),P=n?ct(_.add(A),s,w).point:S.point.add(i?A.rotate(-a.angle):A),M=t.allowVerticalPlacement&&v.placedOrientation===e.WritingMode.vertical?Math.PI/2:0,L=0;L<v.numGlyphs;L++)e.addDynamicAttributes(f,P,M);h&&v.associatedIconIndex>=0&&(g[v.associatedIconIndex]={shiftedAnchor:P,angle:M})}else _t(v.numGlyphs,f)}if(h){m.clear();for(var O=t.icon.placedSymbolArray,R=0;R<O.length;R++){var I=O.get(R);if(I.hidden)_t(I.numGlyphs,m);else{var D=g[R];if(D)for(var z=0;z<I.numGlyphs;z++)e.addDynamicAttributes(m,D.shiftedAnchor,D.angle);else _t(I.numGlyphs,m)}}t.icon.dynamicLayoutVertexBuffer.updateData(m)}t.text.dynamicLayoutVertexBuffer.updateData(f)}function an(e,t,i){return i.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function sn(t,i,n,r,o,a,s,l,u,c,h,p){var f=t.context,m=f.gl,g=t.transform,y="map"===l,v="map"===u,b=y&&"point"!==n.layout.get("symbol-placement"),x=y&&!v&&!b,_=void 0!==n.layout.get("symbol-sort-key").constantOr(1),w=!1,S=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),k=[0,0],C=n.layout.get("text-variable-anchor"),T=[],E=[];t.terrain&&v&&E.push("PITCH_WITH_MAP_TERRAIN"),b&&E.push("PROJECTED_POS_ON_VIEWPORT");var A,P=d(r);try{var M=function(){var r=A.value,l=i.getTile(r),u=l.getBucket(n);if(!u)return"continue";var h=o?u.text:u.icon;if(!h||!h.segments.get().length)return"continue";var p=h.programConfigurations.get(n.id),f=o||u.sdfIcons,S=o?u.textSizeData:u.iconSizeData,P=v||0!==g.pitch,M=t.useProgram(an(f,o,u),p,E),L=e.evaluateSizeForZoom(S,g.zoom),O=[r.canonical.x,r.canonical.y,1<<r.canonical.z],R=void 0,I=void 0,D=void 0,z=void 0,B=[0,0],F=null;if(o){if(I=l.glyphAtlasTexture,D=m.LINEAR,R=l.glyphAtlasTexture.size,u.iconsInText){B=l.imageAtlasTexture.size,F=l.imageAtlasTexture;var N="composite"===S.kind||"camera"===S.kind;z=P||t.options.rotating||t.options.zooming||N?m.LINEAR:m.NEAREST}}else{var j=1!==n.layout.get("icon-size").constantOr(0)||u.iconsNeedLinear;I=l.imageAtlasTexture,D=f||t.options.rotating||t.options.zooming||j||P?m.LINEAR:m.NEAREST,R=l.imageAtlasTexture.size}var V=t.transform.calculatePixelsToTileUnitsMatrix(l),U=lt(r.projMatrix,v,y,t.transform,V),W=t.terrain&&v&&b?e.invert(new Float32Array(16),U):nn,H=ut(r.projMatrix,v,y,t.transform,V),G=C&&u.hasTextData(),q="none"!==n.layout.get("icon-text-fit")&&G&&u.hasIconData();if(b){var Z=g.elevation;pt(u,r.projMatrix,t,o,U,H,v,c,Z?function(e){return Z.getAtTileOffset(r,e.x,e.y)}:null)}var X=t.translatePosMatrix(r.projMatrix,l,a,s),Y=b||o&&C||q?nn:U,$=t.translatePosMatrix(H,l,a,s,!0),K=f&&0!==n.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1),Q={program:M,buffers:h,uniformValues:f?u.iconsInText?Ki(S.kind,L,x,v,t,X,Y,$,R,B,O,0,t.identityMat,k):$i(S.kind,L,x,v,t,X,Y,$,o,R,!0,O,0,t.identityMat,k):Yi(S.kind,L,x,v,t,X,Y,$,o,R,O,0,t.identityMat,k),atlasTexture:I,atlasTextureIcon:F,atlasInterpolation:D,atlasInterpolationIcon:z,isSDF:f,hasHalo:K,tile:l,labelPlaneMatrixInv:W};if(_&&u.canOverlap){w=!0;var J,ee=h.segments.get(),te=d(ee);try{for(te.s();!(J=te.n()).done;){var ie=J.value;T.push({segments:new e.SegmentVector([ie]),sortKey:ie.sortKey,state:Q})}}catch(ne){te.e(ne)}finally{te.f()}}else T.push({segments:h.segments,sortKey:0,state:Q})};for(P.s();!(A=P.n()).done;)M()}catch(z){P.e(z)}finally{P.f()}w&&T.sort((function(e,t){return e.sortKey-t.sortKey}));for(var L=0,O=T;L<O.length;L++){var R=O[L],I=R.state;if(t.terrain&&t.terrain.setupElevationDraw(I.tile,I.program,{useDepthForOcclusion:!0,labelPlaneMatrixInv:I.labelPlaneMatrixInv}),f.activeTexture.set(m.TEXTURE0),I.atlasTexture.bind(I.atlasInterpolation,m.CLAMP_TO_EDGE),I.atlasTextureIcon&&(f.activeTexture.set(m.TEXTURE1),I.atlasTextureIcon&&I.atlasTextureIcon.bind(I.atlasInterpolationIcon,m.CLAMP_TO_EDGE)),I.isSDF){var D=I.uniformValues;I.hasHalo&&(D.u_is_halo=1,ln(I.buffers,R.segments,n,t,I.program,S,h,p,D)),D.u_is_halo=0}ln(I.buffers,R.segments,n,t,I.program,S,h,p,I.uniformValues)}}function ln(t,i,n,r,o,a,s,l,u){var c=r.context;o.draw(c,c.gl.TRIANGLES,a,s,l,e.CullFaceMode.disabled,u,n.id,t.layoutVertexBuffer,t.indexBuffer,i,n.paint,r.transform.zoom,t.programConfigurations.get(n.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function un(t,i,n,r,o,a,s){var l,u,c,h,p,f=t.context.gl,m=n.paint.get("fill-pattern"),g=m&&m.constantOr(1),y=n.getCrossfadeParameters();s?(u=g&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",l=f.LINES):(u=g?"fillPattern":"fill",l=f.TRIANGLES);var v,b=d(r);try{for(b.s();!(v=b.n()).done;){var x=v.value,_=i.getTile(x);if(!g||_.patternsLoaded()){var w=_.getBucket(n);if(w){t.prepareDrawTile(x);var S=w.programConfigurations.get(n.id),k=t.useProgram(u,S);g&&(t.context.activeTexture.set(f.TEXTURE0),_.imageAtlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE),S.updatePaintBuffers(y));var C=m.constantOr(null);if(C&&_.imageAtlas){var T=_.imageAtlas,E=T.patternPositions[C.to.toString()],A=T.patternPositions[C.from.toString()];E&&A&&S.setConstantPatternPositions(E,A)}var P=t.translatePosMatrix(x.projMatrix,_,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(s){h=w.indexBuffer2,p=w.segments2;var M=t.terrain&&t.terrain.renderingToTexture?t.terrain.drapeBufferSize:[f.drawingBufferWidth,f.drawingBufferHeight];c="fillOutlinePattern"===u&&g?Ii(P,t,y,_,M):Ri(P,M)}else h=w.indexBuffer,p=w.segments,c=g?Oi(P,t,y,_):Li(P);t.prepareDrawProgram(t.context,k,x.toUnwrapped()),k.draw(t.context,l,o,t.stencilModeForClipping(x),a,e.CullFaceMode.disabled,c,n.id,w.layoutVertexBuffer,h,p,n.paint,t.transform.zoom,S)}}}}catch(L){b.e(L)}finally{b.f()}}function cn(t,i,n,r,o,a,s){var l,u=t.context,c=u.gl,h=n.paint.get("fill-extrusion-pattern"),p=h.constantOr(1),f=n.getCrossfadeParameters(),m=n.paint.get("fill-extrusion-opacity"),g=d(r);try{for(g.s();!(l=g.n()).done;){var y=l.value,v=i.getTile(y),b=v.getBucket(n);if(b){var x=b.programConfigurations.get(n.id),_=t.useProgram(p?"fillExtrusionPattern":"fillExtrusion",x);if(t.terrain){var w=t.terrain;if(!b.enableTerrain)continue;if(w.setupElevationDraw(v,_,{useMeterToDem:!0}),hn(u,i,y,b,n,w),!b.centroidVertexBuffer){var S=_.attributes.a_centroid_pos;void 0!==S&&c.vertexAttrib2f(S,0,0)}}p&&(t.context.activeTexture.set(c.TEXTURE0),v.imageAtlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE),x.updatePaintBuffers(f));var k=h.constantOr(null);if(k&&v.imageAtlas){var C=v.imageAtlas,T=C.patternPositions[k.to.toString()],E=C.patternPositions[k.from.toString()];T&&E&&x.setConstantPatternPositions(T,E)}var A=t.translatePosMatrix(y.projMatrix,v,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),P=n.paint.get("fill-extrusion-vertical-gradient"),M=p?Mi(A,t,P,m,y,f,v):Pi(A,t,P,m);t.prepareDrawProgram(u,_,y.toUnwrapped()),_.draw(u,u.gl.TRIANGLES,o,a,s,e.CullFaceMode.backCCW,M,n.id,b.layoutVertexBuffer,b.indexBuffer,b.segments,n.paint,t.transform.zoom,x,t.terrain?b.centroidVertexBuffer:null)}}}catch(L){g.e(L)}finally{g.f()}}function hn(t,i,n,r,o,a){for(var s,l,u,c=[function(t){var i=t.canonical.x-1,n=t.wrap;return i<0&&(i=(1<<t.canonical.z)-1,n--),new e.OverscaledTileID(t.overscaledZ,n,t.canonical.z,i,t.canonical.y)},function(t){var i=t.canonical.x+1,n=t.wrap;return i===1<<t.canonical.z&&(i=0,n++),new e.OverscaledTileID(t.overscaledZ,n,t.canonical.z,i,t.canonical.y)},function(t){return new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,(0===t.canonical.y?1<<t.canonical.z:t.canonical.y)-1)},function(t){return new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y===(1<<t.canonical.z)-1?0:t.canonical.y+1)}],h=function(e){var t,n,r,a=i.getSource().maxzoom,s=function(e){var t=i.getTileByID(e);if(t&&t.hasData())return t.getBucket(o)};return(e.overscaledZ===e.canonical.z||e.overscaledZ>=a)&&(t=s(e.key)),e.overscaledZ>=a&&(n=s(e.calculateScaledKey(e.overscaledZ+1))),e.overscaledZ>a&&(r=s(e.calculateScaledKey(e.overscaledZ-1))),t||n||r},d=[0,0,0],p=function(t,i){return d[0]=Math.min(t.min.y,i.min.y),d[1]=Math.max(t.max.y,i.max.y),d[2]=e.EXTENT-i.min.x>t.max.x?i.min.x-e.EXTENT:t.max.x,d},f=function(t,i){return d[0]=Math.min(t.min.x,i.min.x),d[1]=Math.max(t.max.x,i.max.x),d[2]=e.EXTENT-i.min.y>t.max.y?i.min.y-e.EXTENT:t.max.y,d},m=[function(e,t){return p(e,t)},function(e,t){return p(t,e)},function(e,t){return f(e,t)},function(e,t){return f(t,e)}],g=new e.pointGeometry(0,0),y=function(t,i,r,o,c){var h=[[o?r:t,o?t:r,0],[o?r:i,o?i:r,0]],d=c<0?e.EXTENT+c:c,p=[o?d:(t+i)/2,o?(t+i)/2:d,0];return 0===r&&c<0||0!==r&&c>0?a.getForTilePoints(u,[p],!0,l):h.push(p),a.getForTilePoints(n,h,!0,s),Math.max(h[0][2],h[1][2],p[2])/a.exaggeration()},v=0;v<4;v++){var b=r.borders[v];if(0===b.length&&(r.borderDone[v]=!0),!r.borderDone[v]){var x=u=c[v](n),_=h(x);if(_&&_.enableTerrain&&(l=a.findDEMTileFor(x))&&l.dem){if(!s){var w=a.findDEMTileFor(n);if(!w||!w.dem)return;s=w}for(var S=(v<2?1:5)-v,k=_.borders[S],C=0,T=0;T<b.length;T++){for(var E=r.featuresOnBorder[b[T]],A=E.borders[v],P=void 0;C<k.length&&!((P=_.featuresOnBorder[k[C]]).borders[S][1]>A[0]+3);)_.borderDone[S]||_.encodeCentroid(void 0,P,!1),C++;if(P&&C<k.length){for(var M=C,L=0;!(P.borders[S][0]>A[1]-3)&&(L++,++C!==k.length);)P=_.featuresOnBorder[k[C]];if(P=_.featuresOnBorder[k[M]],E.intersectsCount()>1||P.intersectsCount()>1||1!==L){1!==L&&(C=M),r.encodeCentroid(void 0,E,!1),_.borderDone[S]||_.encodeCentroid(void 0,P,!1);continue}var O=m[v](E,P),R=v%2?e.EXTENT-1:0;g.x=y(O[0],Math.min(e.EXTENT-1,O[1]),R,v<2,O[2]),g.y=0,r.encodeCentroid(g,E,!1),_.borderDone[S]||_.encodeCentroid(g,P,!1)}else r.encodeCentroid(void 0,E,!1)}r.borderDone[v]=r.needsCentroidUpdate=!0,_.borderDone[S]||(_.borderDone[S]=_.needsCentroidUpdate=!0)}}}(r.needsCentroidUpdate||!r.centroidVertexBuffer&&0!==r.centroidVertexArray.length)&&r.uploadCentroid(t)}var dn=new e.Color(1,0,0,1),pn=new e.Color(0,1,0,1),fn=new e.Color(0,0,1,1),mn=new e.Color(1,0,1,1),gn=new e.Color(0,1,1,1);function yn(e,t,i,n){bn(e,0,t+i/2,e.transform.width,i,n)}function vn(e,t,i,n){bn(e,t-i/2,0,i,e.transform.height,n)}function bn(t,i,n,r,o,a){var s=t.context,l=s.gl;l.enable(l.SCISSOR_TEST),l.scissor(i*e.exported.devicePixelRatio,n*e.exported.devicePixelRatio,r*e.exported.devicePixelRatio,o*e.exported.devicePixelRatio),s.clear({color:a}),l.disable(l.SCISSOR_TEST)}function xn(t,i,n){var r=t.context,o=r.gl,a=n.projMatrix,s=t.useProgram("debug"),l=i.getTileByID(n.key);t.terrain&&t.terrain.setupElevationDraw(l,s);var u=e.DepthMode.disabled,c=e.StencilMode.disabled,h=t.colorModeForRenderPass(),d="$debug";r.activeTexture.set(o.TEXTURE0),t.emptyTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE),l._makeDebugTileBoundsBuffers(t.context,t.transform.projection);var p=l._tileDebugBuffer||t.debugBuffer,f=l._tileDebugIndexBuffer||t.debugIndexBuffer,m=l._tileDebugSegments||t.debugSegments;s.draw(r,o.LINE_STRIP,u,c,h,e.CullFaceMode.disabled,Fi(a,e.Color.red),d,p,f,m);var g=l.latestRawTileData,y=Math.floor((g&&g.byteLength||0)/1024),v=i.getTile(n).tileSize,b=512/Math.min(v,512)*(n.overscaledZ/t.transform.zoom)*.5,x=n.canonical.toString();n.overscaledZ!==n.canonical.z&&(x+=" => ".concat(n.overscaledZ)),function(e,t){e.initDebugOverlayCanvas();var i=e.debugOverlayCanvas,n=e.context.gl,r=e.debugOverlayCanvas.getContext("2d");r.clearRect(0,0,i.width,i.height),r.shadowColor="white",r.shadowBlur=2,r.lineWidth=1.5,r.strokeStyle="white",r.textBaseline="top",r.font="bold 36px Open Sans, sans-serif",r.fillText(t,5,5),r.strokeText(t,5,5),e.debugOverlayTexture.update(i),e.debugOverlayTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}(t,"".concat(x," ").concat(y,"kb")),s.draw(r,o.TRIANGLES,u,c,e.ColorMode.alphaBlended,e.CullFaceMode.disabled,Fi(a,e.Color.transparent,b),d,t.debugBuffer,t.quadTriangleIndexBuffer,t.debugSegments)}var _n=e.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]).members;function wn(e,t,i,n){e.emplaceBack(t,i,n)}var Sn=y((function t(i){g(this,t),this.vertexArray=new e.StructArrayLayout3f12,this.indices=new e.StructArrayLayout3ui6,wn(this.vertexArray,-1,-1,1),wn(this.vertexArray,1,-1,1),wn(this.vertexArray,-1,1,1),wn(this.vertexArray,1,1,1),wn(this.vertexArray,-1,-1,-1),wn(this.vertexArray,1,-1,-1),wn(this.vertexArray,-1,1,-1),wn(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=i.createVertexBuffer(this.vertexArray,_n),this.indexBuffer=i.createIndexBuffer(this.indices),this.segment=e.SegmentVector.simpleSegment(0,0,36,12)}));function kn(t,i,n,r,o,a){var s=t.gl,l=i.paint.get("sky-atmosphere-color"),u=i.paint.get("sky-atmosphere-halo-color"),c=i.paint.get("sky-atmosphere-sun-intensity"),h=function(e,t,i,n,r){return{u_matrix_3f:e,u_sun_direction:t,u_sun_intensity:i,u_color_tint_r:[n.r,n.g,n.b,n.a],u_color_tint_m:[r.r,r.g,r.b,r.a],u_luminance:5e-5}}(e.fromMat4([],r),o,c,l,u);s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+a,i.skyboxTexture,0),n.draw(t,s.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.frontCW,h,"skyboxCapture",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment)}var Cn={symbol:function(t,i,n,r,o){if("translucent"===t.renderPass){var a=e.StencilMode.disabled,s=t.colorModeForRenderPass();n.layout.get("text-variable-anchor")&&function(t,i,n,r,o,a,s){var l,u=i.transform,c="map"===o,h="map"===a,p=d(t);try{var f=function(){var t=l.value,o=r.getTile(t),a=o.getBucket(n);if(!a||!a.text||!a.text.segments.get().length)return"continue";var d=e.evaluateSizeForZoom(a.textSizeData,u.zoom),p=i.transform.calculatePixelsToTileUnitsMatrix(o),f=lt(t.projMatrix,h,c,i.transform,p),m="none"!==n.layout.get("icon-text-fit")&&a.hasIconData();if(d){var g=Math.pow(2,u.zoom-o.tileID.overscaledZ),y=u.elevation;on(a,c,h,s,e.symbolSize,u,f,t.projMatrix,g,d,m,y?function(e){return y.getAtTileOffset(t,e.x,e.y)}:function(e){return 0})}};for(p.s();!(l=p.n()).done;)f()}catch(m){p.e(m)}finally{p.f()}}(r,t,n,i,n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),o),0!==n.paint.get("icon-opacity").constantOr(1)&&sn(t,i,n,r,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright"),a,s),0!==n.paint.get("text-opacity").constantOr(1)&&sn(t,i,n,r,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright"),a,s),i.map.showCollisionBoxes&&(tn(t,i,n,r,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),!0),tn(t,i,n,r,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),!1))}},circle:function(t,i,n,r){if("translucent"===t.renderPass){var o=n.paint.get("circle-opacity"),a=n.paint.get("circle-stroke-width"),s=n.paint.get("circle-stroke-opacity"),l=void 0!==n.layout.get("circle-sort-key").constantOr(1);if(0!==o.constantOr(1)||0!==a.constantOr(1)&&0!==s.constantOr(1)){for(var u=t.context,c=u.gl,h=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),p=e.StencilMode.disabled,f=t.colorModeForRenderPass(),m=[],g=0;g<r.length;g++){var y=r[g],v=i.getTile(y),b=v.getBucket(n);if(b){var x=b.programConfigurations.get(n.id),_=zi(n),w={programConfiguration:x,program:t.useProgram("circle",x,_),layoutVertexBuffer:b.layoutVertexBuffer,indexBuffer:b.indexBuffer,uniformValues:Di(t,y,v,n),tile:v};if(l){var S,k=b.segments.get(),C=d(k);try{for(C.s();!(S=C.n()).done;){var T=S.value;m.push({segments:new e.SegmentVector([T]),sortKey:T.sortKey,state:w})}}catch(F){C.e(F)}finally{C.f()}}else m.push({segments:b.segments,sortKey:0,state:w})}}l&&m.sort((function(e,t){return e.sortKey-t.sortKey}));for(var E=0,A=m;E<A.length;E++){var P=A[E],M=P.state,L=M.programConfiguration,O=M.program,R=M.layoutVertexBuffer,I=M.indexBuffer,D=M.uniformValues,z=M.tile,B=P.segments;t.terrain&&t.terrain.setupElevationDraw(z,O,{useDepthForOcclusion:!0}),t.prepareDrawProgram(u,O,z.tileID.toUnwrapped()),O.draw(u,c.TRIANGLES,h,p,f,e.CullFaceMode.disabled,D,n.id,R,I,B,n.paint,t.transform.zoom,L)}}}},heatmap:function(t,i,n,r){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var o=t.context,a=o.gl,s=e.StencilMode.disabled,l=new e.ColorMode([a.ONE,a.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,i){var n=e.gl;e.activeTexture.set(n.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);var r=i.heatmapFbo;if(r)n.bindTexture(n.TEXTURE_2D,r.colorAttachment.get()),e.bindFramebuffer.set(r.framebuffer);else{var o=n.createTexture();n.bindTexture(n.TEXTURE_2D,o),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),r=i.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4,!1),function(e,t,i,n){var r=e.gl;r.texImage2D(r.TEXTURE_2D,0,r.RGBA,t.width/4,t.height/4,0,r.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:r.UNSIGNED_BYTE,null),n.colorAttachment.set(i)}(e,t,o,r)}}(o,t,n),o.clear({color:e.Color.transparent});for(var u=0;u<r.length;u++){var c=r[u];if(!i.hasRenderableParent(c)){var h=i.getTile(c),d=h.getBucket(n);if(d){var p=d.programConfigurations.get(n.id),f=t.useProgram("heatmap",p),m=t.transform.zoom;t.terrain&&t.terrain.setupElevationDraw(h,f),t.prepareDrawProgram(o,f,c.toUnwrapped()),f.draw(o,a.TRIANGLES,e.DepthMode.disabled,s,l,e.CullFaceMode.disabled,Ni(c.projMatrix,h,m,n.paint.get("heatmap-intensity")),n.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,n.paint,t.transform.zoom,p)}}}o.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,i){var n=t.context,r=n.gl,o=i.heatmapFbo;if(o){n.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,o.colorAttachment.get()),n.activeTexture.set(r.TEXTURE1);var a=i.colorRampTexture;a||(a=i.colorRampTexture=new e.Texture(n,i.colorRamp,r.RGBA)),a.bind(r.LINEAR,r.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(n,r.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,function(e,t,i,n){return{u_image:0,u_color_ramp:1,u_opacity:t.paint.get("heatmap-opacity")}}(0,i),i.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,i.paint,t.transform.zoom)}}(t,n))},line:function(t,i,n,r){if("translucent"===t.renderPass){var o=n.paint.get("line-opacity"),a=n.paint.get("line-width");if(0!==o.constantOr(1)&&0!==a.constantOr(1)){var s,l=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),u=t.colorModeForRenderPass(),c=n.paint.get("line-dasharray"),h=c.constantOr(1),p=n.layout.get("line-cap"),f=n.paint.get("line-pattern"),m=f.constantOr(1),g=n.paint.get("line-gradient"),y=n.getCrossfadeParameters(),v=m?"linePattern":"line",b=t.context,x=b.gl,_=d(r);try{for(_.s();!(s=_.n()).done;){var w=s.value,S=i.getTile(w);if(!m||S.patternsLoaded()){var k=S.getBucket(n);if(k){t.prepareDrawTile(w);var C=k.programConfigurations.get(n.id),T=Hi(n),E=t.useProgram(v,C,T),A=f.constantOr(null);if(A&&S.imageAtlas){var P=S.imageAtlas,M=P.patternPositions[A.to.toString()],L=P.patternPositions[A.from.toString()];M&&L&&C.setConstantPatternPositions(M,L)}var O=c.constantOr(null),R=p.constantOr(null);if(!m&&O&&R&&S.lineAtlas){var I=S.lineAtlas,D=I.getDash(O.to,R),z=I.getDash(O.from,R);D&&z&&C.setConstantPatternPositions(D,z)}var B=t.terrain?w.projMatrix:null,F=m?Vi(t,S,n,y,B):ji(t,S,n,y,B,k.lineClipsArray.length);if(g){var N=k.gradients[n.id],j=N.texture;if(n.gradientVersion!==N.version){var V=256;if(n.stepInterpolant){var U=i.getSource().maxzoom,W=w.canonical.z===U?Math.ceil(1<<t.transform.maxZoom-w.canonical.z):1;V=e.clamp(e.nextPowerOfTwo(k.maxLineLength/e.EXTENT*1024*W),256,b.maxTextureSize)}N.gradient=e.renderColorRamp({expression:n.gradientExpression(),evaluationKey:"lineProgress",resolution:V,image:N.gradient||void 0,clips:k.lineClipsArray}),N.texture?N.texture.update(N.gradient):N.texture=new e.Texture(b,N.gradient,x.RGBA),N.version=n.gradientVersion,j=N.texture}b.activeTexture.set(x.TEXTURE1),j.bind(n.stepInterpolant?x.NEAREST:x.LINEAR,x.CLAMP_TO_EDGE)}h&&(b.activeTexture.set(x.TEXTURE0),S.lineAtlasTexture.bind(x.LINEAR,x.REPEAT),C.updatePaintBuffers(y)),m&&(b.activeTexture.set(x.TEXTURE0),S.imageAtlasTexture.bind(x.LINEAR,x.CLAMP_TO_EDGE),C.updatePaintBuffers(y)),t.prepareDrawProgram(b,E,w.toUnwrapped()),E.draw(b,x.TRIANGLES,l,t.stencilModeForClipping(w),u,e.CullFaceMode.disabled,F,n.id,k.layoutVertexBuffer,k.indexBuffer,k.segments,n.paint,t.transform.zoom,C,k.layoutVertexBuffer2)}}}}catch(H){_.e(H)}finally{_.f()}}}},fill:function(t,i,n,r){var o=n.paint.get("fill-color"),a=n.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=t.colorModeForRenderPass(),l=n.paint.get("fill-pattern"),u=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===o.constantOr(e.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(t.renderPass===u){var c=t.depthModeForSublayer(1,"opaque"===t.renderPass?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly);un(t,i,n,r,c,s,!1)}if("translucent"===t.renderPass&&n.paint.get("fill-antialias")){var h=t.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,e.DepthMode.ReadOnly);un(t,i,n,r,h,s,!0)}}},"fill-extrusion":function(t,i,n,r){var o=n.paint.get("fill-extrusion-opacity");if(0!==o&&"translucent"===t.renderPass){var a=new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);if(1!==o||n.paint.get("fill-extrusion-pattern").constantOr(1))cn(t,i,n,r,a,e.StencilMode.disabled,e.ColorMode.disabled),cn(t,i,n,r,a,t.stencilModeFor3D(),t.colorModeForRenderPass());else{var s=t.colorModeForRenderPass();cn(t,i,n,r,a,e.StencilMode.disabled,s)}}},hillshade:function(t,i,n,r){if("offscreen"===t.renderPass||"translucent"===t.renderPass){var o,a=t.context,s=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),l=t.colorModeForRenderPass(),u=t.terrain&&t.terrain.renderingToTexture,c="translucent"!==t.renderPass||u?[{},r]:t.stencilConfigForOverlap(r),p=h(c,2),f=p[0],m=p[1],g=d(m);try{for(g.s();!(o=g.n()).done;){var y=o.value,v=i.getTile(y);if(v.needsHillshadePrepare&&"offscreen"===t.renderPass)mi(t,v,n,s,e.StencilMode.disabled,l);else if("translucent"===t.renderPass){var b=u&&t.terrain?t.terrain.stencilModeForRTTOverlap(y):f[y.overscaledZ];pi(t,y,v,n,s,b,l)}}}catch(x){g.e(x)}finally{g.f()}a.viewport.set([0,0,t.width,t.height])}},raster:function(t,i,n,r,o,a){if("translucent"===t.renderPass&&0!==n.paint.get("raster-opacity")&&r.length){var s,l=t.context,u=l.gl,c=i.getSource(),p=t.useProgram("raster"),f=t.colorModeForRenderPass(),m=t.terrain&&t.terrain.renderingToTexture,g=c instanceof Be||m?[{},r]:t.stencilConfigForOverlap(r),y=h(g,2),v=y[0],b=y[1],x=b[b.length-1].overscaledZ,_=!t.options.moving,w=d(b);try{for(w.s();!(s=w.n()).done;){var S=s.value,k=m?e.DepthMode.disabled:t.depthModeForSublayer(S.overscaledZ-x,1===n.paint.get("raster-opacity")?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly,u.LESS),C=S.toUnwrapped(),T=i.getTile(S);if(!m||T&&T.hasData()){var E=m?S.projMatrix:t.transform.calculateProjMatrix(C,_),A=t.terrain&&m?t.terrain.stencilModeForRTTOverlap(S):v[S.overscaledZ],P=a?0:n.paint.get("raster-fade-duration");T.registerFadeDuration(P);var M=i.findLoadedParent(S,0),L=wi(T,M,i,t.transform,P),O=void 0,R=void 0;t.terrain&&t.terrain.prepareDrawTile(S);var I="nearest"===n.paint.get("raster-resampling")?u.NEAREST:u.LINEAR;l.activeTexture.set(u.TEXTURE0),T.texture.bind(I,u.CLAMP_TO_EDGE),l.activeTexture.set(u.TEXTURE1),M?(M.texture.bind(I,u.CLAMP_TO_EDGE),O=Math.pow(2,M.tileID.overscaledZ-T.tileID.overscaledZ),R=[T.tileID.canonical.x*O%1,T.tileID.canonical.y*O%1]):T.texture.bind(I,u.CLAMP_TO_EDGE);var D=qi(E,R||[0,0],O||1,L,n);if(t.prepareDrawProgram(l,p,C),c instanceof Be)p.draw(l,u.TRIANGLES,k,e.StencilMode.disabled,f,e.CullFaceMode.disabled,D,n.id,c.boundsBuffer,t.quadTriangleIndexBuffer,c.boundsSegments);else{var z=t.getTileBoundsBuffers(T),B=z.tileBoundsBuffer,F=z.tileBoundsIndexBuffer,N=z.tileBoundsSegments;p.draw(l,u.TRIANGLES,k,A,f,e.CullFaceMode.disabled,D,n.id,B,F,N)}}}}catch(j){w.e(j)}finally{w.f()}}},background:function(t,i,n,r){var o=n.paint.get("background-color"),a=n.paint.get("background-opacity");if(0!==a){var s=t.context,l=s.gl,u=t.transform,c=u.tileSize,h=n.paint.get("background-pattern");if(!t.isPatternMissing(h)){var p=!h&&1===o.a&&1===a&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass===p){var f,m=e.StencilMode.disabled,g=t.depthModeForSublayer(0,"opaque"===p?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly),y=t.colorModeForRenderPass(),v=t.useProgram(h?"backgroundPattern":"background"),b=r;b||(f=t.getBackgroundTiles(),b=Object.values(f).map((function(e){return e.tileID}))),h&&(s.activeTexture.set(l.TEXTURE0),t.imageManager.bind(t.context));var x,_=n.getCrossfadeParameters(),w=d(b);try{for(w.s();!(x=w.n()).done;){var S=x.value,k=S.toUnwrapped(),C=r?S.projMatrix:t.transform.calculateProjMatrix(k);t.prepareDrawTile(S);var T=i?i.getTile(S):f?f[S.key]:new e.Tile(S,c,u.zoom,t),E=h?Ji(C,a,t,h,{tileID:S,tileSize:c},_):Qi(C,a,o);t.prepareDrawProgram(s,v,k);var A=t.getTileBoundsBuffers(T),P=A.tileBoundsBuffer,M=A.tileBoundsIndexBuffer,L=A.tileBoundsSegments;v.draw(s,l.TRIANGLES,g,m,y,e.CullFaceMode.disabled,E,n.id,P,M,L)}}catch(O){w.e(O)}finally{w.f()}}}}},sky:function(t,i,n){var r=t.transform,o="mercator"===r.projection.name?1:e.smoothstep(7,8,r.zoom),a=n.paint.get("sky-opacity")*o;if(0!==a){var s=t.context,l=n.paint.get("sky-type"),u=new e.DepthMode(s.gl.LEQUAL,e.DepthMode.ReadOnly,[0,1]),c=t.frameCounter/1e3%1;"atmosphere"===l?"offscreen"===t.renderPass?n.needsSkyboxCapture(t)&&(function(t,i,n,r){var o=t.context,a=o.gl,s=i.skyboxFbo;if(!s){s=i.skyboxFbo=o.createFramebuffer(32,32,!1),i.skyboxGeometry=new Sn(o),i.skyboxTexture=o.gl.createTexture(),a.bindTexture(a.TEXTURE_CUBE_MAP,i.skyboxTexture),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MAG_FILTER,a.LINEAR);for(var l=0;l<6;++l)a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+l,0,a.RGBA,32,32,0,a.RGBA,a.UNSIGNED_BYTE,null)}o.bindFramebuffer.set(s.framebuffer),o.viewport.set([0,0,32,32]);var u=i.getCenter(t,!0),c=t.useProgram("skyboxCapture"),h=new Float64Array(16);e.identity(h),e.rotateY(h,h,.5*-Math.PI),kn(o,i,c,h,u,0),e.identity(h),e.rotateY(h,h,.5*Math.PI),kn(o,i,c,h,u,1),e.identity(h),e.rotateX(h,h,.5*-Math.PI),kn(o,i,c,h,u,2),e.identity(h),e.rotateX(h,h,.5*Math.PI),kn(o,i,c,h,u,3),e.identity(h),kn(o,i,c,h,u,4),e.identity(h),e.rotateY(h,h,Math.PI),kn(o,i,c,h,u,5),o.viewport.set([0,0,t.width,t.height])}(t,n),n.markSkyboxValid(t)):"sky"===t.renderPass&&function(t,i,n,r,o){var a=t.context,s=a.gl,l=t.transform,u=t.useProgram("skybox");a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_CUBE_MAP,i.skyboxTexture);var c=function(e,t,i,n,r){return{u_matrix:e,u_sun_direction:t,u_cubemap:0,u_opacity:n,u_temporal_offset:r}}(l.skyboxMatrix,i.getCenter(t,!1),0,r,o);t.prepareDrawProgram(a,u),u.draw(a,s.TRIANGLES,n,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,c,"skybox",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment)}(t,n,u,a,c):"gradient"===l&&"sky"===t.renderPass&&function(t,i,n,r,o){var a=t.context,s=a.gl,l=t.transform,u=t.useProgram("skyboxGradient");i.skyboxGeometry||(i.skyboxGeometry=new Sn(a)),a.activeTexture.set(s.TEXTURE0);var c=i.colorRampTexture;c||(c=i.colorRampTexture=new e.Texture(a,i.colorRamp,s.RGBA)),c.bind(s.LINEAR,s.CLAMP_TO_EDGE);var h=function(t,i,n,r,o){return{u_matrix:t,u_color_ramp:0,u_center_direction:i,u_radius:e.degToRad(n),u_opacity:r,u_temporal_offset:o}}(l.skyboxMatrix,i.getCenter(t,!1),i.paint.get("sky-gradient-radius"),r,o);t.prepareDrawProgram(a,u),u.draw(a,s.TRIANGLES,n,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,h,"skyboxGradient",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment)}(t,n,u,a,c)}},debug:function(e,t,i){for(var n=0;n<i.length;n++)xn(e,t,i[n])},custom:function(t,i,n){var r=t.context,o=n.implementation;if("mercator"===t.transform.projection.name){if("offscreen"===t.renderPass){var a=o.prerender;a&&(t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),a.call(o,r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),r.setStencilMode(e.StencilMode.disabled);var s="3d"===o.renderingMode?new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,e.DepthMode.ReadOnly);r.setDepthMode(s),o.render(r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState(),r.bindFramebuffer.set(null)}}else e.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.")}},Tn=function(){function t(i,n){g(this,t),this.context=new De(i),this.transform=n,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=e.SourceCache.maxUnderzooming+e.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new $t,this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}return y(t,[{key:"updateTerrain",value:function(e,t){var i=!!e&&!!e.terrain&&"mercator"===this.transform.projection.name;if(i||this._terrain&&this._terrain.enabled){this._terrain||(this._terrain=new Ci(this,e));var n=this._terrain;this.transform.elevation=i?n:null,n.update(e,this.transform,t)}}},{key:"_updateFog",value:function(e){var t=e.fog;if(!t||t.getOpacity(this.transform.pitch)<1||t.properties.get("horizon-blend")<.03)this.transform.fogCullDistSq=null;else{var i=t.getFovAdjustedRange(this.transform._fov),n=h(i,2),r=n[0],o=n[1];if(r>o)this.transform.fogCullDistSq=null;else{var a=r+.78*(o-r);this.transform.fogCullDistSq=a*a}}}},{key:"terrain",get:function(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}},{key:"resize",value:function(t,i){if(this.width=t*e.exported.devicePixelRatio,this.height=i*e.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style){var n,r=d(this.style.order);try{for(r.s();!(n=r.n()).done;){var o=n.value;this.style._layers[o].resize()}}catch(a){r.e(a)}finally{r.f()}}}},{key:"setup",value:function(){var t=this.context,i=new e.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(e.EXTENT,0),i.emplaceBack(0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(i,e.posAttributes.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);var n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(n,e.posAttributes.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);var r=new e.StructArrayLayout2i4;r.emplaceBack(-1,-1),r.emplaceBack(1,-1),r.emplaceBack(-1,1),r.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(r,e.posAttributes.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);var o=new e.StructArrayLayout4i8;o.emplaceBack(0,0,0,0),o.emplaceBack(e.EXTENT,0,e.EXTENT,0),o.emplaceBack(0,e.EXTENT,0,e.EXTENT),o.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.mercatorBoundsBuffer=t.createVertexBuffer(o,e.boundsAttributes.members),this.mercatorBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);var a=new e.StructArrayLayout3ui6;a.emplaceBack(0,1,2),a.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(a);for(var s=new e.StructArrayLayout1ui2,l=0,u=[0,1,3,2,0];l<u.length;l++){var c=u[l];s.emplaceBack(c)}this.debugIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new e.Texture(t,{width:1,height:1,data:new Uint8Array([0,0,0,0])},t.gl.RGBA),this.identityMat=e.create$1();var h=this.context.gl;this.stencilClearMode=new e.StencilMode({func:h.ALWAYS,mask:0},0,255,h.ZERO,h.ZERO,h.ZERO),this.loadTimeStamps.push(e.window.performance.now())}},{key:"getMercatorTileBoundsBuffers",value:function(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}},{key:"getTileBoundsBuffers",value:function(e){return e._makeTileBoundsBuffers(this.context,this.transform.projection),e._tileBoundsBuffer?{tileBoundsBuffer:e._tileBoundsBuffer,tileBoundsIndexBuffer:e._tileBoundsIndexBuffer,tileBoundsSegments:e._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}},{key:"clearStencil",value:function(){var t=this.context,i=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this.useProgram("clippingMask").draw(t,i.TRIANGLES,e.DepthMode.disabled,this.stencilClearMode,e.ColorMode.disabled,e.CullFaceMode.disabled,_i(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}},{key:"_renderTileClippingMasks",value:function(t,i,n){if(i&&this.currentStencilSource!==i.id&&t.isTileClipped()&&n&&n.length){this.currentStencilSource=i.id;var r=this.context,o=r.gl;this.nextStencilID+n.length>256&&this.clearStencil(),r.setColorMode(e.ColorMode.disabled),r.setDepthMode(e.DepthMode.disabled);var a=this.useProgram("clippingMask");this._tileClippingMaskIDs={};var s,l=d(n);try{for(l.s();!(s=l.n()).done;){var u=s.value,c=i.getTile(u),h=this._tileClippingMaskIDs[u.key]=this.nextStencilID++,p=this.getTileBoundsBuffers(c),f=p.tileBoundsBuffer,m=p.tileBoundsIndexBuffer,g=p.tileBoundsSegments;a.draw(r,o.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:o.ALWAYS,mask:0},h,255,o.KEEP,o.KEEP,o.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,_i(u.projMatrix),"$clipping",f,m,g)}}catch(y){l.e(y)}finally{l.f()}}}},{key:"stencilModeFor3D",value:function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var t=this.nextStencilID++,i=this.context.gl;return new e.StencilMode({func:i.NOTEQUAL,mask:255},t,255,i.KEEP,i.KEEP,i.REPLACE)}},{key:"stencilModeForClipping",value:function(t){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(t);var i=this.context.gl;return new e.StencilMode({func:i.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,i.KEEP,i.KEEP,i.REPLACE)}},{key:"stencilConfigForOverlap",value:function(t){var i=this.context.gl,r=t.sort((function(e,t){return t.overscaledZ-e.overscaledZ})),o=r[r.length-1].overscaledZ,a=r[0].overscaledZ-o+1;if(a>1){this.currentStencilSource=void 0,this.nextStencilID+a>256&&this.clearStencil();for(var s={},l=0;l<a;l++)s[l+o]=new e.StencilMode({func:i.GEQUAL,mask:255},l+this.nextStencilID,255,i.KEEP,i.KEEP,i.REPLACE);return this.nextStencilID+=a,[s,r]}return[n({},o,e.StencilMode.disabled),r]}},{key:"colorModeForRenderPass",value:function(){var t=this.context.gl;if(this._showOverdrawInspector){var i=1/8;return new e.ColorMode([t.CONSTANT_COLOR,t.ONE],new e.Color(i,i,i,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?e.ColorMode.unblended:e.ColorMode.alphaBlended}},{key:"depthModeForSublayer",value:function(t,i,n){if(!this.opaquePassEnabledForLayer())return e.DepthMode.disabled;var r=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new e.DepthMode(n||this.context.gl.LEQUAL,i,[r,r])}},{key:"opaquePassEnabledForLayer",value:function(){return this.currentLayer<this.opaquePassCutoff}},{key:"render",value:function(t,i){var n=this;this.style=t,this.options=i,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.exported.now()),this.imageManager.beginFrame();var r=this.style.order,o=this.style._sourceCaches;for(var a in o){var s=o[a];s.used&&s.prepare(this.context)}var l={},u={},c={};for(var h in o){var p=o[h];l[h]=p.getVisibleCoordinates(),u[h]=l[h].slice().reverse(),c[h]=p.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var f=0;f<r.length;f++)if(this.style._layers[r[f]].is3D()){this.opaquePassCutoff=f;break}if(this.terrain&&(this.terrain.updateTileBinding(c),this.opaquePassCutoff=0),e.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";var m,g=d(r);try{for(g.s();!(m=g.n()).done;){var y=m.value,v=this.style._layers[y],b=t._getLayerSourceCache(v);if(v.hasOffscreenPass()&&!v.isHidden(this.transform.zoom)){var x=b?u[b.id]:void 0;("custom"===v.type||v.isSky()||x&&x.length)&&this.renderLayer(this,b,v,x)}}}catch(L){g.e(L)}finally{g.f()}this.depthRangeFor3D=[0,1-(t.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);var _=e.Color.transparent;if(this.style.fog&&this.style.fog.getOpacity(this.transform.pitch)&&(_=this.style.fog.properties.get("color")),this.context.clear({color:i.showOverdrawInspector?e.Color.black:_,depth:1}),this.clearStencil(),this._showOverdrawInspector=i.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=r.length-1;this.currentLayer>=0;this.currentLayer--){var w=this.style._layers[r[this.currentLayer]],S=t._getLayerSourceCache(w);if(!w.isSky()){var k=S?u[S.id]:void 0;this._renderTileClippingMasks(w,S,k),this.renderLayer(this,S,w,k)}}if(this.renderPass="sky",this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<r.length;this.currentLayer++){var C=this.style._layers[r[this.currentLayer]],T=t._getLayerSourceCache(C);C.isSky()&&this.renderLayer(this,T,C,T?u[T.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<r.length;){var E=this.style._layers[r[this.currentLayer]],A=t._getLayerSourceCache(E);if(E.isSky())++this.currentLayer;else if(this.terrain&&this.style.isLayerDraped(E)){if(E.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer)}else{var P=A?("symbol"===E.type?c:u)[A.id]:void 0;this._renderTileClippingMasks(E,A,A?l[A.id]:void 0),this.renderLayer(this,A,E,P),++this.currentLayer}}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry){var M=null;e.values(this.style._layers).forEach((function(e){var i=t._getLayerSourceCache(e);i&&!e.isHidden(n.transform.zoom)&&(!M||M.getSource().maxzoom<i.getSource().maxzoom)&&(M=i)})),M&&this.options.showTileBoundaries&&Cn.debug(this,M,M.getVisibleCoordinates())}this.options.showPadding&&function(e){var t=e.transform.padding;yn(e,e.transform.height-(t.top||0),3,dn),yn(e,t.bottom||0,3,pn),vn(e,t.left||0,3,fn),vn(e,e.transform.width-(t.right||0),3,mn);var i=e.transform.centerPoint;!function(e,t,i,n){bn(e,t-1,i-10,2,20,n),bn(e,t-10,i-1,20,2,n)}(e,i.x,e.transform.height-i.y,gn)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%e.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(e.window.performance.now()),this.saveCanvasCopy())}}},{key:"renderLayer",value:function(e,t,i,n){i.isHidden(this.transform.zoom)||("background"===i.type||"sky"===i.type||"custom"===i.type||n&&n.length)&&(this.id=i.id,this.gpuTimingStart(i),Cn[i.type](e,t,i,n,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}},{key:"gpuTimingStart",value:function(e){if(this.options.gpuTiming){var t=this.context.extTimerQuery,i=this.gpuTimers[e.id];i||(i=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),i.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,i.query)}}},{key:"gpuTimingEnd",value:function(){if(this.options.gpuTiming){var e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}}},{key:"collectGpuTimers",value:function(){var e=this.gpuTimers;return this.gpuTimers={},e}},{key:"queryGpuTimers",value:function(e){var t={};for(var i in e){var n=e[i],r=this.context.extTimerQuery,o=r.getQueryObjectEXT(n.query,r.QUERY_RESULT_EXT)/1e6;r.deleteQueryEXT(n.query),t[i]=o}return t}},{key:"translatePosMatrix",value:function(t,i,n,r,o){if(!n[0]&&!n[1])return t;var a=o?"map"===r?this.transform.angle:0:"viewport"===r?-this.transform.angle:0;if(a){var s=Math.sin(a),l=Math.cos(a);n=[n[0]*l-n[1]*s,n[0]*s+n[1]*l]}var u=[o?n[0]:W(i,n[0],this.transform.zoom),o?n[1]:W(i,n[1],this.transform.zoom),0],c=new Float32Array(16);return e.translate(c,t,u),c}},{key:"saveTileTexture",value:function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]}},{key:"getTileTexture",value:function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null}},{key:"isPatternMissing",value:function(e){if(!e)return!1;if(!e.from||!e.to)return!0;var t=this.imageManager.getPattern(e.from.toString()),i=this.imageManager.getPattern(e.to.toString());return!t||!i}},{key:"currentGlobalDefines",value:function(){var e=this.terrain&&this.terrain.renderingToTexture,t=this.style&&this.style.fog,i=[];return this.terrain&&!this.terrain.renderingToTexture&&i.push("TERRAIN"),t&&!e&&0!==t.getOpacity(this.transform.pitch)&&i.push("FOG"),e&&i.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&i.push("OVERDRAW_INSPECTOR"),i}},{key:"useProgram",value:function(e,t,i){this.cache=this.cache||{};var n=i||[],r=this.currentGlobalDefines().concat(n),o=Ei.cacheKey(e,r,t);return this.cache[o]||(this.cache[o]=new Ei(this.context,e,ui[e],t,en[e],r)),this.cache[o]}},{key:"setCustomLayerDefaults",value:function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}},{key:"setBaseState",value:function(){var e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}},{key:"initDebugOverlayCanvas",value:function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=e.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}},{key:"destroy",value:function(){this._terrain&&this._terrain.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}},{key:"prepareDrawTile",value:function(e){this.terrain&&this.terrain.prepareDrawTile(e)}},{key:"prepareDrawProgram",value:function(e,t,i){if(!this.terrain||!this.terrain.renderingToTexture){var n=this.style.fog;if(n){var r=n.getOpacity(this.transform.pitch);0!==r&&t.setFogUniformValues(e,function(e,t,i,n){var r=t.properties.get("color"),o=e.frameCounter/1e3%1,a=[r.r/r.a,r.g/r.a,r.b/r.a,n];return{u_fog_matrix:i?e.transform.calculateFogTileMatrix(i):e.identityMat,u_fog_range:t.getFovAdjustedRange(e.transform._fov),u_fog_color:a,u_fog_horizon_blend:t.properties.get("horizon-blend"),u_fog_temporal_offset:o}}(this,n,i,r))}}}},{key:"setTileLoadedFlag",value:function(e){this.tileLoaded=e}},{key:"saveCanvasCopy",value:function(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}},{key:"canvasCopy",value:function(){var e=this.context.gl,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,e.drawingBufferWidth,e.drawingBufferHeight,0),t}},{key:"getCanvasCopiesAndTimestamps",value:function(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}},{key:"averageElevationNeedsEasing",value:function(){if(!this.transform._elevation)return!1;var e=this.style&&this.style.fog;return!!e&&0!==e.getOpacity(this.transform.pitch)}},{key:"getBackgroundTiles",value:function(){var t,i=this._backgroundTiles,n=this._backgroundTiles={},r=this.transform.coveringTiles({tileSize:512}),o=d(r);try{for(o.s();!(t=o.n()).done;){var a=t.value;n[a.key]=i[a.key]||new e.Tile(a,512,this.transform.tileZoom,this)}}catch(s){o.e(s)}finally{o.f()}return n}},{key:"clearBackgroundTiles",value:function(){this._backgroundTiles={}}}]),t}(),En=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(g(this,t),isNaN(e)||e<0||isNaN(i)||i<0||isNaN(n)||n<0||isNaN(r)||r<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=i,this.left=n,this.right=r}return y(t,[{key:"interpolate",value:function(t,i,n){return null!=i.top&&null!=t.top&&(this.top=e.number(t.top,i.top,n)),null!=i.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,i.bottom,n)),null!=i.left&&null!=t.left&&(this.left=e.number(t.left,i.left,n)),null!=i.right&&null!=t.right&&(this.right=e.number(t.right,i.right,n)),this}},{key:"getCenter",value:function(t,i){var n=e.clamp((this.left+t-this.right)/2,0,t),r=e.clamp((this.top+i-this.bottom)/2,0,i);return new e.pointGeometry(n,r)}},{key:"equals",value:function(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}},{key:"clone",value:function(){return new t(this.top,this.bottom,this.left,this.right)}},{key:"toJSON",value:function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}]),t}();function An(e,t){return[e[4*t],e[4*t+1],e[4*t+2],e[4*t+3]]}function Pn(e,t,i){e[4*t+0]=i[0],e[4*t+1]=i[1],e[4*t+2]=i[2],e[4*t+3]=i[3]}function Mn(t,i){var n=An(t,3);e.fromQuat(t,i),Pn(t,3,n)}function Ln(e,t){Pn(e,3,[t[0],t[1],t[2],1])}function On(t,i){var n=e.identity$1([]);return e.rotateZ$1(n,n,-i),e.rotateX$1(n,n,-t),n}function Rn(t,i){var n=[t[0],t[1],0],r=[i[0],i[1],0];if(e.length(n)>=1e-15){var o=e.normalize([],n);e.scale(r,o,e.dot(r,o)),i[0]=r[0],i[1]=r[1]}var a=e.cross([],i,t);if(e.len(a)<1e-15)return null;var s=Math.atan2(-a[1],a[0]);return On(Math.atan2(Math.sqrt(t[0]*t[0]+t[1]*t[1]),-t[2]),s)}var In=function(){function t(e,i){g(this,t),this.position=e,this.orientation=i}return y(t,[{key:"position",get:function(){return this._position},set:function(t){this._position=this._renderWorldCopies?function(t){if(t){var i=Array.isArray(t)?new e.MercatorCoordinate(t[0],t[1],t[2]):t;return i.x=e.wrap(i.x,0,1),i}}(t):t}},{key:"lookAtPoint",value:function(t,i){if(this.orientation=null,this.position){var n=this._elevation?this._elevation.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(t)):0,r=this.position,o=e.MercatorCoordinate.fromLngLat(t,n),a=[o.x-r.x,o.y-r.y,o.z-r.z];i||(i=[0,0,1]),i[2]=Math.abs(i[2]),this.orientation=Rn(a,i)}}},{key:"setPitchBearing",value:function(t,i){this.orientation=On(e.degToRad(t),e.degToRad(-i))}}]),t}(),Dn=function(){function t(i,n){g(this,t),this._transform=e.identity([]),this._orientation=e.identity$1([]),n&&(this._orientation=n,Mn(this._transform,this._orientation)),i&&Ln(this._transform,i)}return y(t,[{key:"mercatorPosition",get:function(){var t=this.position;return new e.MercatorCoordinate(t[0],t[1],t[2])}},{key:"position",get:function(){var e=An(this._transform,3);return[e[0],e[1],e[2]]},set:function(e){Ln(this._transform,e)}},{key:"orientation",get:function(){return this._orientation},set:function(e){this._orientation=e,Mn(this._transform,this._orientation)}},{key:"getPitchBearing",value:function(){var e=this.forward(),t=this.right();return{bearing:Math.atan2(-t[1],t[0]),pitch:Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2])}}},{key:"setPitchBearing",value:function(e,t){this._orientation=On(e,t),Mn(this._transform,this._orientation)}},{key:"forward",value:function(){var e=An(this._transform,2);return[-e[0],-e[1],-e[2]]}},{key:"up",value:function(){var e=An(this._transform,1);return[-e[0],-e[1],-e[2]]}},{key:"right",value:function(){var e=An(this._transform,0);return[e[0],e[1],e[2]]}},{key:"getCameraToWorld",value:function(t,i){var n=new Float64Array(16);return e.invert(n,this.getWorldToCamera(t,i)),n}},{key:"getWorldToCameraPosition",value:function(t,i,n){var r=this.position;e.scale(r,r,-t);var o=new Float64Array(16);return e.fromScaling(o,[n,n,n]),e.translate(o,o,r),o[10]*=i,o}},{key:"getWorldToCamera",value:function(t,i){var n=new Float64Array(16),r=new Float64Array(4),o=this.position;return e.conjugate(r,this._orientation),e.scale(o,o,-t),e.fromQuat(n,r),e.translate(n,n,o),n[1]*=-1,n[5]*=-1,n[9]*=-1,n[13]*=-1,n[8]*=i,n[9]*=i,n[10]*=i,n[11]*=i,n}},{key:"getCameraToClipPerspective",value:function(t,i,n,r){var o=new Float64Array(16);return e.perspective(o,t,i,n,r),o}},{key:"getDistanceToElevation",value:function(t){var i=0===t?0:e.mercatorZfromAltitude(t,this.position[1]),n=this.forward();return(i-this.position[2])/n[2]}},{key:"clone",value:function(){return new t(c(this.position),c(this.orientation))}}]),t}();function zn(t,i){var n=Fn(t),r=function(t,i,n,r,o){var a=new e.LngLat(n.lng-180*Nn,n.lat),s=new e.LngLat(n.lng+180*Nn,n.lat),l=t.project(a.lng,a.lat),u=t.project(s.lng,s.lat),c=-Math.atan2(u.y-l.y,u.x-l.x),h=e.MercatorCoordinate.fromLngLat(n);h.y=e.clamp(h.y,-.999975,.999975);var d=h.toLngLat(),p=t.project(d.lng,d.lat),f=e.MercatorCoordinate.fromLngLat(d);f.x+=Nn;var m=f.toLngLat(),g=t.project(m.lng,m.lat),y=Vn(g.x-p.x,g.y-p.y,c),v=e.MercatorCoordinate.fromLngLat(d);v.y+=Nn;var b=v.toLngLat(),x=t.project(b.lng,b.lat),_=Vn(x.x-p.x,x.y-p.y,c),w=Math.abs(y.x)/Math.abs(_.y),S=e.identity([]);e.rotateZ(S,S,-c*(1-(o?0:r)));var k=e.identity([]);return e.scale$1(k,k,[1,1-(1-w)*r,1]),k[4]=-_.x/_.y*r,e.rotateZ(k,k,c),e.multiply(k,S,k),k}(t.projection,0,t.center,n,i),o=Bn(t);return e.scale$1(r,r,[o,o,1]),r}function Bn(t){var i=t.projection,n=Fn(t),r=jn(i,t.center),o=jn(i,e.LngLat.convert(i.center));return Math.pow(2,r*n+(1-n)*o)}function Fn(t){var i=t.projection.range;if(!i)return 0;var n=Math.max(t.width,t.height),r=Math.log(n/1024)/Math.LN2;return e.smoothstep(i[0]+r,i[1]+r,t.zoom)}var Nn=1/4e4;function jn(t,i){var n=e.clamp(i.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),r=new e.LngLat(i.lng-180*Nn,n),o=new e.LngLat(i.lng+180*Nn,n),a=t.project(r.lng,n),s=t.project(o.lng,n),l=e.MercatorCoordinate.fromLngLat(r),u=e.MercatorCoordinate.fromLngLat(o),c=s.x-a.x,h=s.y-a.y,d=u.x-l.x,p=u.y-l.y,f=Math.sqrt((d*d+p*p)/(c*c+h*h));return Math.log(f)/Math.LN2}function Vn(e,t,i){var n=Math.cos(i),r=Math.sin(i);return{x:e*n-t*r,y:e*r+t*n}}var Un=function(){function t(i,n,r,o,a){g(this,t),this.tileSize=512,this._renderWorldCopies=void 0===a||a,this._minZoom=i||0,this._maxZoom=n||22,this._minPitch=null==r?0:r,this._maxPitch=null==o?60:o,this.setProjection(),this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new En,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Dn,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._horizonShift=.1}return y(t,[{key:"clone",value:function(){var e=new t(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e._elevation=this._elevation,e._centerAltitude=this._centerAltitude,e.tileSize=this.tileSize,e.setMaxBounds(this.getMaxBounds()),e.width=this.width,e.height=this.height,e.cameraElevationReference=this.cameraElevationReference,e._center=this._center,e._setZoom(this.zoom),e._cameraZoom=this._cameraZoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._averageElevation=this._averageElevation,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._camera=this._camera.clone(),e._calcMatrices(),e.freezeTileCoverage=this.freezeTileCoverage,e.setProjection(this.getProjection()),e}},{key:"elevation",get:function(){return this._elevation},set:function(e){this._elevation!==e&&(this._elevation=e,e?this._updateCenterElevation()&&this._updateCameraOnTerrain():(this._cameraZoom=null,this._centerAltitude=0),this._calcMatrices())}},{key:"updateElevation",value:function(e){this._terrainEnabled()&&null==this._cameraZoom&&this._updateCenterElevation()&&this._updateCameraOnTerrain(),e&&this._constrainCameraAltitude(),this._calcMatrices()}},{key:"getProjection",value:function(){return e.pick(this.projection,["name","center","parallels"])}},{key:"setProjection",value:function(t){null==t&&(t={name:"mercator"}),this.projectionOptions=t;var i=this.projection?this.getProjection():void 0;return this.projection=e.getProjection(t),!u(i,this.getProjection())&&(this._calcMatrices(),!0)}},{key:"minZoom",get:function(){return this._minZoom},set:function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}},{key:"maxZoom",get:function(){return this._maxZoom},set:function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}},{key:"minPitch",get:function(){return this._minPitch},set:function(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))}},{key:"maxPitch",get:function(){return this._maxPitch},set:function(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))}},{key:"renderWorldCopies",get:function(){return this._renderWorldCopies&&!0===this.projection.wrap},set:function(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}},{key:"worldSize",get:function(){return this.tileSize*this.scale}},{key:"cameraWorldSize",get:function(){var e=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}},{key:"pixelsPerMeter",get:function(){return e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize}},{key:"cameraPixelsPerMeter",get:function(){return e.mercatorZfromAltitude(1,this.center.lat)*this.cameraWorldSize}},{key:"centerOffset",get:function(){return this.centerPoint._sub(this.size._div(2))}},{key:"size",get:function(){return new e.pointGeometry(this.width,this.height)}},{key:"bearing",get:function(){return e.wrap(this.rotation,-180,180)},set:function(e){this.rotation=e}},{key:"rotation",get:function(){return-this.angle/Math.PI*180},set:function(t){var i,n=-t*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=(i=new e.ARRAY_TYPE(4),e.ARRAY_TYPE!=Float32Array&&(i[1]=0,i[2]=0),i[0]=1,i[3]=1,i),function(e,t,i){var n=t[0],r=t[1],o=t[2],a=t[3],s=Math.sin(i),l=Math.cos(i);e[0]=n*l+o*s,e[1]=r*l+a*s,e[2]=n*-s+o*l,e[3]=r*-s+a*l}(this.rotationMatrix,this.rotationMatrix,this.angle))}},{key:"pitch",get:function(){return this._pitch/Math.PI*180},set:function(t){var i=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==i&&(this._unmodified=!1,this._pitch=i,this._calcMatrices())}},{key:"fov",get:function(){return this._fov/Math.PI*180},set:function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())}},{key:"averageElevation",get:function(){return this._averageElevation},set:function(e){this._averageElevation=e,this._calcFogMatrices()}},{key:"zoom",get:function(){return this._zoom},set:function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._setZoom(t),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._constrain(),this._calcMatrices())}},{key:"_setZoom",value:function(e){this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom}},{key:"_updateCenterElevation",value:function(){if(!this._elevation)return!1;var e=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center),-1);return-1===e?(this._cameraZoom=null,!1):(this._centerAltitude=e,!0)}},{key:"_updateCameraOnTerrain",value:function(){var t=this.cameraToCenterDistance/this.worldSize,i=e.mercatorZfromAltitude(this._centerAltitude,this.center.lat);this._cameraZoom=this._zoomFromMercatorZ(i+t)}},{key:"sampleAverageElevation",value:function(){if(!this._elevation)return 0;for(var t=this._elevation,i=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],n=this.horizonLineFromTop(),r=0,o=0,a=0;a<i.length;a++){var s=new e.pointGeometry(i[a][0]*this.width,n+i[a][1]*(this.height-n)),l=t.pointCoordinate(s);if(l){var u=1/Math.hypot(l[0]-this._camera.position[0],l[1]-this._camera.position[1]);r+=l[3]*u,o+=u}}return 0===o?NaN:r/o}},{key:"center",get:function(){return this._center},set:function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCenterElevation()?this._updateCameraOnTerrain():this._cameraZoom=null:this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}},{key:"_updateZoomFromElevation",value:function(){if(null!=this._cameraZoom&&this._elevation){var t=this._cameraZoom,i=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),n=e.mercatorZfromAltitude(i,this.center.lat),r=this._mercatorZfromZoom(t),o=this._mercatorZfromZoom(this._maxZoom),a=Math.max(r-n,o);this._setZoom(this._zoomFromMercatorZ(a))}}},{key:"padding",get:function(){return this._edgeInsets.toJSON()},set:function(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}},{key:"computeZoomRelativeTo",value:function(t){var i,n=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,t.toAltitude()));i=t.z<this._camera.position[2]?[n.x,n.y,n.z]:[t.x,t.y,t.z];var r=e.length(e.sub([],this._camera.position,i));return e.clamp(this._zoomFromMercatorZ(r),this._minZoom,this._maxZoom)}},{key:"setFreeCameraOptions",value:function(t){if(this.height&&(t.position||t.orientation)){this._updateCameraState();var i=!1;if(t.orientation&&!e.exactEquals(t.orientation,this._camera.orientation)&&(i=this._setCameraOrientation(t.orientation)),t.position){var n=[t.position.x,t.position.y,t.position.z];e.exactEquals$1(n,this._camera.position)||(this._setCameraPosition(n),i=!0)}i&&(this._updateStateFromCamera(),this.recenterOnTerrain())}}},{key:"getFreeCameraOptions",value:function(){this._updateCameraState();var t=this._camera.position,i=new In;return i.position=new e.MercatorCoordinate(t[0],t[1],t[2]),i.orientation=this._camera.orientation,i._elevation=this.elevation,i._renderWorldCopies=this.renderWorldCopies,i}},{key:"_setCameraOrientation",value:function(t){if(!e.length$1(t))return!1;e.normalize$1(t,t);var i=e.transformQuat([],[0,0,-1],t),n=e.transformQuat([],[0,-1,0],t);if(n[2]<0)return!1;var r=Rn(i,n);return!!r&&(this._camera.orientation=r,!0)}},{key:"_setCameraPosition",value:function(t){var i=this.zoomScale(this.minZoom)*this.tileSize,n=this.zoomScale(this.maxZoom)*this.tileSize,r=this.cameraToCenterDistance;t[2]=e.clamp(t[2],r/n,r/i),this._camera.position=t}},{key:"centerPoint",get:function(){return this._edgeInsets.getCenter(this.width,this.height)}},{key:"fovAboveCenter",get:function(){return this._fov*(.5+this.centerOffset.y/this.height)}},{key:"isPaddingEqual",value:function(e){return this._edgeInsets.equals(e)}},{key:"interpolatePadding",value:function(e,t,i){this._unmodified=!1,this._edgeInsets.interpolate(e,t,i),this._constrain(),this._calcMatrices()}},{key:"coveringZoomLevel",value:function(e){var t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}},{key:"getVisibleUnwrappedCoordinates",value:function(t){var i=[new e.UnwrappedTileID(0,t)];if(this.renderWorldCopies)for(var n=this.pointCoordinate(new e.pointGeometry(0,0)),r=this.pointCoordinate(new e.pointGeometry(this.width,0)),o=this.pointCoordinate(new e.pointGeometry(this.width,this.height)),a=this.pointCoordinate(new e.pointGeometry(0,this.height)),s=Math.floor(Math.min(n.x,r.x,o.x,a.x)),l=Math.floor(Math.max(n.x,r.x,o.x,a.x)),u=1,c=s-u;c<=l+u;c++)0!==c&&i.push(new e.UnwrappedTileID(c,t));return i}},{key:"coveringTiles",value:function(t){var i=this,n=this.coveringZoomLevel(t),r=n,o=this.elevation&&!t.isTerrainDEM,a="mercator"===this.projection.name;if(void 0!==t.minzoom&&n<t.minzoom)return[];void 0!==t.maxzoom&&n>t.maxzoom&&(n=t.maxzoom);var s=this.locationCoordinate(this.center),l=1<<n,u=[l*s.x,l*s.y,0],c=E.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,n),h=this.pointCoordinate(this.getCameraPoint()),d=l*e.mercatorZfromAltitude(1,this.center.lat),p=this._camera.position[2]/e.mercatorZfromAltitude(1,this.center.lat),f=[l*h.x,l*h.y,p],m=this.cameraToCenterDistance/t.tileSize*(t.roundZoom?1:.502),g=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&a?n:0,y=t.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,v=t.isTerrainDEM?-y:this._elevation?this._elevation.getMinElevationBelowMSL():0,b=Bn(this),x=function(t){var n=1/4e4,r=new e.MercatorCoordinate(t.x+n,t.y,t.z),o=new e.MercatorCoordinate(t.x,t.y+n,t.z),a=t.toLngLat(),s=r.toLngLat(),l=o.toLngLat(),u=i.locationCoordinate(a),c=i.locationCoordinate(s),h=i.locationCoordinate(l),d=Math.hypot(c.x-u.x,c.y-u.y),p=Math.hypot(h.x-u.x,h.y-u.y);return Math.sqrt(d*p)*b/n},_=function(t,n,r,o,a,s){var u=e.tileTransform({z:t,x:n,y:r},i.projection);return new A([(o+u.x/u.scale)*l,l*(u.y/u.scale),a],[(o+u.x2/u.scale)*l,l*(u.y2/u.scale),s])},w=function(e){return{aabb:_(0,0,0,e,v,y),zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}},S=[],k=[],C=n,T=t.reparseOverscaled?r:n,P=function(e){if(i._elevation&&e.tileID){var t=i._elevation.getMinMaxForTile(e.tileID),n=e.aabb;t?(n.min[2]=t.min,n.max[2]=t.max,n.center[2]=(n.min[2]+n.max[2])/2):(e.shouldSplit=O(e),e.shouldSplit||(n.min[2]=n.max[2]=n.center[2]=i._centerAltitude))}},M=function(e){return e*e},L=M((p-this._centerAltitude)*d),O=function(t){if(t.zoom<g)return!0;if(t.zoom===C)return!1;if(null!=t.shouldSplit)return t.shouldSplit;var i=t.aabb.distanceX(f),n=t.aabb.distanceY(f),s=L;o&&(s=M(t.aabb.distanceZ(f)*d));var l=1;if(!a&&r<=5){var u=Math.pow(2,t.zoom),c=x(new e.MercatorCoordinate((t.x+.5)/u,(t.y+.5)/u));l=c>.85?1:c}var h=i*i+n*n+s;return h<M((1<<C-t.zoom)*m*l*function(e,t){if(t*M(.707)<e)return 1;var i=Math.sqrt(t/e);return i/(1.4144271570014144+(Math.pow(1.1,i-1.4144271570014144+1)-1)/(1.1-1)-1)}(Math.max(s,L),h))};if(this.renderWorldCopies)for(var R=1;R<=3;R++)S.push(w(-R)),S.push(w(R));for(S.push(w(0));S.length>0;){var I=S.pop(),D=I.x,z=I.y,B=I.fullyVisible;if(!B){var F=I.aabb.intersects(c);if(0===F)continue;B=2===F}if(I.zoom!==C&&O(I))for(var N=0;N<4;N++){var j=(D<<1)+N%2,V=(z<<1)+(N>>1),U={aabb:"mercator"===this.projection.name?I.aabb.quadrant(N):_(I.zoom+1,j,V,I.wrap,0,0),zoom:I.zoom+1,x:j,y:V,wrap:I.wrap,fullyVisible:B,tileID:void 0,shouldSplit:void 0};o&&(U.tileID=new e.OverscaledTileID(I.zoom+1===C?T:I.zoom+1,I.wrap,I.zoom+1,j,V),P(U)),S.push(U)}else{var W=I.zoom===C?T:I.zoom;if(t.minzoom&&t.minzoom>W)continue;var H=u[0]-(.5+D+(I.wrap<<I.zoom))*(1<<n-I.zoom),G=u[1]-.5-z,q=I.tileID?I.tileID:new e.OverscaledTileID(W,I.wrap,I.zoom,D,z);k.push({tileID:q,distanceSq:H*H+G*G})}}if(this.fogCullDistSq){var Z=this.fogCullDistSq,X=this.horizonLineFromTop();k=k.filter((function(n){var r=[0,0,0,1],o=[e.EXTENT,e.EXTENT,0,1],a=i.calculateFogTileMatrix(n.tileID.toUnwrapped());e.transformMat4(r,r,a),e.transformMat4(o,o,a);var s=e.getAABBPointSquareDist(r,o);if(0===s)return!0;var l=!1,u=i._elevation;if(u&&s>Z&&0!==X){var c,h=i.calculateProjMatrix(n.tileID.toUnwrapped());t.isTerrainDEM||(c=u.getMinMaxForTile(n.tileID)),c||(c={min:v,max:y});var d=e.furthestTileCorner(i.rotation),p=[d[0]*e.EXTENT,d[1]*e.EXTENT,c.max];e.transformMat4$1(p,p,h),l=(1-p[1])*i.height*.5<X}return s<Z||l}))}return k.sort((function(e,t){return e.distanceSq-t.distanceSq})).map((function(e){return e.tileID}))}},{key:"resize",value:function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()}},{key:"unmodified",get:function(){return this._unmodified}},{key:"zoomScale",value:function(e){return Math.pow(2,e)}},{key:"scaleZoom",value:function(e){return Math.log(e)/Math.LN2}},{key:"project",value:function(t){var i=e.clamp(t.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),n=this.projection.project(t.lng,i);return new e.pointGeometry(n.x*this.worldSize,n.y*this.worldSize)}},{key:"unproject",value:function(e){return this.projection.unproject(e.x/this.worldSize,e.y/this.worldSize)}},{key:"point",get:function(){return this.project(this.center)}},{key:"setLocationAtPoint",value:function(t,i){var n=this.pointCoordinate(i),r=this.pointCoordinate(this.centerPoint),o=this.locationCoordinate(t);this.setLocation(new e.MercatorCoordinate(o.x-(n.x-r.x),o.y-(n.y-r.y)))}},{key:"setLocation",value:function(e){this.center=this.coordinateLocation(e),this.renderWorldCopies&&(this.center=this.center.wrap())}},{key:"locationPoint",value:function(e){return this._coordinatePoint(this.locationCoordinate(e),!1)}},{key:"locationPoint3D",value:function(e){return this._coordinatePoint(this.locationCoordinate(e),!0)}},{key:"pointLocation",value:function(e){return this.coordinateLocation(this.pointCoordinate(e))}},{key:"pointLocation3D",value:function(e){return this.coordinateLocation(this.pointCoordinate3D(e))}},{key:"locationCoordinate",value:function(t,i){var n=i?e.mercatorZfromAltitude(i,t.lat):void 0,r=this.projection.project(t.lng,t.lat);return new e.MercatorCoordinate(r.x,r.y,n)}},{key:"coordinateLocation",value:function(e){return this.projection.unproject(e.x,e.y)}},{key:"pointRayIntersection",value:function(t,i){var n=null!=i?i:this._centerAltitude,r=[t.x,t.y,0,1],o=[t.x,t.y,1,1];e.transformMat4(r,r,this.pixelMatrixInverse),e.transformMat4(o,o,this.pixelMatrixInverse);var a=o[3];e.scale$2(r,r,1/r[3]),e.scale$2(o,o,1/a);var s=r[2],l=o[2];return{p0:r,p1:o,t:s===l?0:(n-s)/(l-s)}}},{key:"screenPointToMercatorRay",value:function(t){var i=[t.x,t.y,0,1],n=[t.x,t.y,1,1];return e.transformMat4(i,i,this.pixelMatrixInverse),e.transformMat4(n,n,this.pixelMatrixInverse),e.scale$2(i,i,1/i[3]),e.scale$2(n,n,1/n[3]),i[2]=e.mercatorZfromAltitude(i[2],this._center.lat)*this.worldSize,n[2]=e.mercatorZfromAltitude(n[2],this._center.lat)*this.worldSize,e.scale$2(i,i,1/this.worldSize),e.scale$2(n,n,1/this.worldSize),new T([i[0],i[1],i[2]],e.normalize([],e.sub([],n,i)))}},{key:"rayIntersectionCoordinate",value:function(t){var i=t.p0,n=t.p1,r=t.t,o=e.mercatorZfromAltitude(i[2],this._center.lat),a=e.mercatorZfromAltitude(n[2],this._center.lat);return new e.MercatorCoordinate(e.number(i[0],n[0],r)/this.worldSize,e.number(i[1],n[1],r)/this.worldSize,e.number(o,a,r))}},{key:"pointCoordinate",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._centerAltitude,n=this.horizonLineFromTop(!1),r=new e.pointGeometry(t.x,Math.max(n,t.y));return this.rayIntersectionCoordinate(this.pointRayIntersection(r,i))}},{key:"pointCoordinate3D",value:function(t){if(!this.elevation)return this.pointCoordinate(t);var i=this.elevation,n=this.elevation.pointCoordinate(t);if(n)return new e.MercatorCoordinate(n[0],n[1],n[2]);var r=0,o=this.horizonLineFromTop();if(t.y>o)return this.pointCoordinate(t);for(var a=.02*o,s=t.clone(),l=0;l<10&&o-r>a;l++){s.y=e.number(r,o,.66);var u=i.pointCoordinate(s);u?(o=s.y,n=u):r=s.y}return n?new e.MercatorCoordinate(n[0],n[1],n[2]):this.pointCoordinate(t)}},{key:"isPointAboveHorizon",value:function(e){if(this.elevation)return!this.elevation.pointCoordinate(e);var t=this.horizonLineFromTop();return e.y<t}},{key:"_coordinatePoint",value:function(t,i){var n=i&&this.elevation?this.elevation.getAtPointOrZero(t,this._centerAltitude):this._centerAltitude,r=[t.x*this.worldSize,t.y*this.worldSize,n+t.toAltitude(),1];return e.transformMat4(r,r,this.pixelMatrix),r[3]>0?new e.pointGeometry(r[0]/r[3],r[1]/r[3]):new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}},{key:"_getBounds",value:function(t,i){var n=new e.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),r=new e.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),o=new e.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),a=new e.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom),s=this.pointCoordinate(n,t),l=this.pointCoordinate(r,t),u=this.pointCoordinate(o,i),c=this.pointCoordinate(a,i),h=function(e,t){return(t.y-e.y)/(t.x-e.x)};return s.y>1&&l.y>=0?s=new e.MercatorCoordinate((1-c.y)/h(c,s)+c.x,1):s.y<0&&l.y<=1&&(s=new e.MercatorCoordinate(-c.y/h(c,s)+c.x,0)),l.y>1&&s.y>=0?l=new e.MercatorCoordinate((1-u.y)/h(u,l)+u.x,1):l.y<0&&s.y<=1&&(l=new e.MercatorCoordinate(-u.y/h(u,l)+u.x,0)),(new e.LngLatBounds).extend(this.coordinateLocation(s)).extend(this.coordinateLocation(l)).extend(this.coordinateLocation(c)).extend(this.coordinateLocation(u))}},{key:"_getBounds3D",value:function(){var e=this.elevation,t=e.visibleDemTiles.reduce((function(e,t){if(t.dem){var i=t.dem.tree;e.min=Math.min(e.min,i.minimums[0]),e.max=Math.max(e.max,i.maximums[0])}return e}),{min:Number.MAX_VALUE,max:0});return this._getBounds(t.min*e.exaggeration(),t.max*e.exaggeration())}},{key:"getBounds",value:function(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}},{key:"horizonLineFromTop",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,i=this.height/2-t*(1-this._horizonShift);return e?Math.max(0,i):i}},{key:"getMaxBounds",value:function(){return this.maxBounds}},{key:"setMaxBounds",value:function(t){this.maxBounds=t,this.minLat=-e.MAX_MERCATOR_LATITUDE,this.maxLat=e.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,t&&(this.minLat=t.getSouth(),this.maxLat=t.getNorth(),this.minLng=t.getWest(),this.maxLng=t.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=e.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=e.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=e.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=e.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}},{key:"calculatePosMatrix",value:function(t,i){var n,r,o,a=t.canonical,s=e.identity(new Float64Array(16));if("mercator"===this.projection.name)n=i/this.zoomScale(a.z),r=(a.x+Math.pow(2,a.z)*t.wrap)*n,o=a.y*n;else{var l=e.tileTransform(a,this.projection);n=1,r=l.x+t.wrap*l.scale,o=l.y,e.scale$1(s,s,[n/l.scale,n/l.scale,this.pixelsPerMeter/this.worldSize])}return e.translate(s,s,[r,o,0]),e.scale$1(s,s,[n/e.EXTENT,n/e.EXTENT,1]),s}},{key:"calculateDistanceTileData",value:function(t){var i=t.key,n=this._distanceTileDataCache;if(n[i])return n[i];var r=t.canonical,o=1/this.height,a=this.cameraWorldSize/this.zoomScale(r.z),s=(r.x+Math.pow(2,r.z)*t.wrap)*a,l=r.y*a,u=this.point,c=this.angle,h=Math.sin(-c),d=-Math.cos(-c);return n[i]={bearing:[h,d],center:[(u.x-s)*o,(u.y-l)*o],scale:a/e.EXTENT*o},n[i]}},{key:"calculateFogTileMatrix",value:function(t){var i=t.key,n=this._fogTileMatrixCache;if(n[i])return n[i];var r=this.calculatePosMatrix(t,this.cameraWorldSize);return e.multiply(r,this.worldToFogMatrix,r),n[i]=new Float32Array(r),n[i]}},{key:"calculateProjMatrix",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.key,r=i?this._alignedProjMatrixCache:this._projMatrixCache;if(r[n])return r[n];var o=this.calculatePosMatrix(t,this.worldSize);return e.multiply(o,"mercator"===this.projection.name?i?this.alignedProjMatrix:this.projMatrix:this.mercatorMatrix,o),r[n]=new Float32Array(o),r[n]}},{key:"calculatePixelsToTileUnitsMatrix",value:function(t){var i=t.tileID.key,n=this._pixelsToTileUnitsCache;if(n[i])return n[i];var r=function(t,i){var n,r,o,a,s,l,u,c,h=t.tileTransform.scale*e.EXTENT/(t.tileSize*Math.pow(2,i.zoom-t.tileID.overscaledZ+t.tileID.canonical.z));return n=new Float32Array(4),a=(r=i.inverseAdjustmentMatrix)[1],s=r[2],l=r[3],c=(o=[h,h])[1],n[0]=r[0]*(u=o[0]),n[1]=a*u,n[2]=s*c,n[3]=l*c,n}(t,this);return n[i]=r,n[i]}},{key:"customLayerMatrix",value:function(){return this.mercatorMatrix.slice()}},{key:"recenterOnTerrain",value:function(){if(this._elevation){var t=this._elevation;this._updateCameraState();var i=this._camera.position,n=this._camera.forward();if(!(i[2]<=0||n[2]>=0)){var r=e.mercatorZfromAltitude(1,this._center.lat);i[2]/=r,n[2]/=r,e.normalize(n,n);var o=t.raycast(i,n,t.exaggeration());if(o){var a=e.scaleAndAdd([],i,n,o),s=new e.MercatorCoordinate(a[0],a[1],e.mercatorZfromAltitude(a[2],e.latFromMercatorY(a[1]))),l=this._camera.position,u=s.z+e.length([s.x-l[0],s.y-l[1],s.z-l[2]]);this._cameraZoom=this._zoomFromMercatorZ(u),this._centerAltitude=s.toAltitude(),this._center=this.coordinateLocation(s),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}}}},{key:"_constrainCameraAltitude",value:function(){if(this._elevation){var t=this._elevation;this._updateCameraState();var i=t.getAtPointOrZero(this._camera.mercatorPosition),n=this._minimumHeightOverTerrain()*Math.cos(e.degToRad(this._maxPitch)),r=e.mercatorZfromAltitude(i,this._center.lat),o=this._camera.position[2]-r;if(o<n){var a=this.locationCoordinate(this._center,this._centerAltitude),s=this._camera.mercatorPosition,l=[a.x-s.x,a.y-s.y,a.z-s.z],u=e.length(l);l[2]-=n-o;var c=e.length(l);if(0===c)return;e.scale(l,l,u/c),this._camera.position=[a.x-l[0],a.y-l[1],a.z-l[2]],this._camera.orientation=Rn(l,this._camera.up()),this._updateStateFromCamera()}}}},{key:"_constrain",value:function(){if(this.center&&this.width&&this.height&&!this._constraining){if(this._constraining=!0,"mercator"!==this.projection.name){var t=this.center;return t.lat=e.clamp(t.lat,this.minLat,this.maxLat),!this.maxBounds&&this.renderWorldCopies||(t.lng=e.clamp(t.lng,this.minLng,this.maxLng)),this.center=t,void(this._constraining=!1)}var i=this._unmodified,n=this.point,r=n.x,o=n.y,a=0,s=r,l=o,u=this.width/2,c=this.height/2,h=this.worldMinY*this.scale,d=this.worldMaxY*this.scale;if(o-c<h&&(l=h+c),o+c>d&&(l=d-c),d-h<this.height&&(a=Math.max(a,this.height/(d-h)),l=(d+h)/2),this.maxBounds||!this.renderWorldCopies){var p=this.worldMinX*this.scale,f=this.worldMaxX*this.scale,m=this.worldSize/2-(p+f)/2;(s=(r+m+this.worldSize)%this.worldSize-m)-u<p&&(s=p+u),s+u>f&&(s=f-u),f-p<this.width&&(a=Math.max(a,this.width/(f-p)),s=(f+p)/2)}s===r&&l===o||(this.center=this.unproject(new e.pointGeometry(s,l))),a&&(this.zoom+=this.scaleZoom(a)),this._constrainCameraAltitude(),this._unmodified=i,this._constraining=!1}}},{key:"_minZoomForBounds",value:function(){var e=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(e=Math.max(e,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),e}},{key:"_maxCameraBoundsDistance",value:function(){return this._mercatorZfromZoom(this._minZoomForBounds())}},{key:"_calcMatrices",value:function(){if(this.height){var t=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var i=this.pixelsPerMeter;this._updateCameraState();var n=Math.PI/2+this._pitch,r=this.fovAboveCenter,o=this.elevation?this.elevation.getMinElevationBelowMSL()*i:0,a=(this._camera.position[2]*this.worldSize-o)/Math.cos(this._pitch),s=Math.sin(r)*a/Math.sin(e.clamp(Math.PI-n-r,.01,Math.PI-.01)),l=this.point,u=l.x,c=l.y,h=Math.cos(Math.PI/2-this._pitch)*s+a,d=Math.min(1.01*h,a*(1/this._horizonShift)),p=this.height/50,f=this._camera.getWorldToCamera(this.worldSize,i),m=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,p,d);m[8]=2*-t.x/this.width,m[9]=2*t.y/this.height;var g=e.mul$1([],m,f);if("mercator"!==this.projection.name){var y=this.locationCoordinate(this.center),v=e.identity([]);e.translate(v,v,[y.x*this.worldSize,y.y*this.worldSize,0]),e.multiply(v,v,zn(this)),e.translate(v,v,[-y.x*this.worldSize,-y.y*this.worldSize,0]),e.multiply(g,g,v),this.inverseAdjustmentMatrix=function(e){var t=zn(e,!0);return C([],[t[0],t[1],t[4],t[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=e.scale$1([],g,[this.worldSize,this.worldSize,this.worldSize/i]),this.projMatrix=g,this.invProjMatrix=e.invert(new Float64Array(16),this.projMatrix);var b=new Float32Array(16);e.identity(b),e.scale$1(b,b,[1,-1,1]),e.rotateX(b,b,this._pitch),e.rotateZ(b,b,this.angle);var x=e.perspective(new Float32Array(16),this._fov,this.width/this.height,p,d),_=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;x[8]=2*-t.x/this.width,x[9]=2*(t.y+_)/this.height,this.skyboxMatrix=e.multiply(b,x,b);var w=this.width%2/2,S=this.height%2/2,k=Math.cos(this.angle),T=Math.sin(this.angle),E=u-Math.round(u)+k*w+T*S,A=c-Math.round(c)+k*S+T*w,P=new Float64Array(g);if(e.translate(P,P,[E>.5?E-1:E,A>.5?A-1:A,0]),this.alignedProjMatrix=P,g=e.create$1(),e.scale$1(g,g,[this.width/2,-this.height/2,1]),e.translate(g,g,[1,-1,0]),this.labelPlaneMatrix=g,g=e.create$1(),e.scale$1(g,g,[1,-1,1]),e.translate(g,g,[-1,-1,0]),e.scale$1(g,g,[2/this.width,2/this.height,1]),this.glCoordMatrix=g,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},!(g=e.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=g,this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}}},{key:"_calcFogMatrices",value:function(){this._fogTileMatrixCache={};var t=this.cameraWorldSize,i=this.cameraPixelsPerMeter,n=this._camera.position,r=1/this.height,o=[t,t,i];e.scale(o,o,r),e.scale(n,n,-1),e.multiply$1(n,n,o);var a=e.create$1();e.translate(a,a,n),e.scale$1(a,a,o),this.mercatorFogMatrix=a,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(t,i,r)}},{key:"_updateCameraState",value:function(){if(this.height){this._camera.setPitchBearing(this._pitch,this.angle);var t=this._camera.forward(),i=this.cameraToCenterDistance,n=this.point,r=this._mercatorZfromZoom(this._cameraZoom?this._cameraZoom:this._zoom)-e.mercatorZfromAltitude(this._centerAltitude,this.center.lat),o=this.cameraToCenterDistance/r;this._camera.position=[n.x/this.worldSize-t[0]*i/o,n.y/this.worldSize-t[1]*i/o,e.mercatorZfromAltitude(this._centerAltitude,this._center.lat)+-t[2]*i/o]}}},{key:"_translateCameraConstrained",value:function(t){var i=this._maxCameraBoundsDistance()*Math.cos(this._pitch),n=t[2],r=1;n>0&&(r=Math.min((i-this._camera.position[2])/n,1)),this._camera.position=e.scaleAndAdd([],this._camera.position,t,r),this._updateStateFromCamera()}},{key:"_updateStateFromCamera",value:function(){var t=this._camera.position,i=this._camera.forward(),n=this._camera.getPitchBearing(),r=n.pitch,o=n.bearing,a=e.mercatorZfromAltitude(this._centerAltitude,this.center.lat),s=this._mercatorZfromZoom(this._maxZoom)*Math.cos(e.degToRad(this._maxPitch)),l=Math.max((t[2]-a)/Math.cos(r),s),u=this._zoomFromMercatorZ(l);e.scaleAndAdd(t,t,i,l),this._pitch=e.clamp(r,e.degToRad(this.minPitch),e.degToRad(this.maxPitch)),this.angle=e.wrap(o,-Math.PI,Math.PI),this._setZoom(e.clamp(u,this._minZoom,this._maxZoom)),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._center=this.coordinateLocation(new e.MercatorCoordinate(t[0],t[1],t[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}},{key:"_worldSizeFromZoom",value:function(e){return Math.pow(2,e)*this.tileSize}},{key:"_mercatorZfromZoom",value:function(e){return this.cameraToCenterDistance/this._worldSizeFromZoom(e)}},{key:"_minimumHeightOverTerrain",value:function(){var e=Math.min((null!=this._cameraZoom?this._cameraZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(e)}},{key:"_zoomFromMercatorZ",value:function(e){return this.scaleZoom(this.cameraToCenterDistance/(e*this.tileSize))}},{key:"_terrainEnabled",value:function(){return!(!this._elevation||"mercator"!==this.projection.name&&(e.warnOnce("Terrain is not yet supported with alternate projections. Use mercator to enable terrain."),1))}},{key:"anyCornerOffEdge",value:function(t,i){var n=Math.min(t.x,i.x),r=Math.max(t.x,i.x),o=Math.min(t.y,i.y),a=Math.max(t.y,i.y);if(o<this.horizonLineFromTop(!1))return!0;if("mercator"!==this.projection.name)return!1;for(var s=[new e.pointGeometry(n,o),new e.pointGeometry(r,a),new e.pointGeometry(n,a),new e.pointGeometry(r,o)],l=this.renderWorldCopies?-3:0,u=this.renderWorldCopies?4:1,c=0,h=s;c<h.length;c++){var d=h[c],p=this.pointRayIntersection(d);if(p.t<0)return!0;var f=this.rayIntersectionCoordinate(p);if(f.x<l||f.y<0||f.x>u||f.y>1)return!0}return!1}},{key:"isHorizonVisible",value:function(){return this.pitch+e.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new e.pointGeometry(0,0),new e.pointGeometry(this.width,this.height))}},{key:"zoomDeltaToMovement",value:function(t,i){var n=e.length(e.sub([],this._camera.position,t)),r=this._zoomFromMercatorZ(n)+i;return n-this._mercatorZfromZoom(r)}},{key:"getCameraPoint",value:function(){var t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.pointGeometry(0,t))}}]),t}();function Wn(e,t){var i=!1,n=null,r=function r(){n=null,i&&(e(),n=setTimeout(r,t),i=!1)};return function(){return i=!0,n||r(),n}}var Hn=function(){function t(i){g(this,t),this._hashName=i&&encodeURIComponent(i),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Wn(this._updateHashUnthrottled.bind(this),300)}return y(t,[{key:"addTo",value:function(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}},{key:"remove",value:function(){return e.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}},{key:"getHashString",value:function(t){var i=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,r=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,r),a=Math.round(i.lng*o)/o,s=Math.round(i.lat*o)/o,l=this._map.getBearing(),u=this._map.getPitch(),c="";if(c+=t?"/".concat(a,"/").concat(s,"/").concat(n):"".concat(n,"/").concat(s,"/").concat(a),(l||u)&&(c+="/"+Math.round(10*l)/10),u&&(c+="/".concat(Math.round(u))),this._hashName){var h=this._hashName,d=!1,p=e.window.location.hash.slice(1).split("&").map((function(e){var t=e.split("=")[0];return t===h?(d=!0,"".concat(t,"=").concat(c)):e})).filter((function(e){return e}));return d||p.push("".concat(h,"=").concat(c)),"#".concat(p.join("&"))}return"#".concat(c)}},{key:"_getCurrentHash",value:function(){var t,i=this,n=e.window.location.hash.replace("#","");return this._hashName?(n.split("&").map((function(e){return e.split("=")})).forEach((function(e){e[0]===i._hashName&&(t=e)})),(t&&t[1]||"").split("/")):n.split("/")}},{key:"_onHashChange",value:function(){var e=this._getCurrentHash();if(e.length>=3&&!e.some((function(e){return isNaN(e)}))){var t=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(e[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0}return!1}},{key:"_updateHashUnthrottled",value:function(){var t=e.window.location.href.replace(/(#.+)?$/,this.getHashString());e.window.history.replaceState(e.window.history.state,null,t)}}]),t}(),Gn={linearity:.3,easing:e.bezier(0,0,.3,1)},qn=e.extend({deceleration:2500,maxSpeed:1400},Gn),Zn=e.extend({deceleration:20,maxSpeed:1400},Gn),Xn=e.extend({deceleration:1e3,maxSpeed:360},Gn),Yn=e.extend({deceleration:1e3,maxSpeed:90},Gn),$n=function(){function t(e){g(this,t),this._map=e,this.clear()}return y(t,[{key:"clear",value:function(){this._inertiaBuffer=[]}},{key:"record",value:function(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.exported.now(),settings:t})}},{key:"_drainInertiaBuffer",value:function(){for(var t=this._inertiaBuffer,i=e.exported.now();t.length>0&&i-t[0].time>160;)t.shift()}},{key:"_onMoveEnd",value:function(t){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){var i,n={zoom:0,bearing:0,pitch:0,pan:new e.pointGeometry(0,0),pinchAround:void 0,around:void 0},r=d(this._inertiaBuffer);try{for(r.s();!(i=r.n()).done;){var o=i.value.settings;n.zoom+=o.zoomDelta||0,n.bearing+=o.bearingDelta||0,n.pitch+=o.pitchDelta||0,o.panDelta&&n.pan._add(o.panDelta),o.around&&(n.around=o.around),o.pinchAround&&(n.pinchAround=o.pinchAround)}}catch(f){r.e(f)}finally{r.f()}var a=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,s={};if(n.pan.mag()){var l=Qn(n.pan.mag(),a,e.extend({},qn,t||{}));s.offset=n.pan.mult(l.amount/n.pan.mag()),s.center=this._map.transform.center,Kn(s,l)}if(n.zoom){var u=Qn(n.zoom,a,Zn);s.zoom=this._map.transform.zoom+u.amount,Kn(s,u)}if(n.bearing){var c=Qn(n.bearing,a,Xn);s.bearing=this._map.transform.bearing+e.clamp(c.amount,-179,179),Kn(s,c)}if(n.pitch){var h=Qn(n.pitch,a,Yn);s.pitch=this._map.transform.pitch+h.amount,Kn(s,h)}if(s.zoom||s.bearing){var p=void 0===n.pinchAround?n.around:n.pinchAround;s.around=p?this._map.unproject(p):this._map.getCenter()}return this.clear(),e.extend(s,{noMoveStart:!0})}}}]),t}();function Kn(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function Qn(t,i,n){var r=n.maxSpeed,o=n.linearity,a=n.deceleration,s=e.clamp(t*o/(i/1e3),-r,r),l=Math.abs(s)/(a*o);return{easing:n.easing,duration:1e3*l,amount:s*(l/2)}}var Jn=function(t){f(n,t);var i=m(n);function n(t,r,o){var a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};g(this,n);var l=v.mousePos(r.getCanvasContainer(),o),u=r.unproject(l);return(a=i.call(this,t,e.extend({point:l,lngLat:u,originalEvent:o},s)))._defaultPrevented=!1,a.target=r,a}return y(n,[{key:"preventDefault",value:function(){this._defaultPrevented=!0}},{key:"defaultPrevented",get:function(){return this._defaultPrevented}}]),n}(e.Event),er=function(t){f(n,t);var i=m(n);function n(t,r,o){var a;g(this,n);var s="touchend"===t?o.changedTouches:o.touches,l=v.touchPos(r.getCanvasContainer(),s),u=l.map((function(e){return r.unproject(e)})),c=l.reduce((function(e,t,i,n){return e.add(t.div(n.length))}),new e.pointGeometry(0,0));return(a=i.call(this,t,{points:l,point:c,lngLats:u,lngLat:r.unproject(c),originalEvent:o}))._defaultPrevented=!1,a}return y(n,[{key:"preventDefault",value:function(){this._defaultPrevented=!0}},{key:"defaultPrevented",get:function(){return this._defaultPrevented}}]),n}(e.Event),tr=function(e){f(i,e);var t=m(i);function i(e,n,r){var o;return g(this,i),(o=t.call(this,e,{originalEvent:r}))._defaultPrevented=!1,o}return y(i,[{key:"preventDefault",value:function(){this._defaultPrevented=!0}},{key:"defaultPrevented",get:function(){return this._defaultPrevented}}]),i}(e.Event),ir=function(){function t(e,i){g(this,t),this._map=e,this._clickTolerance=i.clickTolerance}return y(t,[{key:"reset",value:function(){delete this._mousedownPos}},{key:"wheel",value:function(e){return this._firePreventable(new tr(e.type,this._map,e))}},{key:"mousedown",value:function(e,t){return this._mousedownPos=t,this._firePreventable(new Jn(e.type,this._map,e))}},{key:"mouseup",value:function(e){this._map.fire(new Jn(e.type,this._map,e))}},{key:"preclick",value:function(t){var i=e.extend({},t);i.type="preclick",this._map.fire(new Jn(i.type,this._map,i))}},{key:"click",value:function(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||(this.preclick(e),this._map.fire(new Jn(e.type,this._map,e)))}},{key:"dblclick",value:function(e){return this._firePreventable(new Jn(e.type,this._map,e))}},{key:"mouseover",value:function(e){this._map.fire(new Jn(e.type,this._map,e))}},{key:"mouseout",value:function(e){this._map.fire(new Jn(e.type,this._map,e))}},{key:"touchstart",value:function(e){return this._firePreventable(new er(e.type,this._map,e))}},{key:"touchmove",value:function(e){this._map.fire(new er(e.type,this._map,e))}},{key:"touchend",value:function(e){this._map.fire(new er(e.type,this._map,e))}},{key:"touchcancel",value:function(e){this._map.fire(new er(e.type,this._map,e))}},{key:"_firePreventable",value:function(e){if(this._map.fire(e),e.defaultPrevented)return{}}},{key:"isEnabled",value:function(){return!0}},{key:"isActive",value:function(){return!1}},{key:"enable",value:function(){}},{key:"disable",value:function(){}}]),t}(),nr=function(){function e(t){g(this,e),this._map=t}return y(e,[{key:"reset",value:function(){this._delayContextMenu=!1,delete this._contextMenuEvent}},{key:"mousemove",value:function(e){this._map.fire(new Jn(e.type,this._map,e))}},{key:"mousedown",value:function(){this._delayContextMenu=!0}},{key:"mouseup",value:function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Jn("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}},{key:"contextmenu",value:function(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new Jn(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}},{key:"isEnabled",value:function(){return!0}},{key:"isActive",value:function(){return!1}},{key:"enable",value:function(){}},{key:"disable",value:function(){}}]),e}(),rr=function(){function t(e,i){g(this,t),this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=i.clickTolerance||1}return y(t,[{key:"isEnabled",value:function(){return!!this._enabled}},{key:"isActive",value:function(){return!!this._active}},{key:"enable",value:function(){this.isEnabled()||(this._enabled=!0)}},{key:"disable",value:function(){this.isEnabled()&&(this._enabled=!1)}},{key:"mousedown",value:function(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(v.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)}},{key:"mousemoveWindow",value:function(e,t){var i=this;if(this._active){var n=t;if(!(this._lastPos.equals(n)||!this._box&&n.dist(this._startPos)<this._clickTolerance)){var r=this._startPos;this._lastPos=n,this._box||(this._box=v.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var o=Math.min(r.x,n.x),a=Math.max(r.x,n.x),s=Math.min(r.y,n.y),l=Math.max(r.y,n.y);this._map._requestDomTask((function(){i._box&&(v.setTransform(i._box,"translate(".concat(o,"px,").concat(s,"px)")),i._box.style.width=a-o+"px",i._box.style.height=l-s+"px")}))}}}},{key:"mouseupWindow",value:function(t,i){var n=this;if(this._active&&0===t.button){var r=this._startPos,o=i;if(this.reset(),v.suppressClick(),r.x!==o.x||r.y!==o.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:function(e){return e.fitScreenCoordinates(r,o,n._map.getBearing(),{linear:!1})}};this._fireEvent("boxzoomcancel",t)}}},{key:"keydown",value:function(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}},{key:"blur",value:function(){this.reset()}},{key:"reset",value:function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(v.remove(this._box),this._box=null),v.enableDrag(),delete this._startPos,delete this._lastPos}},{key:"_fireEvent",value:function(t,i){return this._map.fire(new e.Event(t,{originalEvent:i}))}}]),t}();function or(e,t){for(var i={},n=0;n<e.length;n++)i[e[n].identifier]=t[n];return i}var ar=function(){function t(e){g(this,t),this.reset(),this.numTouches=e.numTouches}return y(t,[{key:"reset",value:function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}},{key:"touchstart",value:function(t,i,n){(this.centroid||n.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=t.timeStamp),n.length===this.numTouches&&(this.centroid=function(t){var i,n=new e.pointGeometry(0,0),r=d(t);try{for(r.s();!(i=r.n()).done;){var o=i.value;n._add(o)}}catch(a){r.e(a)}finally{r.f()}return n.div(t.length)}(i),this.touches=or(n,i)))}},{key:"touchmove",value:function(e,t,i){if(!this.aborted&&this.centroid){var n=or(i,t);for(var r in this.touches){var o=this.touches[r],a=n[r];(!a||a.dist(o)>30)&&(this.aborted=!0)}}}},{key:"touchend",value:function(e,t,i){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===i.length){var n=!this.aborted&&this.centroid;if(this.reset(),n)return n}}}]),t}(),sr=function(){function e(t){g(this,e),this.singleTap=new ar(t),this.numTaps=t.numTaps,this.reset()}return y(e,[{key:"reset",value:function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}},{key:"touchstart",value:function(e,t,i){this.singleTap.touchstart(e,t,i)}},{key:"touchmove",value:function(e,t,i){this.singleTap.touchmove(e,t,i)}},{key:"touchend",value:function(e,t,i){var n=this.singleTap.touchend(e,t,i);if(n){var r=e.timeStamp-this.lastTime<500,o=!this.lastTap||this.lastTap.dist(n)<30;if(r&&o||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=n,this.count===this.numTaps)return this.reset(),n}}}]),e}(),lr=function(){function e(){g(this,e),this._zoomIn=new sr({numTouches:1,numTaps:2}),this._zoomOut=new sr({numTouches:2,numTaps:1}),this.reset()}return y(e,[{key:"reset",value:function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}},{key:"touchstart",value:function(e,t,i){this._zoomIn.touchstart(e,t,i),this._zoomOut.touchstart(e,t,i)}},{key:"touchmove",value:function(e,t,i){this._zoomIn.touchmove(e,t,i),this._zoomOut.touchmove(e,t,i)}},{key:"touchend",value:function(e,t,i){var n=this,r=this._zoomIn.touchend(e,t,i),o=this._zoomOut.touchend(e,t,i);return r?(this._active=!0,e.preventDefault(),setTimeout((function(){return n.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(r)},{originalEvent:e})}}):o?(this._active=!0,e.preventDefault(),setTimeout((function(){return n.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(o)},{originalEvent:e})}}):void 0}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),ur={0:1,2:2},cr=function(){function e(t){g(this,e),this.reset(),this._clickTolerance=t.clickTolerance||1}return y(e,[{key:"blur",value:function(){this.reset()}},{key:"reset",value:function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}},{key:"_correctButton",value:function(e,t){return!1}},{key:"_move",value:function(e,t){return{}}},{key:"mousedown",value:function(e,t){if(!this._lastPoint){var i=v.mouseButton(e);this._correctButton(e,i)&&(this._lastPoint=t,this._eventButton=i)}}},{key:"mousemoveWindow",value:function(e,t){var i=this._lastPoint;if(i)if(e.preventDefault(),function(e,t){var i=ur[t];return void 0===e.buttons||(e.buttons&i)!==i}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(i)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(i,t)}},{key:"mouseupWindow",value:function(e){this._lastPoint&&v.mouseButton(e)===this._eventButton&&(this._moved&&v.suppressClick(),this.reset())}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),hr=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"mousedown",value:function(e,t){a(s(i.prototype),"mousedown",this).call(this,e,t),this._lastPoint&&(this._active=!0)}},{key:"_correctButton",value:function(e,t){return 0===t&&!e.ctrlKey}},{key:"_move",value:function(e,t){return{around:t,panDelta:t.sub(e)}}}]),i}(cr),dr=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"_correctButton",value:function(e,t){return 0===t&&e.ctrlKey||2===t}},{key:"_move",value:function(e,t){var i=.8*(t.x-e.x);if(i)return this._active=!0,{bearingDelta:i}}},{key:"contextmenu",value:function(e){e.preventDefault()}}]),i}(cr),pr=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"_correctButton",value:function(e,t){return 0===t&&e.ctrlKey||2===t}},{key:"_move",value:function(e,t){var i=-.5*(t.y-e.y);if(i)return this._active=!0,{pitchDelta:i}}},{key:"contextmenu",value:function(e){e.preventDefault()}}]),i}(cr),fr=function(){function t(i,n){g(this,t),this._map=i,this._el=i.getCanvasContainer(),this._minTouches=1,this._clickTolerance=n.clickTolerance||1,this.reset(),e.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}return y(t,[{key:"reset",value:function(){this._active=!1,this._touches={},this._sum=new e.pointGeometry(0,0)}},{key:"touchstart",value:function(e,t,i){return this._calculateTransform(e,t,i)}},{key:"touchmove",value:function(e,t,i){if(this._active&&!(i.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===i.length)return void this._showTouchPanBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return e.preventDefault(),this._calculateTransform(e,t,i)}}},{key:"touchend",value:function(e,t,i){this._calculateTransform(e,t,i),this._active&&i.length<this._minTouches&&this.reset()}},{key:"touchcancel",value:function(){this.reset()}},{key:"_calculateTransform",value:function(t,i,n){n.length>0&&(this._active=!0);var r=or(n,i),o=new e.pointGeometry(0,0),a=new e.pointGeometry(0,0),s=0;for(var l in r){var u=r[l],c=this._touches[l];c&&(o._add(u),a._add(u.sub(c)),s++,r[l]=u)}if(this._touches=r,!(s<this._minTouches)&&a.mag()){var h=a.div(s);return this._sum._add(h),this._sum.mag()<this._clickTolerance?void 0:{around:o.div(s),panDelta:h}}}},{key:"enable",value:function(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}},{key:"disable",value:function(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}},{key:"_addTouchPanBlocker",value:function(){this._map&&!this._alertContainer&&(this._alertContainer=v.create("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize="".concat(Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth))),"px"))}},{key:"_showTouchPanBlockerAlert",value:function(){var e=this;"hidden"===this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="visible"),this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((function(){e._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show")}),500)}}]),t}(),mr=function(){function e(){g(this,e),this.reset()}return y(e,[{key:"reset",value:function(){this._active=!1,delete this._firstTwoTouches}},{key:"_start",value:function(e){}},{key:"_move",value:function(e,t,i){return{}}},{key:"touchstart",value:function(e,t,i){this._firstTwoTouches||i.length<2||(this._firstTwoTouches=[i[0].identifier,i[1].identifier],this._start([t[0],t[1]]))}},{key:"touchmove",value:function(e,t,i){if(this._firstTwoTouches){e.preventDefault();var n=h(this._firstTwoTouches,2),r=n[0],o=n[1],a=gr(i,t,r),s=gr(i,t,o);if(a&&s){var l=this._aroundCenter?null:a.add(s).div(2);return this._move([a,s],l,e)}}}},{key:"touchend",value:function(e,t,i){if(this._firstTwoTouches){var n=h(this._firstTwoTouches,2),r=n[0],o=n[1],a=gr(i,t,r),s=gr(i,t,o);a&&s||(this._active&&v.suppressClick(),this.reset())}}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}();function gr(e,t,i){for(var n=0;n<e.length;n++)if(e[n].identifier===i)return t[n]}function yr(e,t){return Math.log(e/t)/Math.LN2}var vr=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"reset",value:function(){a(s(i.prototype),"reset",this).call(this),delete this._distance,delete this._startDistance}},{key:"_start",value:function(e){this._startDistance=this._distance=e[0].dist(e[1])}},{key:"_move",value:function(e,t){var i=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(yr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:yr(this._distance,i),pinchAround:t}}}]),i}(mr);function br(e,t){return 180*e.angleWith(t)/Math.PI}var xr=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i,[{key:"reset",value:function(){a(s(i.prototype),"reset",this).call(this),delete this._minDiameter,delete this._startVector,delete this._vector}},{key:"_start",value:function(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}},{key:"_move",value:function(e,t){var i=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:br(this._vector,i),pinchAround:t}}},{key:"_isBelowThreshold",value:function(e){this._minDiameter=Math.min(this._minDiameter,e.mag());var t=25/(Math.PI*this._minDiameter)*360,i=br(e,this._startVector);return Math.abs(i)<t}}]),i}(mr);function _r(e){return Math.abs(e.y)>Math.abs(e.x)}var wr=function(e){f(i,e);var t=m(i);function i(e){var n;return g(this,i),(n=t.call(this))._map=e,n}return y(i,[{key:"reset",value:function(){a(s(i.prototype),"reset",this).call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints}},{key:"_start",value:function(e){this._lastPoints=e,_r(e[0].sub(e[1]))&&(this._valid=!1)}},{key:"_move",value:function(e,t,i){var n=e[0].sub(this._lastPoints[0]),r=e[1].sub(this._lastPoints[1]);if(!(this._map._cooperativeGestures&&i.touches.length<3)&&(this._valid=this.gestureBeginsVertically(n,r,i.timeStamp),this._valid))return this._lastPoints=e,this._active=!0,{pitchDelta:(n.y+r.y)/2*-.5}}},{key:"gestureBeginsVertically",value:function(e,t,i){if(void 0!==this._valid)return this._valid;var n=e.mag()>=2,r=t.mag()>=2;if(n||r){if(!n||!r)return void 0===this._firstMove&&(this._firstMove=i),i-this._firstMove<100&&void 0;var o=e.y>0==t.y>0;return _r(e)&&_r(t)&&o}}}]),i}(mr),Sr={panStep:100,bearingStep:15,pitchStep:10},kr=function(){function e(){g(this,e);var t=Sr;this._panStep=t.panStep,this._bearingStep=t.bearingStep,this._pitchStep=t.pitchStep,this._rotationDisabled=!1}return y(e,[{key:"blur",value:function(){this.reset()}},{key:"reset",value:function(){this._active=!1}},{key:"keydown",value:function(e){var t=this;if(!(e.altKey||e.ctrlKey||e.metaKey)){var i=0,n=0,r=0,o=0,a=0;switch(e.keyCode){case 61:case 107:case 171:case 187:i=1;break;case 189:case 109:case 173:i=-1;break;case 37:e.shiftKey?n=-1:(e.preventDefault(),o=-1);break;case 39:e.shiftKey?n=1:(e.preventDefault(),o=1);break;case 38:e.shiftKey?r=1:(e.preventDefault(),a=-1);break;case 40:e.shiftKey?r=-1:(e.preventDefault(),a=1);break;default:return}return this._rotationDisabled&&(n=0,r=0),{cameraAnimation:function(s){var l=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:Cr,zoom:i?Math.round(l)+i*(e.shiftKey?2:1):l,bearing:s.getBearing()+n*t._bearingStep,pitch:s.getPitch()+r*t._pitchStep,offset:[-o*t._panStep,-a*t._panStep],center:s.getCenter()},{originalEvent:e})}}}}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}},{key:"disableRotation",value:function(){this._rotationDisabled=!0}},{key:"enableRotation",value:function(){this._rotationDisabled=!1}}]),e}();function Cr(e){return e*(2-e)}var Tr=4.000244140625,Er=function(){function t(i,n){g(this,t),this._map=i,this._el=i.getCanvasContainer(),this._handler=n,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,e.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert","_isFullscreen"],this)}return y(t,[{key:"setZoomRate",value:function(e){this._defaultZoomRate=e}},{key:"setWheelZoomRate",value:function(e){this._wheelZoomRate=e}},{key:"isEnabled",value:function(){return!!this._enabled}},{key:"isActive",value:function(){return!!this._active||void 0!==this._finishTimeout}},{key:"isZooming",value:function(){return!!this._zooming}},{key:"enable",value:function(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&"center"===e.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker())}},{key:"disable",value:function(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}},{key:"wheel",value:function(t){if(this.isEnabled()){if(this._map._cooperativeGestures){if(!(t.ctrlKey||t.metaKey||this.isZooming()||this._isFullscreen()))return void this._showBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}var i=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,n=e.exported.now(),r=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==i&&i%Tr==0?this._type="wheel":0!==i&&Math.abs(i)<4?this._type="trackpad":r>400?(this._type=null,this._lastValue=i,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(r*i)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,i+=this._lastValue)),t.shiftKey&&i&&(i/=4),this._type&&(this._lastWheelEvent=t,this._delta-=i,this._active||this._start(t)),t.preventDefault()}}},{key:"_onTimeout",value:function(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)}},{key:"_start",value:function(e){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var t=v.mousePos(this._el,e);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:t,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}}},{key:"renderFrame",value:function(){var t=this;if(this._frameId&&(this._frameId=null,this.isActive())){var i=this._map.transform,n=function(){return i._terrainEnabled()?i.computeZoomRelativeTo(t._aroundCoord):i.zoom};if(0!==this._delta){var r="wheel"===this._type&&Math.abs(this._delta)>Tr?this._wheelZoomRate:this._defaultZoomRate,o=2/(1+Math.exp(-Math.abs(this._delta*r)));this._delta<0&&0!==o&&(o=1/o);var a=n(),s=Math.pow(2,a),l="number"==typeof this._targetZoom?i.zoomScale(this._targetZoom):s;this._targetZoom=Math.min(i.maxZoom,Math.max(i.minZoom,i.scaleZoom(l*o))),"wheel"===this._type&&(this._startZoom=n(),this._easing=this._smoothOutEasing(200)),this._delta=0}var u,c="number"==typeof this._targetZoom?this._targetZoom:n(),h=this._startZoom,d=this._easing,p=!1;if("wheel"===this._type&&h&&d){var f=Math.min((e.exported.now()-this._lastWheelEventTime)/200,1),m=d(f);u=e.number(h,c,m),f<1?this._frameId||(this._frameId=!0):p=!0}else u=c,p=!0;return this._active=!0,p&&(this._active=!1,this._finishTimeout=setTimeout((function(){t._zooming=!1,t._handler._triggerRenderFrame(),delete t._targetZoom,delete t._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!p,zoomDelta:u-n(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}}},{key:"_smoothOutEasing",value:function(t){var i=e.ease;if(this._prevEase){var n=this._prevEase,r=(e.exported.now()-n.start)/n.duration,o=n.easing(r+.01)-n.easing(r),a=.27/Math.sqrt(o*o+1e-4)*.01,s=Math.sqrt(.0729-a*a);i=e.bezier(a,s,.25,1)}return this._prevEase={start:e.exported.now(),duration:t,easing:i},i}},{key:"blur",value:function(){this.reset()}},{key:"reset",value:function(){this._active=!1}},{key:"_addScrollZoomBlocker",value:function(){this._map&&!this._alertContainer&&(this._alertContainer=v.create("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(e.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize="".concat(Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth))),"px"))}},{key:"_isFullscreen",value:function(){return!!e.window.document.fullscreenElement}},{key:"_showBlockerAlert",value:function(){var e=this;"hidden"===this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="visible"),this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((function(){e._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show")}),200)}}]),t}(),Ar=function(){function e(t,i){g(this,e),this._clickZoom=t,this._tapZoom=i}return y(e,[{key:"enable",value:function(){this._clickZoom.enable(),this._tapZoom.enable()}},{key:"disable",value:function(){this._clickZoom.disable(),this._tapZoom.disable()}},{key:"isEnabled",value:function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}},{key:"isActive",value:function(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}]),e}(),Pr=function(){function e(){g(this,e),this.reset()}return y(e,[{key:"reset",value:function(){this._active=!1}},{key:"blur",value:function(){this.reset()}},{key:"dblclick",value:function(e,t){return e.preventDefault(),{cameraAnimation:function(i){i.easeTo({duration:300,zoom:i.getZoom()+(e.shiftKey?-1:1),around:i.unproject(t)},{originalEvent:e})}}}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),Mr=function(){function e(){g(this,e),this._tap=new sr({numTouches:1,numTaps:1}),this.reset()}return y(e,[{key:"reset",value:function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}},{key:"touchstart",value:function(e,t,i){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?i.length>0&&(this._swipePoint=t[0],this._swipeTouch=i[0].identifier):this._tap.touchstart(e,t,i))}},{key:"touchmove",value:function(e,t,i){if(this._tapTime){if(this._swipePoint){if(i[0].identifier!==this._swipeTouch)return;var n=t[0],r=n.y-this._swipePoint.y;return this._swipePoint=n,e.preventDefault(),this._active=!0,{zoomDelta:r/128}}}else this._tap.touchmove(e,t,i)}},{key:"touchend",value:function(e,t,i){this._tapTime?this._swipePoint&&0===i.length&&this.reset():this._tap.touchend(e,t,i)&&(this._tapTime=e.timeStamp)}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),Lr=function(){function e(t,i,n){g(this,e),this._el=t,this._mousePan=i,this._touchPan=n}return y(e,[{key:"enable",value:function(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}},{key:"disable",value:function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}},{key:"isEnabled",value:function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}},{key:"isActive",value:function(){return this._mousePan.isActive()||this._touchPan.isActive()}}]),e}(),Or=function(){function e(t,i,n){g(this,e),this._pitchWithRotate=t.pitchWithRotate,this._mouseRotate=i,this._mousePitch=n}return y(e,[{key:"enable",value:function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}},{key:"disable",value:function(){this._mouseRotate.disable(),this._mousePitch.disable()}},{key:"isEnabled",value:function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}},{key:"isActive",value:function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}]),e}(),Rr=function(){function e(t,i,n,r){g(this,e),this._el=t,this._touchZoom=i,this._touchRotate=n,this._tapDragZoom=r,this._rotationDisabled=!1,this._enabled=!0}return y(e,[{key:"enable",value:function(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}},{key:"disable",value:function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}},{key:"isEnabled",value:function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}},{key:"isActive",value:function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}},{key:"disableRotation",value:function(){this._rotationDisabled=!0,this._touchRotate.disable()}},{key:"enableRotation",value:function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}]),e}(),Ir=function(e){return e.zoom||e.drag||e.pitch||e.rotate},Dr=function(e){f(i,e);var t=m(i);function i(){return g(this,i),t.apply(this,arguments)}return y(i)}(e.Event),zr=function(){function t(){g(this,t),this.constants=[1,1,.01],this.radius=0}return y(t,[{key:"setup",value:function(t,i){var n=e.sub([],i,t);this.radius=e.length(n[2]<0?e.div([],n,this.constants):[n[0],n[1],0])}},{key:"projectRay",value:function(t){e.div(t,t,this.constants),e.normalize(t,t),e.mul$2(t,t,this.constants);var i=e.scale([],t,this.radius);if(i[2]>0){var n=e.scale([],[0,0,1],e.dot(i,[0,0,1])),r=e.scale([],e.normalize([],[i[0],i[1],0]),this.radius),o=e.add([],i,e.scale([],e.sub([],e.add([],r,n),i),2));i[0]=o[0],i[1]=o[1]}return i}}]),t}();function Br(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}var Fr=function(){function t(i,n){g(this,t),this._map=i,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new $n(i),this._bearingSnap=n.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new zr,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(n),e.bindAll(["handleEvent","handleWindowEvent"],this);var r=this._el;this._listeners=[[r,"touchstart",{passive:!0}],[r,"touchmove",{passive:!1}],[r,"touchend",void 0],[r,"touchcancel",void 0],[r,"mousedown",void 0],[r,"mousemove",void 0],[r,"mouseup",void 0],[e.window.document,"mousemove",{capture:!0}],[e.window.document,"mouseup",void 0],[r,"mouseover",void 0],[r,"mouseout",void 0],[r,"dblclick",void 0],[r,"click",void 0],[r,"keydown",{capture:!1}],[r,"keyup",void 0],[r,"wheel",{passive:!1}],[r,"contextmenu",void 0],[e.window,"blur",void 0]];var o,a=d(this._listeners);try{for(a.s();!(o=a.n()).done;){var s=h(o.value,3),l=s[0],u=s[1],c=s[2];v.addEventListener(l,u,l===e.window.document?this.handleWindowEvent:this.handleEvent,c)}}catch(p){a.e(p)}finally{a.f()}}return y(t,[{key:"destroy",value:function(){var t,i=d(this._listeners);try{for(i.s();!(t=i.n()).done;){var n=h(t.value,3),r=n[0],o=n[1],a=n[2];v.removeEventListener(r,o,r===e.window.document?this.handleWindowEvent:this.handleEvent,a)}}catch(s){i.e(s)}finally{i.f()}}},{key:"_addDefaultHandlers",value:function(e){var t=this._map,i=t.getCanvasContainer();this._add("mapEvent",new ir(t,e));var n=t.boxZoom=new rr(t,e);this._add("boxZoom",n);var r=new lr,o=new Pr;t.doubleClickZoom=new Ar(o,r),this._add("tapZoom",r),this._add("clickZoom",o);var a=new Mr;this._add("tapDragZoom",a);var s=t.touchPitch=new wr(t);this._add("touchPitch",s);var l=new dr(e),u=new pr(e);t.dragRotate=new Or(e,l,u),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",u,["mouseRotate"]);var c=new hr(e),h=new fr(t,e);t.dragPan=new Lr(i,c,h),this._add("mousePan",c),this._add("touchPan",h,["touchZoom","touchRotate"]);var d=new xr,p=new vr;t.touchZoomRotate=new Rr(i,p,d,a),this._add("touchRotate",d,["touchPan","touchZoom"]),this._add("touchZoom",p,["touchPan","touchRotate"]),this._add("blockableMapEvent",new nr(t));var f=t.scrollZoom=new Er(t,this);this._add("scrollZoom",f,["mousePan"]);var m=t.keyboard=new kr;this._add("keyboard",m);for(var g=0,y=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];g<y.length;g++){var v=y[g];e.interactive&&e[v]&&t[v].enable(e[v])}}},{key:"_add",value:function(e,t,i){this._handlers.push({handlerName:e,handler:t,allowed:i}),this._handlersById[e]=t}},{key:"stop",value:function(e){if(!this._updatingCamera){var t,i=d(this._handlers);try{for(i.s();!(t=i.n()).done;)t.value.handler.reset()}catch(n){i.e(n)}finally{i.f()}this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}},{key:"isActive",value:function(){var e,t=d(this._handlers);try{for(t.s();!(e=t.n()).done;)if(e.value.handler.isActive())return!0}catch(i){t.e(i)}finally{t.f()}return!1}},{key:"isZooming",value:function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}},{key:"isRotating",value:function(){return!!this._eventsInProgress.rotate}},{key:"isMoving",value:function(){return Boolean(Ir(this._eventsInProgress))||this.isZooming()}},{key:"_blockedByActive",value:function(e,t,i){for(var n in e)if(n!==i&&(!t||t.indexOf(n)<0))return!0;return!1}},{key:"handleWindowEvent",value:function(e){this.handleEvent(e,"".concat(e.type,"Window"))}},{key:"_getMapTouches",value:function(e){var t,i=[],n=d(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._el.contains(r.target)&&i.push(r)}}catch(o){n.e(o)}finally{n.f()}return i}},{key:"handleEvent",value:function(e,t){this._updatingCamera=!0;var i,n="renderFrame"===e.type,r=n?void 0:e,o={needsRenderFrame:!1},a={},s={},l=e.touches?this._getMapTouches(e.touches):void 0,u=l?v.touchPos(this._el,l):n?void 0:v.mousePos(this._el,e),c=d(this._handlers);try{for(c.s();!(i=c.n()).done;){var h=i.value,p=h.handlerName,f=h.handler,m=h.allowed;if(f.isEnabled()){var g=void 0;this._blockedByActive(s,m,p)?f.reset():f[t||e.type]&&(g=f[t||e.type](e,u,l),this.mergeHandlerResult(o,a,g,p,r),g&&g.needsRenderFrame&&this._triggerRenderFrame()),(g||f.isActive())&&(s[p]=f)}}}catch(_){c.e(_)}finally{c.f()}var y={};for(var b in this._previousActiveHandlers)s[b]||(y[b]=r);this._previousActiveHandlers=s,(Object.keys(y).length||Br(o))&&(this._changes.push([o,a,y]),this._triggerRenderFrame()),(Object.keys(s).length||Br(o))&&this._map._stop(!0),this._updatingCamera=!1;var x=o.cameraAnimation;x&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],x(this._map))}},{key:"mergeHandlerResult",value:function(t,i,n,r,o){if(n){e.extend(t,n);var a={handlerName:r,originalEvent:n.originalEvent||o};void 0!==n.zoomDelta&&(i.zoom=a),void 0!==n.panDelta&&(i.drag=a),void 0!==n.pitchDelta&&(i.pitch=a),void 0!==n.bearingDelta&&(i.rotate=a)}}},{key:"_applyChanges",value:function(){var t,i={},n={},r={},o=d(this._changes);try{for(o.s();!(t=o.n()).done;){var a=h(t.value,3),s=a[0],l=a[1],u=a[2];s.panDelta&&(i.panDelta=(i.panDelta||new e.pointGeometry(0,0))._add(s.panDelta)),s.zoomDelta&&(i.zoomDelta=(i.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(i.bearingDelta=(i.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(i.pitchDelta=(i.pitchDelta||0)+s.pitchDelta),void 0!==s.around&&(i.around=s.around),void 0!==s.aroundCoord&&(i.aroundCoord=s.aroundCoord),void 0!==s.pinchAround&&(i.pinchAround=s.pinchAround),s.noInertia&&(i.noInertia=s.noInertia),e.extend(n,l),e.extend(r,u)}}catch(c){o.e(c)}finally{o.f()}this._updateMapTransform(i,n,r),this._changes=[]}},{key:"_updateMapTransform",value:function(t,i,n){var r=this,o=this._map,a=o.transform,s=function(e){return[e.x,e.y,e.z]};if(function(e){var t=r._eventsInProgress.drag;return t&&!r._handlersById[t.handlerName].isActive()}()&&!Br(t)){var l=a.zoom;a.cameraElevationReference="sea",a.recenterOnTerrain(),a.cameraElevationReference="ground",l!==a.zoom&&this._map._update(!0)}if(!Br(t))return this._fireEvents(i,n,!0);var u=t.panDelta,c=t.zoomDelta,h=t.bearingDelta,d=t.pitchDelta,p=t.around,f=t.aroundCoord,m=t.pinchAround;void 0!==m&&(p=m),i.drag&&!r._eventsInProgress.drag&&p&&(this._dragOrigin=s(a.pointCoordinate3D(p)),this._trackingEllipsoid.setup(a._camera.position,this._dragOrigin)),a.cameraElevationReference="sea",o._stop(!0),p=p||o.transform.centerPoint,h&&(a.bearing+=h),d&&(a.pitch+=d),a._updateCameraState();var g=[0,0,0];if(u){var y=a.screenPointToMercatorRay(p),v=a.screenPointToMercatorRay(p.sub(u)),b=this._trackingEllipsoid.projectRay(y.dir),x=this._trackingEllipsoid.projectRay(v.dir);g[0]=x[0]-b[0],g[1]=x[1]-b[1]}var _=a.zoom,w=[0,0,0];if(c){var S=s(f||a.pointCoordinate3D(p)),k={dir:e.normalize([],e.sub([],S,a._camera.position))},C=a.screenPointToMercatorRay(a.centerPoint);if(k.dir[2]<0){var T=e.altitudeFromMercatorZ(S[2],S[1]),E=a.rayIntersectionCoordinate(a.pointRayIntersection(a.centerPoint,T)),A=a.zoomDeltaToMovement(s(E),c)*(C.dir[2]/k.dir[2]);e.scale(w,k.dir,A)}else if(a._terrainEnabled()){var P=a.zoomDeltaToMovement(S,c);e.scale(w,k.dir,P)}}var M=e.add(g,g,w);a._translateCameraConstrained(M),c&&Math.abs(a.zoom-_)>1e-4&&a.recenterOnTerrain(),a.cameraElevationReference="ground",this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(i,n,!0)}},{key:"_fireEvents",value:function(t,i,n){var r=this,o=Ir(this._eventsInProgress),a=Ir(t),s={};for(var l in t){var u=t[l].originalEvent;this._eventsInProgress[l]||(s["".concat(l,"start")]=u),this._eventsInProgress[l]=t[l]}for(var c in!o&&a&&this._fireEvent("movestart",a.originalEvent),s)this._fireEvent(c,s[c]);for(var h in a&&this._fireEvent("move",a.originalEvent),t){var d=t[h].originalEvent;this._fireEvent(h,d)}var p,f={};for(var m in this._eventsInProgress){var g=this._eventsInProgress[m],y=g.handlerName,v=g.originalEvent;this._handlersById[y].isActive()||(delete this._eventsInProgress[m],p=i[y]||v,f["".concat(m,"end")]=p)}for(var b in f)this._fireEvent(b,f[b]);var x=Ir(this._eventsInProgress);if(n&&(o||a)&&!x){this._updatingCamera=!0;var _=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),w=function(e){return 0!==e&&-r._bearingSnap<e&&e<r._bearingSnap};_?(w(_.bearing||this._map.getBearing())&&(_.bearing=0),this._map.easeTo(_,{originalEvent:p})):(this._map.fire(new e.Event("moveend",{originalEvent:p})),w(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}},{key:"_fireEvent",value:function(t,i){this._map.fire(new e.Event(t,i?{originalEvent:i}:{}))}},{key:"_requestFrame",value:function(){var e=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add((function(t){delete e._frameId,e.handleEvent(new Dr("renderFrame",{timeStamp:t})),e._applyChanges()}))}},{key:"_triggerRenderFrame",value:function(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}]),t}(),Nr="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.",jr=function(t){f(n,t);var i=m(n);function n(t,o){var a;return g(this,n),(a=i.call(this))._moving=!1,a._zooming=!1,a.transform=t,a._bearingSnap=o.bearingSnap,e.bindAll(["_renderFrameCallback"],r(a)),a}return y(n,[{key:"getCenter",value:function(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)}},{key:"setCenter",value:function(e,t){return this.jumpTo({center:e},t)}},{key:"panBy",value:function(t,i,n){return t=e.pointGeometry.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},i),n)}},{key:"panTo",value:function(t,i,n){return this.easeTo(e.extend({center:t},i),n)}},{key:"getZoom",value:function(){return this.transform.zoom}},{key:"setZoom",value:function(e,t){return this.jumpTo({zoom:e},t),this}},{key:"zoomTo",value:function(t,i,n){return this.easeTo(e.extend({zoom:t},i),n)}},{key:"zoomIn",value:function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}},{key:"zoomOut",value:function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}},{key:"getBearing",value:function(){return this.transform.bearing}},{key:"setBearing",value:function(e,t){return this.jumpTo({bearing:e},t),this}},{key:"getPadding",value:function(){return this.transform.padding}},{key:"setPadding",value:function(e,t){return this.jumpTo({padding:e},t),this}},{key:"rotateTo",value:function(t,i,n){return this.easeTo(e.extend({bearing:t},i),n)}},{key:"resetNorth",value:function(t,i){return this.rotateTo(0,e.extend({duration:1e3},t),i),this}},{key:"resetNorthPitch",value:function(t,i){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),i),this}},{key:"snapToNorth",value:function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}},{key:"getPitch",value:function(){return this.transform.pitch}},{key:"setPitch",value:function(e,t){return this.jumpTo({pitch:e},t),this}},{key:"cameraForBounds",value:function(t,i){t=e.LngLatBounds.convert(t);var n=i&&i.bearing||0;return this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),n,i)}},{key:"_extendCameraOptions",value:function(t){var i={top:0,bottom:0,right:0,left:0};if("number"==typeof(t=e.extend({padding:i,offset:[0,0],maxZoom:this.transform.maxZoom},t)).padding){var n=t.padding;t.padding={top:n,bottom:n,right:n,left:n}}return t.padding=e.extend(i,t.padding),t}},{key:"_cameraForBoxAndBearing",value:function(t,i,n,r){var o=this._extendCameraOptions(r),a=this.transform,s=a.padding,l=a.project(e.LngLat.convert(t)),u=a.project(e.LngLat.convert(i)),c=l.rotate(-e.degToRad(n)),h=u.rotate(-e.degToRad(n)),d=new e.pointGeometry(Math.max(c.x,h.x),Math.max(c.y,h.y)),p=new e.pointGeometry(Math.min(c.x,h.x),Math.min(c.y,h.y)),f=d.sub(p),m=(a.width-(s.left+s.right+o.padding.left+o.padding.right))/f.x,g=(a.height-(s.top+s.bottom+o.padding.top+o.padding.bottom))/f.y;if(!(g<0||m<0)){var y=Math.min(a.scaleZoom(a.scale*Math.min(m,g)),o.maxZoom),v="number"==typeof o.offset.x?new e.pointGeometry(o.offset.x,o.offset.y):e.pointGeometry.convert(o.offset),b=new e.pointGeometry((o.padding.left-o.padding.right)/2,(o.padding.top-o.padding.bottom)/2).rotate(n*Math.PI/180),x=v.add(b).mult(a.scale/a.zoomScale(y));return{center:a.unproject(l.add(u).div(2).sub(x)),zoom:y,bearing:n}}e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}},{key:"_cameraForBox",value:function(t,i,n,r,o){var a=this._extendCameraOptions(o);n=n||0,r=r||0,t=e.LngLat.convert(t),i=e.LngLat.convert(i);var s=this.transform.clone();s.padding=a.padding;var l=this.getFreeCameraOptions(),u=new e.LngLat(.5*(t.lng+i.lng),.5*(t.lat+i.lat)),c=.5*(n+r);if(!(s._camera.position[2]<e.mercatorZfromAltitude(c,u.lat))){l.lookAtPoint(u),s.setFreeCameraOptions(l);var h,d,p=e.MercatorCoordinate.fromLngLat(t),f=e.MercatorCoordinate.fromLngLat(i),m=s.pointRayIntersection(s.centerPoint,c),g=[(h=s.rayIntersectionCoordinate(m)).x,h.y,h.z],y=s.screenPointToMercatorRay(s.centerPoint),v=0;do{var b=Math.floor(s.zoom),x=1<<b,_=Math.min(x*p.x,x*f.x),w=Math.min(x*p.y,x*f.y),S=Math.max(x*p.x,x*f.x),k=Math.max(x*p.y,x*f.y),C=new A([_,w,n],[S,k,r]),T=E.fromInvProjectionMatrix(s.invProjMatrix,s.worldSize,b);if(2!==C.intersects(T)){d&&(s._camera.position=e.scaleAndAdd([],s._camera.position,y.dir,-d),s._updateStateFromCamera());break}var P=e.sub([],s._camera.position,g);d=.5*e.length(P),s._camera.position=e.scaleAndAdd([],s._camera.position,y.dir,d);try{s._updateStateFromCamera()}catch(t){return void e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}}while(++v<10);return{center:s.center,zoom:s.zoom,bearing:s.bearing,pitch:s.pitch}}e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}},{key:"fitBounds",value:function(e,t,i){return this._fitInternal(this.cameraForBounds(e,t),t,i)}},{key:"_raycastElevationBox",value:function(t,i){var n=this.transform.elevation;if(n){var r=new e.pointGeometry(t.x,i.y),o=new e.pointGeometry(i.x,t.y),a=n.pointCoordinate(t);if(a){var s=n.pointCoordinate(i);if(s){var l=n.pointCoordinate(r);if(l){var u=n.pointCoordinate(o);if(u){var c=new e.MercatorCoordinate(a[0],a[1]).toLngLat(),h=new e.MercatorCoordinate(s[0],s[1]).toLngLat(),d=new e.MercatorCoordinate(l[0],l[1]).toLngLat(),p=new e.MercatorCoordinate(u[0],u[1]).toLngLat(),f=Math.min(c.lng,Math.min(h.lng,Math.min(d.lng,p.lng))),m=Math.min(c.lat,Math.min(h.lat,Math.min(d.lat,p.lat))),g=Math.max(c.lng,Math.max(h.lng,Math.max(d.lng,p.lng))),y=Math.max(c.lat,Math.max(h.lat,Math.max(d.lat,p.lat))),v=Math.min(a[3],Math.min(s[3],Math.min(l[3],u[3]))),b=Math.max(a[3],Math.max(s[3],Math.max(l[3],u[3])));return{minLngLat:new e.LngLat(f,m),maxLngLat:new e.LngLat(g,y),minAltitude:v,maxAltitude:b}}}}}}}},{key:"fitScreenCoordinates",value:function(t,i,n,r,o){var a,s,l,u,c=e.pointGeometry.convert(t),h=e.pointGeometry.convert(i),d=this._raycastElevationBox(c,h);if(d)a=d.minLngLat,s=d.maxLngLat,l=d.minAltitude,u=d.maxAltitude;else{if(this.transform.anyCornerOffEdge(c,h))return this;a=this.transform.pointLocation(c),s=this.transform.pointLocation(h)}return this._fitInternal(0===this.transform.pitch?this._cameraForBoxAndBearing(this.transform.pointLocation(e.pointGeometry.convert(t)),this.transform.pointLocation(e.pointGeometry.convert(i)),n,r):this._cameraForBox(a,s,l,u,r),r,o)}},{key:"_fitInternal",value:function(t,i,n){return t?(delete(i=e.extend(t,i)).padding,i.linear?this.easeTo(i,n):this.flyTo(i,n)):this}},{key:"jumpTo",value:function(t,i){this.stop();var n=this.transform,r=!1,o=!1,a=!1;return"zoom"in t&&n.zoom!==+t.zoom&&(r=!0,n.zoom=+t.zoom),void 0!==t.center&&(n.center=e.LngLat.convert(t.center)),"bearing"in t&&n.bearing!==+t.bearing&&(o=!0,n.bearing=+t.bearing),"pitch"in t&&n.pitch!==+t.pitch&&(a=!0,n.pitch=+t.pitch),null==t.padding||n.isPaddingEqual(t.padding)||(n.padding=t.padding),this.fire(new e.Event("movestart",i)).fire(new e.Event("move",i)),r&&this.fire(new e.Event("zoomstart",i)).fire(new e.Event("zoom",i)).fire(new e.Event("zoomend",i)),o&&this.fire(new e.Event("rotatestart",i)).fire(new e.Event("rotate",i)).fire(new e.Event("rotateend",i)),a&&this.fire(new e.Event("pitchstart",i)).fire(new e.Event("pitch",i)).fire(new e.Event("pitchend",i)),this.fire(new e.Event("moveend",i))}},{key:"getFreeCameraOptions",value:function(){return"mercator"!==this.transform.projection.name&&e.warnOnce(Nr),this.transform.getFreeCameraOptions()}},{key:"setFreeCameraOptions",value:function(t,i){var n=this.transform;if("mercator"===n.projection.name){this.stop();var r=n.zoom,o=n.pitch,a=n.bearing;n.setFreeCameraOptions(t);var s=r!==n.zoom,l=o!==n.pitch,u=a!==n.bearing;return this.fire(new e.Event("movestart",i)).fire(new e.Event("move",i)),s&&this.fire(new e.Event("zoomstart",i)).fire(new e.Event("zoom",i)).fire(new e.Event("zoomend",i)),u&&this.fire(new e.Event("rotatestart",i)).fire(new e.Event("rotate",i)).fire(new e.Event("rotateend",i)),l&&this.fire(new e.Event("pitchstart",i)).fire(new e.Event("pitch",i)).fire(new e.Event("pitchend",i)),this.fire(new e.Event("moveend",i)),this}e.warnOnce(Nr)}},{key:"easeTo",value:function(t,i){var n=this;this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.exported.prefersReducedMotion)&&(t.duration=0);var r=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l=this.getPadding(),u="zoom"in t?+t.zoom:o,c="bearing"in t?this._normalizeBearing(t.bearing,a):a,h="pitch"in t?+t.pitch:s,d="padding"in t?t.padding:r.padding,p=e.pointGeometry.convert(t.offset),f=r.centerPoint.add(p),m=r.pointLocation(f),g=e.LngLat.convert(t.center||m);this._normalizeCenter(g);var y,v,b=r.project(m),x=r.project(g).sub(b),_=r.zoomScale(u-o);t.around&&(y=e.LngLat.convert(t.around),v=r.locationPoint(y));var w={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||u!==o,this._rotating=this._rotating||a!==c,this._pitching=this._pitching||h!==s,this._padding=!r.isPaddingEqual(d),this._easeId=t.easeId,this._prepareEase(i,t.noMoveStart,w),this._ease((function(t){if(n._zooming&&(r.zoom=e.number(o,u,t)),n._rotating&&(r.bearing=e.number(a,c,t)),n._pitching&&(r.pitch=e.number(s,h,t)),n._padding&&(r.interpolatePadding(l,d,t),f=r.centerPoint.add(p)),y)r.setLocationAtPoint(y,v);else{var m=r.zoomScale(r.zoom-o),g=u>o?Math.min(2,_):Math.max(.5,_),w=Math.pow(g,1-t),S=r.unproject(b.add(x.mult(t*w)).mult(m));r.setLocationAtPoint(r.renderWorldCopies?S.wrap():S,f)}n._fireMoveEvents(i)}),(function(e){r.recenterOnTerrain(),n._afterEase(i,e)}),t),this}},{key:"_prepareEase",value:function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._moving=!0,this.transform.cameraElevationReference="sea",i||n.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!n.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!n.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!n.pitching&&this.fire(new e.Event("pitchstart",t))}},{key:"_fireMoveEvents",value:function(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))}},{key:"_afterEase",value:function(t,i){if(!this._easeId||!i||this._easeId!==i){delete this._easeId,this.transform.cameraElevationReference="ground";var n=this._zooming,r=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,n&&this.fire(new e.Event("zoomend",t)),r&&this.fire(new e.Event("rotateend",t)),o&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}}},{key:"flyTo",value:function(t,i){var n=this;if(!t.essential&&e.exported.prefersReducedMotion){var r=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(r,i)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);var o=this.transform,a=this.getZoom(),s=this.getBearing(),l=this.getPitch(),u=this.getPadding(),c="zoom"in t?e.clamp(+t.zoom,o.minZoom,o.maxZoom):a,h="bearing"in t?this._normalizeBearing(t.bearing,s):s,d="pitch"in t?+t.pitch:l,p="padding"in t?t.padding:o.padding,f=o.zoomScale(c-a),m=e.pointGeometry.convert(t.offset),g=o.centerPoint.add(m),y=o.pointLocation(g),v=e.LngLat.convert(t.center||y);this._normalizeCenter(v);var b=o.project(y),x=o.project(v).sub(b),_=t.curve,w=Math.max(o.width,o.height),S=w/f,k=x.mag();if("minZoom"in t){var C=e.clamp(Math.min(t.minZoom,a,c),o.minZoom,o.maxZoom),T=w/o.zoomScale(C-a);_=Math.sqrt(T/k*2)}var E=_*_;function A(e){var t=(S*S-w*w+(e?-1:1)*E*E*k*k)/(2*(e?S:w)*E*k);return Math.log(Math.sqrt(t*t+1)-t)}function P(e){return(Math.exp(e)-Math.exp(-e))/2}function M(e){return(Math.exp(e)+Math.exp(-e))/2}var L=A(0),O=function(e){return M(L)/M(L+_*e)},R=function(e){return w*((M(L)*(P(t=L+_*e)/M(t))-P(L))/E)/k;var t},I=(A(1)-L)/_;if(Math.abs(k)<1e-6||!isFinite(I)){if(Math.abs(w-S)<1e-6)return this.easeTo(t,i);var D=S<w?-1:1;I=Math.abs(Math.log(S/w))/_,R=function(){return 0},O=function(e){return Math.exp(D*_*e)}}return t.duration="duration"in t?+t.duration:1e3*I/("screenSpeed"in t?+t.screenSpeed/_:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=s!==h,this._pitching=d!==l,this._padding=!o.isPaddingEqual(p),this._prepareEase(i,!1),this._ease((function(t){var r=t*I,f=1/O(r);o.zoom=1===t?c:a+o.scaleZoom(f),n._rotating&&(o.bearing=e.number(s,h,t)),n._pitching&&(o.pitch=e.number(l,d,t)),n._padding&&(o.interpolatePadding(u,p,t),g=o.centerPoint.add(m));var y=1===t?v:o.unproject(b.add(x.mult(R(r))).mult(f));o.setLocationAtPoint(o.renderWorldCopies?y.wrap():y,g),o._updateCenterElevation(),n._fireMoveEvents(i)}),(function(){return n._afterEase(i)}),t),this}},{key:"isEasing",value:function(){return!!this._easeFrameId}},{key:"stop",value:function(){return this._stop()}},{key:"_stop",value:function(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var i=this._onEaseEnd;delete this._onEaseEnd,i.call(this,t)}if(!e){var n=this.handlers;n&&n.stop(!1)}return this}},{key:"_ease",value:function(t,i,n){!1===n.animate||0===n.duration?(t(1),i()):(this._easeStart=e.exported.now(),this._easeOptions=n,this._onEaseFrame=t,this._onEaseEnd=i,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}},{key:"_renderFrameCallback",value:function(){var t=Math.min((e.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}},{key:"_normalizeBearing",value:function(t,i){t=e.wrap(t,-180,180);var n=Math.abs(t-i);return Math.abs(t-360-i)<n&&(t-=360),Math.abs(t+360-i)<n&&(t+=360),t}},{key:"_normalizeCenter",value:function(e){var t=this.transform;if(t.renderWorldCopies&&!t.maxBounds){var i=e.lng-t.center.lng;e.lng+=i>180?-360:i<-180?360:0}}}]),n}(e.Evented),Vr=function(){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g(this,t),this.options=i,e.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}return y(t,[{key:"getDefaultPosition",value:function(){return"bottom-right"}},{key:"onAdd",value:function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=v.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=v.create("button","mapboxgl-ctrl-attrib-button",this._container),v.create("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden",!0),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=v.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}},{key:"onRemove",value:function(){v.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}},{key:"_setElementTitle",value:function(e,t){var i=this._map._getUIString("AttributionControl.".concat(t));e.setAttribute("aria-label",i),e.firstElementChild&&e.firstElementChild.setAttribute("title",i)}},{key:"_toggleAttribution",value:function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}},{key:"_updateEditLink",value:function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var i=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){var n=i.reduce((function(e,t,n){return t.value&&(e+="".concat(t.key,"=").concat(t.value).concat(n<i.length-1?"&":"")),e}),"?");t.href="".concat(e.config.FEEDBACK_URL,"/").concat(n).concat(this._map._hash?this._map._hash.getHashString(!0):""),t.rel="noopener nofollow",this._setElementTitle(t,"MapFeedback")}}},{key:"_updateData",value:function(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())}},{key:"_updateAttributions",value:function(){if(this._map.style){var e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map((function(e){return"string"!=typeof e?"":e}))):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var i=this._map.style._sourceCaches;for(var n in i){var r=i[n];if(r.used){var o=r.getSource();o.attribution&&e.indexOf(o.attribution)<0&&e.push(o.attribution)}}e.sort((function(e,t){return e.length-t.length})),e=e.filter((function(t,i){for(var n=i+1;n<e.length;n++)if(e[n].indexOf(t)>=0)return!1;return!0}));var a=e.join(" | ");a!==this._attribHTML&&(this._attribHTML=a,e.length?(this._innerContainer.innerHTML=a,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}}},{key:"_updateCompact",value:function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}]),t}(),Ur=function(){function t(){g(this,t),e.bindAll(["_updateLogo"],this),e.bindAll(["_updateCompact"],this)}return y(t,[{key:"onAdd",value:function(e){this._map=e,this._container=v.create("div","mapboxgl-ctrl");var t=v.create("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}},{key:"onRemove",value:function(){v.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}},{key:"getDefaultPosition",value:function(){return"bottom-left"}},{key:"_updateLogo",value:function(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}},{key:"_logoRequired",value:function(){if(!this._map.style)return!0;var e=this._map.style._sourceCaches;if(0===Object.entries(e).length)return!0;for(var t in e){var i=e[t].getSource();if(i.hasOwnProperty("mapbox_logo")&&!i.mapbox_logo)return!1}return!0}},{key:"_updateCompact",value:function(){var e=this._container.children;if(e.length){var t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}}}]),t}(),Wr=function(){function e(){g(this,e),this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}return y(e,[{key:"add",value:function(e){var t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}},{key:"remove",value:function(e){var t,i=this._currentlyRunning,n=i?this._queue.concat(i):this._queue,r=d(n);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(o.id===e)return void(o.cancelled=!0)}}catch(a){r.e(a)}finally{r.f()}}},{key:"run",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this._currentlyRunning=this._queue;this._queue=[];var i,n=d(t);try{for(n.s();!(i=n.n()).done;){var r=i.value;if(!r.cancelled&&(r.callback(e),this._cleared))break}}catch(o){n.e(o)}finally{n.f()}this._cleared=!1,this._currentlyRunning=!1}},{key:"clear",value:function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}]),e}();function Hr(t,i,n){if(t=new e.LngLat(t.lng,t.lat),i){var r=new e.LngLat(t.lng-360,t.lat),o=new e.LngLat(t.lng+360,t.lat),a=360*Math.ceil(Math.abs(t.lng-n.center.lng)/360),s=n.locationPoint(t).distSqr(i),l=i.x<0||i.y<0||i.x>n.width||i.y>n.height;n.locationPoint(r).distSqr(i)<s&&(l||Math.abs(r.lng-n.center.lng)<a)?t=r:n.locationPoint(o).distSqr(i)<s&&(l||Math.abs(o.lng-n.center.lng)<a)&&(t=o)}for(;Math.abs(t.lng-n.center.lng)>180;){var u=n.locationPoint(t);if(u.x>=0&&u.y>=0&&u.x<=n.width&&u.y<=n.height)break;t.lng>n.center.lng?t.lng-=360:t.lng+=360}return t}var Gr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},qr=function(t){f(n,t);var i=m(n);function n(t,o){var a;if(g(this,n),a=i.call(this),(t instanceof e.window.HTMLElement||o)&&(t=e.extend({element:t},o)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],r(a)),a._anchor=t&&t.anchor||"center",a._color=t&&t.color||"#3FB1CE",a._scale=t&&t.scale||1,a._draggable=t&&t.draggable||!1,a._clickTolerance=t&&t.clickTolerance||0,a._isDragging=!1,a._state="inactive",a._rotation=t&&t.rotation||0,a._rotationAlignment=t&&t.rotationAlignment||"auto",a._pitchAlignment=t&&t.pitchAlignment&&"auto"!==t.pitchAlignment?t.pitchAlignment:a._rotationAlignment,t&&t.element)a._element=t.element,a._offset=e.pointGeometry.convert(t&&t.offset||[0,0]);else{a._defaultMarker=!0,a._element=v.create("div"),a._element.setAttribute("aria-label","Map marker");var s=v.createNS("http://www.w3.org/2000/svg","svg"),u=41,c=27;s.setAttributeNS(null,"display","block"),s.setAttributeNS(null,"height","".concat(u,"px")),s.setAttributeNS(null,"width","".concat(c,"px")),s.setAttributeNS(null,"viewBox","0 0 ".concat(c," ").concat(u));var h=v.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"stroke","none"),h.setAttributeNS(null,"stroke-width","1"),h.setAttributeNS(null,"fill","none"),h.setAttributeNS(null,"fill-rule","evenodd");var d=v.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"fill-rule","nonzero");var p=v.createNS("http://www.w3.org/2000/svg","g");p.setAttributeNS(null,"transform","translate(3.0, 29.0)"),p.setAttributeNS(null,"fill","#000000");for(var f=0,m=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];f<m.length;f++){var y=m[f],b=v.createNS("http://www.w3.org/2000/svg","ellipse");b.setAttributeNS(null,"opacity","0.04"),b.setAttributeNS(null,"cx","10.5"),b.setAttributeNS(null,"cy","5.80029008"),b.setAttributeNS(null,"rx",y.rx),b.setAttributeNS(null,"ry",y.ry),p.appendChild(b)}var x=v.createNS("http://www.w3.org/2000/svg","g");x.setAttributeNS(null,"fill",a._color);var _=v.createNS("http://www.w3.org/2000/svg","path");_.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),x.appendChild(_);var w=v.createNS("http://www.w3.org/2000/svg","g");w.setAttributeNS(null,"opacity","0.25"),w.setAttributeNS(null,"fill","#000000");var S=v.createNS("http://www.w3.org/2000/svg","path");S.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),w.appendChild(S);var k=v.createNS("http://www.w3.org/2000/svg","g");k.setAttributeNS(null,"transform","translate(6.0, 7.0)"),k.setAttributeNS(null,"fill","#FFFFFF");var C=v.createNS("http://www.w3.org/2000/svg","g");C.setAttributeNS(null,"transform","translate(8.0, 8.0)");var T=v.createNS("http://www.w3.org/2000/svg","circle");T.setAttributeNS(null,"fill","#000000"),T.setAttributeNS(null,"opacity","0.25"),T.setAttributeNS(null,"cx","5.5"),T.setAttributeNS(null,"cy","5.5"),T.setAttributeNS(null,"r","5.4999962");var E=v.createNS("http://www.w3.org/2000/svg","circle");E.setAttributeNS(null,"fill","#FFFFFF"),E.setAttributeNS(null,"cx","5.5"),E.setAttributeNS(null,"cy","5.5"),E.setAttributeNS(null,"r","5.4999962"),C.appendChild(T),C.appendChild(E),d.appendChild(p),d.appendChild(x),d.appendChild(w),d.appendChild(k),d.appendChild(C),s.appendChild(d),s.setAttributeNS(null,"height",u*a._scale+"px"),s.setAttributeNS(null,"width",c*a._scale+"px"),a._element.appendChild(s),a._offset=e.pointGeometry.convert(t&&t.offset||[0,-14])}a._element.classList.add("mapboxgl-marker"),a._element.addEventListener("dragstart",(function(e){e.preventDefault()})),a._element.addEventListener("mousedown",(function(e){e.preventDefault()}));var A=a._element.classList;for(var P in Gr)A.remove("mapboxgl-marker-anchor-".concat(P));return A.add("mapboxgl-marker-anchor-".concat(a._anchor)),a._popup=null,l(a)}return y(n,[{key:"addTo",value:function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),e.on("remove",this._clearFadeTimer),e._addMarker(this),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}},{key:"remove",value:function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._map.off("remove",this._clearFadeTimer),this._map._removeMarker(this),delete this._map),this._clearFadeTimer(),v.remove(this._element),this._popup&&this._popup.remove(),this}},{key:"getLngLat",value:function(){return this._lngLat}},{key:"setLngLat",value:function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}},{key:"getElement",value:function(){return this._element}},{key:"setPopup",value:function(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){var t=38.1,i=13.5,n=Math.sqrt(Math.pow(i,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-t],"bottom-left":[n,-1*(t-i+n)],"bottom-right":[-n,-1*(t-i+n)],left:[i,-1*(t-i)],right:[-i,-1*(t-i)]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}},{key:"_onKeyPress",value:function(e){var t=e.code,i=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==i&&13!==i||this.togglePopup()}},{key:"_onMapClick",value:function(e){var t=e.originalEvent.target,i=this._element;this._popup&&(t===i||i.contains(t))&&this.togglePopup()}},{key:"getPopup",value:function(){return this._popup}},{key:"togglePopup",value:function(){var e=this._popup;return e?(e.isOpen()?(e.remove(),this._element.setAttribute("aria-expanded","false")):(e.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}},{key:"_evaluateOpacity",value:function(){var e=this._pos?this._pos.sub(this._transformedOffset()):null;if(this._withinScreenBounds(e)){var t=this._map.unproject(e),i=!1;if(this._map.transform._terrainEnabled()&&this._map.getTerrain()){var n=this._map.getFreeCameraOptions();if(n.position){var r=n.position.toLngLat();i=r.distanceTo(t)<.9*r.distanceTo(this._lngLat)}}var o=(1-this._map._queryFogOpacity(t))*(i?.2:1);this._element.style.opacity="".concat(o),this._popup&&this._popup._setOpacity("".concat(o)),this._fadeTimer=null}else this._clearFadeTimer()}},{key:"_clearFadeTimer",value:function(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}},{key:"_withinScreenBounds",value:function(e){var t=this._map.transform;return!!e&&e.x>=0&&e.x<t.width&&e.y>=0&&e.y<t.height}},{key:"_update",value:function(e){var t=this;if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Hr(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._transformedOffset());var i="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?i="rotateZ(".concat(this._rotation,"deg)"):"map"===this._rotationAlignment&&(i="rotateZ(".concat(this._rotation-this._map.getBearing(),"deg)"));var n="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?n="rotateX(0deg)":"map"===this._pitchAlignment&&(n="rotateX(".concat(this._map.getPitch(),"deg)")),e&&"moveend"!==e.type||(this._pos=this._pos.round()),this._map._requestDomTask((function(){t._map&&(t._element&&t._pos&&t._anchor&&v.setTransform(t._element,"".concat(Gr[t._anchor]," translate(").concat(t._pos.x,"px, ").concat(t._pos.y,"px) ").concat(n," ").concat(i)),!t._map.getTerrain()&&!t._map.getFog()||t._fadeTimer||(t._fadeTimer=setTimeout(t._evaluateOpacity.bind(t),60)))}))}}},{key:"_transformedOffset",value:function(){if(!this._defaultMarker)return this._offset;var e=this._map.transform,t=this._offset.mult(this._scale);return"map"===this._rotationAlignment&&t._rotate(e.angle),"map"===this._pitchAlignment&&(t.y*=Math.cos(e._pitch)),t}},{key:"getOffset",value:function(){return this._offset}},{key:"setOffset",value:function(t){return this._offset=e.pointGeometry.convert(t),this._update(),this}},{key:"_onMove",value:function(t){if(!this._isDragging){var i=this._clickTolerance||this._map._clickTolerance;this._isDragging=t.point.dist(this._pointerdownPos)>=i}this._isDragging&&(this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag")))}},{key:"_onUp",value:function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"}},{key:"_addDragHandler",value:function(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._transformedOffset()),this._pointerdownPos=e.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}},{key:"setDraggable",value:function(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}},{key:"isDraggable",value:function(){return this._draggable}},{key:"setRotation",value:function(e){return this._rotation=e||0,this._update(),this}},{key:"getRotation",value:function(){return this._rotation}},{key:"setRotationAlignment",value:function(e){return this._rotationAlignment=e||"auto",this._update(),this}},{key:"getRotationAlignment",value:function(){return this._rotationAlignment}},{key:"setPitchAlignment",value:function(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this}},{key:"getPitchAlignment",value:function(){return this._pitchAlignment}}]),n}(e.Evented),Zr=function(){function t(e){g(this,t),this.jumpTo(e)}return y(t,[{key:"getValue",value:function(t){if(t<=this._startTime)return this._start;if(t>=this._endTime)return this._end;var i=e.easeCubicInOut((t-this._startTime)/(this._endTime-this._startTime));return this._start*(1-i)+this._end*i}},{key:"isEasing",value:function(e){return e>=this._startTime&&e<=this._endTime}},{key:"jumpTo",value:function(e){this._startTime=-1/0,this._endTime=-1/0,this._start=e,this._end=e}},{key:"easeTo",value:function(e,t,i){this._start=this.getValue(t),this._end=e,this._startTime=t,this._endTime=t+i}}]),t}(),Xr={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use \u2318 + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},Yr=e.window,$r=Yr.HTMLImageElement,Kr=Yr.HTMLElement,Qr=Yr.ImageBitmap,Jr={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function eo(e){e.parentNode&&e.parentNode.removeChild(e)}var to,io={showCompass:!0,showZoom:!0,visualizePitch:!1},no=function(){function t(i,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];g(this,t),this._clickTolerance=10,this.element=n,this.mouseRotate=new dr({clickTolerance:i.dragRotate._mouseRotate._clickTolerance}),this.map=i,r&&(this.mousePitch=new pr({clickTolerance:i.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),v.addEventListener(n,"mousedown",this.mousedown),v.addEventListener(n,"touchstart",this.touchstart,{passive:!1}),v.addEventListener(n,"touchmove",this.touchmove),v.addEventListener(n,"touchend",this.touchend),v.addEventListener(n,"touchcancel",this.reset)}return y(t,[{key:"down",value:function(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),v.disableDrag()}},{key:"move",value:function(e,t){var i=this.map,n=this.mouseRotate.mousemoveWindow(e,t);if(n&&n.bearingDelta&&i.setBearing(i.getBearing()+n.bearingDelta),this.mousePitch){var r=this.mousePitch.mousemoveWindow(e,t);r&&r.pitchDelta&&i.setPitch(i.getPitch()+r.pitchDelta)}}},{key:"off",value:function(){var e=this.element;v.removeEventListener(e,"mousedown",this.mousedown),v.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),v.removeEventListener(e,"touchmove",this.touchmove),v.removeEventListener(e,"touchend",this.touchend),v.removeEventListener(e,"touchcancel",this.reset),this.offTemp()}},{key:"offTemp",value:function(){v.enableDrag(),v.removeEventListener(e.window,"mousemove",this.mousemove),v.removeEventListener(e.window,"mouseup",this.mouseup)}},{key:"mousedown",value:function(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:function(){return t.preventDefault()}}),v.mousePos(this.element,t)),v.addEventListener(e.window,"mousemove",this.mousemove),v.addEventListener(e.window,"mouseup",this.mouseup)}},{key:"mousemove",value:function(e){this.move(e,v.mousePos(this.element,e))}},{key:"mouseup",value:function(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()}},{key:"touchstart",value:function(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=v.touchPos(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return e.preventDefault()}},this._startPos))}},{key:"touchmove",value:function(e){1!==e.targetTouches.length?this.reset():(this._lastPos=v.touchPos(this.element,e.targetTouches)[0],this.move({preventDefault:function(){return e.preventDefault()}},this._lastPos))}},{key:"touchend",value:function(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}},{key:"reset",value:function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}]),t}(),ro={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},oo=0,ao=!1,so={maxWidth:100,unit:"metric"};function lo(e,t,i){var n=i&&i.maxWidth||100,r=e._container.getBoundingClientRect().height/2,o=e.unproject([0,r]),a=e.unproject([n,r]),s=o.distanceTo(a);if(i&&"imperial"===i.unit){var l=3.2808*s;l>5280?uo(t,n,l/5280,e._getUIString("ScaleControl.Miles"),e):uo(t,n,l,e._getUIString("ScaleControl.Feet"),e)}else i&&"nautical"===i.unit?uo(t,n,s/1852,e._getUIString("ScaleControl.NauticalMiles"),e):s>=1e3?uo(t,n,s/1e3,e._getUIString("ScaleControl.Kilometers"),e):uo(t,n,s,e._getUIString("ScaleControl.Meters"),e)}function uo(e,t,i,n,r){var o=function(e){var t=Math.pow(10,"".concat(Math.floor(e)).length-1),i=e/t;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:i>=1?1:function(e){var t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(i),t*i}(i),a=o/i;r._requestDomTask((function(){e.style.width=t*a+"px",e.innerHTML="".concat(o,"&nbsp;").concat(n)}))}var co={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},ho=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),po={version:e.version,supported:t,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:function(i){f(c,i);var u=m(c);function c(t){var i;if(g(this,c),null!=(t=e.extend({},Jr,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if((i=u.call(this,new Un(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies),t))._interactive=t.interactive,i._maxTileCacheSize=t.maxTileCacheSize,i._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,i._preserveDrawingBuffer=t.preserveDrawingBuffer,i._antialias=t.antialias,i._trackResize=t.trackResize,i._bearingSnap=t.bearingSnap,i._refreshExpiredTiles=t.refreshExpiredTiles,i._fadeDuration=t.fadeDuration,i._isInitialLoad=!0,i._crossSourceCollisions=t.crossSourceCollisions,i._crossFadingFactor=1,i._collectResourceTiming=t.collectResourceTiming,i._optimizeForTerrain=t.optimizeForTerrain,i._renderTaskQueue=new Wr,i._domRenderTaskQueue=new Wr,i._controls=[],i._markers=[],i._mapId=e.uniqueId(),i._locale=e.extend({},Xr,t.locale),i._clickTolerance=t.clickTolerance,i._cooperativeGestures=t.cooperativeGestures,i._averageElevationLastSampledAt=-1/0,i._averageElevation=new Zr(0),i._requestManager=new e.RequestManager(t.transformRequest,t.accessToken,t.testMode),i._silenceAuthErrors=!!t.testMode,"string"==typeof t.container){if(i._container=e.window.document.getElementById(t.container),!i._container)throw new Error("Container '".concat(t.container,"' not found."))}else{if(!(t.container instanceof Kr))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");i._container=t.container}if(t.maxBounds&&i.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],r(i)),i._setupContainer(),i._setupPainter(),void 0===i.painter)throw new Error("Failed to initialize WebGL.");return i.on("move",(function(){return i._update(!1)})),i.on("moveend",(function(){return i._update(!1)})),i.on("zoom",(function(){return i._update(!0)})),void 0!==e.window&&(e.window.addEventListener("online",i._onWindowOnline,!1),e.window.addEventListener("resize",i._onWindowResize,!1),e.window.addEventListener("orientationchange",i._onWindowResize,!1),e.window.addEventListener("webkitfullscreenchange",i._onWindowResize,!1)),i.handlers=new Fr(r(i),t),i._localFontFamily=t.localFontFamily,i._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&i.setStyle(t.style,{localFontFamily:i._localFontFamily,localIdeographFontFamily:i._localIdeographFontFamily}),t.projection&&i.setProjection(t.projection),i._hash=t.hash&&new Hn("string"==typeof t.hash&&t.hash||void 0).addTo(r(i)),i._hash&&i._hash._onHashChange()||(i.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(i.resize(),i.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),i.resize(),t.attributionControl&&i.addControl(new Vr({customAttribution:t.customAttribution})),i._logoControl=new Ur,i.addControl(i._logoControl,t.logoPosition),i.on("style.load",(function(){i.transform.unmodified&&i.jumpTo(i.style.stylesheet)})),i.on("data",(function(t){i._update("style"===t.dataType),i.fire(new e.Event("".concat(t.dataType,"data"),t))})),i.on("dataloading",(function(t){i.fire(new e.Event("".concat(t.dataType,"dataloading"),t))})),l(i)}return y(c,[{key:"_getMapId",value:function(){return this._mapId}},{key:"addControl",value:function(t,i){if(void 0===i&&(i=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var n=t.onAdd(this);this._controls.push(t);var r=this._controlPositions[i];return-1!==i.indexOf("bottom")?r.insertBefore(n,r.firstChild):r.appendChild(n),this}},{key:"removeControl",value:function(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var i=this._controls.indexOf(t);return i>-1&&this._controls.splice(i,1),t.onRemove(this),this}},{key:"hasControl",value:function(e){return this._controls.indexOf(e)>-1}},{key:"getContainer",value:function(){return this._container}},{key:"getCanvasContainer",value:function(){return this._canvasContainer}},{key:"getCanvas",value:function(){return this._canvas}},{key:"resize",value:function(t){var i=this._containerDimensions(),n=h(i,2),r=n[0],o=n[1];if(r===this.transform.width&&o===this.transform.height)return this;this._resizeCanvas(r,o),this.transform.resize(r,o),this.painter.resize(Math.ceil(r),Math.ceil(o));var a=!this._moving;return a&&this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t)),this.fire(new e.Event("resize",t)),a&&this.fire(new e.Event("moveend",t)),this}},{key:"getBounds",value:function(){return this.transform.getBounds()}},{key:"getMaxBounds",value:function(){return this.transform.getMaxBounds()||null}},{key:"setMaxBounds",value:function(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()}},{key:"setMinZoom",value:function(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t?this.setZoom(t):this.fire(new e.Event("zoomstart")).fire(new e.Event("zoom")).fire(new e.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}},{key:"getMinZoom",value:function(){return this.transform.minZoom}},{key:"setMaxZoom",value:function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t?this.setZoom(t):this.fire(new e.Event("zoomstart")).fire(new e.Event("zoom")).fire(new e.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}},{key:"getMaxZoom",value:function(){return this.transform.maxZoom}},{key:"setMinPitch",value:function(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to 0");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t?this.setPitch(t):this.fire(new e.Event("pitchstart")).fire(new e.Event("pitch")).fire(new e.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}},{key:"getMinPitch",value:function(){return this.transform.minPitch}},{key:"setMaxPitch",value:function(t){if((t=null==t?85:t)>85)throw new Error("maxPitch must be less than or equal to 85");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t?this.setPitch(t):this.fire(new e.Event("pitchstart")).fire(new e.Event("pitch")).fire(new e.Event("pitchend")),this;throw new Error("maxPitch must be greater than the current minPitch")}},{key:"getMaxPitch",value:function(){return this.transform.maxPitch}},{key:"getRenderWorldCopies",value:function(){return this.transform.renderWorldCopies}},{key:"setRenderWorldCopies",value:function(e){return this.transform.renderWorldCopies=e,this._update()}},{key:"getProjection",value:function(){return this.transform.getProjection()}},{key:"setProjection",value:function(e){this._lazyInitEmptyStyle(),"string"==typeof e&&(e={name:e}),this._runtimeProjection=e,this.style.updateProjection()}},{key:"project",value:function(t){return this.transform.locationPoint3D(e.LngLat.convert(t))}},{key:"unproject",value:function(t){return this.transform.pointLocation3D(e.pointGeometry.convert(t))}},{key:"isMoving",value:function(){return this._moving||this.handlers&&this.handlers.isMoving()}},{key:"isZooming",value:function(){return this._zooming||this.handlers&&this.handlers.isZooming()}},{key:"isRotating",value:function(){return this._rotating||this.handlers&&this.handlers.isRotating()}},{key:"_createDelegatedListener",value:function(e,t,i){var r=this;if("mouseenter"===e||"mouseover"===e){var o=!1,a=function(n){var a=t.filter((function(e){return r.getLayer(e)})),s=a.length?r.queryRenderedFeatures(n.point,{layers:a}):[];s.length?o||(o=!0,i.call(r,new Jn(e,r,n.originalEvent,{features:s}))):o=!1},s=function(){o=!1};return{layers:new Set(t),listener:i,delegates:{mousemove:a,mouseout:s}}}if("mouseleave"===e||"mouseout"===e){var l=!1,u=function(n){var o=t.filter((function(e){return r.getLayer(e)}));(o.length?r.queryRenderedFeatures(n.point,{layers:o}):[]).length?l=!0:l&&(l=!1,i.call(r,new Jn(e,r,n.originalEvent)))},c=function(t){l&&(l=!1,i.call(r,new Jn(e,r,t.originalEvent)))};return{layers:new Set(t),listener:i,delegates:{mousemove:u,mouseout:c}}}var h=function(e){var n=t.filter((function(e){return r.getLayer(e)})),o=n.length?r.queryRenderedFeatures(e.point,{layers:n}):[];o.length&&(e.features=o,i.call(r,e),delete e.features)};return{layers:new Set(t),listener:i,delegates:n({},e,h)}}},{key:"on",value:function(e,t,i){if(void 0===i)return a(s(c.prototype),"on",this).call(this,e,t);Array.isArray(t)||(t=[t]);var n=this._createDelegatedListener(e,t,i);for(var r in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(n),n.delegates)this.on(r,n.delegates[r]);return this}},{key:"once",value:function(e,t,i){if(void 0===i)return a(s(c.prototype),"once",this).call(this,e,t);Array.isArray(t)||(t=[t]);var n=this._createDelegatedListener(e,t,i);for(var r in n.delegates)this.once(r,n.delegates[r]);return this}},{key:"off",value:function(e,t,i){var n=this;if(void 0===i)return a(s(c.prototype),"off",this).call(this,e,t);t=new Set(Array.isArray(t)?t:[t]);var r=function(e,t){if(e.size!==t.size)return!1;var i,n=d(e);try{for(n.s();!(i=n.n()).done;){var r=i.value;if(!t.has(r))return!1}}catch(o){n.e(o)}finally{n.f()}return!0},o=this._delegatedListeners?this._delegatedListeners[e]:void 0;return o&&function(e){for(var o=0;o<e.length;o++){var a=e[o];if(a.listener===i&&r(a.layers,t)){for(var s in a.delegates)n.off(s,a.delegates[s]);return e.splice(o,1),n}}}(o),this}},{key:"queryRenderedFeatures",value:function(t,i){return this.style?(void 0!==i||void 0===t||t instanceof e.pointGeometry||Array.isArray(t)||(i=t,t=void 0),this.style.queryRenderedFeatures(t=t||[[0,0],[this.transform.width,this.transform.height]],i=i||{},this.transform)):[]}},{key:"querySourceFeatures",value:function(e,t){return this.style.querySourceFeatures(e,t)}},{key:"queryTerrainElevation",value:function(t,i){var n=this.transform.elevation;return n?(i=e.extend({},{exaggerated:!0},i),n.getAtPoint(e.MercatorCoordinate.fromLngLat(t),null,i.exaggerated)):null}},{key:"setStyle",value:function(t,i){return!1!==(i=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},i)).diff&&i.localIdeographFontFamily===this._localIdeographFontFamily&&i.localFontFamily===this._localFontFamily&&this.style&&t?(this._diffStyle(t,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._localFontFamily=i.localFontFamily,this._updateStyle(t,i))}},{key:"_getUIString",value:function(e){var t=this._locale[e];if(null==t)throw new Error("Missing UI string '".concat(e,"'"));return t}},{key:"_updateStyle",value:function(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove(),delete this.style),e&&(this.style=new ii(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e)),this._updateTerrain(),this}},{key:"_lazyInitEmptyStyle",value:function(){this.style||(this.style=new ii(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}},{key:"_diffStyle",value:function(t,i){var n=this;if("string"==typeof t){var r=this._requestManager.normalizeStyleURL(t),o=this._requestManager.transformRequest(r,e.ResourceType.Style);e.getJSON(o,(function(t,r){t?n.fire(new e.ErrorEvent(t)):r&&n._updateDiff(r,i)}))}else"object"==typeof t&&this._updateDiff(t,i)}},{key:"_updateDiff",value:function(t,i){try{this.style.setState(t)&&this._update(!0)}catch(o){e.warnOnce("Unable to perform style diff: ".concat(o.message||o.error||o,".  Rebuilding the style from scratch.")),this._updateStyle(t,i)}}},{key:"getStyle",value:function(){if(this.style)return this.style.serialize()}},{key:"isStyleLoaded",value:function(){return this.style?this.style.loaded():e.warnOnce("There is no style added to the map.")}},{key:"addSource",value:function(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}},{key:"isSourceLoaded",value:function(t){var i=this.style&&this.style._getSourceCaches(t);if(0!==i.length)return i.every((function(e){return e.loaded()}));this.fire(new e.ErrorEvent(new Error("There is no source with ID '".concat(t,"'"))))}},{key:"areTilesLoaded",value:function(){var e=this.style&&this.style._sourceCaches;for(var t in e){var i=e[t]._tiles;for(var n in i){var r=i[n];if("loaded"!==r.state&&"errored"!==r.state)return!1}}return!0}},{key:"addSourceType",value:function(e,t,i){return this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,i)}},{key:"removeSource",value:function(e){return this.style.removeSource(e),this._updateTerrain(),this._update(!0)}},{key:"getSource",value:function(e){return this.style.getSource(e)}},{key:"addImage",value:function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.pixelRatio,o=void 0===r?1:r,a=n.sdf,s=void 0!==a&&a,l=n.stretchX,u=n.stretchY,c=n.content;if(this._lazyInitEmptyStyle(),i instanceof $r||Qr&&i instanceof Qr){var h=e.exported.getImageData(i),d=h.width,p=h.height,f=h.data;this.style.addImage(t,{data:new e.RGBAImage({width:d,height:p},f),pixelRatio:o,stretchX:l,stretchY:u,content:c,sdf:s,version:0})}else{if(void 0===i.width||void 0===i.height)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var m=i.width,g=i.height,y=i.data,v=i;this.style.addImage(t,{data:new e.RGBAImage({width:m,height:g},new Uint8Array(y)),pixelRatio:o,stretchX:l,stretchY:u,content:c,sdf:s,version:0,userImage:v}),v.onAdd&&v.onAdd(this,t)}}},{key:"updateImage",value:function(t,i){var n=this.style.getImage(t);if(!n)return this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var r=i instanceof $r||Qr&&i instanceof Qr?e.exported.getImageData(i):i,o=r.width,a=r.height,s=r.data;return void 0===o||void 0===a?this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):o!==n.data.width||a!==n.data.height?this.fire(new e.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(n.data.replace(s,!(i instanceof $r||Qr&&i instanceof Qr)),void this.style.updateImage(t,n))}},{key:"hasImage",value:function(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)}},{key:"removeImage",value:function(e){this.style.removeImage(e)}},{key:"loadImage",value:function(t,i){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),(function(t,n){i(t,n instanceof $r?e.exported.getImageData(n):n)}))}},{key:"listImages",value:function(){return this.style.listImages()}},{key:"addLayer",value:function(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}},{key:"moveLayer",value:function(e,t){return this.style.moveLayer(e,t),this._update(!0)}},{key:"removeLayer",value:function(e){return this.style.removeLayer(e),this._update(!0)}},{key:"getLayer",value:function(e){return this.style.getLayer(e)}},{key:"setLayerZoomRange",value:function(e,t,i){return this.style.setLayerZoomRange(e,t,i),this._update(!0)}},{key:"setFilter",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.style.setFilter(e,t,i),this._update(!0)}},{key:"getFilter",value:function(e){return this.style.getFilter(e)}},{key:"setPaintProperty",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.style.setPaintProperty(e,t,i,n),this._update(!0)}},{key:"getPaintProperty",value:function(e,t){return this.style.getPaintProperty(e,t)}},{key:"setLayoutProperty",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.style.setLayoutProperty(e,t,i,n),this._update(!0)}},{key:"getLayoutProperty",value:function(e,t){return this.style.getLayoutProperty(e,t)}},{key:"setLight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}},{key:"getLight",value:function(){return this.style.getLight()}},{key:"setTerrain",value:function(e){return this._lazyInitEmptyStyle(),this.style.setTerrain(e),this._averageElevationLastSampledAt=-1/0,this._update(!0)}},{key:"getTerrain",value:function(){return this.style?this.style.getTerrain():null}},{key:"setFog",value:function(e){return this._lazyInitEmptyStyle(),this.style.setFog(e),this._update(!0)}},{key:"getFog",value:function(){return this.style?this.style.getFog():null}},{key:"_queryFogOpacity",value:function(t){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(e.LngLat.convert(t),this.transform):0}},{key:"setFeatureState",value:function(e,t){return this.style.setFeatureState(e,t),this._update()}},{key:"removeFeatureState",value:function(e,t){return this.style.removeFeatureState(e,t),this._update()}},{key:"getFeatureState",value:function(e){return this.style.getFeatureState(e)}},{key:"_containerDimensions",value:function(){var e=0,t=0;return this._container&&(e=this._container.getBoundingClientRect().width||400,t=this._container.getBoundingClientRect().height||300),[e,t]}},{key:"_detectMissingCSS",value:function(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}},{key:"_setupContainer",value:function(){var e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=v.create("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();var t=this._canvasContainer=v.create("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=v.create("canvas","mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var i=this._containerDimensions();this._resizeCanvas(i[0],i[1]);var n=this._controlContainer=v.create("div","mapboxgl-control-container",e),r=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(e){r[e]=v.create("div","mapboxgl-ctrl-".concat(e),n)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}},{key:"_resizeCanvas",value:function(t,i){var n=e.exported.devicePixelRatio||1;this._canvas.width=n*Math.ceil(t),this._canvas.height=n*Math.ceil(i),this._canvas.style.width="".concat(t,"px"),this._canvas.style.height="".concat(i,"px")}},{key:"_addMarker",value:function(e){this._markers.push(e)}},{key:"_removeMarker",value:function(e){var t=this._markers.indexOf(e);-1!==t&&this._markers.splice(t,1)}},{key:"_setupPainter",value:function(){var i=this,n=e.extend({},t.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl",n)||this._canvas.getContext("experimental-webgl",n);r?(e.storeAuthState(r,!0),this.painter=new Tn(r,this.transform),this.on("data",(function(e){"source"===e.dataType&&i.painter.setTileLoadedFlag(!0)})),e.exported$1.testSupport(r)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))}},{key:"_contextLost",value:function(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))}},{key:"_contextRestored",value:function(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))}},{key:"_onMapScroll",value:function(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}},{key:"loaded",value:function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}},{key:"_update",value:function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}},{key:"_requestRenderFrame",value:function(e){return this._update(),this._renderTaskQueue.add(e)}},{key:"_cancelRenderFrame",value:function(e){this._renderTaskQueue.remove(e)}},{key:"_requestDomTask",value:function(e){!this.loaded()||this.loaded()&&!this.isMoving()?e():this._domRenderTaskQueue.add(e)}},{key:"_render",value:function(t){var i,n=this,r=this.painter.context.extTimerQuery,o=e.exported.now();this.listens("gpu-timing-frame")&&(i=r.createQueryEXT(),r.beginQueryEXT(r.TIME_ELAPSED_EXT,i));var a=this._updateAverageElevation(o);if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(t),this._domRenderTaskQueue.run(t),!this._removed){var s=!1,l=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;var u=this.transform.zoom,c=this.transform.pitch,h=e.exported.now();this.style.zoomHistory.update(u,h);var d=new e.EvaluationParameters(u,{now:h,fadeDuration:l,pitch:c,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),p=d.crossFadingFactor();1===p&&p===this._crossFadingFactor||(s=!0,this._crossFadingFactor=p),this.style.update(d)}if(this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),this.style._updateSources(this.transform),this._forceMarkerUpdate()),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,l,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:l,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),speedIndexTiming:this.speedIndexTiming}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||s)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var f=e.exported.now()-o;r.endQueryEXT(r.TIME_ELAPSED_EXT,i),setTimeout((function(){var t=r.getQueryObjectEXT(i,r.QUERY_RESULT_EXT)/1e6;r.deleteQueryEXT(i),n.fire(new e.Event("gpu-timing-frame",{cpuTime:f,gpuTime:t}))}),50)}if(this.listens("gpu-timing-layer")){var m=this.painter.collectGpuTimers();setTimeout((function(){var t=n.painter.queryGpuTimers(m);n.fire(new e.Event("gpu-timing-layer",{layerTimes:t}))}),50)}var g=this._sourcesDirty||this._styleDirty||this._placementDirty||a;if(g||this._repaint)this.triggerRepaint();else{var y=!this.isMoving()&&this.loaded();if(y&&(a=this._updateAverageElevation(o,!0)),a)this.triggerRepaint();else if(this._triggerFrame(!1),y&&(this.fire(new e.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){var v=this._calculateSpeedIndex();this.fire(new e.Event("speedindexcompleted",{speedIndex:v})),this.speedIndexTiming=!1}}return!this._loaded||this._fullyLoaded||g||(this._fullyLoaded=!0,this._authenticate()),this}}},{key:"_forceMarkerUpdate",value:function(){var e,t=d(this._markers);try{for(t.s();!(e=t.n()).done;)e.value._update()}catch(i){t.e(i)}finally{t.f()}}},{key:"_updateAverageElevation",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(e){return t.transform.averageElevation=e,t._update(!1),!0};if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&n(0);if((i||e-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(e)){var r=this.transform.averageElevation,o=this.transform.sampleAverageElevation();isNaN(o)?o=0:this._averageElevationLastSampledAt=e;var a=Math.abs(r-o);if(a>1){if(this._isInitialLoad)return this._averageElevation.jumpTo(o),n(o);this._averageElevation.easeTo(o,e,300)}else if(a>1e-4)return this._averageElevation.jumpTo(o),n(o)}return!!this._averageElevation.isEasing(e)&&n(this._averageElevation.getValue(e))}},{key:"_authenticate",value:function(){var t=this;e.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(function(i){if(i&&(i.message===e.AUTH_ERR_MSG||401===i.status)){var n=t.painter.context.gl;e.storeAuthState(n,!1),t._logoControl instanceof Ur&&t._logoControl._updateLogo(),n&&n.clear(n.DEPTH_BUFFER_BIT|n.COLOR_BUFFER_BIT|n.STENCIL_BUFFER_BIT),t._silenceAuthErrors||t.fire(new e.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}})),e.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(function(){}))}},{key:"_updateTerrain",value:function(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming())}},{key:"_calculateSpeedIndex",value:function(){var e=this.painter.canvasCopy(),t=this.painter.getCanvasCopiesAndTimestamps();t.timeStamps.push(performance.now());var i=this.painter.context.gl,n=i.createFramebuffer();function r(e){i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,e,0);var t=new Uint8Array(i.drawingBufferWidth*i.drawingBufferHeight*4);return i.readPixels(0,0,i.drawingBufferWidth,i.drawingBufferHeight,i.RGBA,i.UNSIGNED_BYTE,t),t}return i.bindFramebuffer(i.FRAMEBUFFER,n),this._canvasPixelComparison(r(e),t.canvasCopies.map(r),t.timeStamps)}},{key:"_canvasPixelComparison",value:function(e,t,i){for(var n=i[1]-i[0],r=e.length/4,o=0;o<t.length;o++){for(var a=t[o],s=0,l=0;l<a.length;l+=4)a[l]===e[l]&&a[l+1]===e[l+1]&&a[l+2]===e[l+2]&&a[l+3]===e[l+3]&&(s+=1);n+=(i[o+2]-i[o+1])*(1-s/r)}return n}},{key:"remove",value:function(){this._hash&&this._hash.remove();var t,i=d(this._controls);try{for(i.s();!(t=i.n()).done;)t.value.onRemove(this)}catch(r){i.e(r)}finally{i.f()}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.clearWorkerCaches(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("orientationchange",this._onWindowResize,!1),e.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1));var n=this.painter.context.gl.getExtension("WEBGL_lose_context");n&&n.loseContext(),eo(this._canvasContainer),eo(this._controlContainer),eo(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),e.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new e.Event("remove"))}},{key:"triggerRepaint",value:function(){this._triggerFrame(!0)}},{key:"_triggerFrame",value:function(t){var i=this;this._renderNextFrame=this._renderNextFrame||t,this.style&&!this._frame&&(this._frame=e.exported.frame((function(e){var t=!!i._renderNextFrame;i._frame=null,i._renderNextFrame=null,t&&i._render(e)})))}},{key:"_onWindowOnline",value:function(){this._update()}},{key:"_onWindowResize",value:function(e){this._trackResize&&this.resize({originalEvent:e})._update()}},{key:"showTileBoundaries",get:function(){return!!this._showTileBoundaries},set:function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())}},{key:"showTerrainWireframe",get:function(){return!!this._showTerrainWireframe},set:function(e){this._showTerrainWireframe!==e&&(this._showTerrainWireframe=e,this._update())}},{key:"speedIndexTiming",get:function(){return!!this._speedIndexTiming},set:function(e){this._speedIndexTiming!==e&&(this._speedIndexTiming=e,this._update())}},{key:"showPadding",get:function(){return!!this._showPadding},set:function(e){this._showPadding!==e&&(this._showPadding=e,this._update())}},{key:"showCollisionBoxes",get:function(){return!!this._showCollisionBoxes},set:function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())}},{key:"showOverdrawInspector",get:function(){return!!this._showOverdrawInspector},set:function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())}},{key:"repaint",get:function(){return!!this._repaint},set:function(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())}},{key:"vertices",get:function(){return!!this._vertices},set:function(e){this._vertices=e,this._update()}},{key:"_setCacheLimits",value:function(t,i){e.setCacheLimits(t,i)}},{key:"version",get:function(){return e.version}}]),c}(jr),NavigationControl:function(){function t(i){var n=this;g(this,t),this.options=e.extend({},io,i),this._container=v.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(e){return n._map.zoomIn({},{originalEvent:e})})),v.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(e){return n._map.zoomOut({},{originalEvent:e})})),v.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(e){n.options.visualizePitch?n._map.resetNorthPitch({},{originalEvent:e}):n._map.resetNorth({},{originalEvent:e})})),this._compassIcon=v.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))}return y(t,[{key:"_updateZoomButtons",value:function(){var e=this._map.getZoom(),t=e===this._map.getMaxZoom(),i=e===this._map.getMinZoom();this._zoomInButton.disabled=t,this._zoomOutButton.disabled=i,this._zoomInButton.setAttribute("aria-disabled",t.toString()),this._zoomOutButton.setAttribute("aria-disabled",i.toString())}},{key:"_rotateCompassArrow",value:function(){var e=this,t=this.options.visualizePitch?"scale(".concat(1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5),") rotateX(").concat(this._map.transform.pitch,"deg) rotateZ(").concat(this._map.transform.angle*(180/Math.PI),"deg)"):"rotate(".concat(this._map.transform.angle*(180/Math.PI),"deg)");this._map._requestDomTask((function(){e._compassIcon&&(e._compassIcon.style.transform=t)}))}},{key:"onAdd",value:function(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new no(this._map,this._compass,this.options.visualizePitch)),this._container}},{key:"onRemove",value:function(){v.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}},{key:"_createButton",value:function(e,t){var i=v.create("button",e,this._container);return i.type="button",i.addEventListener("click",t),i}},{key:"_setButtonTitle",value:function(e,t){var i=this._map._getUIString("NavigationControl.".concat(t));e.setAttribute("aria-label",i),e.firstElementChild&&e.firstElementChild.setAttribute("title",i)}}]),t}(),GeolocateControl:function(t){f(n,t);var i=m(n);function n(t){var o;return g(this,n),(o=i.call(this)).options=e.extend({},ro,t),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation"],r(o)),o._onDeviceOrientationListener=o._onDeviceOrientation.bind(r(o)),o._updateMarkerRotationThrottled=Wn(o._updateMarkerRotation,20),o}return y(n,[{key:"onAdd",value:function(t){var i;return this._map=t,this._container=v.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),i=this._setupUI,void 0!==to?i(to):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then((function(e){to="denied"!==e.state,i(to)})):(to=!!e.window.navigator.geolocation,i(to)),this._container}},{key:"onRemove",value:function(){void 0!==this._geolocationWatchID&&(e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),v.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,oo=0,ao=!1}},{key:"_isOutOfMapMaxBounds",value:function(e){var t=this._map.getMaxBounds(),i=e.coords;return t&&(i.longitude<t.getWest()||i.longitude>t.getEast()||i.latitude<t.getSouth()||i.latitude>t.getNorth())}},{key:"_setErrorState",value:function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}},{key:"_onSuccess",value:function(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}}},{key:"_updateCamera",value:function(t){var i=new e.LngLat(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy,r=this._map.getBearing(),o=e.extend({bearing:r},this.options.fitBoundsOptions);this._map.fitBounds(i.toBounds(n),o,{geolocateSource:!0})}},{key:"_updateMarker",value:function(t){if(t){var i=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(i).addTo(this._map),this._userLocationDotMarker.setLngLat(i).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}},{key:"_updateCircleRadius",value:function(){var e=this._map._container.getBoundingClientRect().height/2,t=this._map.unproject([0,e]),i=this._map.unproject([100,e]),n=t.distanceTo(i)/100,r=Math.ceil(2*this._accuracy/n);this._circleElement.style.width="".concat(r,"px"),this._circleElement.style.height="".concat(r,"px")}},{key:"_onZoom",value:function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}},{key:"_updateMarkerRotation",value:function(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}},{key:"_onError",value:function(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",i),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",i),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&ao)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}}},{key:"_finish",value:function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}},{key:"_setupUI",value:function(t){var i=this;if(this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this._geolocateButton=v.create("button","mapboxgl-ctrl-geolocate",this._container),v.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",n),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",n)}else{var r=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=v.create("div","mapboxgl-user-location"),this._dotElement.appendChild(v.create("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(v.create("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new qr({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=v.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new qr({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(t){t.geolocateSource||"ACTIVE_LOCK"!==i._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(i._watchState="BACKGROUND",i._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),i._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),i.fire(new e.Event("trackuserlocationend")))}))}},{key:"_onDeviceOrientation",value:function(e){this._userLocationDotMarker&&(e.webkitCompassHeading?this._heading=e.webkitCompassHeading:!0===e.absolute&&(this._heading=-1*e.alpha),this._updateMarkerRotationThrottled())}},{key:"trigger",value:function(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":oo--,ao=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var t;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++oo>1?(t={maximumAge:6e5,timeout:0},ao=!0):(t=this.options.positionOptions,ao=!1),this._geolocationWatchID=e.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,t),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else e.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}},{key:"_addDeviceOrientationListener",value:function(){var t=this,i=function(){e.window.addEventListener("ondeviceorientationabsolute"in e.window?"deviceorientationabsolute":"deviceorientation",t._onDeviceOrientationListener)};void 0!==e.window.DeviceMotionEvent&&"function"==typeof e.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((function(e){"granted"===e&&i()})).catch(console.error):i()}},{key:"_clearWatch",value:function(){e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),e.window.removeEventListener("deviceorientation",this._onDeviceOrientationListener),e.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientationListener),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}}]),n}(e.Evented),AttributionControl:Vr,ScaleControl:function(){function t(i){g(this,t),this.options=e.extend({},so,i),e.bindAll(["_onMove","setUnit"],this)}return y(t,[{key:"getDefaultPosition",value:function(){return"bottom-left"}},{key:"_onMove",value:function(){lo(this._map,this._container,this.options)}},{key:"onAdd",value:function(e){return this._map=e,this._container=v.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}},{key:"onRemove",value:function(){v.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},{key:"setUnit",value:function(e){this.options.unit=e,lo(this._map,this._container,this.options)}}]),t}(),FullscreenControl:function(){function t(i){g(this,t),this._fullscreen=!1,i&&i.container&&(i.container instanceof e.window.HTMLElement?this._container=i.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in e.window.document&&(this._fullscreenchange="webkitfullscreenchange")}return y(t,[{key:"onAdd",value:function(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=v.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}},{key:"onRemove",value:function(){v.remove(this._controlContainer),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}},{key:"_checkFullscreenSupport",value:function(){return!(!e.window.document.fullscreenEnabled&&!e.window.document.webkitFullscreenEnabled)}},{key:"_setupUI",value:function(){var t=this._fullscreenButton=v.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);v.create("span","mapboxgl-ctrl-icon",t).setAttribute("aria-hidden",!0),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}},{key:"_updateTitle",value:function(){var e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",e)}},{key:"_getTitle",value:function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}},{key:"_isFullscreen",value:function(){return this._fullscreen}},{key:"_changeIcon",value:function(){(e.window.document.fullscreenElement||e.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}},{key:"_onClickFullscreen",value:function(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}}]),t}(),Popup:function(t){f(n,t);var i=m(n);function n(t){var o;return g(this,n),(o=i.call(this)).options=e.extend(Object.create(co),t),e.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],r(o)),o._classList=new Set(t&&t.className?t.className.trim().split(/\s+/):[]),o}return y(n,[{key:"addTo",value:function(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&this._map.on("preclick",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new e.Event("open")),this}},{key:"isOpen",value:function(){return!!this._map}},{key:"remove",value:function(){return this._content&&v.remove(this._content),this._container&&(v.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new e.Event("close")),this}},{key:"getLngLat",value:function(){return this._lngLat}},{key:"setLngLat",value:function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}},{key:"trackPointer",value:function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this}},{key:"getElement",value:function(){return this._container}},{key:"setText",value:function(t){return this.setDOMContent(e.window.document.createTextNode(t))}},{key:"setHTML",value:function(t){var i,n=e.window.document.createDocumentFragment(),r=e.window.document.createElement("body");for(r.innerHTML=t;i=r.firstChild;)n.appendChild(i);return this.setDOMContent(n)}},{key:"getMaxWidth",value:function(){return this._container&&this._container.style.maxWidth}},{key:"setMaxWidth",value:function(e){return this.options.maxWidth=e,this._update(),this}},{key:"setDOMContent",value:function(e){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=v.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(e),this._createCloseButton(),this._update(),this._focusFirstElement(),this}},{key:"addClassName",value:function(e){return this._classList.add(e),this._container&&this._updateClassList(),this}},{key:"removeClassName",value:function(e){return this._classList.delete(e),this._container&&this._updateClassList(),this}},{key:"setOffset",value:function(e){return this.options.offset=e,this._update(),this}},{key:"toggleClassName",value:function(e){var t;return this._classList.delete(e)?t=!1:(this._classList.add(e),t=!0),this._container&&this._updateClassList(),t}},{key:"_createCloseButton",value:function(){this.options.closeButton&&(this._closeButton=v.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.setAttribute("aria-hidden","true"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}},{key:"_onMouseUp",value:function(e){this._update(e.point)}},{key:"_onMouseMove",value:function(e){this._update(e.point)}},{key:"_onDrag",value:function(e){this._update(e.point)}},{key:"_getAnchor",value:function(e){if(this.options.anchor)return this.options.anchor;var t,i=this._pos,n=this._container.offsetWidth,r=this._container.offsetHeight;return t=i.y+e.bottom.y<r?["top"]:i.y>this._map.transform.height-r?["bottom"]:[],i.x<n/2?t.push("left"):i.x>this._map.transform.width-n/2&&t.push("right"),0===t.length?"bottom":t.join("-")}},{key:"_updateClassList",value:function(){var e=c(this._classList);e.push("mapboxgl-popup"),this._anchor&&e.push("mapboxgl-popup-anchor-".concat(this._anchor)),this._trackPointer&&e.push("mapboxgl-popup-track-pointer"),this._container.className=e.join(" ")}},{key:"_update",value:function(t){var i=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content){if(this._container||(this._container=v.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=v.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content)),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Hr(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||t){var n=this._pos=this._trackPointer&&t?t:this._map.project(this._lngLat),r=function(t){if(t||(t=new e.pointGeometry(0,0)),"number"==typeof t){var i=Math.round(Math.sqrt(.5*Math.pow(t,2)));return{center:new e.pointGeometry(0,0),top:new e.pointGeometry(0,t),"top-left":new e.pointGeometry(i,i),"top-right":new e.pointGeometry(-i,i),bottom:new e.pointGeometry(0,-t),"bottom-left":new e.pointGeometry(i,-i),"bottom-right":new e.pointGeometry(-i,-i),left:new e.pointGeometry(t,0),right:new e.pointGeometry(-t,0)}}if(t instanceof e.pointGeometry||Array.isArray(t)){var n=e.pointGeometry.convert(t);return{center:n,top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{center:e.pointGeometry.convert(t.center||[0,0]),top:e.pointGeometry.convert(t.top||[0,0]),"top-left":e.pointGeometry.convert(t["top-left"]||[0,0]),"top-right":e.pointGeometry.convert(t["top-right"]||[0,0]),bottom:e.pointGeometry.convert(t.bottom||[0,0]),"bottom-left":e.pointGeometry.convert(t["bottom-left"]||[0,0]),"bottom-right":e.pointGeometry.convert(t["bottom-right"]||[0,0]),left:e.pointGeometry.convert(t.left||[0,0]),right:e.pointGeometry.convert(t.right||[0,0])}}(this.options.offset),o=this._anchor=this._getAnchor(r),a=n.add(r[o]).round();this._map._requestDomTask((function(){i._container&&o&&v.setTransform(i._container,"".concat(Gr[o]," translate(").concat(a.x,"px,").concat(a.y,"px)"))}))}this._updateClassList()}}},{key:"_focusFirstElement",value:function(){if(this.options.focusAfterOpen&&this._container){var e=this._container.querySelector(ho);e&&e.focus()}}},{key:"_onClose",value:function(){this.remove()}},{key:"_setOpacity",value:function(e){this._content&&(this._content.style.opacity=e),this._tip&&(this._tip.style.opacity=e)}}]),n}(e.Evented),Marker:qr,Style:ii,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.pointGeometry,MercatorCoordinate:e.MercatorCoordinate,FreeCameraOptions:In,Evented:e.Evented,config:e.config,prewarm:function(){Xe().acquire(qe)},clearPrewarmedResources:function(){var e=Ge;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(qe),Ge=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return Ze.workerCount},set workerCount(e){Ze.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage:function(t){e.clearTileCache(t)},workerUrl:"",workerClass:null,setNow:e.exported.setNow,restoreNow:e.exported.restoreNow};return po})),i}()},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(r){return!1}}()?Object.assign:function(e,o){for(var a,s,l=r(e),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))i.call(a,c)&&(l[c]=a[c]);if(t){s=t(a);for(var h=0;h<s.length;h++)n.call(a,s[h])&&(l[s[h]]=a[s[h]])}}return l}},4463:function(e,t,i){"use strict";var n=i(2791),r=i(1725),o=i(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(a(227));var s=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,f={},m={};function g(e,t,i,n,r,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function x(e,t,i,n){var r=y.hasOwnProperty(t)?y[t]:null;(null!==r?0===r.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,i,n){if(null===t||"undefined"===typeof t||function(e,t,i,n){if(null!==i&&0===i.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,i,r,n)&&(i=null),n||null===r?function(e){return!!p.call(m,e)||!p.call(f,e)&&(d.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===i?e.removeAttribute(t):e.setAttribute(t,""+i)):r.mustUseProperty?e[r.propertyName]=null===i?3!==r.type&&"":i:(t=r.attributeName,n=r.attributeNamespace,null===i?e.removeAttribute(t):(i=3===(r=r.type)||4===r&&!0===i?"":""+i,n?e.setAttributeNS(n,t,i):e.setAttribute(t,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,S=60106,k=60107,C=60108,T=60114,E=60109,A=60110,P=60112,M=60113,L=60120,O=60115,R=60116,I=60121,D=60128,z=60129,B=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var N=Symbol.for;w=N("react.element"),S=N("react.portal"),k=N("react.fragment"),C=N("react.strict_mode"),T=N("react.profiler"),E=N("react.provider"),A=N("react.context"),P=N("react.forward_ref"),M=N("react.suspense"),L=N("react.suspense_list"),O=N("react.memo"),R=N("react.lazy"),I=N("react.block"),N("react.scope"),D=N("react.opaque.id"),z=N("react.debug_trace_mode"),B=N("react.offscreen"),F=N("react.legacy_hidden")}var j,V="function"===typeof Symbol&&Symbol.iterator;function U(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=V&&e[V]||e["@@iterator"])?e:null}function W(e){if(void 0===j)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var H=!1;function G(e,t){if(!e||H)return"";H=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var n=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){n=l}e.call(t.prototype)}else{try{throw Error()}catch(l){n=l}e()}}catch(l){if(l&&n&&"string"===typeof l.stack){for(var r=l.stack.split("\n"),o=n.stack.split("\n"),a=r.length-1,s=o.length-1;1<=a&&0<=s&&r[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(r[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||r[a]!==o[s])return"\n"+r[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?W(e):""}function q(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1);case 11:return e=G(e.type.render,!1);case 22:return e=G(e.type._render,!1);case 1:return e=G(e.type,!0);default:return""}}function Z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case T:return"Profiler";case C:return"StrictMode";case M:return"Suspense";case L:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return Z(e.type);case I:return Z(e._render);case R:t=e._payload,e=e._init;try{return Z(e(t))}catch(i){}}return null}function X(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var r=i.get,o=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),n="";return e&&(n=Y(e)?e.checked?"true":"false":e.value),(e=n)!==i&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var i=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:e._wrapperState.initialChecked})}function ee(e,t){var i=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;i=X(null!=t.value?t.value:i),e._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function ie(e,t){te(e,t);var i=X(t.value),n=t.type;if(null!=i)"number"===n?(0===i&&""===e.value||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?re(e,t.type,i):t.hasOwnProperty("defaultValue")&&re(e,t.type,X(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ne(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}""!==(i=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==i&&(e.name=i)}function re(e,t,i){"number"===t&&Q(e.ownerDocument)===e||(null==i?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}function oe(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,i,n){if(e=e.options,t){t={};for(var r=0;r<i.length;r++)t["$"+i[r]]=!0;for(i=0;i<e.length;i++)r=t.hasOwnProperty("$"+e[i].value),e[i].selected!==r&&(e[i].selected=r),r&&n&&(e[i].defaultSelected=!0)}else{for(i=""+X(i),t=null,r=0;r<e.length;r++){if(e[r].value===i)return e[r].selected=!0,void(n&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var i=t.value;if(null==i){if(i=t.children,t=t.defaultValue,null!=i){if(null!=t)throw Error(a(92));if(Array.isArray(i)){if(!(1>=i.length))throw Error(a(93));i=i[0]}t=i}null==t&&(t=""),i=t}e._wrapperState={initialValue:X(i)}}function ue(e,t){var i=X(t.value),n=X(t.defaultValue);null!=i&&((i=""+i)!==e.value&&(e.value=i),null==t.defaultValue&&e.defaultValue!==i&&(e.defaultValue=i)),null!=n&&(e.defaultValue=""+n)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?pe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ge,ye=(ge=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,i,n){MSApp.execUnsafeLocalFunction((function(){return ge(e,t)}))}:ge);function ve(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&3===i.nodeType)return void(i.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function _e(e,t,i){return null==t||"boolean"===typeof t||""===t?"":i||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function we(e,t){for(var i in e=e.style,t)if(t.hasOwnProperty(i)){var n=0===i.indexOf("--"),r=_e(i,t[i],n);"float"===i&&(i="cssFloat"),n?e.setProperty(i,r):e[i]=r}}Object.keys(be).forEach((function(e){xe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Se=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Ae=null,Pe=null;function Me(e){if(e=nr(e)){if("function"!==typeof Ee)throw Error(a(280));var t=e.stateNode;t&&(t=or(t),Ee(e.stateNode,e.type,t))}}function Le(e){Ae?Pe?Pe.push(e):Pe=[e]:Ae=e}function Oe(){if(Ae){var e=Ae,t=Pe;if(Pe=Ae=null,Me(e),t)for(e=0;e<t.length;e++)Me(t[e])}}function Re(e,t){return e(t)}function Ie(e,t,i,n,r){return e(t,i,n,r)}function De(){}var ze=Re,Be=!1,Fe=!1;function Ne(){null===Ae&&null===Pe||(De(),Oe())}function je(e,t){var i=e.stateNode;if(null===i)return null;var n=or(i);if(null===n)return null;i=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(i&&"function"!==typeof i)throw Error(a(231,t,typeof i));return i}var Ve=!1;if(h)try{var Ue={};Object.defineProperty(Ue,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",Ue,Ue),window.removeEventListener("test",Ue,Ue)}catch(ge){Ve=!1}function We(e,t,i,n,r,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(i,u)}catch(c){this.onError(c)}}var He=!1,Ge=null,qe=!1,Ze=null,Xe={onError:function(e){He=!0,Ge=e}};function Ye(e,t,i,n,r,o,a,s,l){He=!1,Ge=null,We.apply(Xe,arguments)}function $e(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(i=t.return),e=t.return}while(e)}return 3===t.tag?i:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if($e(e)!==e)throw Error(a(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(a(188));return t!==e?null:e}for(var i=e,n=t;;){var r=i.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(n=r.return)){i=n;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===i)return Qe(r),e;if(o===n)return Qe(r),t;o=o.sibling}throw Error(a(188))}if(i.return!==n.return)i=r,n=o;else{for(var s=!1,l=r.child;l;){if(l===i){s=!0,i=r,n=o;break}if(l===n){s=!0,n=r,i=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===i){s=!0,i=o,n=r;break}if(l===n){s=!0,n=o,i=r;break}l=l.sibling}if(!s)throw Error(a(189))}}if(i.alternate!==n)throw Error(a(190))}if(3!==i.tag)throw Error(a(188));return i.stateNode.current===i?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var i=e.alternate;null!==t;){if(t===e||t===i)return!0;t=t.return}return!1}var tt,it,nt,rt,ot=!1,at=[],st=null,lt=null,ut=null,ct=new Map,ht=new Map,dt=[],pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,i,n,r){return{blockedOn:e,domEventName:t,eventSystemFlags:16|i,nativeEvent:r,targetContainers:[n]}}function mt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function gt(e,t,i,n,r,o){return null===e||e.nativeEvent!==o?(e=ft(t,i,n,r,o),null!==t&&(null!==(t=nr(t))&&it(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function yt(e){var t=ir(e.target);if(null!==t){var i=$e(t);if(null!==i)if(13===(t=i.tag)){if(null!==(t=Ke(i)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(i)}))}))}else if(3===t&&i.stateNode.hydrate)return void(e.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var i=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==i)return null!==(t=nr(i))&&it(t),e.blockedOn=i,!1;t.shift()}return!0}function bt(e,t,i){vt(e)&&i.delete(t)}function xt(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=nr(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var i=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==i){e.blockedOn=i;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&vt(st)&&(st=null),null!==lt&&vt(lt)&&(lt=null),null!==ut&&vt(ut)&&(ut=null),ct.forEach(bt),ht.forEach(bt)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,xt)))}function wt(e){function t(t){return _t(t,e)}if(0<at.length){_t(at[0],e);for(var i=1;i<at.length;i++){var n=at[i];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==st&&_t(st,e),null!==lt&&_t(lt,e),null!==ut&&_t(ut,e),ct.forEach(t),ht.forEach(t),i=0;i<dt.length;i++)(n=dt[i]).blockedOn===e&&(n.blockedOn=null);for(;0<dt.length&&null===(i=dt[0]).blockedOn;)yt(i),null===i.blockedOn&&dt.shift()}function St(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var kt={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},Ct={},Tt={};function Et(e){if(Ct[e])return Ct[e];if(!kt[e])return e;var t,i=kt[e];for(t in i)if(i.hasOwnProperty(t)&&t in Tt)return Ct[e]=i[t];return e}h&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);var At=Et("animationend"),Pt=Et("animationiteration"),Mt=Et("animationstart"),Lt=Et("transitionend"),Ot=new Map,Rt=new Map,It=["abort","abort",At,"animationEnd",Pt,"animationIteration",Mt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Lt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var i=0;i<e.length;i+=2){var n=e[i],r=e[i+1];r="on"+(r[0].toUpperCase()+r.slice(1)),Rt.set(n,t),Ot.set(n,r),u(r,[n])}}(0,o.unstable_now)();var zt=8;function Bt(e){if(0!==(1&e))return zt=15,1;if(0!==(2&e))return zt=14,2;if(0!==(4&e))return zt=13,4;var t=24&e;return 0!==t?(zt=12,t):0!==(32&e)?(zt=11,32):0!==(t=192&e)?(zt=10,t):0!==(256&e)?(zt=9,256):0!==(t=3584&e)?(zt=8,t):0!==(4096&e)?(zt=7,4096):0!==(t=4186112&e)?(zt=6,t):0!==(t=62914560&e)?(zt=5,t):67108864&e?(zt=4,67108864):0!==(134217728&e)?(zt=3,134217728):0!==(t=805306368&e)?(zt=2,t):0!==(1073741824&e)?(zt=1,1073741824):(zt=8,e)}function Ft(e,t){var i=e.pendingLanes;if(0===i)return zt=0;var n=0,r=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)n=o,r=zt=15;else if(0!==(o=134217727&i)){var l=o&~a;0!==l?(n=Bt(l),r=zt):0!==(s&=o)&&(n=Bt(s),r=zt)}else 0!==(o=i&~a)?(n=Bt(o),r=zt):0!==s&&(n=Bt(s),r=zt);if(0===n)return 0;if(n=i&((0>(n=31-Ht(n))?0:1<<n)<<1)-1,0!==t&&t!==n&&0===(t&a)){if(Bt(t),r<=zt)return t;zt=r}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)r=1<<(i=31-Ht(t)),n|=e[i],t&=~r;return n}function Nt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?jt(10,t):e;case 10:return 0===(e=Vt(192&~t))?jt(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&(0===(e=Vt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Vt(e){return e&-e}function Ut(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Wt(e,t,i){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,(e=e.eventTimes)[t=31-Ht(t)]=i}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Gt(e)/qt|0)|0},Gt=Math.log,qt=Math.LN2;var Zt=o.unstable_UserBlockingPriority,Xt=o.unstable_runWithPriority,Yt=!0;function $t(e,t,i,n){Be||De();var r=Qt,o=Be;Be=!0;try{Ie(r,e,t,i,n)}finally{(Be=o)||Ne()}}function Kt(e,t,i,n){Xt(Zt,Qt.bind(null,e,t,i,n))}function Qt(e,t,i,n){var r;if(Yt)if((r=0===(4&t))&&0<at.length&&-1<pt.indexOf(e))e=ft(null,e,t,i,n),at.push(e);else{var o=Jt(e,t,i,n);if(null===o)r&&mt(e,n);else{if(r){if(-1<pt.indexOf(e))return e=ft(o,e,t,i,n),void at.push(e);if(function(e,t,i,n,r){switch(t){case"focusin":return st=gt(st,e,t,i,n,r),!0;case"dragenter":return lt=gt(lt,e,t,i,n,r),!0;case"mouseover":return ut=gt(ut,e,t,i,n,r),!0;case"pointerover":var o=r.pointerId;return ct.set(o,gt(ct.get(o)||null,e,t,i,n,r)),!0;case"gotpointercapture":return o=r.pointerId,ht.set(o,gt(ht.get(o)||null,e,t,i,n,r)),!0}return!1}(o,e,t,i,n))return;mt(e,n)}Dn(e,t,n,null,i)}}}function Jt(e,t,i,n){var r=Te(n);if(null!==(r=ir(r))){var o=$e(r);if(null===o)r=null;else{var a=o.tag;if(13===a){if(null!==(r=Ke(o)))return r;r=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Dn(e,t,n,r,i),null}var ei=null,ti=null,ii=null;function ni(){if(ii)return ii;var e,t,i=ti,n=i.length,r="value"in ei?ei.value:ei.textContent,o=r.length;for(e=0;e<n&&i[e]===r[e];e++);var a=n-e;for(t=1;t<=a&&i[n-t]===r[o-t];t++);return ii=r.slice(e,1<t?1-t:void 0)}function ri(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function oi(){return!0}function ai(){return!1}function si(e){function t(t,i,n,r,o){for(var a in this._reactName=t,this._targetInst=n,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?oi:ai,this.isPropagationStopped=ai,this}return r(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),t}var li,ui,ci,hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=si(hi),pi=r({},hi,{view:0,detail:0}),fi=si(pi),mi=r({},pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ei,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ci&&(ci&&"mousemove"===e.type?(li=e.screenX-ci.screenX,ui=e.screenY-ci.screenY):ui=li=0,ci=e),li)},movementY:function(e){return"movementY"in e?e.movementY:ui}}),gi=si(mi),yi=si(r({},mi,{dataTransfer:0})),vi=si(r({},pi,{relatedTarget:0})),bi=si(r({},hi,{animationName:0,elapsedTime:0,pseudoElement:0})),xi=r({},hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_i=si(xi),wi=si(r({},hi,{data:0})),Si={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ki={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ci={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ti(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ci[e])&&!!t[e]}function Ei(){return Ti}var Ai=r({},pi,{key:function(e){if(e.key){var t=Si[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ri(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ki[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ei,charCode:function(e){return"keypress"===e.type?ri(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ri(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pi=si(Ai),Mi=si(r({},mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Li=si(r({},pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ei})),Oi=si(r({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ri=r({},mi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ii=si(Ri),Di=[9,13,27,32],zi=h&&"CompositionEvent"in window,Bi=null;h&&"documentMode"in document&&(Bi=document.documentMode);var Fi=h&&"TextEvent"in window&&!Bi,Ni=h&&(!zi||Bi&&8<Bi&&11>=Bi),ji=String.fromCharCode(32),Vi=!1;function Ui(e,t){switch(e){case"keyup":return-1!==Di.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wi(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hi=!1;var Gi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gi[e.type]:"textarea"===t}function Zi(e,t,i,n){Le(n),0<(t=Bn(t,"onChange")).length&&(i=new di("onChange","change",null,i,n),e.push({event:i,listeners:t}))}var Xi=null,Yi=null;function $i(e){Pn(e,0)}function Ki(e){if(K(rr(e)))return e}function Qi(e,t){if("change"===e)return t}var Ji=!1;if(h){var en;if(h){var tn="oninput"in document;if(!tn){var nn=document.createElement("div");nn.setAttribute("oninput","return;"),tn="function"===typeof nn.oninput}en=tn}else en=!1;Ji=en&&(!document.documentMode||9<document.documentMode)}function rn(){Xi&&(Xi.detachEvent("onpropertychange",on),Yi=Xi=null)}function on(e){if("value"===e.propertyName&&Ki(Yi)){var t=[];if(Zi(t,Yi,e,Te(e)),e=$i,Be)e(t);else{Be=!0;try{Re(e,t)}finally{Be=!1,Ne()}}}}function an(e,t,i){"focusin"===e?(rn(),Yi=i,(Xi=t).attachEvent("onpropertychange",on)):"focusout"===e&&rn()}function sn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ki(Yi)}function ln(e,t){if("click"===e)return Ki(t)}function un(e,t){if("input"===e||"change"===e)return Ki(t)}var cn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},hn=Object.prototype.hasOwnProperty;function dn(e,t){if(cn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++)if(!hn.call(t,i[n])||!cn(e[i[n]],t[i[n]]))return!1;return!0}function pn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fn(e,t){var i,n=pn(e);for(e=0;n;){if(3===n.nodeType){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pn(n)}}function mn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gn(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var i="string"===typeof t.contentWindow.location.href}catch(n){i=!1}if(!i)break;t=Q((e=t.contentWindow).document)}return t}function yn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vn=h&&"documentMode"in document&&11>=document.documentMode,bn=null,xn=null,_n=null,wn=!1;function Sn(e,t,i){var n=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;wn||null==bn||bn!==Q(n)||("selectionStart"in(n=bn)&&yn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},_n&&dn(_n,n)||(_n=n,0<(n=Bn(xn,"onSelect")).length&&(t=new di("onSelect","select",null,t,i),e.push({event:t,listeners:n}),t.target=bn)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(It,2);for(var kn="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Cn=0;Cn<kn.length;Cn++)Rt.set(kn[Cn],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),En=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tn));function An(e,t,i){var n=e.type||"unknown-event";e.currentTarget=i,function(e,t,i,n,r,o,s,l,u){if(Ye.apply(this,arguments),He){if(!He)throw Error(a(198));var c=Ge;He=!1,Ge=null,qe||(qe=!0,Ze=c)}}(n,t,void 0,e),e.currentTarget=null}function Pn(e,t){t=0!==(4&t);for(var i=0;i<e.length;i++){var n=e[i],r=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&r.isPropagationStopped())break e;An(r,s,u),o=l}else for(a=0;a<n.length;a++){if(l=(s=n[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&r.isPropagationStopped())break e;An(r,s,u),o=l}}}if(qe)throw e=Ze,qe=!1,Ze=null,e}function Mn(e,t){var i=ar(t),n=e+"__bubble";i.has(n)||(In(t,e,2,!1),i.add(n))}var Ln="_reactListening"+Math.random().toString(36).slice(2);function On(e){e[Ln]||(e[Ln]=!0,s.forEach((function(t){En.has(t)||Rn(t,!1,e,null),Rn(t,!0,e,null)})))}function Rn(e,t,i,n){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=i;if("selectionchange"===e&&9!==i.nodeType&&(o=i.ownerDocument),null!==n&&!t&&En.has(e)){if("scroll"!==e)return;r|=2,o=n}var a=ar(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(r|=4),In(o,e,r,t),a.add(s))}function In(e,t,i,n){var r=Rt.get(t);switch(void 0===r?2:r){case 0:r=$t;break;case 1:r=Kt;break;default:r=Qt}i=r.bind(null,t,i,e),r=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),n?void 0!==r?e.addEventListener(t,i,{capture:!0,passive:r}):e.addEventListener(t,i,!0):void 0!==r?e.addEventListener(t,i,{passive:r}):e.addEventListener(t,i,!1)}function Dn(e,t,i,n,r){var o=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var a=n.tag;if(3===a||4===a){var s=n.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===a)for(a=n.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;a=a.return}for(;null!==s;){if(null===(a=ir(s)))return;if(5===(l=a.tag)||6===l){n=o=a;continue e}s=s.parentNode}}n=n.return}!function(e,t,i){if(Fe)return e(t,i);Fe=!0;try{ze(e,t,i)}finally{Fe=!1,Ne()}}((function(){var n=o,r=Te(i),a=[];e:{var s=Ot.get(e);if(void 0!==s){var l=di,u=e;switch(e){case"keypress":if(0===ri(i))break e;case"keydown":case"keyup":l=Pi;break;case"focusin":u="focus",l=vi;break;case"focusout":u="blur",l=vi;break;case"beforeblur":case"afterblur":l=vi;break;case"click":if(2===i.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Li;break;case At:case Pt:case Mt:l=bi;break;case Lt:l=Oi;break;case"scroll":l=fi;break;case"wheel":l=Ii;break;case"copy":case"cut":case"paste":l=_i;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Mi}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var p,f=n;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==d&&(null!=(m=je(f,d))&&c.push(zn(f,m,p)))),h)break;f=f.return}0<c.length&&(s=new l(s,u,null,i,r),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(u=i.relatedTarget||i.fromElement)||!ir(u)&&!u[er])&&(l||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=n,null!==(u=(u=i.relatedTarget||i.toElement)?ir(u):null)&&(u!==(h=$e(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=n),l!==u)){if(c=gi,m="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=Mi,m="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?s:rr(l),p=null==u?s:rr(u),(s=new c(m,f+"leave",l,i,r)).target=h,s.relatedTarget=p,m=null,ir(r)===n&&((c=new c(d,f+"enter",u,i,r)).target=p,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,f=0,p=c=l;p;p=Fn(p))f++;for(p=0,m=d;m;m=Fn(m))p++;for(;0<f-p;)c=Fn(c),f--;for(;0<p-f;)d=Fn(d),p--;for(;f--;){if(c===d||null!==d&&c===d.alternate)break e;c=Fn(c),d=Fn(d)}c=null}else c=null;null!==l&&Nn(a,s,l,c,!1),null!==u&&null!==h&&Nn(a,h,u,c,!0)}if("select"===(l=(s=n?rr(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Qi;else if(qi(s))if(Ji)g=un;else{g=sn;var y=an}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ln);switch(g&&(g=g(e,n))?Zi(a,g,i,r):(y&&y(e,s,n),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&re(s,"number",s.value)),y=n?rr(n):window,e){case"focusin":(qi(y)||"true"===y.contentEditable)&&(bn=y,xn=n,_n=null);break;case"focusout":_n=xn=bn=null;break;case"mousedown":wn=!0;break;case"contextmenu":case"mouseup":case"dragend":wn=!1,Sn(a,i,r);break;case"selectionchange":if(vn)break;case"keydown":case"keyup":Sn(a,i,r)}var v;if(zi)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hi?Ui(e,i)&&(b="onCompositionEnd"):"keydown"===e&&229===i.keyCode&&(b="onCompositionStart");b&&(Ni&&"ko"!==i.locale&&(Hi||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hi&&(v=ni()):(ti="value"in(ei=r)?ei.value:ei.textContent,Hi=!0)),0<(y=Bn(n,b)).length&&(b=new wi(b,e,null,i,r),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Wi(i))&&(b.data=v))),(v=Fi?function(e,t){switch(e){case"compositionend":return Wi(t);case"keypress":return 32!==t.which?null:(Vi=!0,ji);case"textInput":return(e=t.data)===ji&&Vi?null:e;default:return null}}(e,i):function(e,t){if(Hi)return"compositionend"===e||!zi&&Ui(e,t)?(e=ni(),ii=ti=ei=null,Hi=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ni&&"ko"!==t.locale?null:t.data}}(e,i))&&(0<(n=Bn(n,"onBeforeInput")).length&&(r=new wi("onBeforeInput","beforeinput",null,i,r),a.push({event:r,listeners:n}),r.data=v))}Pn(a,t)}))}function zn(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Bn(e,t){for(var i=t+"Capture",n=[];null!==e;){var r=e,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=je(e,i))&&n.unshift(zn(e,o,r)),null!=(o=je(e,t))&&n.push(zn(e,o,r))),e=e.return}return n}function Fn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Nn(e,t,i,n,r){for(var o=t._reactName,a=[];null!==i&&i!==n;){var s=i,l=s.alternate,u=s.stateNode;if(null!==l&&l===n)break;5===s.tag&&null!==u&&(s=u,r?null!=(l=je(i,o))&&a.unshift(zn(i,l,s)):r||null!=(l=je(i,o))&&a.push(zn(i,l,s))),i=i.return}0!==a.length&&e.push({event:t,listeners:a})}function jn(){}var Vn=null,Un=null;function Wn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Gn="function"===typeof setTimeout?setTimeout:void 0,qn="function"===typeof clearTimeout?clearTimeout:void 0;function Zn(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Xn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var i=e.data;if("$"===i||"$!"===i||"$?"===i){if(0===t)return e;t--}else"/$"===i&&t++}e=e.previousSibling}return null}var $n=0;var Kn=Math.random().toString(36).slice(2),Qn="__reactFiber$"+Kn,Jn="__reactProps$"+Kn,er="__reactContainer$"+Kn,tr="__reactEvents$"+Kn;function ir(e){var t=e[Qn];if(t)return t;for(var i=e.parentNode;i;){if(t=i[er]||i[Qn]){if(i=t.alternate,null!==t.child||null!==i&&null!==i.child)for(e=Yn(e);null!==e;){if(i=e[Qn])return i;e=Yn(e)}return t}i=(e=i).parentNode}return null}function nr(e){return!(e=e[Qn]||e[er])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function rr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function or(e){return e[Jn]||null}function ar(e){var t=e[tr];return void 0===t&&(t=e[tr]=new Set),t}var sr=[],lr=-1;function ur(e){return{current:e}}function cr(e){0>lr||(e.current=sr[lr],sr[lr]=null,lr--)}function hr(e,t){lr++,sr[lr]=e.current,e.current=t}var dr={},pr=ur(dr),fr=ur(!1),mr=dr;function gr(e,t){var i=e.type.contextTypes;if(!i)return dr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in i)o[r]=t[r];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function yr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vr(){cr(fr),cr(pr)}function br(e,t,i){if(pr.current!==dr)throw Error(a(168));hr(pr,t),hr(fr,i)}function xr(e,t,i){var n=e.stateNode;if(e=t.childContextTypes,"function"!==typeof n.getChildContext)return i;for(var o in n=n.getChildContext())if(!(o in e))throw Error(a(108,Z(t)||"Unknown",o));return r({},i,n)}function _r(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dr,mr=pr.current,hr(pr,e),hr(fr,fr.current),!0}function wr(e,t,i){var n=e.stateNode;if(!n)throw Error(a(169));i?(e=xr(e,t,mr),n.__reactInternalMemoizedMergedChildContext=e,cr(fr),cr(pr),hr(pr,e)):cr(fr),hr(fr,i)}var Sr=null,kr=null,Cr=o.unstable_runWithPriority,Tr=o.unstable_scheduleCallback,Er=o.unstable_cancelCallback,Ar=o.unstable_shouldYield,Pr=o.unstable_requestPaint,Mr=o.unstable_now,Lr=o.unstable_getCurrentPriorityLevel,Or=o.unstable_ImmediatePriority,Rr=o.unstable_UserBlockingPriority,Ir=o.unstable_NormalPriority,Dr=o.unstable_LowPriority,zr=o.unstable_IdlePriority,Br={},Fr=void 0!==Pr?Pr:function(){},Nr=null,jr=null,Vr=!1,Ur=Mr(),Wr=1e4>Ur?Mr:function(){return Mr()-Ur};function Hr(){switch(Lr()){case Or:return 99;case Rr:return 98;case Ir:return 97;case Dr:return 96;case zr:return 95;default:throw Error(a(332))}}function Gr(e){switch(e){case 99:return Or;case 98:return Rr;case 97:return Ir;case 96:return Dr;case 95:return zr;default:throw Error(a(332))}}function qr(e,t){return e=Gr(e),Cr(e,t)}function Zr(e,t,i){return e=Gr(e),Tr(e,t,i)}function Xr(){if(null!==jr){var e=jr;jr=null,Er(e)}Yr()}function Yr(){if(!Vr&&null!==Nr){Vr=!0;var e=0;try{var t=Nr;qr(99,(function(){for(;e<t.length;e++){var i=t[e];do{i=i(!0)}while(null!==i)}})),Nr=null}catch(i){throw null!==Nr&&(Nr=Nr.slice(e+1)),Tr(Or,Xr),i}finally{Vr=!1}}}var $r=_.ReactCurrentBatchConfig;function Kr(e,t){if(e&&e.defaultProps){for(var i in t=r({},t),e=e.defaultProps)void 0===t[i]&&(t[i]=e[i]);return t}return t}var Qr=ur(null),Jr=null,eo=null,to=null;function io(){to=eo=Jr=null}function no(e){var t=Qr.current;cr(Qr),e.type._context._currentValue=t}function ro(e,t){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)===t){if(null===i||(i.childLanes&t)===t)break;i.childLanes|=t}else e.childLanes|=t,null!==i&&(i.childLanes|=t);e=e.return}}function oo(e,t){Jr=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ba=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Jr)throw Error(a(308));eo=t,Jr.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ho(e,t){if(null!==(e=e.updateQueue)){var i=(e=e.shared).pending;null===i?t.next=t:(t.next=i.next,i.next=t),e.pending=t}}function po(e,t){var i=e.updateQueue,n=e.alternate;if(null!==n&&i===(n=n.updateQueue)){var r=null,o=null;if(null!==(i=i.firstBaseUpdate)){do{var a={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===o?r=o=a:o=o.next=a,i=i.next}while(null!==i);null===o?r=o=t:o=o.next=t}else r=o=t;return i={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:n.shared,effects:n.effects},void(e.updateQueue=i)}null===(e=i.lastBaseUpdate)?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function fo(e,t,i,n){var o=e.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?a=c:s.next=c,s=u;var h=e.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==s&&(null===d?h.firstBaseUpdate=c:d.next=c,h.lastBaseUpdate=u)}}if(null!==a){for(d=o.baseState,s=0,h=c=u=null;;){l=a.lane;var p=a.eventTime;if((n&l)===l){null!==h&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,m=a;switch(l=t,p=i,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,l);break e}d=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null===(l="function"===typeof(f=m.payload)?f.call(p,d,l):f)||void 0===l)break e;d=r({},d,l);break e;case 2:so=!0}}null!==a.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[a]:l.push(a))}else p={eventTime:p,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(c=h=p,u=d):h=h.next=p,s|=l;if(null===(a=a.next)){if(null===(l=o.shared.pending))break;a=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===h&&(u=d),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=h,Vs|=s,e.lanes=s,e.memoizedState=d}}function mo(e,t,i){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],r=n.callback;if(null!==r){if(n.callback=null,n=i,"function"!==typeof r)throw Error(a(191,r));r.call(n)}}}var go=(new n.Component).refs;function yo(e,t,i,n){i=null===(i=i(n,t=e.memoizedState))||void 0===i?t:r({},t,i),e.memoizedState=i,0===e.lanes&&(e.updateQueue.baseState=i)}var vo={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,i){e=e._reactInternals;var n=dl(),r=pl(e),o=co(n,r);o.payload=t,void 0!==i&&null!==i&&(o.callback=i),ho(e,o),fl(e,r,n)},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var n=dl(),r=pl(e),o=co(n,r);o.tag=1,o.payload=t,void 0!==i&&null!==i&&(o.callback=i),ho(e,o),fl(e,r,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=dl(),n=pl(e),r=co(i,n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),ho(e,r),fl(e,n,i)}};function bo(e,t,i,n,r,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!dn(i,n)||!dn(r,o))}function xo(e,t,i){var n=!1,r=dr,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(r=yr(t)?mr:pr.current,o=(n=null!==(n=t.contextTypes)&&void 0!==n)?gr(e,r):dr),t=new t(i,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function _o(e,t,i,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(i,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(i,n),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function wo(e,t,i,n){var r=e.stateNode;r.props=i,r.state=e.memoizedState,r.refs=go,lo(e);var o=t.contextType;"object"===typeof o&&null!==o?r.context=ao(o):(o=yr(t)?mr:pr.current,r.context=gr(e,o)),fo(e,i,r,n),r.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(yo(e,t,o,i),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&vo.enqueueReplaceState(r,r.state,null),fo(e,i,r,n),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4)}var So=Array.isArray;function ko(e,t,i){if(null!==(e=i.ref)&&"function"!==typeof e&&"object"!==typeof e){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(a(309));var n=i.stateNode}if(!n)throw Error(a(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=n.refs;t===go&&(t=n.refs={}),null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!==typeof e)throw Error(a(284));if(!i._owner)throw Error(a(290,e))}return e}function Co(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function To(e){function t(t,i){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=i,t.lastEffect=i):t.firstEffect=t.lastEffect=i,i.nextEffect=null,i.flags=8}}function i(i,n){if(!e)return null;for(;null!==n;)t(i,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=ql(e,t)).index=0,e.sibling=null,e}function o(t,i,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<i?(t.flags=2,i):n:(t.flags=2,i):i}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,i,n){return null===t||6!==t.tag?((t=$l(i,e.mode,n)).return=e,t):((t=r(t,i)).return=e,t)}function u(e,t,i,n){return null!==t&&t.elementType===i.type?((n=r(t,i.props)).ref=ko(e,t,i),n.return=e,n):((n=Zl(i.type,i.key,i.props,null,e.mode,n)).ref=ko(e,t,i),n.return=e,n)}function c(e,t,i,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==i.containerInfo||t.stateNode.implementation!==i.implementation?((t=Kl(i,e.mode,n)).return=e,t):((t=r(t,i.children||[])).return=e,t)}function h(e,t,i,n,o){return null===t||7!==t.tag?((t=Xl(i,e.mode,n,o)).return=e,t):((t=r(t,i)).return=e,t)}function d(e,t,i){if("string"===typeof t||"number"===typeof t)return(t=$l(""+t,e.mode,i)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(i=Zl(t.type,t.key,t.props,null,e.mode,i)).ref=ko(e,null,t),i.return=e,i;case S:return(t=Kl(t,e.mode,i)).return=e,t}if(So(t)||U(t))return(t=Xl(t,e.mode,i,null)).return=e,t;Co(e,t)}return null}function p(e,t,i,n){var r=null!==t?t.key:null;if("string"===typeof i||"number"===typeof i)return null!==r?null:l(e,t,""+i,n);if("object"===typeof i&&null!==i){switch(i.$$typeof){case w:return i.key===r?i.type===k?h(e,t,i.props.children,n,r):u(e,t,i,n):null;case S:return i.key===r?c(e,t,i,n):null}if(So(i)||U(i))return null!==r?null:h(e,t,i,n,null);Co(e,i)}return null}function f(e,t,i,n,r){if("string"===typeof n||"number"===typeof n)return l(t,e=e.get(i)||null,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return e=e.get(null===n.key?i:n.key)||null,n.type===k?h(t,e,n.props.children,r,n.key):u(t,e,n,r);case S:return c(t,e=e.get(null===n.key?i:n.key)||null,n,r)}if(So(n)||U(n))return h(t,e=e.get(i)||null,n,r,null);Co(t,n)}return null}function m(r,a,s,l){for(var u=null,c=null,h=a,m=a=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=p(r,h,s[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(r,h),a=o(y,a,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===s.length)return i(r,h),u;if(null===h){for(;m<s.length;m++)null!==(h=d(r,s[m],l))&&(a=o(h,a,m),null===c?u=h:c.sibling=h,c=h);return u}for(h=n(r,h);m<s.length;m++)null!==(g=f(h,r,m,s[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(r,e)})),u}function g(r,s,l,u){var c=U(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var h=c=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=p(r,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(r,m),s=o(b,s,g),null===h?c=b:h.sibling=b,h=b,m=y}if(v.done)return i(r,m),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(r,v.value,u))&&(s=o(v,s,g),null===h?c=v:h.sibling=v,h=v);return c}for(m=n(r,m);!v.done;g++,v=l.next())null!==(v=f(m,r,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=o(v,s,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(r,e)})),c}return function(e,n,o,l){var u="object"===typeof o&&null!==o&&o.type===k&&null===o.key;u&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case w:e:{for(c=o.key,u=n;null!==u;){if(u.key===c){if(7===u.tag){if(o.type===k){i(e,u.sibling),(n=r(u,o.props.children)).return=e,e=n;break e}}else if(u.elementType===o.type){i(e,u.sibling),(n=r(u,o.props)).ref=ko(e,u,o),n.return=e,e=n;break e}i(e,u);break}t(e,u),u=u.sibling}o.type===k?((n=Xl(o.props.children,e.mode,l,o.key)).return=e,e=n):((l=Zl(o.type,o.key,o.props,null,e.mode,l)).ref=ko(e,n,o),l.return=e,e=l)}return s(e);case S:e:{for(u=o.key;null!==n;){if(n.key===u){if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){i(e,n.sibling),(n=r(n,o.children||[])).return=e,e=n;break e}i(e,n);break}t(e,n),n=n.sibling}(n=Kl(o,e.mode,l)).return=e,e=n}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==n&&6===n.tag?(i(e,n.sibling),(n=r(n,o)).return=e,e=n):(i(e,n),(n=$l(o,e.mode,l)).return=e,e=n),s(e);if(So(o))return m(e,n,o,l);if(U(o))return g(e,n,o,l);if(c&&Co(e,o),"undefined"===typeof o&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,Z(e.type)||"Component"))}return i(e,n)}}var Eo=To(!0),Ao=To(!1),Po={},Mo=ur(Po),Lo=ur(Po),Oo=ur(Po);function Ro(e){if(e===Po)throw Error(a(174));return e}function Io(e,t){switch(hr(Oo,t),hr(Lo,e),hr(Mo,Po),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}cr(Mo),hr(Mo,t)}function Do(){cr(Mo),cr(Lo),cr(Oo)}function zo(e){Ro(Oo.current);var t=Ro(Mo.current),i=fe(t,e.type);t!==i&&(hr(Lo,e),hr(Mo,i))}function Bo(e){Lo.current===e&&(cr(Mo),cr(Lo))}var Fo=ur(0);function No(e){for(var t=e;null!==t;){if(13===t.tag){var i=t.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jo=null,Vo=null,Uo=!1;function Wo(e,t){var i=Hl(5,null,null,0);i.elementType="DELETED",i.type="DELETED",i.stateNode=t,i.return=e,i.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=i,e.lastEffect=i):e.firstEffect=e.lastEffect=i}function Ho(e,t){switch(e.tag){case 5:var i=e.type;return null!==(t=1!==t.nodeType||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Go(e){if(Uo){var t=Vo;if(t){var i=t;if(!Ho(e,t)){if(!(t=Xn(i.nextSibling))||!Ho(e,t))return e.flags=-1025&e.flags|2,Uo=!1,void(jo=e);Wo(jo,i)}jo=e,Vo=Xn(t.firstChild)}else e.flags=-1025&e.flags|2,Uo=!1,jo=e}}function qo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;jo=e}function Zo(e){if(e!==jo)return!1;if(!Uo)return qo(e),Uo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hn(t,e.memoizedProps))for(t=Vo;t;)Wo(e,t),t=Xn(t.nextSibling);if(qo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var i=e.data;if("/$"===i){if(0===t){Vo=Xn(e.nextSibling);break e}t--}else"$"!==i&&"$!"!==i&&"$?"!==i||t++}e=e.nextSibling}Vo=null}}else Vo=jo?Xn(e.stateNode.nextSibling):null;return!0}function Xo(){Vo=jo=null,Uo=!1}var Yo=[];function $o(){for(var e=0;e<Yo.length;e++)Yo[e]._workInProgressVersionPrimary=null;Yo.length=0}var Ko=_.ReactCurrentDispatcher,Qo=_.ReactCurrentBatchConfig,Jo=0,ea=null,ta=null,ia=null,na=!1,ra=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!cn(e[i],t[i]))return!1;return!0}function sa(e,t,i,n,r,o){if(Jo=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ko.current=null===e||null===e.memoizedState?Ra:Ia,e=i(n,r),ra){o=0;do{if(ra=!1,!(25>o))throw Error(a(301));o+=1,ia=ta=null,t.updateQueue=null,Ko.current=Da,e=i(n,r)}while(ra)}if(Ko.current=Oa,t=null!==ta&&null!==ta.next,Jo=0,ia=ta=ea=null,na=!1,t)throw Error(a(300));return e}function la(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ia?ea.memoizedState=ia=e:ia=ia.next=e,ia}function ua(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===ia?ea.memoizedState:ia.next;if(null!==t)ia=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===ia?ea.memoizedState=ia=e:ia=ia.next=e}return ia}function ca(e,t){return"function"===typeof t?t(e):t}function ha(e){var t=ua(),i=t.queue;if(null===i)throw Error(a(311));i.lastRenderedReducer=e;var n=ta,r=n.baseQueue,o=i.pending;if(null!==o){if(null!==r){var s=r.next;r.next=o.next,o.next=s}n.baseQueue=r=o,i.pending=null}if(null!==r){r=r.next,n=n.baseState;var l=s=o=null,u=r;do{var c=u.lane;if((Jo&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),n=u.eagerReducer===e?u.eagerState:e(n,u.action);else{var h={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=h,o=n):l=l.next=h,ea.lanes|=c,Vs|=c}u=u.next}while(null!==u&&u!==r);null===l?o=n:l.next=s,cn(n,t.memoizedState)||(Ba=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,i.lastRenderedState=n}return[t.memoizedState,i.dispatch]}function da(e){var t=ua(),i=t.queue;if(null===i)throw Error(a(311));i.lastRenderedReducer=e;var n=i.dispatch,r=i.pending,o=t.memoizedState;if(null!==r){i.pending=null;var s=r=r.next;do{o=e(o,s.action),s=s.next}while(s!==r);cn(o,t.memoizedState)||(Ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),i.lastRenderedState=o}return[o,n]}function pa(e,t,i){var n=t._getVersion;n=n(t._source);var r=t._workInProgressVersionPrimary;if(null!==r?e=r===n:(e=e.mutableReadLanes,(e=(Jo&e)===e)&&(t._workInProgressVersionPrimary=n,Yo.push(t))),e)return i(t._source);throw Yo.push(t),Error(a(350))}function fa(e,t,i,n){var r=Rs;if(null===r)throw Error(a(349));var o=t._getVersion,s=o(t._source),l=Ko.current,u=l.useState((function(){return pa(r,t,i)})),c=u[1],h=u[0];u=ia;var d=e.memoizedState,p=d.refs,f=p.getSnapshot,m=d.source;d=d.subscribe;var g=ea;return e.memoizedState={refs:p,source:t,subscribe:n},l.useEffect((function(){p.getSnapshot=i,p.setSnapshot=c;var e=o(t._source);if(!cn(s,e)){e=i(t._source),cn(h,e)||(c(e),e=pl(g),r.mutableReadLanes|=e&r.pendingLanes),e=r.mutableReadLanes,r.entangledLanes|=e;for(var n=r.entanglements,a=e;0<a;){var l=31-Ht(a),u=1<<l;n[l]|=e,a&=~u}}}),[i,t,n]),l.useEffect((function(){return n(t._source,(function(){var e=p.getSnapshot,i=p.setSnapshot;try{i(e(t._source));var n=pl(g);r.mutableReadLanes|=n&r.pendingLanes}catch(o){i((function(){throw o}))}}))}),[t,n]),cn(f,i)&&cn(m,t)&&cn(d,n)||((e={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:h}).dispatch=c=La.bind(null,ea,e),u.queue=e,u.baseQueue=null,h=pa(r,t,i),u.memoizedState=u.baseState=h),h}function ma(e,t,i){return fa(ua(),e,t,i)}function ga(e){var t=la();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e}).dispatch=La.bind(null,ea,e),[t.memoizedState,e]}function ya(e,t,i,n){return e={tag:e,create:t,destroy:i,deps:n,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(i=t.lastEffect)?t.lastEffect=e.next=e:(n=i.next,i.next=e,e.next=n,t.lastEffect=e),e}function va(e){return e={current:e},la().memoizedState=e}function ba(){return ua().memoizedState}function xa(e,t,i,n){var r=la();ea.flags|=e,r.memoizedState=ya(1|t,i,void 0,void 0===n?null:n)}function _a(e,t,i,n){var r=ua();n=void 0===n?null:n;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==n&&aa(n,a.deps))return void ya(t,i,o,n)}ea.flags|=e,r.memoizedState=ya(1|t,i,o,n)}function wa(e,t){return xa(516,4,e,t)}function Sa(e,t){return _a(516,4,e,t)}function ka(e,t){return _a(4,2,e,t)}function Ca(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ta(e,t,i){return i=null!==i&&void 0!==i?i.concat([e]):null,_a(4,2,Ca.bind(null,t,e),i)}function Ea(){}function Aa(e,t){var i=ua();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&aa(t,n[1])?n[0]:(i.memoizedState=[e,t],e)}function Pa(e,t){var i=ua();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&aa(t,n[1])?n[0]:(e=e(),i.memoizedState=[e,t],e)}function Ma(e,t){var i=Hr();qr(98>i?98:i,(function(){e(!0)})),qr(97<i?97:i,(function(){var i=Qo.transition;Qo.transition=1;try{e(!1),t()}finally{Qo.transition=i}}))}function La(e,t,i){var n=dl(),r=pl(e),o={lane:r,action:i,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ra=na=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,i);if(o.eagerReducer=a,o.eagerState=l,cn(l,s))return}catch(u){}fl(e,r,n)}}var Oa={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Ra={readContext:ao,useCallback:function(e,t){return la().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:wa,useImperativeHandle:function(e,t,i){return i=null!==i&&void 0!==i?i.concat([e]):null,xa(4,2,Ca.bind(null,t,e),i)},useLayoutEffect:function(e,t){return xa(4,2,e,t)},useMemo:function(e,t){var i=la();return t=void 0===t?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var n=la();return t=void 0!==i?i(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=La.bind(null,ea,e),[n.memoizedState,e]},useRef:va,useState:ga,useDebugValue:Ea,useDeferredValue:function(e){var t=ga(e),i=t[0],n=t[1];return wa((function(){var t=Qo.transition;Qo.transition=1;try{n(e)}finally{Qo.transition=t}}),[e]),i},useTransition:function(){var e=ga(!1),t=e[0];return va(e=Ma.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,i){var n=la();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:i},fa(n,e,t,i)},useOpaqueIdentifier:function(){if(Uo){var e=!1,t=function(e){return{$$typeof:D,toString:e,valueOf:e}}((function(){throw e||(e=!0,i("r:"+($n++).toString(36))),Error(a(355))})),i=ga(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,ya(5,(function(){i("r:"+($n++).toString(36))}),void 0,null)),t}return ga(t="r:"+($n++).toString(36)),t},unstable_isNewReconciler:!1},Ia={readContext:ao,useCallback:Aa,useContext:ao,useEffect:Sa,useImperativeHandle:Ta,useLayoutEffect:ka,useMemo:Pa,useReducer:ha,useRef:ba,useState:function(){return ha(ca)},useDebugValue:Ea,useDeferredValue:function(e){var t=ha(ca),i=t[0],n=t[1];return Sa((function(){var t=Qo.transition;Qo.transition=1;try{n(e)}finally{Qo.transition=t}}),[e]),i},useTransition:function(){var e=ha(ca)[0];return[ba().current,e]},useMutableSource:ma,useOpaqueIdentifier:function(){return ha(ca)[0]},unstable_isNewReconciler:!1},Da={readContext:ao,useCallback:Aa,useContext:ao,useEffect:Sa,useImperativeHandle:Ta,useLayoutEffect:ka,useMemo:Pa,useReducer:da,useRef:ba,useState:function(){return da(ca)},useDebugValue:Ea,useDeferredValue:function(e){var t=da(ca),i=t[0],n=t[1];return Sa((function(){var t=Qo.transition;Qo.transition=1;try{n(e)}finally{Qo.transition=t}}),[e]),i},useTransition:function(){var e=da(ca)[0];return[ba().current,e]},useMutableSource:ma,useOpaqueIdentifier:function(){return da(ca)[0]},unstable_isNewReconciler:!1},za=_.ReactCurrentOwner,Ba=!1;function Fa(e,t,i,n){t.child=null===e?Ao(t,null,i,n):Eo(t,e.child,i,n)}function Na(e,t,i,n,r){i=i.render;var o=t.ref;return oo(t,r),n=sa(e,t,i,n,o,r),null===e||Ba?(t.flags|=1,Fa(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~r,os(e,t,r))}function ja(e,t,i,n,r,o){if(null===e){var a=i.type;return"function"!==typeof a||Gl(a)||void 0!==a.defaultProps||null!==i.compare||void 0!==i.defaultProps?((e=Zl(i.type,null,n,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Va(e,t,a,n,r,o))}return a=e.child,0===(r&o)&&(r=a.memoizedProps,(i=null!==(i=i.compare)?i:dn)(r,n)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=ql(a,n)).ref=t.ref,e.return=t,t.child=e)}function Va(e,t,i,n,r,o){if(null!==e&&dn(e.memoizedProps,n)&&e.ref===t.ref){if(Ba=!1,0===(o&r))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(Ba=!0)}return Ha(e,t,i,n,o)}function Ua(e,t,i){var n=t.pendingProps,r=n.children,o=null!==e?e.memoizedState:null;if("hidden"===n.mode||"unstable-defer-without-hiding"===n.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},wl(t,i);else{if(0===(1073741824&i))return e=null!==o?o.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},wl(t,e),null;t.memoizedState={baseLanes:0},wl(t,null!==o?o.baseLanes:i)}else null!==o?(n=o.baseLanes|i,t.memoizedState=null):n=i,wl(t,n);return Fa(e,t,r,i),t.child}function Wa(e,t){var i=t.ref;(null===e&&null!==i||null!==e&&e.ref!==i)&&(t.flags|=128)}function Ha(e,t,i,n,r){var o=yr(i)?mr:pr.current;return o=gr(t,o),oo(t,r),i=sa(e,t,i,n,o,r),null===e||Ba?(t.flags|=1,Fa(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~r,os(e,t,r))}function Ga(e,t,i,n,r){if(yr(i)){var o=!0;_r(t)}else o=!1;if(oo(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),xo(t,i,n),wo(t,i,n,r),n=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=i.contextType;"object"===typeof u&&null!==u?u=ao(u):u=gr(t,u=yr(i)?mr:pr.current);var c=i.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||l!==u)&&_o(t,a,n,u),so=!1;var d=t.memoizedState;a.state=d,fo(t,n,a,r),l=t.memoizedState,s!==n||d!==l||fr.current||so?("function"===typeof c&&(yo(t,i,c,n),l=t.memoizedState),(s=so||bo(t,i,s,n,d,l,u))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=u,n=s):("function"===typeof a.componentDidMount&&(t.flags|=4),n=!1)}else{a=t.stateNode,uo(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Kr(t.type,s),a.props=u,h=t.pendingProps,d=a.context,"object"===typeof(l=i.contextType)&&null!==l?l=ao(l):l=gr(t,l=yr(i)?mr:pr.current);var p=i.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||d!==l)&&_o(t,a,n,l),so=!1,d=t.memoizedState,a.state=d,fo(t,n,a,r);var f=t.memoizedState;s!==h||d!==f||fr.current||so?("function"===typeof p&&(yo(t,i,p,n),f=t.memoizedState),(u=so||bo(t,i,u,n,d,f,l))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=f),a.props=n,a.state=f,a.context=l,n=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),n=!1)}return qa(e,t,i,n,o,r)}function qa(e,t,i,n,r,o){Wa(e,t);var a=0!==(64&t.flags);if(!n&&!a)return r&&wr(t,i,!1),os(e,t,o);n=t.stateNode,za.current=t;var s=a&&"function"!==typeof i.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&a?(t.child=Eo(t,e.child,null,o),t.child=Eo(t,null,s,o)):Fa(e,t,s,o),t.memoizedState=n.state,r&&wr(t,i,!0),t.child}function Za(e){var t=e.stateNode;t.pendingContext?br(0,t.pendingContext,t.pendingContext!==t.context):t.context&&br(0,t.context,!1),Io(e,t.containerInfo)}var Xa,Ya,$a,Ka={dehydrated:null,retryLane:0};function Qa(e,t,i){var n,r=t.pendingProps,o=Fo.current,a=!1;return(n=0!==(64&t.flags))||(n=(null===e||null!==e.memoizedState)&&0!==(2&o)),n?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===r.fallback||!0===r.unstable_avoidThisFallback||(o|=1),hr(Fo,1&o),null===e?(void 0!==r.fallback&&Go(t),e=r.children,o=r.fallback,a?(e=Ja(t,e,o,i),t.child.memoizedState={baseLanes:i},t.memoizedState=Ka,e):"number"===typeof r.unstable_expectedLoadTime?(e=Ja(t,e,o,i),t.child.memoizedState={baseLanes:i},t.memoizedState=Ka,t.lanes=33554432,e):((i=Yl({mode:"visible",children:e},t.mode,i,null)).return=t,t.child=i)):(e.memoizedState,a?(r=ts(e,t,r.children,r.fallback,i),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:i}:{baseLanes:o.baseLanes|i},a.childLanes=e.childLanes&~i,t.memoizedState=Ka,r):(i=es(e,t,r.children,i),t.memoizedState=null,i))}function Ja(e,t,i,n){var r=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&r)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Yl(t,r,0,null),i=Xl(i,r,n,null),o.return=e,i.return=e,o.sibling=i,e.child=o,i}function es(e,t,i,n){var r=e.child;return e=r.sibling,i=ql(r,{mode:"visible",children:i}),0===(2&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=i}function ts(e,t,i,n,r){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:i};return 0===(2&o)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=s,null!==(a=i.lastEffect)?(t.firstEffect=i.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):i=ql(a,s),null!==e?n=ql(e,n):(n=Xl(n,o,r,null)).flags|=2,n.return=t,i.return=t,i.sibling=n,t.child=i,n}function is(e,t){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),ro(e.return,t)}function ns(e,t,i,n,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:r,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=i,a.tailMode=r,a.lastEffect=o)}function rs(e,t,i){var n=t.pendingProps,r=n.revealOrder,o=n.tail;if(Fa(e,t,n.children,i),0!==(2&(n=Fo.current)))n=1&n|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&is(e,i);else if(19===e.tag)is(e,i);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(hr(Fo,n),0===(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(i=t.child,r=null;null!==i;)null!==(e=i.alternate)&&null===No(e)&&(r=i),i=i.sibling;null===(i=r)?(r=t.child,t.child=null):(r=i.sibling,i.sibling=null),ns(t,!1,r,i,o,t.lastEffect);break;case"backwards":for(i=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===No(e)){t.child=r;break}e=r.sibling,r.sibling=i,i=r,r=e}ns(t,!0,i,null,o,t.lastEffect);break;case"together":ns(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,i){if(null!==e&&(t.dependencies=e.dependencies),Vs|=t.lanes,0!==(i&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(i=ql(e=t.child,e.pendingProps),t.child=i,i.return=t;null!==e.sibling;)e=e.sibling,(i=i.sibling=ql(e,e.pendingProps)).return=t;i.sibling=null}return t.child}return null}function as(e,t){if(!Uo)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;null!==t;)null!==t.alternate&&(i=t),t=t.sibling;null===i?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var n=null;null!==i;)null!==i.alternate&&(n=i),i=i.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ss(e,t,i){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yr(t.type)&&vr(),null;case 3:return Do(),cr(fr),cr(pr),$o(),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(Zo(t)?t.flags|=4:n.hydrate||(t.flags|=256)),null;case 5:Bo(t);var o=Ro(Oo.current);if(i=t.type,null!==e&&null!=t.stateNode)Ya(e,t,i,n),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(null===t.stateNode)throw Error(a(166));return null}if(e=Ro(Mo.current),Zo(t)){n=t.stateNode,i=t.type;var s=t.memoizedProps;switch(n[Qn]=t,n[Jn]=s,i){case"dialog":Mn("cancel",n),Mn("close",n);break;case"iframe":case"object":case"embed":Mn("load",n);break;case"video":case"audio":for(e=0;e<Tn.length;e++)Mn(Tn[e],n);break;case"source":Mn("error",n);break;case"img":case"image":case"link":Mn("error",n),Mn("load",n);break;case"details":Mn("toggle",n);break;case"input":ee(n,s),Mn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Mn("invalid",n);break;case"textarea":le(n,s),Mn("invalid",n)}for(var u in ke(i,s),e=null,s)s.hasOwnProperty(u)&&(o=s[u],"children"===u?"string"===typeof o?n.textContent!==o&&(e=["children",o]):"number"===typeof o&&n.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(u)&&null!=o&&"onScroll"===u&&Mn("scroll",n));switch(i){case"input":$(n),ne(n,s,!0);break;case"textarea":$(n),ce(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=jn)}n=e,t.updateQueue=n,null!==n&&(t.flags|=4)}else{switch(u=9===o.nodeType?o:o.ownerDocument,e===he&&(e=pe(i)),e===he?"script"===i?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=u.createElement(i,{is:n.is}):(e=u.createElement(i),"select"===i&&(u=e,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):e=u.createElementNS(e,i),e[Qn]=t,e[Jn]=n,Xa(e,t),t.stateNode=e,u=Ce(i,n),i){case"dialog":Mn("cancel",e),Mn("close",e),o=n;break;case"iframe":case"object":case"embed":Mn("load",e),o=n;break;case"video":case"audio":for(o=0;o<Tn.length;o++)Mn(Tn[o],e);o=n;break;case"source":Mn("error",e),o=n;break;case"img":case"image":case"link":Mn("error",e),Mn("load",e),o=n;break;case"details":Mn("toggle",e),o=n;break;case"input":ee(e,n),o=J(e,n),Mn("invalid",e);break;case"option":o=oe(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=r({},n,{value:void 0}),Mn("invalid",e);break;case"textarea":le(e,n),o=se(e,n),Mn("invalid",e);break;default:o=n}ke(i,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var h=c[s];"style"===s?we(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&ye(e,h):"children"===s?"string"===typeof h?("textarea"!==i||""!==h)&&ve(e,h):"number"===typeof h&&ve(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Mn("scroll",e):null!=h&&x(e,s,h,u))}switch(i){case"input":$(e),ne(e,n,!1);break;case"textarea":$(e),ce(e);break;case"option":null!=n.value&&e.setAttribute("value",""+X(n.value));break;case"select":e.multiple=!!n.multiple,null!=(s=n.value)?ae(e,!!n.multiple,s,!1):null!=n.defaultValue&&ae(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=jn)}Wn(i,n)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)$a(0,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(a(166));i=Ro(Oo.current),Ro(Mo.current),Zo(t)?(n=t.stateNode,i=t.memoizedProps,n[Qn]=t,n.nodeValue!==i&&(t.flags|=4)):((n=(9===i.nodeType?i:i.ownerDocument).createTextNode(n))[Qn]=t,t.stateNode=n)}return null;case 13:return cr(Fo),n=t.memoizedState,0!==(64&t.flags)?(t.lanes=i,t):(n=null!==n,i=!1,null===e?void 0!==t.memoizedProps.fallback&&Zo(t):i=null!==e.memoizedState,n&&!i&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fo.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Rs||0===(134217727&Vs)&&0===(134217727&Us)||vl(Rs,Ds))),(n||i)&&(t.flags|=4),null);case 4:return Do(),null===e&&On(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(cr(Fo),null===(n=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(u=n.rendering))if(s)as(n,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=No(e))){for(t.flags|=64,as(n,!1),null!==(s=u.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===n.lastEffect&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=i,i=t.child;null!==i;)e=n,(s=i).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return hr(Fo,1&Fo.current|2),t.child}e=e.sibling}null!==n.tail&&Wr()>qs&&(t.flags|=64,s=!0,as(n,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=No(u))){if(t.flags|=64,s=!0,null!==(i=e.updateQueue)&&(t.updateQueue=i,t.flags|=4),as(n,!0),null===n.tail&&"hidden"===n.tailMode&&!u.alternate&&!Uo)return null!==(t=t.lastEffect=n.lastEffect)&&(t.nextEffect=null),null}else 2*Wr()-n.renderingStartTime>qs&&1073741824!==i&&(t.flags|=64,s=!0,as(n,!1),t.lanes=33554432);n.isBackwards?(u.sibling=t.child,t.child=u):(null!==(i=n.last)?i.sibling=u:t.child=u,n.last=u)}return null!==n.tail?(i=n.tail,n.rendering=i,n.tail=i.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Wr(),i.sibling=null,t=Fo.current,hr(Fo,s?1&t|2:1&t),i):null;case 23:case 24:return Sl(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==n.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function ls(e){switch(e.tag){case 1:yr(e.type)&&vr();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Do(),cr(fr),cr(pr),$o(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Bo(e),null;case 13:return cr(Fo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return cr(Fo),null;case 4:return Do(),null;case 10:return no(e),null;case 23:case 24:return Sl(),null;default:return null}}function us(e,t){try{var i="",n=t;do{i+=q(n),n=n.return}while(n);var r=i}catch(o){r="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:r}}function cs(e,t){try{console.error(t.value)}catch(i){setTimeout((function(){throw i}))}}Xa=function(e,t){for(var i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Ya=function(e,t,i,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,Ro(Mo.current);var a,s=null;switch(i){case"input":o=J(e,o),n=J(e,n),s=[];break;case"option":o=oe(e,o),n=oe(e,n),s=[];break;case"select":o=r({},o,{value:void 0}),n=r({},n,{value:void 0}),s=[];break;case"textarea":o=se(e,o),n=se(e,n),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof n.onClick&&(e.onclick=jn)}for(h in ke(i,n),i=null,o)if(!n.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var u=o[h];for(a in u)u.hasOwnProperty(a)&&(i||(i={}),i[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in n){var c=n[h];if(u=null!=o?o[h]:void 0,n.hasOwnProperty(h)&&c!==u&&(null!=c||null!=u))if("style"===h)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(i||(i={}),i[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(i||(i={}),i[a]=c[a])}else i||(s||(s=[]),s.push(h,i)),i=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(s=s||[]).push(h,c)):"children"===h?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Mn("scroll",e),s||u===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===D?c.toString():(s=s||[]).push(h,c))}i&&(s=s||[]).push("style",i);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},$a=function(e,t,i,n){i!==n&&(t.flags|=4)};var hs="function"===typeof WeakMap?WeakMap:Map;function ds(e,t,i){(i=co(-1,i)).tag=3,i.payload={element:null};var n=t.value;return i.callback=function(){$s||($s=!0,Ks=n),cs(0,t)},i}function ps(e,t,i){(i=co(-1,i)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var r=t.value;i.payload=function(){return cs(0,t),n(r)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(i.callback=function(){"function"!==typeof n&&(null===Qs?Qs=new Set([this]):Qs.add(this),cs(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),i}var fs="function"===typeof WeakSet?WeakSet:Set;function ms(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(i){jl(e,i)}else t.current=null}function gs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var i=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?i:Kr(t.type,i),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Zn(t.stateNode.containerInfo))}throw Error(a(163))}function ys(e,t,i){switch(i.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=i.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=i.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var r=e;n=r.next,0!==(4&(r=r.tag))&&0!==(1&r)&&(Bl(i,e),zl(i,e)),e=n}while(e!==t)}return;case 1:return e=i.stateNode,4&i.flags&&(null===t?e.componentDidMount():(n=i.elementType===i.type?t.memoizedProps:Kr(i.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=i.updateQueue)&&mo(i,t,e));case 3:if(null!==(t=i.updateQueue)){if(e=null,null!==i.child)switch(i.child.tag){case 5:case 1:e=i.child.stateNode}mo(i,t,e)}return;case 5:return e=i.stateNode,void(null===t&&4&i.flags&&Wn(i.type,i.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===i.memoizedState&&(i=i.alternate,null!==i&&(i=i.memoizedState,null!==i&&(i=i.dehydrated,null!==i&&wt(i)))))}throw Error(a(163))}function vs(e,t){for(var i=e;;){if(5===i.tag){var n=i.stateNode;if(t)"function"===typeof(n=n.style).setProperty?n.setProperty("display","none","important"):n.display="none";else{n=i.stateNode;var r=i.memoizedProps.style;r=void 0!==r&&null!==r&&r.hasOwnProperty("display")?r.display:null,n.style.display=_e("display",r)}}else if(6===i.tag)i.stateNode.nodeValue=t?"":i.memoizedProps;else if((23!==i.tag&&24!==i.tag||null===i.memoizedState||i===e)&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function bs(e,t){if(kr&&"function"===typeof kr.onCommitFiberUnmount)try{kr.onCommitFiberUnmount(Sr,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var i=e=e.next;do{var n=i,r=n.destroy;if(n=n.tag,void 0!==r)if(0!==(4&n))Bl(t,i);else{n=t;try{r()}catch(o){jl(n,o)}}i=i.next}while(i!==e)}break;case 1:if(ms(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){jl(t,o)}break;case 5:ms(t);break;case 4:Cs(e,t)}}function xs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function _s(e){return 5===e.tag||3===e.tag||4===e.tag}function ws(e){e:{for(var t=e.return;null!==t;){if(_s(t))break e;t=t.return}throw Error(a(160))}var i=t;switch(t=i.stateNode,i.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(a(161))}16&i.flags&&(ve(t,""),i.flags&=-17);e:t:for(i=e;;){for(;null===i.sibling;){if(null===i.return||_s(i.return)){i=null;break e}i=i.return}for(i.sibling.return=i.return,i=i.sibling;5!==i.tag&&6!==i.tag&&18!==i.tag;){if(2&i.flags)continue t;if(null===i.child||4===i.tag)continue t;i.child.return=i,i=i.child}if(!(2&i.flags)){i=i.stateNode;break e}}n?Ss(e,i,t):ks(e,i,t)}function Ss(e,t,i){var n=e.tag,r=5===n||6===n;if(r)e=r?e.stateNode:e.stateNode.instance,t?8===i.nodeType?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(8===i.nodeType?(t=i.parentNode).insertBefore(e,i):(t=i).appendChild(e),null!==(i=i._reactRootContainer)&&void 0!==i||null!==t.onclick||(t.onclick=jn));else if(4!==n&&null!==(e=e.child))for(Ss(e,t,i),e=e.sibling;null!==e;)Ss(e,t,i),e=e.sibling}function ks(e,t,i){var n=e.tag,r=5===n||6===n;if(r)e=r?e.stateNode:e.stateNode.instance,t?i.insertBefore(e,t):i.appendChild(e);else if(4!==n&&null!==(e=e.child))for(ks(e,t,i),e=e.sibling;null!==e;)ks(e,t,i),e=e.sibling}function Cs(e,t){for(var i,n,r=t,o=!1;;){if(!o){o=r.return;e:for(;;){if(null===o)throw Error(a(160));switch(i=o.stateNode,o.tag){case 5:n=!1;break e;case 3:case 4:i=i.containerInfo,n=!0;break e}o=o.return}o=!0}if(5===r.tag||6===r.tag){e:for(var s=e,l=r,u=l;;)if(bs(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}n?(s=i,l=r.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):i.removeChild(r.stateNode)}else if(4===r.tag){if(null!==r.child){i=r.stateNode.containerInfo,n=!0,r.child.return=r,r=r.child;continue}}else if(bs(e,r),null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;4===(r=r.return).tag&&(o=!1)}r.sibling.return=r.return,r=r.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var n=i=i.next;do{3===(3&n.tag)&&(e=n.destroy,n.destroy=void 0,void 0!==e&&e()),n=n.next}while(n!==i)}return;case 1:case 12:case 17:return;case 5:if(null!=(i=t.stateNode)){n=t.memoizedProps;var r=null!==e?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(i[Jn]=n,"input"===e&&"radio"===n.type&&null!=n.name&&te(i,n),Ce(e,r),t=Ce(e,n),r=0;r<o.length;r+=2){var s=o[r],l=o[r+1];"style"===s?we(i,l):"dangerouslySetInnerHTML"===s?ye(i,l):"children"===s?ve(i,l):x(i,s,l,t)}switch(e){case"input":ie(i,n);break;case"textarea":ue(i,n);break;case"select":e=i._wrapperState.wasMultiple,i._wrapperState.wasMultiple=!!n.multiple,null!=(o=n.value)?ae(i,!!n.multiple,o,!1):e!==!!n.multiple&&(null!=n.defaultValue?ae(i,!!n.multiple,n.defaultValue,!0):ae(i,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((i=t.stateNode).hydrate&&(i.hydrate=!1,wt(i.containerInfo)));case 13:return null!==t.memoizedState&&(Gs=Wr(),vs(t.child,!0)),void Es(t);case 19:return void Es(t);case 23:case 24:return void vs(t,null!==t.memoizedState)}throw Error(a(163))}function Es(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var i=e.stateNode;null===i&&(i=e.stateNode=new fs),t.forEach((function(t){var n=Ul.bind(null,e,t);i.has(t)||(i.add(t),t.then(n,n))}))}}function As(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ps=Math.ceil,Ms=_.ReactCurrentDispatcher,Ls=_.ReactCurrentOwner,Os=0,Rs=null,Is=null,Ds=0,zs=0,Bs=ur(0),Fs=0,Ns=null,js=0,Vs=0,Us=0,Ws=0,Hs=null,Gs=0,qs=1/0;function Zs(){qs=Wr()+500}var Xs,Ys=null,$s=!1,Ks=null,Qs=null,Js=!1,el=null,tl=90,il=[],nl=[],rl=null,ol=0,al=null,sl=-1,ll=0,ul=0,cl=null,hl=!1;function dl(){return 0!==(48&Os)?Wr():-1!==sl?sl:sl=Wr()}function pl(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hr()?1:2;if(0===ll&&(ll=js),0!==$r.transition){0!==ul&&(ul=null!==Hs?Hs.pendingLanes:0),e=ll;var t=4186112&~ul;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hr(),0!==(4&Os)&&98===e?e=jt(12,ll):e=jt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ll),e}function fl(e,t,i){if(50<ol)throw ol=0,al=null,Error(a(185));if(null===(e=ml(e,t)))return null;Wt(e,t,i),e===Rs&&(Us|=t,4===Fs&&vl(e,Ds));var n=Hr();1===t?0!==(8&Os)&&0===(48&Os)?bl(e):(gl(e,i),0===Os&&(Zs(),Xr())):(0===(4&Os)||98!==n&&99!==n||(null===rl?rl=new Set([e]):rl.add(e)),gl(e,i)),Hs=e}function ml(e,t){e.lanes|=t;var i=e.alternate;for(null!==i&&(i.lanes|=t),i=e,e=e.return;null!==e;)e.childLanes|=t,null!==(i=e.alternate)&&(i.childLanes|=t),i=e,e=e.return;return 3===i.tag?i.stateNode:null}function gl(e,t){for(var i=e.callbackNode,n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Ht(s),u=1<<l,c=o[l];if(-1===c){if(0===(u&n)||0!==(u&r)){c=t,Bt(u);var h=zt;o[l]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);s&=~u}if(n=Ft(e,e===Rs?Ds:0),t=zt,0===n)null!==i&&(i!==Br&&Er(i),e.callbackNode=null,e.callbackPriority=0);else{if(null!==i){if(e.callbackPriority===t)return;i!==Br&&Er(i)}15===t?(i=bl.bind(null,e),null===Nr?(Nr=[i],jr=Tr(Or,Yr)):Nr.push(i),i=Br):14===t?i=Zr(99,bl.bind(null,e)):(i=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),i=Zr(i,yl.bind(null,e))),e.callbackPriority=t,e.callbackNode=i}}function yl(e){if(sl=-1,ul=ll=0,0!==(48&Os))throw Error(a(327));var t=e.callbackNode;if(Dl()&&e.callbackNode!==t)return null;var i=Ft(e,e===Rs?Ds:0);if(0===i)return null;var n=i,r=Os;Os|=16;var o=Tl();for(Rs===e&&Ds===n||(Zs(),kl(e,n));;)try{Pl();break}catch(l){Cl(e,l)}if(io(),Ms.current=o,Os=r,null!==Is?n=0:(Rs=null,Ds=0,n=Fs),0!==(js&Us))kl(e,0);else if(0!==n){if(2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,Zn(e.containerInfo)),0!==(i=Nt(e))&&(n=El(e,i))),1===n)throw t=Ns,kl(e,0),vl(e,i),gl(e,Wr()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=i,n){case 0:case 1:throw Error(a(345));case 2:case 5:Ol(e);break;case 3:if(vl(e,i),(62914560&i)===i&&10<(n=Gs+500-Wr())){if(0!==Ft(e,0))break;if(((r=e.suspendedLanes)&i)!==i){dl(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Gn(Ol.bind(null,e),n);break}Ol(e);break;case 4:if(vl(e,i),(4186112&i)===i)break;for(n=e.eventTimes,r=-1;0<i;){var s=31-Ht(i);o=1<<s,(s=n[s])>r&&(r=s),i&=~o}if(i=r,10<(i=(120>(i=Wr()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Ps(i/1960))-i)){e.timeoutHandle=Gn(Ol.bind(null,e),i);break}Ol(e);break;default:throw Error(a(329))}}return gl(e,Wr()),e.callbackNode===t?yl.bind(null,e):null}function vl(e,t){for(t&=~Ws,t&=~Us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Ht(t),n=1<<i;e[i]=-1,t&=~n}}function bl(e){if(0!==(48&Os))throw Error(a(327));if(Dl(),e===Rs&&0!==(e.expiredLanes&Ds)){var t=Ds,i=El(e,t);0!==(js&Us)&&(i=El(e,t=Ft(e,t)))}else i=El(e,t=Ft(e,0));if(0!==e.tag&&2===i&&(Os|=64,e.hydrate&&(e.hydrate=!1,Zn(e.containerInfo)),0!==(t=Nt(e))&&(i=El(e,t))),1===i)throw i=Ns,kl(e,0),vl(e,t),gl(e,Wr()),i;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ol(e),gl(e,Wr()),null}function xl(e,t){var i=Os;Os|=1;try{return e(t)}finally{0===(Os=i)&&(Zs(),Xr())}}function _l(e,t){var i=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=i)&&(Zs(),Xr())}}function wl(e,t){hr(Bs,zs),zs|=t,js|=t}function Sl(){zs=Bs.current,cr(Bs)}function kl(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(-1!==i&&(e.timeoutHandle=-1,qn(i)),null!==Is)for(i=Is.return;null!==i;){var n=i;switch(n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&vr();break;case 3:Do(),cr(fr),cr(pr),$o();break;case 5:Bo(n);break;case 4:Do();break;case 13:case 19:cr(Fo);break;case 10:no(n);break;case 23:case 24:Sl()}i=i.return}Rs=e,Is=ql(e.current,null),Ds=zs=js=t,Fs=0,Ns=null,Ws=Us=Vs=0}function Cl(e,t){for(;;){var i=Is;try{if(io(),Ko.current=Oa,na){for(var n=ea.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}na=!1}if(Jo=0,ia=ta=ea=null,ra=!1,Ls.current=null,null===i||null===i.return){Fs=1,Ns=t,Is=null;break}e:{var o=e,a=i.return,s=i,l=t;if(t=Ds,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&Fo.current),d=a;do{var p;if(p=13===d.tag){var f=d.memoizedState;if(null!==f)p=null!==f.dehydrated;else{var m=d.memoizedProps;p=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(p){var g=d.updateQueue;if(null===g){var y=new Set;y.add(u),d.updateQueue=y}else g.add(u);if(0===(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var v=co(-1,1);v.tag=2,ho(s,v)}s.lanes|=1;break e}l=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new hs,l=new Set,b.set(u,l)):void 0===(l=b.get(u))&&(l=new Set,b.set(u,l)),!l.has(s)){l.add(s);var x=Vl.bind(null,o,u,s);u.then(x,x)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((Z(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),l=us(l,s),d=a;do{switch(d.tag){case 3:o=l,d.flags|=4096,t&=-t,d.lanes|=t,po(d,ds(0,o,t));break e;case 1:o=l;var _=d.type,w=d.stateNode;if(0===(64&d.flags)&&("function"===typeof _.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Qs||!Qs.has(w)))){d.flags|=4096,t&=-t,d.lanes|=t,po(d,ps(d,o,t));break e}}d=d.return}while(null!==d)}Ll(i)}catch(S){t=S,Is===i&&null!==i&&(Is=i=i.return);continue}break}}function Tl(){var e=Ms.current;return Ms.current=Oa,null===e?Oa:e}function El(e,t){var i=Os;Os|=16;var n=Tl();for(Rs===e&&Ds===t||kl(e,t);;)try{Al();break}catch(r){Cl(e,r)}if(io(),Os=i,Ms.current=n,null!==Is)throw Error(a(261));return Rs=null,Ds=0,Fs}function Al(){for(;null!==Is;)Ml(Is)}function Pl(){for(;null!==Is&&!Ar();)Ml(Is)}function Ml(e){var t=Xs(e.alternate,e,zs);e.memoizedProps=e.pendingProps,null===t?Ll(e):Is=t,Ls.current=null}function Ll(e){var t=e;do{var i=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(i=ss(i,t,zs)))return void(Is=i);if(24!==(i=t).tag&&23!==i.tag||null===i.memoizedState||0!==(1073741824&zs)||0===(4&i.mode)){for(var n=0,r=i.child;null!==r;)n|=r.lanes|r.childLanes,r=r.sibling;i.childLanes=n}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(i=ls(t)))return i.flags&=2047,void(Is=i);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Is=t);Is=t=e}while(null!==t);0===Fs&&(Fs=5)}function Ol(e){var t=Hr();return qr(99,Rl.bind(null,e,t)),null}function Rl(e,t){do{Dl()}while(null!==el);if(0!==(48&Os))throw Error(a(327));var i=e.finishedWork;if(null===i)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(a(177));e.callbackNode=null;var n=i.lanes|i.childLanes,r=n,o=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<o;){var u=31-Ht(o),c=1<<u;r[u]=0,s[u]=-1,l[u]=-1,o&=~c}if(null!==rl&&0===(24&n)&&rl.has(e)&&rl.delete(e),e===Rs&&(Is=Rs=null,Ds=0),1<i.flags?null!==i.lastEffect?(i.lastEffect.nextEffect=i,n=i.firstEffect):n=i:n=i.firstEffect,null!==n){if(r=Os,Os|=32,Ls.current=null,Vn=Yt,yn(s=gn())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,o=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(T){l=null;break e}var h=0,d=-1,p=-1,f=0,m=0,g=s,y=null;t:for(;;){for(var v;g!==l||0!==o&&3!==g.nodeType||(d=h+o),g!==u||0!==c&&3!==g.nodeType||(p=h+c),3===g.nodeType&&(h+=g.nodeValue.length),null!==(v=g.firstChild);)y=g,g=v;for(;;){if(g===s)break t;if(y===l&&++f===o&&(d=h),y===u&&++m===c&&(p=h),null!==(v=g.nextSibling))break;y=(g=y).parentNode}g=v}l=-1===d||-1===p?null:{start:d,end:p}}else l=null;l=l||{start:0,end:0}}else l=null;Un={focusedElem:s,selectionRange:l},Yt=!1,cl=null,hl=!1,Ys=n;do{try{Il()}catch(T){if(null===Ys)throw Error(a(330));jl(Ys,T),Ys=Ys.nextEffect}}while(null!==Ys);cl=null,Ys=n;do{try{for(s=e;null!==Ys;){var b=Ys.flags;if(16&b&&ve(Ys.stateNode,""),128&b){var x=Ys.alternate;if(null!==x){var _=x.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&b){case 2:ws(Ys),Ys.flags&=-3;break;case 6:ws(Ys),Ys.flags&=-3,Ts(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,Ts(Ys.alternate,Ys);break;case 4:Ts(Ys.alternate,Ys);break;case 8:Cs(s,l=Ys);var w=l.alternate;xs(l),null!==w&&xs(w)}Ys=Ys.nextEffect}}catch(T){if(null===Ys)throw Error(a(330));jl(Ys,T),Ys=Ys.nextEffect}}while(null!==Ys);if(_=Un,x=gn(),b=_.focusedElem,s=_.selectionRange,x!==b&&b&&b.ownerDocument&&mn(b.ownerDocument.documentElement,b)){null!==s&&yn(b)&&(x=s.start,void 0===(_=s.end)&&(_=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(_,b.value.length)):(_=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(_=_.getSelection(),l=b.textContent.length,w=Math.min(s.start,l),s=void 0===s.end?w:Math.min(s.end,l),!_.extend&&w>s&&(l=s,s=w,w=l),l=fn(b,w),o=fn(b,s),l&&o&&(1!==_.rangeCount||_.anchorNode!==l.node||_.anchorOffset!==l.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((x=x.createRange()).setStart(l.node,l.offset),_.removeAllRanges(),w>s?(_.addRange(x),_.extend(o.node,o.offset)):(x.setEnd(o.node,o.offset),_.addRange(x))))),x=[];for(_=b;_=_.parentNode;)1===_.nodeType&&x.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<x.length;b++)(_=x[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Yt=!!Vn,Un=Vn=null,e.current=i,Ys=n;do{try{for(b=e;null!==Ys;){var S=Ys.flags;if(36&S&&ys(b,Ys.alternate,Ys),128&S){x=void 0;var k=Ys.ref;if(null!==k){var C=Ys.stateNode;Ys.tag,x=C,"function"===typeof k?k(x):k.current=x}}Ys=Ys.nextEffect}}catch(T){if(null===Ys)throw Error(a(330));jl(Ys,T),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,Fr(),Os=r}else e.current=i;if(Js)Js=!1,el=e,tl=t;else for(Ys=n;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((S=Ys).sibling=null,S.stateNode=null),Ys=t;if(0===(n=e.pendingLanes)&&(Qs=null),1===n?e===al?ol++:(ol=0,al=e):ol=0,i=i.stateNode,kr&&"function"===typeof kr.onCommitFiberRoot)try{kr.onCommitFiberRoot(Sr,i,void 0,64===(64&i.current.flags))}catch(T){}if(gl(e,Wr()),$s)throw $s=!1,e=Ks,Ks=null,e;return 0!==(8&Os)||Xr(),null}function Il(){for(;null!==Ys;){var e=Ys.alternate;hl||null===cl||(0!==(8&Ys.flags)?et(Ys,cl)&&(hl=!0):13===Ys.tag&&As(e,Ys)&&et(Ys,cl)&&(hl=!0));var t=Ys.flags;0!==(256&t)&&gs(e,Ys),0===(512&t)||Js||(Js=!0,Zr(97,(function(){return Dl(),null}))),Ys=Ys.nextEffect}}function Dl(){if(90!==tl){var e=97<tl?97:tl;return tl=90,qr(e,Fl)}return!1}function zl(e,t){il.push(t,e),Js||(Js=!0,Zr(97,(function(){return Dl(),null})))}function Bl(e,t){nl.push(t,e),Js||(Js=!0,Zr(97,(function(){return Dl(),null})))}function Fl(){if(null===el)return!1;var e=el;if(el=null,0!==(48&Os))throw Error(a(331));var t=Os;Os|=32;var i=nl;nl=[];for(var n=0;n<i.length;n+=2){var r=i[n],o=i[n+1],s=r.destroy;if(r.destroy=void 0,"function"===typeof s)try{s()}catch(u){if(null===o)throw Error(a(330));jl(o,u)}}for(i=il,il=[],n=0;n<i.length;n+=2){r=i[n],o=i[n+1];try{var l=r.create;r.destroy=l()}catch(u){if(null===o)throw Error(a(330));jl(o,u)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Os=t,Xr(),!0}function Nl(e,t,i){ho(e,t=ds(0,t=us(i,t),1)),t=dl(),null!==(e=ml(e,1))&&(Wt(e,1,t),gl(e,t))}function jl(e,t){if(3===e.tag)Nl(e,e,t);else for(var i=e.return;null!==i;){if(3===i.tag){Nl(i,e,t);break}if(1===i.tag){var n=i.stateNode;if("function"===typeof i.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Qs||!Qs.has(n))){var r=ps(i,e=us(t,e),1);if(ho(i,r),r=dl(),null!==(i=ml(i,1)))Wt(i,1,r),gl(i,r);else if("function"===typeof n.componentDidCatch&&(null===Qs||!Qs.has(n)))try{n.componentDidCatch(t,e)}catch(o){}break}}i=i.return}}function Vl(e,t,i){var n=e.pingCache;null!==n&&n.delete(t),t=dl(),e.pingedLanes|=e.suspendedLanes&i,Rs===e&&(Ds&i)===i&&(4===Fs||3===Fs&&(62914560&Ds)===Ds&&500>Wr()-Gs?kl(e,0):Ws|=i),gl(e,t)}function Ul(e,t){var i=e.stateNode;null!==i&&i.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hr()?1:2:(0===ll&&(ll=js),0===(t=Vt(62914560&~ll))&&(t=4194304))),i=dl(),null!==(e=ml(e,t))&&(Wt(e,t,i),gl(e,i))}function Wl(e,t,i,n){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hl(e,t,i,n){return new Wl(e,t,i,n)}function Gl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ql(e,t){var i=e.alternate;return null===i?((i=Hl(e.tag,t,e.key,e.mode)).elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Zl(e,t,i,n,r,o){var s=2;if(n=e,"function"===typeof e)Gl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Xl(i.children,r,o,t);case z:s=8,r|=16;break;case C:s=8,r|=1;break;case T:return(e=Hl(12,i,t,8|r)).elementType=T,e.type=T,e.lanes=o,e;case M:return(e=Hl(13,i,t,r)).type=M,e.elementType=M,e.lanes=o,e;case L:return(e=Hl(19,i,t,r)).elementType=L,e.lanes=o,e;case B:return Yl(i,r,o,t);case F:return(e=Hl(24,i,t,r)).elementType=F,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case A:s=9;break e;case P:s=11;break e;case O:s=14;break e;case R:s=16,n=null;break e;case I:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Hl(s,i,t,r)).elementType=e,t.type=n,t.lanes=o,t}function Xl(e,t,i,n){return(e=Hl(7,e,n,t)).lanes=i,e}function Yl(e,t,i,n){return(e=Hl(23,e,n,t)).elementType=B,e.lanes=i,e}function $l(e,t,i){return(e=Hl(6,e,null,t)).lanes=i,e}function Kl(e,t,i){return(t=Hl(4,null!==e.children?e.children:[],e.key,t)).lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ql(e,t,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=i,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ut(0),this.expirationTimes=Ut(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ut(0),this.mutableSourceEagerHydrationData=null}function Jl(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==n?null:""+n,children:e,containerInfo:t,implementation:i}}function eu(e,t,i,n){var r=t.current,o=dl(),s=pl(r);e:if(i){t:{if($e(i=i._reactInternals)!==i||1!==i.tag)throw Error(a(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(yr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===i.tag){var u=i.type;if(yr(u)){i=xr(i,u,l);break e}}i=l}else i=dr;return null===t.context?t.context=i:t.pendingContext=i,(t=co(o,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),ho(r,t),fl(r,s,o),s}function tu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function iu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var i=e.retryLane;e.retryLane=0!==i&&i<t?i:t}}function nu(e,t){iu(e,t),(e=e.alternate)&&iu(e,t)}function ru(e,t,i){var n=null!=i&&null!=i.hydrationOptions&&i.hydrationOptions.mutableSources||null;if(i=new Ql(e,t,null!=i&&!0===i.hydrate),t=Hl(3,null,null,2===t?7:1===t?3:0),i.current=t,t.stateNode=i,lo(t),e[er]=i.current,On(8===e.nodeType?e.parentNode:e),n)for(e=0;e<n.length;e++){var r=(t=n[e])._getVersion;r=r(t._source),null==i.mutableSourceEagerHydrationData?i.mutableSourceEagerHydrationData=[t,r]:i.mutableSourceEagerHydrationData.push(t,r)}this._internalRoot=i}function ou(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function au(e,t,i,n,r){var o=i._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof r){var s=r;r=function(){var e=tu(a);s.call(e)}}eu(t,a,e,r)}else{if(o=i._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var i;i=e.lastChild;)e.removeChild(i);return new ru(e,0,t?{hydrate:!0}:void 0)}(i,n),a=o._internalRoot,"function"===typeof r){var l=r;r=function(){var e=tu(a);l.call(e)}}_l((function(){eu(t,a,e,r)}))}return tu(a)}function su(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ou(t))throw Error(a(200));return Jl(e,t,null,i)}Xs=function(e,t,i){var n=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fr.current)Ba=!0;else{if(0===(i&n)){switch(Ba=!1,t.tag){case 3:Za(t),Xo();break;case 5:zo(t);break;case 1:yr(t.type)&&_r(t);break;case 4:Io(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var r=t.type._context;hr(Qr,r._currentValue),r._currentValue=n;break;case 13:if(null!==t.memoizedState)return 0!==(i&t.child.childLanes)?Qa(e,t,i):(hr(Fo,1&Fo.current),null!==(t=os(e,t,i))?t.sibling:null);hr(Fo,1&Fo.current);break;case 19:if(n=0!==(i&t.childLanes),0!==(64&e.flags)){if(n)return rs(e,t,i);t.flags|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),hr(Fo,Fo.current),n)break;return null;case 23:case 24:return t.lanes=0,Ua(e,t,i)}return os(e,t,i)}Ba=0!==(16384&e.flags)}else Ba=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=gr(t,pr.current),oo(t,i),r=sa(null,t,n,e,r,i),t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yr(n)){var o=!0;_r(t)}else o=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,lo(t);var s=n.getDerivedStateFromProps;"function"===typeof s&&yo(t,n,s,e),r.updater=vo,t.stateNode=r,r._reactInternals=t,wo(t,n,e,i),t=qa(null,t,n,!0,o,i)}else t.tag=0,Fa(null,t,r,i),t=t.child;return t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Gl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===O)return 14}return 2}(r),e=Kr(r,e),o){case 0:t=Ha(null,t,r,e,i);break e;case 1:t=Ga(null,t,r,e,i);break e;case 11:t=Na(null,t,r,e,i);break e;case 14:t=ja(null,t,r,Kr(r.type,e),n,i);break e}throw Error(a(306,r,""))}return t;case 0:return n=t.type,r=t.pendingProps,Ha(e,t,n,r=t.elementType===n?r:Kr(n,r),i);case 1:return n=t.type,r=t.pendingProps,Ga(e,t,n,r=t.elementType===n?r:Kr(n,r),i);case 3:if(Za(t),n=t.updateQueue,null===e||null===n)throw Error(a(282));if(n=t.pendingProps,r=null!==(r=t.memoizedState)?r.element:null,uo(e,t),fo(t,n,null,i),(n=t.memoizedState.element)===r)Xo(),t=os(e,t,i);else{if((o=(r=t.stateNode).hydrate)&&(Vo=Xn(t.stateNode.containerInfo.firstChild),jo=t,o=Uo=!0),o){if(null!=(e=r.mutableSourceEagerHydrationData))for(r=0;r<e.length;r+=2)(o=e[r])._workInProgressVersionPrimary=e[r+1],Yo.push(o);for(i=Ao(t,null,n,i),t.child=i;i;)i.flags=-3&i.flags|1024,i=i.sibling}else Fa(e,t,n,i),Xo();t=t.child}return t;case 5:return zo(t),null===e&&Go(t),n=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,s=r.children,Hn(n,r)?s=null:null!==o&&Hn(n,o)&&(t.flags|=16),Wa(e,t),Fa(e,t,s,i),t.child;case 6:return null===e&&Go(t),null;case 13:return Qa(e,t,i);case 4:return Io(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Eo(t,null,n,i):Fa(e,t,n,i),t.child;case 11:return n=t.type,r=t.pendingProps,Na(e,t,n,r=t.elementType===n?r:Kr(n,r),i);case 7:return Fa(e,t,t.pendingProps,i),t.child;case 8:case 12:return Fa(e,t,t.pendingProps.children,i),t.child;case 10:e:{n=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value;var l=t.type._context;if(hr(Qr,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=cn(l,o)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(l,o):1073741823))){if(s.children===r.children&&!fr.current){t=os(e,t,i);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===n&&0!==(c.observedBits&o)){1===l.tag&&((c=co(-1,i&-i)).tag=2,ho(l,c)),l.lanes|=i,null!==(c=l.alternate)&&(c.lanes|=i),ro(l.return,i),u.lanes|=i;break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Fa(e,t,r.children,i),t=t.child}return t;case 9:return r=t.type,n=(o=t.pendingProps).children,oo(t,i),n=n(r=ao(r,o.unstable_observedBits)),t.flags|=1,Fa(e,t,n,i),t.child;case 14:return o=Kr(r=t.type,t.pendingProps),ja(e,t,r,o=Kr(r.type,o),n,i);case 15:return Va(e,t,t.type,t.pendingProps,n,i);case 17:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:Kr(n,r),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yr(n)?(e=!0,_r(t)):e=!1,oo(t,i),xo(t,n,r),wo(t,n,r,i),qa(null,t,n,!0,e,i);case 19:return rs(e,t,i);case 23:case 24:return Ua(e,t,i)}throw Error(a(156,t.tag))},ru.prototype.render=function(e){eu(e,this._internalRoot,null,null)},ru.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;eu(null,e,null,(function(){t[er]=null}))},tt=function(e){13===e.tag&&(fl(e,4,dl()),nu(e,4))},it=function(e){13===e.tag&&(fl(e,67108864,dl()),nu(e,67108864))},nt=function(e){if(13===e.tag){var t=dl(),i=pl(e);fl(e,i,t),nu(e,i)}},rt=function(e,t){return t()},Ee=function(e,t,i){switch(t){case"input":if(ie(e,i),t=i.name,"radio"===i.type&&null!=t){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var n=i[t];if(n!==e&&n.form===e.form){var r=or(n);if(!r)throw Error(a(90));K(n),ie(n,r)}}}break;case"textarea":ue(e,i);break;case"select":null!=(t=i.value)&&ae(e,!!i.multiple,t,!1)}},Re=xl,Ie=function(e,t,i,n,r){var o=Os;Os|=4;try{return qr(98,e.bind(null,t,i,n,r))}finally{0===(Os=o)&&(Zs(),Xr())}},De=function(){0===(49&Os)&&(function(){if(null!==rl){var e=rl;rl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,gl(e,Wr())}))}Xr()}(),Dl())},ze=function(e,t){var i=Os;Os|=2;try{return e(t)}finally{0===(Os=i)&&(Zs(),Xr())}};var lu={Events:[nr,rr,or,Le,Oe,Dl,{current:!1}]},uu={findFiberByHostInstance:ir,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cu={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hu.isDisabled&&hu.supportsFiber)try{Sr=hu.inject(cu),kr=hu}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lu,t.createPortal=su,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var i=Os;if(0!==(48&i))return e(t);Os|=1;try{if(e)return qr(99,e.bind(null,t))}finally{Os=i,Xr()}},t.hydrate=function(e,t,i){if(!ou(t))throw Error(a(200));return au(null,e,t,!0,i)},t.render=function(e,t,i){if(!ou(t))throw Error(a(200));return au(null,e,t,!1,i)},t.unmountComponentAtNode=function(e){if(!ou(e))throw Error(a(40));return!!e._reactRootContainer&&(_l((function(){au(null,null,e,!1,(function(){e._reactRootContainer=null,e[er]=null}))})),!0)},t.unstable_batchedUpdates=xl,t.unstable_createPortal=function(e,t){return su(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,i,n){if(!ou(i))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return au(e,t,i,!1,n)},t.version="17.0.2"},4164:function(e,t,i){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=i(4463)},77:function(e){var t="undefined"!==typeof Element,i="function"===typeof Map,n="function"===typeof Set,r="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var s,l,u,c;if(Array.isArray(e)){if((s=e.length)!=a.length)return!1;for(l=s;0!==l--;)if(!o(e[l],a[l]))return!1;return!0}if(i&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!a.has(l.value[0]))return!1;for(c=e.entries();!(l=c.next()).done;)if(!o(l.value[1],a.get(l.value[0])))return!1;return!0}if(n&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((s=e.length)!=a.length)return!1;for(l=s;0!==l--;)if(e[l]!==a[l])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===a.toString();if((s=(u=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(l=s;0!==l--;)if(!Object.prototype.hasOwnProperty.call(a,u[l]))return!1;if(t&&e instanceof Element)return!1;for(l=s;0!==l--;)if(("_owner"!==u[l]&&"__v"!==u[l]&&"__o"!==u[l]||!e.$$typeof)&&!o(e[u[l]],a[u[l]]))return!1;return!0}return e!==e&&a!==a}e.exports=function(e,t){try{return o(e,t)}catch(i){if((i.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw i}}},1372:function(e,t){"use strict";var i="function"===typeof Symbol&&Symbol.for,n=i?Symbol.for("react.element"):60103,r=i?Symbol.for("react.portal"):60106,o=i?Symbol.for("react.fragment"):60107,a=i?Symbol.for("react.strict_mode"):60108,s=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,u=i?Symbol.for("react.context"):60110,c=i?Symbol.for("react.async_mode"):60111,h=i?Symbol.for("react.concurrent_mode"):60111,d=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,f=i?Symbol.for("react.suspense_list"):60120,m=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,y=i?Symbol.for("react.block"):60121,v=i?Symbol.for("react.fundamental"):60117,b=i?Symbol.for("react.responder"):60118,x=i?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case h:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case u:case d:case g:case m:case l:return e;default:return t}}case r:return t}}}function w(e){return _(e)===h}t.AsyncMode=c,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=l,t.Element=n,t.ForwardRef=d,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=r,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return w(e)||_(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return _(e)===u},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===r},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===s||e===a||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===d||e.$$typeof===v||e.$$typeof===b||e.$$typeof===x||e.$$typeof===y)},t.typeOf=_},7441:function(e,t,i){"use strict";e.exports=i(1372)},6374:function(e,t,i){"use strict";i(1725);var n=i(2791),r=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;r=o("react.element"),t.Fragment=o("react.fragment")}var a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,i){var n,o={},u=null,c=null;for(n in void 0!==i&&(u=""+i),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,n)&&!l.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:r,type:e,key:u,ref:c,props:o,_owner:a.current}}t.jsx=u,t.jsxs=u},9117:function(e,t,i){"use strict";var n=i(1725),r=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;r=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),l=h("react.forward_ref"),t.Suspense=h("react.suspense"),u=h("react.memo"),c=h("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,i){this.props=e,this.context=t,this.refs=m,this.updater=i||f}function y(){}function v(e,t,i){this.props=e,this.context=t,this.refs=m,this.updater=i||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=v.prototype=new y;b.constructor=v,n(b,g.prototype),b.isPureReactComponent=!0;var x={current:null},_=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,i){var n,o={},a=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,n)&&!w.hasOwnProperty(n)&&(o[n]=t[n]);var l=arguments.length-2;if(1===l)o.children=i;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===o[n]&&(o[n]=l[n]);return{$$typeof:r,type:e,key:a,ref:s,props:o,_owner:x.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(e,t,i,n,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case o:l=!0}}if(l)return a=a(l=e),e=""===n?"."+T(l,0):n,Array.isArray(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),E(a,t,i,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,n=""===n?".":n+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=n+T(s=e[u],u);l+=E(s,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=E(s=s.value,t,i,c=n+T(s,u++),a);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function A(e,t,i){if(null==e)return e;var n=[],r=0;return E(e,n,"","",(function(e){return t.call(i,e,r++)})),n}function P(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var M={current:null};function L(){var e=M.current;if(null===e)throw Error(p(321));return e}var O={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:A,forEach:function(e,t,i){A(e,(function(){t.apply(this,arguments)}),i)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error(p(143));return e}},t.Component=g,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error(p(267,e));var o=n({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!w.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=i;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];o.children=u}return{$$typeof:r,type:e.type,key:a,ref:s,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return L().useCallback(e,t)},t.useContext=function(e,t){return L().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return L().useEffect(e,t)},t.useImperativeHandle=function(e,t,i){return L().useImperativeHandle(e,t,i)},t.useLayoutEffect=function(e,t){return L().useLayoutEffect(e,t)},t.useMemo=function(e,t){return L().useMemo(e,t)},t.useReducer=function(e,t,i){return L().useReducer(e,t,i)},t.useRef=function(e){return L().useRef(e)},t.useState=function(e){return L().useState(e)},t.version="17.0.2"},2791:function(e,t,i){"use strict";e.exports=i(9117)},184:function(e,t,i){"use strict";e.exports=i(6374)},6813:function(e,t){"use strict";var i,n,r,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,c=null,h=function e(){if(null!==u)try{var i=t.unstable_now();u(!0,i),u=null}catch(n){throw setTimeout(e,0),n}};i=function(e){null!==u?setTimeout(i,0,e):(u=e,setTimeout(h,0))},n=function(e,t){c=setTimeout(e,t)},r=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var f=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof f&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,y=-1,v=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,_=x.port2;x.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+v;try{g(!0,e)?_.postMessage(null):(m=!1,g=null)}catch(i){throw _.postMessage(null),i}}else m=!1},i=function(e){g=e,m||(m=!0,_.postMessage(null))},n=function(e,i){y=d((function(){e(t.unstable_now())}),i)},r=function(){p(y),y=-1}}function w(e,t){var i=e.length;e.push(t);e:for(;;){var n=i-1>>>1,r=e[n];if(!(void 0!==r&&0<C(r,t)))break e;e[n]=t,e[i]=r,i=n}}function S(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var i=e.pop();if(i!==t){e[0]=i;e:for(var n=0,r=e.length;n<r;){var o=2*(n+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>C(a,i))void 0!==l&&0>C(l,a)?(e[n]=l,e[s]=i,n=s):(e[n]=a,e[o]=i,n=o);else{if(!(void 0!==l&&0>C(l,i)))break e;e[n]=l,e[s]=i,n=s}}}return t}return null}function C(e,t){var i=e.sortIndex-t.sortIndex;return 0!==i?i:e.id-t.id}var T=[],E=[],A=1,P=null,M=3,L=!1,O=!1,R=!1;function I(e){for(var t=S(E);null!==t;){if(null===t.callback)k(E);else{if(!(t.startTime<=e))break;k(E),t.sortIndex=t.expirationTime,w(T,t)}t=S(E)}}function D(e){if(R=!1,I(e),!O)if(null!==S(T))O=!0,i(z);else{var t=S(E);null!==t&&n(D,t.startTime-e)}}function z(e,i){O=!1,R&&(R=!1,r()),L=!0;var o=M;try{for(I(i),P=S(T);null!==P&&(!(P.expirationTime>i)||e&&!t.unstable_shouldYield());){var a=P.callback;if("function"===typeof a){P.callback=null,M=P.priorityLevel;var s=a(P.expirationTime<=i);i=t.unstable_now(),"function"===typeof s?P.callback=s:P===S(T)&&k(T),I(i)}else k(T);P=S(T)}if(null!==P)var l=!0;else{var u=S(E);null!==u&&n(D,u.startTime-i),l=!1}return l}finally{P=null,M=o,L=!1}}var B=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||L||(O=!0,i(z))},t.unstable_getCurrentPriorityLevel=function(){return M},t.unstable_getFirstCallbackNode=function(){return S(T)},t.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var i=M;M=t;try{return e()}finally{M=i}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=M;M=e;try{return t()}finally{M=i}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:A++,callback:o,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(e.sortIndex=a,w(E,e),null===S(T)&&e===S(E)&&(R?r():R=!0,n(D,a-s))):(e.sortIndex=l,w(T,e),O||L||(O=!0,i(z))),e},t.unstable_wrapCallback=function(e){var t=M;return function(){var i=M;M=t;try{return e.apply(this,arguments)}finally{M=i}}}},5296:function(e,t,i){"use strict";e.exports=i(6813)},9613:function(e){e.exports=function(e,t,i,n){var r=i?i.call(n,e,t):void 0;if(void 0!==r)return!!r;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var u=o[l];if(!s(u))return!1;var c=e[u],h=t[u];if(!1===(r=i?i.call(n,c,h,u):void 0)||void 0===r&&c!==h)return!1}return!0}},2458:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,i=[],n=0;n<e.rangeCount;n++)i.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||i.forEach((function(t){e.addRange(t)})),t&&t.focus()}}}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";var e=i(2791),t=i(4164);function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function r(e,t){if(e){if("string"===typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(l){s=!0,r=l}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return o}}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a=i(6198),s=i.n(a),l=1/60*1e3,u="undefined"!==typeof performance?function(){return performance.now()}:function(){return Date.now()};function c(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}function h(e){return"number"===typeof e}function d(e){return Array.isArray(e)}function p(e){return"function"===typeof e}function f(e){var t=typeof e;return null!=e&&("object"===t||"function"===t)&&!d(e)}function m(e){return f(e)&&0===Object.keys(e).length}function g(e){return null==e}function y(e){return"[object String]"===Object.prototype.toString.call(e)}function v(e){return/^var\(--.+\)$/.test(e)}var b=!1;function x(e){return"current"in e}function _(e,t){var i={};return Object.keys(e).forEach((function(n){t.includes(n)||(i[n]=e[n])})),i}var w=function(e){var t=new WeakMap;return function(i,n,r,o){if("undefined"===typeof i)return e(i,n,r);t.has(i)||t.set(i,new Map);var a=t.get(i);if(a.has(n))return a.get(n);var s=e(i,n,r,o);return a.set(n,s),s}}((function(e,t,i,n){var r="string"===typeof t?t.split("."):[t];for(n=0;n<r.length&&e;n+=1)e=e[r[n]];return void 0===e?i:e}));function S(e,t){var i={};return Object.keys(e).forEach((function(n){var r=e[n];t(r,n,e)&&(i[n]=r)})),i}var k=function(e){return S(e,(function(e){return null!==e&&void 0!==e}))},C=function(e){return Object.keys(e)},T=function(e){return e.reduce((function(e,t){var i=t[0],n=t[1];return e[i]=n,e}),{})};function E(e){if(null==e)return e;var t=function(e){var t=parseFloat(e.toString()),i=e.toString().replace(String(t),"");return{unitless:!i,value:t,unit:i}}(e);return t.unitless||h(e)?e+"px":e}var A=function(e,t){return parseInt(e[1],10)>parseInt(t[1],10)?1:-1},P=function(e){return T(Object.entries(e).sort(A))};function M(e){var t=P(e);return Object.assign(Object.values(t),t)}function L(e,t){var i=[];return e&&i.push("@media screen and (min-width: "+E(e)+")"),i.length>0&&t&&i.push("and"),t&&i.push("@media screen and (max-width: "+E(t)+")"),i.join(" ")}function O(e){var t;if(!e)return null;e.base=null!=(t=e.base)?t:"0px";var i=M(e),n=Object.entries(e).sort(A).map((function(e,t,i){var n,r=e[0],o=e[1],a=(null!=(n=i[t+1])?n:[])[1];return{breakpoint:r,minW:o,maxW:a=parseFloat(a)>0?function(e){var t;if(!e)return e;var i=(e=null!=(t=E(e))?t:e).endsWith("px")?-1:-.0635;return h(e)?""+(e+i):e.replace(/([0-9]+\.?[0-9]*)/,(function(e){return""+(parseFloat(e)+i)}))}(a):void 0,maxWQuery:L(null,a),minWQuery:L(o),minMaxQuery:L(o,a)}})),r=function(e){var t=Object.keys(P(e));return new Set(t)}(e),o=Array.from(r.values());return{keys:r,normalized:i,isResponsive:function(e){var t=Object.keys(e);return t.length>0&&t.every((function(e){return r.has(e)}))},asObject:P(e),asArray:M(e),details:n,media:[null].concat(i.map((function(e){return L(e)})).slice(1)),toArrayValue:function(e){if(!f(e))throw new Error("toArrayValue: value must be an object");for(var t=o.map((function(t){var i;return null!=(i=e[t])?i:null}));null===c(t);)t.pop();return t},toObjectValue:function(e){if(!Array.isArray(e))throw new Error("toObjectValue: value must be an array");return e.reduce((function(e,t,i){var n=o[i];return null!=n&&null!=t&&(e[n]=t),e}),{})}}}function R(e){return null!=e&&"object"==typeof e&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}function I(e){var t;return!!R(e)&&e instanceof(null!=(t=e.ownerDocument.defaultView)?t:window).HTMLElement}function D(e){var t;return R(e)&&null!=(t=e.ownerDocument)?t:document}function z(e){var t;return null!=(t=e.view)?t:window}var B=!("undefined"===typeof window||!window.document||!window.document.createElement),F=function(e){return e?"":void 0},N=function(e){return!!e||void 0},j=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.filter(Boolean).join(" ")};function V(e){var t=D(e);return null==t?void 0:t.activeElement}function U(e,t){return!!e&&(e===t||e.contains(t))}function W(e){var t,i,n=V(null!=(t=e.target)?t:e.currentTarget);return null!=(i=e.relatedTarget)?i:n}function H(e){return 0!==e.button}var G=function(e){return e.hasAttribute("tabindex")};function q(e){return(I(e)?D(e):document).activeElement===e}function Z(e){return!(!e.parentElement||!Z(e.parentElement))||e.hidden}function X(e){if(!I(e)||Z(e)||function(e){return!0===Boolean(e.getAttribute("disabled"))||!0===Boolean(e.getAttribute("aria-disabled"))}(e))return!1;var t=e.localName;if(["input","select","textarea","button"].indexOf(t)>=0)return!0;var i={a:function(){return e.hasAttribute("href")},audio:function(){return e.hasAttribute("controls")},video:function(){return e.hasAttribute("controls")}};return t in i?i[t]():!!function(e){var t=e.getAttribute("contenteditable");return"false"!==t&&null!=t}(e)||G(e)}function Y(e){return!!e&&(I(e)&&X(e)&&!function(e){return G(e)&&-1===e.tabIndex}(e))}var $=["input:not([disabled])","select:not([disabled])","textarea:not([disabled])","embed","iframe","object","a[href]","area[href]","button:not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"].join();function K(e){var t=Array.from(e.querySelectorAll($));return t.unshift(e),t.filter(X).filter((function(e){return"none"!==window.getComputedStyle(e).display}))}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function J(e,t){var i="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){if(e){if("string"===typeof e)return Q(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Q(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){i&&(e=i);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ee(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return p(e)?e.apply(void 0,i):e}function te(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){t.some((function(t){return null==t||t(e),null==e?void 0:e.defaultPrevented}))}}function ie(e){var t;return function(){if(e){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];t=e.apply(this,n),e=null}return t}}var ne=function(){},re=ie((function(e){return function(){e.condition,e.message}}));ie((function(e){return function(){e.condition,e.message}}));function oe(e,t){void 0===t&&(t={});var i=t,n=i.isActive,r=void 0===n?q:n,o=i.nextTick,a=i.preventScroll,s=void 0===a||a,l=i.selectTextIfInput,u=void 0===l||l;if(!e||r(e))return-1;function c(){if(e){if(function(){if(null==ae){ae=!1;try{document.createElement("div").focus({get preventScroll(){return ae=!0,!0}})}catch(e){}}return ae}())e.focus({preventScroll:s});else if(e.focus(),s){var t=function(e){var t,i=D(e),n=null!=(t=i.defaultView)?t:window,r=e.parentNode,o=[],a=i.scrollingElement||i.documentElement;for(;r instanceof n.HTMLElement&&r!==a;)(r.offsetHeight<r.scrollHeight||r.offsetWidth<r.scrollWidth)&&o.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),r=r.parentNode;a instanceof n.HTMLElement&&o.push({element:a,scrollTop:a.scrollTop,scrollLeft:a.scrollLeft});return o}(e);!function(e){for(var t,i=J(e);!(t=i()).done;){var n=t.value,r=n.element,o=n.scrollTop,a=n.scrollLeft;r.scrollTop=o,r.scrollLeft=a}}(t)}(function(e){return I(e)&&"input"===e.tagName.toLowerCase()&&"select"in e})(e)&&u&&e.select()}else re({condition:!0,message:"[chakra-ui]: can't call focus() on `null` or `undefined` element"})}return o?requestAnimationFrame(c):(c(),-1)}var ae=null;function se(e){var t=e.hasBeenSelected,i=e.isLazy,n=e.isSelected,r=e.lazyBehavior;return!i||(!!n||!("keepMounted"!==(void 0===r?"unmount":r)||!t))}Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER;function le(e){return!!e.touches}var ue={pageX:0,pageY:0};function ce(e,t){void 0===t&&(t="page");var i=e.touches[0]||e.changedTouches[0]||ue;return{x:i[t+"X"],y:i[t+"Y"]}}function he(e,t){return void 0===t&&(t="page"),{x:e[t+"X"],y:e[t+"Y"]}}function de(e,t){return void 0===t&&(t="page"),{point:le(e)?ce(e,t):he(e,t)}}var pe=function(e,t){void 0===t&&(t=!1);var i,n=function(t){return e(t,de(t))};return t?(i=n,function(e){var t=e instanceof z(e).MouseEvent;(!t||t&&0===e.button)&&i(e)}):n},fe={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},me={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function ge(e){return B&&null===window.onpointerdown?e:B&&null===window.ontouchstart?me[e]:B&&null===window.onmousedown?fe[e]:e}var ye=Object.freeze(["base","sm","md","lg","xl","2xl"]);function ve(e,t){return d(e)?e.map((function(e){return null===e?null:t(e)})):f(e)?C(e).reduce((function(i,n){return i[n]=t(e[n]),i}),{}):null!=e?t(e):null}function be(e,t){void 0===t&&(t=ye);var i={};return e.forEach((function(e,n){var r=t[n];null!=e&&(i[r]=e)})),i}var xe={body:{classList:{add:function(){},remove:function(){}}},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}}},_e=function(){},we={document:xe,navigator:{userAgent:""},CustomEvent:function(){return this},addEventListener:_e,removeEventListener:_e,getComputedStyle:function(){return{getPropertyValue:function(){return""}}},matchMedia:function(){return{matches:!1,addListener:_e,removeListener:_e}},requestAnimationFrame:function(e){return"undefined"===typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!==typeof setTimeout&&clearTimeout(e)},setTimeout:function(){return 0},clearTimeout:_e,setInterval:function(){return 0},clearInterval:_e},Se=B?{window:window,document:document}:{window:we,document:xe},ke=(0,e.createContext)(Se);function Ce(){return(0,e.useContext)(ke)}function Te(t){var i=t.children,n=t.environment,r=(0,e.useState)(null),o=r[0],a=r[1],s=(0,e.useMemo)((function(){var e,t=null==o?void 0:o.ownerDocument,i=null==o?void 0:o.ownerDocument.defaultView;return null!=(e=null!=n?n:t?{document:t,window:i}:void 0)?e:Se}),[o,n]),l=!o&&!n;return e.createElement(ke.Provider,{value:s},i,l&&e.createElement("span",{ref:function(e){e&&a(e)}}))}var Ee="chakra-ui-light",Ae="chakra-ui-dark",Pe={classList:{add:ne,remove:ne}};function Me(e,t){var i=function(e){return B?e.body:Pe}(t);i.classList.add(e?Ae:Ee),i.classList.remove(e?Ee:Ae)}var Le="(prefers-color-scheme: dark)";function Oe(e){var t;return(null!=(t=function(e){var t=null==window.matchMedia?void 0:window.matchMedia(e);if(t)return!!t.media===t.matches}(Le))?t:"dark"===e)?"dark":"light"}var Re=function(){return document.documentElement.style.getPropertyValue("--chakra-ui-color-mode")},Ie=function(e){B&&document.documentElement.style.setProperty("--chakra-ui-color-mode",e)},De=function(){return"undefined"!==typeof Storage},ze="chakra-ui-color-mode",Be={get:function(e){if(!De())return e;try{var t=localStorage.getItem(ze);return null!=t?t:e}catch(i){return e}},set:function(e){if(De())try{localStorage.setItem(ze,e)}catch(t){b}},type:"localStorage"},Fe=e.createContext({});var Ne=function(){var t=e.useContext(Fe);if(void 0===t)throw new Error("useColorMode must be used within a ColorModeProvider");return t};function je(t){var i=t.value,n=t.children,r=t.options,o=r.useSystemColorMode,a=r.initialColorMode,s=t.colorModeManager,l=void 0===s?Be:s,u="dark"===a?"dark":"light",c=e.useState("cookie"===l.type?l.get(u):u),h=c[0],d=c[1],p=Ce().document;e.useEffect((function(){if(B&&"localStorage"===l.type){var e=Oe(u);if(o)return d(e);var t=Re(),i=l.get();return d(t?t:i||("system"===a?e:u))}}),[l,o,u,a]),e.useEffect((function(){var e="dark"===h;Me(e,p),Ie(e?"dark":"light")}),[h,p]);var f=e.useCallback((function(e,t){if(void 0===t&&(t=!1),t){if(l.get()&&!o)return}else l.set(e);d(e)}),[l,o]),m=e.useCallback((function(){f("light"===h?"dark":"light")}),[h,f]);e.useEffect((function(){var e,t=o||"system"===a;return t&&(e=function(e){if(!("matchMedia"in window))return ne;var t=window.matchMedia(Le),i=function(){e(t.matches?"dark":"light",!0)};return t.addEventListener("change",i),function(){t.removeEventListener("change",i)}}(f)),function(){e&&t&&e()}}),[f,o,a]);var g=e.useMemo((function(){return{colorMode:null!=i?i:h,toggleColorMode:i?ne:m,setColorMode:i?ne:f}}),[h,f,m,i]);return e.createElement(Fe.Provider,{value:g},n)}function Ve(e,t){return"dark"===Ne().colorMode?t:e}function Ue(){return Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ue.apply(this,arguments)}var We=function(e,t){return function(i){var n=String(t),r=e?e+"."+n:n;return f(i.__cssMap)&&r in i.__cssMap?i.__cssMap[r].varRef:t}};function He(e){var t=e.scale,i=e.transform,n=e.compose;return function(e,r){var o,a=We(t,e)(r),s=null!=(o=null==i?void 0:i(a,r))?o:a;return n&&(s=n(s,r)),s}}function Ge(e,t){return function(i){var n={property:i,scale:e};return n.transform=He({scale:e,transform:t}),n}}var qe,Ze,Xe=function(e){var t=e.rtl,i=e.ltr;return function(e){return"rtl"===e.direction?t:i}};var Ye=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];var $e={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},Ke={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};var Qe={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},Je="& > :not(style) ~ :not(style)",et=((qe={})[Je]={marginInlineStart:"calc(var(--chakra-space-x) * calc(1 - var(--chakra-space-x-reverse)))",marginInlineEnd:"calc(var(--chakra-space-x) * var(--chakra-space-x-reverse))"},qe),tt=((Ze={})[Je]={marginTop:"calc(var(--chakra-space-y) * calc(1 - var(--chakra-space-y-reverse)))",marginBottom:"calc(var(--chakra-space-y) * var(--chakra-space-y-reverse))"},Ze);function it(e,t){return it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},it(e,t)}function nt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&it(e,t)}function rt(){rt=function(e,t){return new i(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function i(e,n,r){var o=new RegExp(e,n);return t.set(o,r||t.get(e)),it(o,i.prototype)}function n(e,i){var n=t.get(i);return Object.keys(n).reduce((function(t,i){return t[i]=e[n[i]],t}),Object.create(null))}return nt(i,RegExp),i.prototype.exec=function(t){var i=e.exec.call(this,t);return i&&(i.groups=n(i,this)),i},i.prototype[Symbol.replace]=function(i,r){if("string"===typeof r){var o=t.get(this);return e[Symbol.replace].call(this,i,r.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+o[t]})))}if("function"===typeof r){var a=this;return e[Symbol.replace].call(this,i,(function(){var e=arguments;return"object"!==typeof e[e.length-1]&&(e=[].slice.call(e)).push(n(e,a)),r.apply(this,e)}))}return e[Symbol.replace].call(this,i,r)},rt.apply(this,arguments)}var ot={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},at=new Set(Object.values(ot)),st=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),lt=function(e){return e.trim()};var ut=function(e){return y(e)&&e.includes("(")&&e.includes(")")},ct=function(e){return function(t){return e+"("+t+")"}},ht={filter:function(e){return"auto"!==e?e:$e},backdropFilter:function(e){return"auto"!==e?e:Ke},ring:function(e){return function(e){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":e,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}(ht.px(e))},bgClip:function(e){return"text"===e?{color:"transparent",backgroundClip:"text"}:{backgroundClip:e}},transform:function(e){return"auto"===e?["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))"].concat(Ye).join(" "):"auto-gpu"===e?["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)"].concat(Ye).join(" "):e},px:function(e){if(null==e)return e;var t=function(e){var t=parseFloat(e.toString()),i=e.toString().replace(String(t),"");return{unitless:!i,value:t,unit:i}}(e);return t.unitless||h(e)?e+"px":e},fraction:function(e){return!h(e)||e>1?e:100*e+"%"},float:function(e,t){return"rtl"===t.direction?{left:"right",right:"left"}[e]:e},degree:function(e){if(v(e)||null==e)return e;var t=y(e)&&!e.endsWith("deg");return h(e)||t?e+"deg":e},gradient:function(e,t){return function(e,t){var i,n;if(null==e||st.has(e))return e;var r=null!=(i=null==(n=rt(/(^[\x2DA-Za-z]+)\(((.*))\)/g,{type:1,values:2}).exec(e))?void 0:n.groups)?i:{},o=r.type,a=r.values;if(!o||!a)return e;var s=o.includes("-gradient")?o:o+"-gradient",l=a.split(",").map(lt).filter(Boolean),u=l[0],c=l.slice(1);if(0===(null==c?void 0:c.length))return e;var h=u in ot?ot[u]:u;c.unshift(h);var d=c.map((function(e){if(at.has(e))return e;var i=e.indexOf(" "),n=-1!==i?[e.substr(0,i),e.substr(i+1)]:[e],r=n[0],o=n[1],a=ut(o)?o:o&&o.split(" "),s="colors."+r,l=s in t.__cssMap?t.__cssMap[s].varRef:r;return a?[l].concat(Array.isArray(a)?a:[a]).join(" "):l}));return s+"("+d.join(", ")+")"}(e,null!=t?t:{})},blur:ct("blur"),opacity:ct("opacity"),brightness:ct("brightness"),contrast:ct("contrast"),dropShadow:ct("drop-shadow"),grayscale:ct("grayscale"),hueRotate:ct("hue-rotate"),invert:ct("invert"),saturate:ct("saturate"),sepia:ct("sepia"),bgImage:function(e){return null==e||ut(e)||st.has(e)?e:"url("+e+")"},outline:function(e){var t="0"===String(e)||"none"===String(e);return null!==e&&t?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:e}},flexDirection:function(e){var t,i=null!=(t=Qe[e])?t:{},n=i.space,r=i.divide,o={flexDirection:e};return n&&(o[n]=1),r&&(o[r]=1),o}},dt={borderWidths:Ge("borderWidths"),borderStyles:Ge("borderStyles"),colors:Ge("colors"),borders:Ge("borders"),radii:Ge("radii",ht.px),space:Ge("space",ht.px),spaceT:Ge("space",ht.px),degreeT:function(e){return{property:e,transform:ht.degree}},prop:function(e,t,i){return Ue({property:e,scale:t},t&&{transform:He({scale:t,transform:i})})},propT:function(e,t){return{property:e,transform:t}},sizes:Ge("sizes",ht.px),sizesT:Ge("sizes",ht.fraction),shadows:Ge("shadows"),logical:function(e){var t=e.property,i=e.scale,n=e.transform;return{scale:i,property:Xe(t),transform:i?He({scale:i,compose:n}):n}},blur:Ge("blur",ht.blur)},pt={background:dt.colors("background"),backgroundColor:dt.colors("backgroundColor"),backgroundImage:dt.propT("backgroundImage",ht.bgImage),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:ht.bgClip},bgSize:dt.prop("backgroundSize"),bgPosition:dt.prop("backgroundPosition"),bg:dt.colors("background"),bgColor:dt.colors("backgroundColor"),bgPos:dt.prop("backgroundPosition"),bgRepeat:dt.prop("backgroundRepeat"),bgAttachment:dt.prop("backgroundAttachment"),bgGradient:dt.propT("backgroundImage",ht.gradient),bgClip:{transform:ht.bgClip}};Object.assign(pt,{bgImage:pt.backgroundImage,bgImg:pt.backgroundImage});var ft={border:dt.borders("border"),borderWidth:dt.borderWidths("borderWidth"),borderStyle:dt.borderStyles("borderStyle"),borderColor:dt.colors("borderColor"),borderRadius:dt.radii("borderRadius"),borderTop:dt.borders("borderTop"),borderBlockStart:dt.borders("borderBlockStart"),borderTopLeftRadius:dt.radii("borderTopLeftRadius"),borderStartStartRadius:dt.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:dt.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:dt.radii("borderTopRightRadius"),borderStartEndRadius:dt.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:dt.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:dt.borders("borderRight"),borderInlineEnd:dt.borders("borderInlineEnd"),borderBottom:dt.borders("borderBottom"),borderBlockEnd:dt.borders("borderBlockEnd"),borderBottomLeftRadius:dt.radii("borderBottomLeftRadius"),borderBottomRightRadius:dt.radii("borderBottomRightRadius"),borderLeft:dt.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:dt.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:dt.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:dt.borders(["borderLeft","borderRight"]),borderInline:dt.borders("borderInline"),borderY:dt.borders(["borderTop","borderBottom"]),borderBlock:dt.borders("borderBlock"),borderTopWidth:dt.borderWidths("borderTopWidth"),borderBlockStartWidth:dt.borderWidths("borderBlockStartWidth"),borderTopColor:dt.colors("borderTopColor"),borderBlockStartColor:dt.colors("borderBlockStartColor"),borderTopStyle:dt.borderStyles("borderTopStyle"),borderBlockStartStyle:dt.borderStyles("borderBlockStartStyle"),borderBottomWidth:dt.borderWidths("borderBottomWidth"),borderBlockEndWidth:dt.borderWidths("borderBlockEndWidth"),borderBottomColor:dt.colors("borderBottomColor"),borderBlockEndColor:dt.colors("borderBlockEndColor"),borderBottomStyle:dt.borderStyles("borderBottomStyle"),borderBlockEndStyle:dt.borderStyles("borderBlockEndStyle"),borderLeftWidth:dt.borderWidths("borderLeftWidth"),borderInlineStartWidth:dt.borderWidths("borderInlineStartWidth"),borderLeftColor:dt.colors("borderLeftColor"),borderInlineStartColor:dt.colors("borderInlineStartColor"),borderLeftStyle:dt.borderStyles("borderLeftStyle"),borderInlineStartStyle:dt.borderStyles("borderInlineStartStyle"),borderRightWidth:dt.borderWidths("borderRightWidth"),borderInlineEndWidth:dt.borderWidths("borderInlineEndWidth"),borderRightColor:dt.colors("borderRightColor"),borderInlineEndColor:dt.colors("borderInlineEndColor"),borderRightStyle:dt.borderStyles("borderRightStyle"),borderInlineEndStyle:dt.borderStyles("borderInlineEndStyle"),borderTopRadius:dt.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:dt.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:dt.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:dt.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(ft,{rounded:ft.borderRadius,roundedTop:ft.borderTopRadius,roundedTopLeft:ft.borderTopLeftRadius,roundedTopRight:ft.borderTopRightRadius,roundedTopStart:ft.borderStartStartRadius,roundedTopEnd:ft.borderStartEndRadius,roundedBottom:ft.borderBottomRadius,roundedBottomLeft:ft.borderBottomLeftRadius,roundedBottomRight:ft.borderBottomRightRadius,roundedBottomStart:ft.borderEndStartRadius,roundedBottomEnd:ft.borderEndEndRadius,roundedLeft:ft.borderLeftRadius,roundedRight:ft.borderRightRadius,roundedStart:ft.borderInlineStartRadius,roundedEnd:ft.borderInlineEndRadius,borderStart:ft.borderInlineStart,borderEnd:ft.borderInlineEnd,borderTopStartRadius:ft.borderStartStartRadius,borderTopEndRadius:ft.borderStartEndRadius,borderBottomStartRadius:ft.borderEndStartRadius,borderBottomEndRadius:ft.borderEndEndRadius,borderStartRadius:ft.borderInlineStartRadius,borderEndRadius:ft.borderInlineEndRadius,borderStartWidth:ft.borderInlineStartWidth,borderEndWidth:ft.borderInlineEndWidth,borderStartColor:ft.borderInlineStartColor,borderEndColor:ft.borderInlineEndColor,borderStartStyle:ft.borderInlineStartStyle,borderEndStyle:ft.borderInlineEndStyle});var mt={color:dt.colors("color"),textColor:dt.colors("color"),fill:dt.colors("fill"),stroke:dt.colors("stroke")},gt={boxShadow:dt.shadows("boxShadow"),mixBlendMode:!0,blendMode:dt.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:dt.prop("backgroundBlendMode"),opacity:!0};Object.assign(gt,{shadow:gt.boxShadow});var yt={filter:{transform:ht.filter},blur:dt.blur("--chakra-blur"),brightness:dt.propT("--chakra-brightness",ht.brightness),contrast:dt.propT("--chakra-contrast",ht.contrast),hueRotate:dt.degreeT("--chakra-hue-rotate"),invert:dt.propT("--chakra-invert",ht.invert),saturate:dt.propT("--chakra-saturate",ht.saturate),dropShadow:dt.propT("--chakra-drop-shadow",ht.dropShadow),backdropFilter:{transform:ht.backdropFilter},backdropBlur:dt.blur("--chakra-backdrop-blur"),backdropBrightness:dt.propT("--chakra-backdrop-brightness",ht.brightness),backdropContrast:dt.propT("--chakra-backdrop-contrast",ht.contrast),backdropHueRotate:dt.degreeT("--chakra-backdrop-hue-rotate"),backdropInvert:dt.propT("--chakra-backdrop-invert",ht.invert),backdropSaturate:dt.propT("--chakra-backdrop-saturate",ht.saturate)},vt={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:ht.flexDirection},experimental_spaceX:{static:et,transform:He({scale:"space",transform:function(e){return null!==e?{"--chakra-space-x":e}:null}})},experimental_spaceY:{static:tt,transform:He({scale:"space",transform:function(e){return null!=e?{"--chakra-space-y":e}:null}})},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:dt.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:dt.space("gap"),rowGap:dt.space("rowGap"),columnGap:dt.space("columnGap")};Object.assign(vt,{flexDir:vt.flexDirection});var bt={gridGap:dt.space("gridGap"),gridColumnGap:dt.space("gridColumnGap"),gridRowGap:dt.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},xt={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:ht.outline},outlineOffset:!0,outlineColor:dt.colors("outlineColor")},_t={width:dt.sizesT("width"),inlineSize:dt.sizesT("inlineSize"),height:dt.sizes("height"),blockSize:dt.sizes("blockSize"),boxSize:dt.sizes(["width","height"]),minWidth:dt.sizes("minWidth"),minInlineSize:dt.sizes("minInlineSize"),minHeight:dt.sizes("minHeight"),minBlockSize:dt.sizes("minBlockSize"),maxWidth:dt.sizes("maxWidth"),maxInlineSize:dt.sizes("maxInlineSize"),maxHeight:dt.sizes("maxHeight"),maxBlockSize:dt.sizes("maxBlockSize"),d:dt.prop("display"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:dt.propT("float",ht.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(_t,{w:_t.width,h:_t.height,minW:_t.minWidth,maxW:_t.maxWidth,minH:_t.minHeight,maxH:_t.maxHeight,overscroll:_t.overscrollBehavior,overscrollX:_t.overscrollBehaviorX,overscrollY:_t.overscrollBehaviorY});var wt={listStyleType:!0,listStylePosition:!0,listStylePos:dt.prop("listStylePosition"),listStyleImage:!0,listStyleImg:dt.prop("listStyleImage")},St={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},kt={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},Ct=function(e,t,i){var n={},r=w(e,t,{});for(var o in r){o in i&&null!=i[o]||(n[o]=r[o])}return n},Tt={srOnly:{transform:function(e){return!0===e?St:"focusable"===e?kt:{}}},layerStyle:{processResult:!0,transform:function(e,t,i){return Ct(t,"layerStyles."+e,i)}},textStyle:{processResult:!0,transform:function(e,t,i){return Ct(t,"textStyles."+e,i)}},apply:{processResult:!0,transform:function(e,t,i){return Ct(t,e,i)}}},Et={position:!0,pos:dt.prop("position"),zIndex:dt.prop("zIndex","zIndices"),inset:dt.spaceT("inset"),insetX:dt.spaceT(["left","right"]),insetInline:dt.spaceT("insetInline"),insetY:dt.spaceT(["top","bottom"]),insetBlock:dt.spaceT("insetBlock"),top:dt.spaceT("top"),insetBlockStart:dt.spaceT("insetBlockStart"),bottom:dt.spaceT("bottom"),insetBlockEnd:dt.spaceT("insetBlockEnd"),left:dt.spaceT("left"),insetInlineStart:dt.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:dt.spaceT("right"),insetInlineEnd:dt.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(Et,{insetStart:Et.insetInlineStart,insetEnd:Et.insetInlineEnd});var At={ring:{transform:ht.ring},ringColor:dt.colors("--chakra-ring-color"),ringOffset:dt.prop("--chakra-ring-offset-width"),ringOffsetColor:dt.colors("--chakra-ring-offset-color"),ringInset:dt.prop("--chakra-ring-inset")},Pt={margin:dt.spaceT("margin"),marginTop:dt.spaceT("marginTop"),marginBlockStart:dt.spaceT("marginBlockStart"),marginRight:dt.spaceT("marginRight"),marginInlineEnd:dt.spaceT("marginInlineEnd"),marginBottom:dt.spaceT("marginBottom"),marginBlockEnd:dt.spaceT("marginBlockEnd"),marginLeft:dt.spaceT("marginLeft"),marginInlineStart:dt.spaceT("marginInlineStart"),marginX:dt.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:dt.spaceT("marginInline"),marginY:dt.spaceT(["marginTop","marginBottom"]),marginBlock:dt.spaceT("marginBlock"),padding:dt.space("padding"),paddingTop:dt.space("paddingTop"),paddingBlockStart:dt.space("paddingBlockStart"),paddingRight:dt.space("paddingRight"),paddingBottom:dt.space("paddingBottom"),paddingBlockEnd:dt.space("paddingBlockEnd"),paddingLeft:dt.space("paddingLeft"),paddingInlineStart:dt.space("paddingInlineStart"),paddingInlineEnd:dt.space("paddingInlineEnd"),paddingX:dt.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:dt.space("paddingInline"),paddingY:dt.space(["paddingTop","paddingBottom"]),paddingBlock:dt.space("paddingBlock")};Object.assign(Pt,{m:Pt.margin,mt:Pt.marginTop,mr:Pt.marginRight,me:Pt.marginInlineEnd,marginEnd:Pt.marginInlineEnd,mb:Pt.marginBottom,ml:Pt.marginLeft,ms:Pt.marginInlineStart,marginStart:Pt.marginInlineStart,mx:Pt.marginX,my:Pt.marginY,p:Pt.padding,pt:Pt.paddingTop,py:Pt.paddingY,px:Pt.paddingX,pb:Pt.paddingBottom,pl:Pt.paddingLeft,ps:Pt.paddingInlineStart,paddingStart:Pt.paddingInlineStart,pr:Pt.paddingRight,pe:Pt.paddingInlineEnd,paddingEnd:Pt.paddingInlineEnd});var Mt={textDecorationColor:dt.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:dt.shadows("textShadow")},Lt={clipPath:!0,transform:dt.propT("transform",ht.transform),transformOrigin:!0,translateX:dt.spaceT("--chakra-translate-x"),translateY:dt.spaceT("--chakra-translate-y"),skewX:dt.degreeT("--chakra-skew-x"),skewY:dt.degreeT("--chakra-skew-y"),scaleX:dt.prop("--chakra-scale-x"),scaleY:dt.prop("--chakra-scale-y"),scale:dt.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:dt.degreeT("--chakra-rotate")},Ot={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:dt.prop("transitionDuration","transition.duration"),transitionProperty:dt.prop("transitionProperty","transition.property"),transitionTimingFunction:dt.prop("transitionTimingFunction","transition.easing")},Rt={fontFamily:dt.prop("fontFamily","fonts"),fontSize:dt.prop("fontSize","fontSizes",ht.px),fontWeight:dt.prop("fontWeight","fontWeights"),lineHeight:dt.prop("lineHeight","lineHeights"),letterSpacing:dt.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"},isTruncated:{transform:function(e){if(!0===e)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}}},It={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:dt.spaceT("scrollMargin"),scrollMarginTop:dt.spaceT("scrollMarginTop"),scrollMarginBottom:dt.spaceT("scrollMarginBottom"),scrollMarginLeft:dt.spaceT("scrollMarginLeft"),scrollMarginRight:dt.spaceT("scrollMarginRight"),scrollMarginX:dt.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:dt.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:dt.spaceT("scrollPadding"),scrollPaddingTop:dt.spaceT("scrollPaddingTop"),scrollPaddingBottom:dt.spaceT("scrollPaddingBottom"),scrollPaddingLeft:dt.spaceT("scrollPaddingLeft"),scrollPaddingRight:dt.spaceT("scrollPaddingRight"),scrollPaddingX:dt.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:dt.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function zt(e,t){var i="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){if(e){if("string"===typeof e)return Dt(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Dt(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){i&&(e=i);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Bt=function(e,t){return e+":hover "+t+", "+e+"[data-hover] "+t},Ft=function(e,t){return e+":focus "+t+", "+e+"[data-focus] "+t},Nt=function(e,t){return e+":focus-visible "+t},jt=function(e,t){return e+":focus-within "+t},Vt=function(e,t){return e+":active "+t+", "+e+"[data-active] "+t},Ut=function(e,t){return e+":disabled "+t+", "+e+"[data-disabled] "+t},Wt=function(e,t){return e+":invalid "+t+", "+e+"[data-invalid] "+t},Ht=function(e,t){return e+":checked "+t+", "+e+"[data-checked] "+t},Gt=function(e,t){return e+":placeholder-shown "+t},qt=function(e){return Xt((function(t){return e(t,"&")}),"[role=group]","[data-group]",".group")},Zt=function(e){return Xt((function(t){return e(t,"~ &")}),"[data-peer]",".peer")},Xt=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return i.map(e).join(", ")},Yt={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible",_disabled:"&[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:qt(Bt),_peerHover:Zt(Bt),_groupFocus:qt(Ft),_peerFocus:Zt(Ft),_groupFocusVisible:qt(Nt),_peerFocusVisible:Zt(Nt),_groupActive:qt(Vt),_peerActive:Zt(Vt),_groupDisabled:qt(Ut),_peerDisabled:Zt(Ut),_groupInvalid:qt(Wt),_peerInvalid:Zt(Wt),_groupChecked:qt(Ht),_peerChecked:Zt(Ht),_groupFocusWithin:qt(jt),_peerFocusWithin:Zt(jt),_peerPlaceholderShown:Zt(Gt),_placeholder:"&::placeholder",_placeholderShown:"&::placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &, [data-theme=dark] &, &[data-theme=dark]",_light:".chakra-ui-light &, [data-theme=light] &, &[data-theme=light]"},$t=C(Yt),Kt=s()({},pt,ft,mt,vt,_t,yt,At,xt,bt,Tt,Et,gt,Pt,It,Rt,Mt,Lt,wt,Ot),Qt=Object.assign({},Pt,_t,vt,bt,Et),Jt=(C(Qt),[].concat(C(Kt),$t)),ei=Ue({},Kt,Yt),ti=function(e){return e in ei},ii=function(e,t){return e.startsWith("--")&&y(t)&&!v(t)},ni=function(e,t){var i,n;if(null==t)return t;var r=function(t){var i,n;return null==(i=e.__cssMap)||null==(n=i[t])?void 0:n.varRef},o=function(e){var t;return null!=(t=r(e))?t:e},a=t.split(",").map((function(e){return e.trim()})),s=a[0],l=a[1];return t=null!=(i=null!=(n=r(s))?n:o(l))?i:o(t)};function ri(e){var t=e.configs,i=void 0===t?{}:t,n=e.pseudos,r=void 0===n?{}:n,o=e.theme;return function e(t,n){void 0===n&&(n=!1);var a=ee(t,o),l=function(e){return function(t){if(!t.__breakpoints)return e;var i=t.__breakpoints,n=i.isResponsive,r=i.toArrayValue,o=i.media,a={};for(var s in e){var l=ee(e[s],t);if(null!=l)if(l=f(l)&&n(l)?r(l):l,Array.isArray(l))for(var u=l.slice(0,o.length).length,c=0;c<u;c+=1){var h=null==o?void 0:o[c];h?(a[h]=a[h]||{},null!=l[c]&&(a[h][s]=l[c])):a[s]=l[c]}else a[s]=l}return a}}(a)(o),u={};for(var c in l){var h,d,p,m,g,y=ee(l[c],o);c in r&&(c=r[c]),ii(c,y)&&(y=ni(o,y));var v=i[c];if(!0===v&&(v={property:c}),f(y)){var b;u[c]=null!=(b=u[c])?b:{},u[c]=s()({},u[c],e(y,!0))}else{var x=null!=(h=null==(d=v)||null==d.transform?void 0:d.transform(y,o,a))?h:y;x=null!=(p=v)&&p.processResult?e(x,!0):x;var _=ee(null==(m=v)?void 0:m.property,o);if(!n&&null!=(g=v)&&g.static){var w=ee(v.static,o);u=s()({},u,w)}if(_&&Array.isArray(_))for(var S,k=zt(_);!(S=k()).done;){u[S.value]=x}else _?"&"===_&&f(x)?u=s()({},u,x):u[_]=x:f(x)?u=s()({},u,x):u[c]=x}}return u}}var oi=function(e){return function(t){return ri({theme:t,pseudos:Yt,configs:Kt})(e)}};function ai(e){return f(e)&&e.reference?e.reference:String(e)}var si=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return i.map(ai).join(" "+e+" ").replace(/calc/g,"")},li=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return"calc("+si.apply(void 0,["+"].concat(t))+")"},ui=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return"calc("+si.apply(void 0,["-"].concat(t))+")"},ci=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return"calc("+si.apply(void 0,["*"].concat(t))+")"},hi=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return"calc("+si.apply(void 0,["/"].concat(t))+")"},di=function(e){var t=ai(e);return null==t||Number.isNaN(parseFloat(t))?ci(t,-1):String(t).startsWith("-")?String(t).slice(1):"-"+t},pi=Object.assign((function(e){return{add:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return pi(li.apply(void 0,[e].concat(i)))},subtract:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return pi(ui.apply(void 0,[e].concat(i)))},multiply:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return pi(ci.apply(void 0,[e].concat(i)))},divide:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return pi(hi.apply(void 0,[e].concat(i)))},negate:function(){return pi(di(e))},toString:function(){return e.toString()}}}),{add:li,subtract:ui,multiply:ci,divide:hi,negate:di});function fi(e){var t=function(e,t){return void 0===t&&(t="-"),e.replace(/\s+/g,t)}(e.toString());return t.includes("\\.")?e:!Number.isInteger(parseFloat(e.toString()))?t.replace(".","\\."):e}function mi(e,t){return"var("+fi(e)+(t?", "+t:"")+")"}function gi(e,t){return void 0===t&&(t=""),"--"+function(e,t){return void 0===t&&(t=""),[t,fi(e)].filter(Boolean).join("-")}(e,t)}function yi(e,t,i){var n=gi(e,i);return{variable:n,reference:mi(n,t)}}function vi(e,t){var i={cssMap:{},cssVars:{}};return function(e,t){(function e(i,n){return void 0===n&&(n=[]),d(i)?i.map((function(t,i){return e(t,[].concat(n,[String(i)]))})):f(i)?T(Object.entries(i).map((function(t){var i=t[0];return[i,e(t[1],[].concat(n,[i]))]}))):t(i,n)})(e)}(e,(function(e,n){var r,o=n[0],a=(null!=(r=bi[o])?r:bi.defaultHandler)(n,e,t),s=a.cssVars,l=a.cssMap;Object.assign(i.cssVars,s),Object.assign(i.cssMap,l)})),i}var bi={space:function(e,t,i){var n,r=bi.defaultHandler(e,t,i),o=e[0]+".-"+e.slice(1).join("."),a=yi(e.join("-"),void 0,i.cssVarPrefix),s=a.variable,l=a.reference,u=pi.negate(t),c=pi.negate(l);return{cssVars:r.cssVars,cssMap:Ue({},r.cssMap,(n={},n[o]={value:""+u,var:""+s,varRef:c},n))}},defaultHandler:function(e,t,i){var n,r,o=e.join("."),a=yi(e.join("-"),void 0,i.cssVarPrefix),s=a.variable,l=a.reference;return{cssVars:(n={},n[s]=t,n),cssMap:(r={},r[o]={value:t,var:s,varRef:l},r)}}};var xi=["__cssMap","__cssVars","__breakpoints"],_i=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur"];function wi(e){return e.__cssMap,e.__cssVars,e.__breakpoints,function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,xi)}var Si=function(){function e(e){var t=this;this._insertTag=function(e){var i;i=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,i),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{i.insertRule(e,i.cssRules.length)}catch(n){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),ki=Math.abs,Ci=String.fromCharCode,Ti=Object.assign;function Ei(e){return e.trim()}function Ai(e,t,i){return e.replace(t,i)}function Pi(e,t){return e.indexOf(t)}function Mi(e,t){return 0|e.charCodeAt(t)}function Li(e,t,i){return e.slice(t,i)}function Oi(e){return e.length}function Ri(e){return e.length}function Ii(e,t){return t.push(e),e}var Di=1,zi=1,Bi=0,Fi=0,Ni=0,ji="";function Vi(e,t,i,n,r,o,a){return{value:e,root:t,parent:i,type:n,props:r,children:o,line:Di,column:zi,length:a,return:""}}function Ui(e,t){return Ti(Vi("",null,null,"",null,null,0),e,{length:-e.length},t)}function Wi(){return Ni=Fi>0?Mi(ji,--Fi):0,zi--,10===Ni&&(zi=1,Di--),Ni}function Hi(){return Ni=Fi<Bi?Mi(ji,Fi++):0,zi++,10===Ni&&(zi=1,Di++),Ni}function Gi(){return Mi(ji,Fi)}function qi(){return Fi}function Zi(e,t){return Li(ji,e,t)}function Xi(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Yi(e){return Di=zi=1,Bi=Oi(ji=e),Fi=0,[]}function $i(e){return ji="",e}function Ki(e){return Ei(Zi(Fi-1,en(91===e?e+2:40===e?e+1:e)))}function Qi(e){for(;(Ni=Gi())&&Ni<33;)Hi();return Xi(e)>2||Xi(Ni)>3?"":" "}function Ji(e,t){for(;--t&&Hi()&&!(Ni<48||Ni>102||Ni>57&&Ni<65||Ni>70&&Ni<97););return Zi(e,qi()+(t<6&&32==Gi()&&32==Hi()))}function en(e){for(;Hi();)switch(Ni){case e:return Fi;case 34:case 39:34!==e&&39!==e&&en(Ni);break;case 40:41===e&&en(e);break;case 92:Hi()}return Fi}function tn(e,t){for(;Hi()&&e+Ni!==57&&(e+Ni!==84||47!==Gi()););return"/*"+Zi(t,Fi-1)+"*"+Ci(47===e?e:Hi())}function nn(e){for(;!Xi(Gi());)Hi();return Zi(e,Fi)}var rn="-ms-",on="-moz-",an="-webkit-",sn="comm",ln="rule",un="decl",cn="@keyframes";function hn(e,t){for(var i="",n=Ri(e),r=0;r<n;r++)i+=t(e[r],r,e,t)||"";return i}function dn(e,t,i,n){switch(e.type){case"@import":case un:return e.return=e.return||e.value;case sn:return"";case cn:return e.return=e.value+"{"+hn(e.children,n)+"}";case ln:e.value=e.props.join(",")}return Oi(i=hn(e.children,n))?e.return=e.value+"{"+i+"}":""}function pn(e,t){switch(function(e,t){return(((t<<2^Mi(e,0))<<2^Mi(e,1))<<2^Mi(e,2))<<2^Mi(e,3)}(e,t)){case 5103:return an+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return an+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return an+e+on+e+rn+e+e;case 6828:case 4268:return an+e+rn+e+e;case 6165:return an+e+rn+"flex-"+e+e;case 5187:return an+e+Ai(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return an+e+rn+"flex-item-"+Ai(e,/flex-|-self/,"")+e;case 4675:return an+e+rn+"flex-line-pack"+Ai(e,/align-content|flex-|-self/,"")+e;case 5548:return an+e+rn+Ai(e,"shrink","negative")+e;case 5292:return an+e+rn+Ai(e,"basis","preferred-size")+e;case 6060:return an+"box-"+Ai(e,"-grow","")+an+e+rn+Ai(e,"grow","positive")+e;case 4554:return an+Ai(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return Ai(Ai(Ai(e,/(zoom-|grab)/,an+"$1"),/(image-set)/,an+"$1"),e,"")+e;case 5495:case 3959:return Ai(e,/(image-set\([^]*)/,an+"$1$`$1");case 4968:return Ai(Ai(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+an+e+e;case 4095:case 3583:case 4068:case 2532:return Ai(e,/(.+)-inline(.+)/,an+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Oi(e)-1-t>6)switch(Mi(e,t+1)){case 109:if(45!==Mi(e,t+4))break;case 102:return Ai(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+on+(108==Mi(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Pi(e,"stretch")?pn(Ai(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Mi(e,t+1))break;case 6444:switch(Mi(e,Oi(e)-3-(~Pi(e,"!important")&&10))){case 107:return Ai(e,":",":"+an)+e;case 101:return Ai(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+an+(45===Mi(e,14)?"inline-":"")+"box$3$1"+an+"$2$3$1"+rn+"$2box$3")+e}break;case 5936:switch(Mi(e,t+11)){case 114:return an+e+rn+Ai(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return an+e+rn+Ai(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return an+e+rn+Ai(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return an+e+rn+e+e}return e}function fn(e){return $i(mn("",null,null,null,[""],e=Yi(e),0,[0],e))}function mn(e,t,i,n,r,o,a,s,l){for(var u=0,c=0,h=a,d=0,p=0,f=0,m=1,g=1,y=1,v=0,b="",x=r,_=o,w=n,S=b;g;)switch(f=v,v=Hi()){case 40:if(108!=f&&58==S.charCodeAt(h-1)){-1!=Pi(S+=Ai(Ki(v),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:S+=Ki(v);break;case 9:case 10:case 13:case 32:S+=Qi(f);break;case 92:S+=Ji(qi()-1,7);continue;case 47:switch(Gi()){case 42:case 47:Ii(yn(tn(Hi(),qi()),t,i),l);break;default:S+="/"}break;case 123*m:s[u++]=Oi(S)*y;case 125*m:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+c:p>0&&Oi(S)-h&&Ii(p>32?vn(S+";",n,i,h-1):vn(Ai(S," ","")+";",n,i,h-2),l);break;case 59:S+=";";default:if(Ii(w=gn(S,t,i,u,c,r,s,b,x=[],_=[],h),o),123===v)if(0===c)mn(S,t,w,w,x,o,h,s,_);else switch(d){case 100:case 109:case 115:mn(e,w,w,n&&Ii(gn(e,w,w,0,0,r,s,b,r,x=[],h),_),r,_,h,s,n?x:_);break;default:mn(S,w,w,w,[""],_,0,s,_)}}u=c=p=0,m=y=1,b=S="",h=a;break;case 58:h=1+Oi(S),p=f;default:if(m<1)if(123==v)--m;else if(125==v&&0==m++&&125==Wi())continue;switch(S+=Ci(v),v*m){case 38:y=c>0?1:(S+="\f",-1);break;case 44:s[u++]=(Oi(S)-1)*y,y=1;break;case 64:45===Gi()&&(S+=Ki(Hi())),d=Gi(),c=h=Oi(b=S+=nn(qi())),v++;break;case 45:45===f&&2==Oi(S)&&(m=0)}}return o}function gn(e,t,i,n,r,o,a,s,l,u,c){for(var h=r-1,d=0===r?o:[""],p=Ri(d),f=0,m=0,g=0;f<n;++f)for(var y=0,v=Li(e,h+1,h=ki(m=a[f])),b=e;y<p;++y)(b=Ei(m>0?d[y]+" "+v:Ai(v,/&\f/g,d[y])))&&(l[g++]=b);return Vi(e,t,i,0===r?ln:s,l,u,c)}function yn(e,t,i){return Vi(e,t,i,sn,Ci(Ni),Li(e,2,-2),0)}function vn(e,t,i,n){return Vi(e,t,i,un,Li(e,0,n),Li(e,n+1,-1),n)}var bn=function(e,t,i){for(var n=0,r=0;n=r,r=Gi(),38===n&&12===r&&(t[i]=1),!Xi(r);)Hi();return Zi(e,Fi)},xn=function(e,t){return $i(function(e,t){var i=-1,n=44;do{switch(Xi(n)){case 0:38===n&&12===Gi()&&(t[i]=1),e[i]+=bn(Fi-1,t,i);break;case 2:e[i]+=Ki(n);break;case 4:if(44===n){e[++i]=58===Gi()?"&\f":"",t[i]=e[i].length;break}default:e[i]+=Ci(n)}}while(n=Hi());return e}(Yi(e),t))},_n=new WeakMap,wn=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,i=e.parent,n=e.column===i.column&&e.line===i.line;"rule"!==i.type;)if(!(i=i.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||_n.get(i))&&!n){_n.set(e,!0);for(var r=[],o=xn(t,r),a=i.props,s=0,l=0;s<o.length;s++)for(var u=0;u<a.length;u++,l++)e.props[l]=r[s]?o[s].replace(/&\f/g,a[u]):a[u]+" "+o[s]}}},Sn=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},kn=[function(e,t,i,n){if(e.length>-1&&!e.return)switch(e.type){case un:e.return=pn(e.value,e.length);break;case cn:return hn([Ui(e,{value:Ai(e.value,"@","@"+an)})],n);case ln:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return hn([Ui(e,{props:[Ai(t,/:(read-\w+)/,":-moz-$1")]})],n);case"::placeholder":return hn([Ui(e,{props:[Ai(t,/:(plac\w+)/,":-webkit-input-$1")]}),Ui(e,{props:[Ai(t,/:(plac\w+)/,":-moz-$1")]}),Ui(e,{props:[Ai(t,/:(plac\w+)/,rn+"input-$1")]})],n)}return""}))}}],Cn=function(e){var t=e.key;if("css"===t){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var n=e.stylisPlugins||kn;var r,o,a={},s=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),i=1;i<t.length;i++)a[t[i]]=!0;s.push(e)}));var l,u,c=[dn,(u=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=function(e){var t=Ri(e);return function(i,n,r,o){for(var a="",s=0;s<t;s++)a+=e[s](i,n,r,o)||"";return a}}([wn,Sn].concat(n,c));o=function(e,t,i,n){l=i,function(e){hn(fn(e),h)}(e?e+"{"+t.styles+"}":t.styles),n&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new Si({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return d.sheet.hydrate(s),d};function Tn(){return Tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Tn.apply(this,arguments)}var En=function(e){var t=new WeakMap;return function(i){if(t.has(i))return t.get(i);var n=e(i);return t.set(i,n),n}};var An=function(e){for(var t,i=0,n=0,r=e.length;r>=4;++n,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),i=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&i)+(59797*(i>>>16)<<16);switch(r){case 3:i^=(255&e.charCodeAt(n+2))<<16;case 2:i^=(255&e.charCodeAt(n+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(n)))+(59797*(i>>>16)<<16)}return(((i=1540483477*(65535&(i^=i>>>13))+(59797*(i>>>16)<<16))^i>>>15)>>>0).toString(36)},Pn={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Mn=function(e){var t=Object.create(null);return function(i){return void 0===t[i]&&(t[i]=e(i)),t[i]}},Ln=/[A-Z]|^ms/g,On=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Rn=function(e){return 45===e.charCodeAt(1)},In=function(e){return null!=e&&"boolean"!==typeof e},Dn=Mn((function(e){return Rn(e)?e:e.replace(Ln,"-$&").toLowerCase()})),zn=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(On,(function(e,t,i){return Fn={name:t,styles:i,next:Fn},t}))}return 1===Pn[e]||Rn(e)||"number"!==typeof t||0===t?t:t+"px"};function Bn(e,t,i){if(null==i)return"";if(void 0!==i.__emotion_styles)return i;switch(typeof i){case"boolean":return"";case"object":if(1===i.anim)return Fn={name:i.name,styles:i.styles,next:Fn},i.name;if(void 0!==i.styles){var n=i.next;if(void 0!==n)for(;void 0!==n;)Fn={name:n.name,styles:n.styles,next:Fn},n=n.next;return i.styles+";"}return function(e,t,i){var n="";if(Array.isArray(i))for(var r=0;r<i.length;r++)n+=Bn(e,t,i[r])+";";else for(var o in i){var a=i[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?n+=o+"{"+t[a]+"}":In(a)&&(n+=Dn(o)+":"+zn(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=Bn(e,t,a);switch(o){case"animation":case"animationName":n+=Dn(o)+":"+s+";";break;default:n+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)In(a[l])&&(n+=Dn(o)+":"+zn(o,a[l])+";")}return n}(e,t,i);case"function":if(void 0!==e){var r=Fn,o=i(e);return Fn=r,Bn(e,t,o)}}if(null==t)return i;var a=t[i];return void 0!==a?a:i}var Fn,Nn=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var jn=function(e,t,i){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,r="";Fn=void 0;var o=e[0];null==o||void 0===o.raw?(n=!1,r+=Bn(i,t,o)):r+=o[0];for(var a=1;a<e.length;a++)r+=Bn(i,t,e[a]),n&&(r+=o[a]);Nn.lastIndex=0;for(var s,l="";null!==(s=Nn.exec(r));)l+="-"+s[1];return{name:An(r)+l,styles:r,next:Fn}},Vn=(0,e.createContext)("undefined"!==typeof HTMLElement?Cn({key:"css"}):null);Vn.Provider;var Un=function(t){return(0,e.forwardRef)((function(i,n){var r=(0,e.useContext)(Vn);return t(i,r,n)}))},Wn=(0,e.createContext)({});var Hn=En((function(e){return En((function(t){return function(e,t){return"function"===typeof t?t(e):Tn({},e,t)}(e,t)}))})),Gn=function(t){var i=(0,e.useContext)(Wn);return t.theme!==i&&(i=Hn(i)(t.theme)),(0,e.createElement)(Wn.Provider,{value:i},t.children)};var qn=i(2110),Zn=i.n(qn);function Xn(e,t,i){var n="";return i.split(" ").forEach((function(i){void 0!==e[i]?t.push(e[i]+";"):n+=i+" "})),n}var Yn=function(e,t,i){var n=e.key+"-"+t.name;if(!1===i&&void 0===e.registered[n]&&(e.registered[n]=t.styles),void 0===e.inserted[t.name]){var r=t;do{e.insert(t===r?"."+n:"",r,e.sheet,!0);r=r.next}while(void 0!==r)}},$n=Un((function(t,i){var n=t.styles,r=jn([n],void 0,(0,e.useContext)(Wn)),o=(0,e.useRef)();return(0,e.useLayoutEffect)((function(){var e=i.key+"-global",t=new Si({key:e,nonce:i.sheet.nonce,container:i.sheet.container,speedy:i.sheet.isSpeedy}),n=!1,a=document.querySelector('style[data-emotion="'+e+" "+r.name+'"]');return i.sheet.tags.length&&(t.before=i.sheet.tags[0]),null!==a&&(n=!0,a.setAttribute("data-emotion",e),t.hydrate([a])),o.current=[t,n],function(){t.flush()}}),[i]),(0,e.useLayoutEffect)((function(){var e=o.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==r.next&&Yn(i,r.next,!0),t.tags.length){var n=t.tags[t.tags.length-1].nextElementSibling;t.before=n,t.flush()}i.insert("",r,t,!1)}}),[i,r.name]),null}));function Kn(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return jn(t)}var Qn=function(){var e=Kn.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var Jn=i(77),er=i.n(Jn);function tr(e,t){if(null!=e)if(p(e))e(t);else try{e.current=t}catch(i){throw new Error("Cannot assign value '"+t+"' to ref '"+e+"'")}}function ir(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){t.forEach((function(t){return tr(t,e)}))}}function nr(t){void 0===t&&(t={});var i=t,n=i.strict,r=void 0===n||n,o=i.errorMessage,a=void 0===o?"useContext: `context` is undefined. Seems you forgot to wrap component within the Provider":o,s=i.name,l=e.createContext(void 0);return l.displayName=s,[l.Provider,function t(){var i=e.useContext(l);if(!i&&r){var n=new Error(a);throw n.name="ContextError",null==Error.captureStackTrace||Error.captureStackTrace(n,t),n}return i},l]}function rr(t){return e.Children.toArray(t).filter((function(t){return e.isValidElement(t)}))}var or=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ar=Mn((function(e){return or.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),sr=function(e){return"theme"!==e},lr=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?ar:sr},ur=function(e,t,i){var n;if(t){var r=t.shouldForwardProp;n=e.__emotion_forwardProp&&r?function(t){return e.__emotion_forwardProp(t)&&r(t)}:r}return"function"!==typeof n&&i&&(n=e.__emotion_forwardProp),n},cr=function(){return null},hr=function t(i,n){var r,o,a=i.__emotion_real===i,s=a&&i.__emotion_base||i;void 0!==n&&(r=n.label,o=n.target);var l=ur(i,n,a),u=l||lr(s),c=!u("as");return function(){var h=arguments,d=a&&void 0!==i.__emotion_styles?i.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{0,d.push(h[0][0]);for(var p=h.length,f=1;f<p;f++)d.push(h[f],h[0][f])}var m=Un((function(t,i,n){var r=c&&t.as||s,a="",h=[],p=t;if(null==t.theme){for(var f in p={},t)p[f]=t[f];p.theme=(0,e.useContext)(Wn)}"string"===typeof t.className?a=Xn(i.registered,h,t.className):null!=t.className&&(a=t.className+" ");var m=jn(d.concat(h),i.registered,p);Yn(i,m,"string"===typeof r);a+=i.key+"-"+m.name,void 0!==o&&(a+=" "+o);var g=c&&void 0===l?lr(r):u,y={};for(var v in t)c&&"as"===v||g(v)&&(y[v]=t[v]);y.className=a,y.ref=n;var b=(0,e.createElement)(r,y),x=(0,e.createElement)(cr,null);return(0,e.createElement)(e.Fragment,null,x,b)}));return m.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",m.defaultProps=i.defaultProps,m.__emotion_real=m,m.__emotion_base=s,m.__emotion_styles=d,m.__emotion_forwardProp=l,Object.defineProperty(m,"toString",{value:function(){return"."+o}}),m.withComponent=function(e,i){return t(e,Tn({},n,i,{shouldForwardProp:ur(m,i,!0)})).apply(void 0,d)},m}},dr=hr.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){dr[e]=dr(e)}));var pr=dr;function fr(){return fr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},fr.apply(this,arguments)}var mr=function(t){var i=t.cssVarsRoot,n=void 0===i?":host, :root":i,r=t.theme,o=t.children,a=e.useMemo((function(){return function(e){var t,i=wi(e),n=vi(function(e){return function(e,t){var i={};return t.forEach((function(t){t in e&&(i[t]=e[t])})),i}(e,_i)}(i),{cssVarPrefix:null==(t=i.config)?void 0:t.cssVarPrefix}),r=n.cssMap,o=n.cssVars;return Object.assign(i,{__cssVars:Ue({},{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},o),__cssMap:r,__breakpoints:O(i.breakpoints)}),i}(r)}),[r]);return e.createElement(Gn,{theme:a},e.createElement($n,{styles:function(e){var t;return(t={})[n]=e.__cssVars,t}}),o)};function gr(){var t=e.useContext(Wn);if(!t)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return t}var yr=nr({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "}),vr=yr[0],br=yr[1],xr=function(){var t=Ne().colorMode;return e.createElement($n,{styles:function(e){var i=ee(w(e,"styles.global"),{theme:e,colorMode:t});if(i){var n=oi(i)(e);return n}}})};function _r(e){return _(e,["styleConfig","size","variant","colorScheme"])}function wr(){return fr({},Ne(),{theme:gr()})}function Sr(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}var kr=new Set([].concat(Jt,["textStyle","layerStyle","apply","isTruncated","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"])),Cr=new Set(["htmlWidth","htmlHeight","htmlSize"]),Tr=function(e){return Cr.has(e)||!kr.has(e)},Er=["theme","css","__css","sx"],Ar=["baseStyle"];var Pr=function(e,t){var i=null!=t?t:{},n=i.baseStyle,r=Sr(i,Ar);r.shouldForwardProp||(r.shouldForwardProp=Tr);var o=function(e){var t=e.baseStyle;return function(e){e.theme;var i=e.css,n=e.__css,r=e.sx,o=S(Sr(e,Er),(function(e,t){return ti(t)})),a=ee(t,e),s=Object.assign({},n,a,k(o),r),l=oi(s)(e.theme);return i?[l,i]:l}}({baseStyle:n});return pr(e,r)(o)};function Mr(t){return e.forwardRef(t)}["a","b","article","aside","blockquote","button","caption","cite","circle","code","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","img","input","kbd","label","li","main","mark","nav","ol","p","path","pre","q","rect","s","svg","section","select","strong","small","span","sub","sup","table","tbody","td","textarea","tfoot","th","thead","tr","ul"].forEach((function(e){Pr[e]=Pr(e)}));var Lr=["styleConfig"];function Or(t,i,n){var r;void 0===i&&(i={}),void 0===n&&(n={});var o=i,a=o.styleConfig,l=Sr(o,Lr),u=wr(),c=u.theme,h=u.colorMode,d=w(c,"components."+t),p=a||d,f=s()({theme:c,colorMode:h},null!=(r=null==p?void 0:p.defaultProps)?r:{},k(_(l,["children"]))),m=(0,e.useRef)({});if(p){var g,y,v,b,x,S,C=ee(null!=(g=p.baseStyle)?g:{},f),T=ee(null!=(y=null==(v=p.variants)?void 0:v[f.variant])?y:{},f),E=ee(null!=(b=null==(x=p.sizes)?void 0:x[f.size])?b:{},f),A=s()({},C,E,T);null!=(S=n)&&S.isMultiPart&&p.parts&&p.parts.forEach((function(e){var t;A[e]=null!=(t=A[e])?t:{}})),er()(m.current,A)||(m.current=A)}return m.current}function Rr(e,t){return Or(e,t,{isMultiPart:!0})}function Ir(){return Ir=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ir.apply(this,arguments)}var Dr=["as","viewBox","color","focusable","children","className","__css"],zr={path:e.createElement("g",{stroke:"currentColor",strokeWidth:"1.5"},e.createElement("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),e.createElement("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),e.createElement("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})),viewBox:"0 0 24 24"},Br=Mr((function(t,i){var n=t.as,r=t.viewBox,o=t.color,a=void 0===o?"currentColor":o,s=t.focusable,l=void 0!==s&&s,u=t.children,c=t.className,h=t.__css,d=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(t,Dr),p={ref:i,focusable:l,className:j("chakra-icon",c),__css:Ir({w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:a},h)},f=null!=r?r:zr.viewBox;if(n&&"string"!==typeof n)return e.createElement(Pr.svg,Ir({as:n},p,d));var m=null!=u?u:zr.path;return e.createElement(Pr.svg,Ir({verticalAlign:"middle",viewBox:f},p,d),m)}));function Fr(){return Fr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Fr.apply(this,arguments)}function Nr(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}var jr=["className"],Vr=Mr((function(t,i){var n=Or("Badge",t),r=_r(t);r.className;var o=Nr(r,jr);return e.createElement(Pr.span,Fr({ref:i,className:j("chakra-badge",t.className)},o,{__css:Fr({display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle"},n)}))}));var Ur=Pr("div");var Wr=Pr("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});var Hr=["className","centerContent"],Gr=Mr((function(t,i){var n=_r(t),r=n.className,o=n.centerContent,a=Nr(n,Hr),s=Or("Container",t);return e.createElement(Pr.div,Fr({ref:i,className:j("chakra-container",r)},a,{__css:Fr({},s,o&&{display:"flex",flexDirection:"column",alignItems:"center"})}))}));var qr=["borderLeftWidth","borderBottomWidth","borderTopWidth","borderRightWidth","borderWidth","borderStyle","borderColor"],Zr=["className","orientation","__css"],Xr=Mr((function(t,i){var n=Or("Divider",t),r=n.borderLeftWidth,o=n.borderBottomWidth,a=n.borderTopWidth,s=n.borderRightWidth,l=n.borderWidth,u=n.borderStyle,c=n.borderColor,h=Nr(n,qr),d=_r(t),p=d.className,f=d.orientation,m=void 0===f?"horizontal":f,g=d.__css,y=Nr(d,Zr),v={vertical:{borderLeftWidth:r||s||l||"1px",height:"100%"},horizontal:{borderBottomWidth:o||a||l||"1px",width:"100%"}};return e.createElement(Pr.hr,Fr({ref:i,"aria-orientation":m},y,{__css:Fr({},h,{border:"0",borderColor:c,borderStyle:u},v[m],g),className:j("chakra-divider",p)}))}));var Yr=["direction","align","justify","wrap","basis","grow","shrink"],$r=Mr((function(t,i){var n=t.direction,r=t.align,o=t.justify,a=t.wrap,s=t.basis,l=t.grow,u=t.shrink,c=Nr(t,Yr),h={display:"flex",flexDirection:n,alignItems:r,justifyContent:o,flexWrap:a,flexBasis:s,flexGrow:l,flexShrink:u};return e.createElement(Pr.div,Fr({ref:i,__css:h},c))}));var Kr=["area","templateAreas","gap","rowGap","columnGap","column","row","autoFlow","autoRows","templateRows","autoColumns","templateColumns"],Qr=Mr((function(t,i){var n=t.area,r=t.templateAreas,o=t.gap,a=t.rowGap,s=t.columnGap,l=t.column,u=t.row,c=t.autoFlow,h=t.autoRows,d=t.templateRows,p=t.autoColumns,f=t.templateColumns,m=Nr(t,Kr),g={display:"grid",gridArea:n,gridTemplateAreas:r,gridGap:o,gridRowGap:a,gridColumnGap:s,gridAutoColumns:p,gridColumn:l,gridRow:u,gridAutoFlow:c,gridAutoRows:h,gridTemplateRows:d,gridTemplateColumns:f};return e.createElement(Pr.div,Fr({ref:i,__css:g},m))}));var Jr=["className"],eo=Mr((function(t,i){var n=Or("Heading",t),r=_r(t);r.className;var o=Nr(r,Jr);return e.createElement(Pr.h2,Fr({ref:i,className:j("chakra-heading",t.className)},o,{__css:n}))}));var to=["className","isExternal"],io=Mr((function(t,i){var n=Or("Link",t),r=_r(t),o=r.className,a=r.isExternal,s=Nr(r,to);return e.createElement(Pr.a,Fr({target:a?"_blank":void 0,rel:a?"noopener noreferrer":void 0,ref:i,className:j("chakra-link",o)},s,{__css:n}))}));var no=nr({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in a `<*List />` "});no[0],no[1];var ro=["columns","spacingX","spacingY","spacing","minChildWidth"],oo=Mr((function(t,i){var n=t.columns,r=t.spacingX,o=t.spacingY,a=t.spacing,s=t.minChildWidth,l=Nr(t,ro),u=s?ve(s,(function(e){return g(e)?null:"repeat(auto-fit, minmax("+(h(t=e)?t+"px":t)+", 1fr))";var t})):ve(n,(function(e){return g(e)?null:"repeat("+e+", minmax(0, 1fr))"}));return e.createElement(Qr,Fr({ref:i,gap:a,columnGap:r,rowGap:o,templateColumns:u},l))}));Pr("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});var ao="& > *:not(style) ~ *:not(style)";var so=["isInline","direction","align","justify","spacing","wrap","children","divider","className","shouldWrapChildren"],lo=function(t){return e.createElement(Pr.div,Fr({className:"chakra-stack__item"},t,{__css:Fr({display:"inline-block",flex:"0 0 auto",minWidth:0},t.__css)}))},uo=Mr((function(t,i){var n,r=t.isInline,o=t.direction,a=t.align,s=t.justify,l=t.spacing,u=void 0===l?"0.5rem":l,c=t.wrap,h=t.children,d=t.divider,p=t.className,f=t.shouldWrapChildren,m=Nr(t,so),g=r?"row":null!=o?o:"column",y=e.useMemo((function(){return function(e){var t,i=e.spacing,n=e.direction,r={column:{marginTop:i,marginEnd:0,marginBottom:0,marginStart:0},row:{marginTop:0,marginEnd:0,marginBottom:0,marginStart:i},"column-reverse":{marginTop:0,marginEnd:0,marginBottom:i,marginStart:0},"row-reverse":{marginTop:0,marginEnd:i,marginBottom:0,marginStart:0}};return(t={flexDirection:n})[ao]=ve(n,(function(e){return r[e]})),t}({direction:g,spacing:u})}),[g,u]),v=e.useMemo((function(){return function(e){var t=e.spacing,i=e.direction,n={column:{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":ve(i,(function(e){return n[e]}))}}({spacing:u,direction:g})}),[u,g]),b=!!d,x=!f&&!b,_=rr(h),w=x?_:_.map((function(t,i){var n="undefined"!==typeof t.key?t.key:i,r=i+1===_.length,o=f?e.createElement(lo,{key:n},t):t;if(!b)return o;var a=r?null:e.cloneElement(d,{__css:v});return e.createElement(e.Fragment,{key:n},o,a)})),S=j("chakra-stack",p);return e.createElement(Pr.div,Fr({ref:i,display:"flex",alignItems:a,justifyContent:s,flexDirection:y.flexDirection,flexWrap:c,className:S,__css:b?{}:(n={},n[ao]=y[ao],n)},m),w)}));var co=Mr((function(t,i){return e.createElement(uo,Fr({align:"center"},t,{direction:"row",ref:i}))}));var ho=Mr((function(t,i){return e.createElement(uo,Fr({align:"center"},t,{direction:"column",ref:i}))}));var po=["className","align","decoration","casing"],fo=Mr((function(t,i){var n=Or("Text",t),r=_r(t);r.className,r.align,r.decoration,r.casing;var o=Nr(r,po),a=k({textAlign:t.align,textDecoration:t.decoration,textTransform:t.casing});return e.createElement(Pr.p,Fr({ref:i,className:j("chakra-text",t.className)},a,o,{__css:n}))}));function mo(){return mo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},mo.apply(this,arguments)}var go=["as","viewBox","color","focusable","children","className","__css"],yo={path:e.createElement("g",{stroke:"currentColor",strokeWidth:"1.5"},e.createElement("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),e.createElement("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),e.createElement("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})),viewBox:"0 0 24 24"},vo=Mr((function(t,i){var n=t.as,r=t.viewBox,o=t.color,a=void 0===o?"currentColor":o,s=t.focusable,l=void 0!==s&&s,u=t.children,c=t.className,h=t.__css,d=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(t,go),p={ref:i,focusable:l,className:j("chakra-icon",c),__css:mo({w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:a},h)},f=null!=r?r:yo.viewBox;if(n&&"string"!==typeof n)return e.createElement(Pr.svg,mo({as:n},p,d));var m=null!=u?u:yo.path;return e.createElement(Pr.svg,mo({verticalAlign:"middle",viewBox:f},p,d),m)}));function bo(t){var i=t.viewBox,n=void 0===i?"0 0 24 24":i,r=t.d,o=t.path,a=(t.displayName,t.defaultProps),s=void 0===a?{}:a,l=Mr((function(t,i){return e.createElement(vo,mo({ref:i,viewBox:n},s,t),null!=o?o:e.createElement("path",{fill:"currentColor",d:r}))}));return l}var xo={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_o=e.createContext&&e.createContext(xo),wo=function(){return wo=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},wo.apply(this,arguments)},So=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};function ko(t){return t&&t.map((function(t,i){return e.createElement(t.tag,wo({key:i},t.attr),ko(t.child))}))}function Co(t){return function(i){return e.createElement(To,wo({attr:wo({},t.attr)},i),ko(t.child))}}function To(t){var i=function(i){var n,r=t.attr,o=t.size,a=t.title,s=So(t,["attr","size","title"]),l=o||i.size||"1em";return i.className&&(n=i.className),t.className&&(n=(n?n+" ":"")+t.className),e.createElement("svg",wo({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,r,s,{className:n,style:wo(wo({color:t.color||i.color},i.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&e.createElement("title",null,a),t.children)};return void 0!==_o?e.createElement(_o.Consumer,null,(function(e){return i(e)})):i(xo)}function Eo(e){return Co({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"}}]})(e)}function Ao(e){return Co({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"}}]})(e)}function Po(e){return Co({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(e)}function Mo(e){return Co({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"}}]})(e)}var Lo=i(184);var Oo=function(){return(0,Lo.jsx)(Ur,{width:"100%",height:"350px",display:"flex",flexDirection:"column",alignItems:"end",p:8,bgColor:"lightblue",justifyContent:"flex-end",children:(0,Lo.jsxs)(ho,{spacing:4,p:4,mr:16,mb:12,mt:12,ml:10,alignItems:"flex-start",children:[(0,Lo.jsx)(eo,{fontFamily:"Poppins",children:"Dan Abramov, PHD"}),(0,Lo.jsx)(fo,{fontFamily:"Poppins",fontWeight:300,fontSize:"lg",children:"Professor of CSE"}),(0,Lo.jsx)(vo,{as:Ao,cursor:"pointer",w:6,h:6})]})})};i(6998);var Ro=B?e.useLayoutEffect:e.useEffect;function Io(t,i){void 0===i&&(i=[]);var n=e.useRef(t);return Ro((function(){n.current=t})),e.useCallback((function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return null==n.current?void 0:n.current.apply(n,t)}),i)}function Do(){return Do=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Do.apply(this,arguments)}var zo={current:1},Bo=e.createContext(zo),Fo=e.memo((function(t){var i=t.children;return e.createElement(Bo.Provider,{value:{current:1}},i)}));function No(t,i){var n=e.useContext(Bo),r=e.useState(n.current),o=r[0],a=r[1];return e.useEffect((function(){a(function(e){return e.current++}(n))}),[n]),e.useMemo((function(){return t||[i,o].filter(Boolean).join("-")}),[t,i,o])}function jo(t){void 0===t&&(t={});var i=t,n=i.onClose,r=i.onOpen,o=i.isOpen,a=i.id,s=Io(r),l=Io(n),u=e.useState(t.defaultIsOpen||!1),c=u[0],h=u[1],d=function(e,t){var i=void 0!==e;return[i,i&&"undefined"!==typeof e?e:t]}(o,c),p=d[0],f=d[1],m=No(a,"disclosure"),g=e.useCallback((function(){p||h(!1),null==l||l()}),[p,l]),y=e.useCallback((function(){p||h(!0),null==s||s()}),[p,s]),v=e.useCallback((function(){(f?g:y)()}),[f,y,g]);return{isOpen:!!f,onOpen:y,onClose:g,onToggle:v,isControlled:p,getButtonProps:function(e){return void 0===e&&(e={}),Do({},e,{"aria-expanded":"true","aria-controls":m,onClick:te(e.onClick,v)})},getDisclosureProps:function(e){return void 0===e&&(e={}),Do({},e,{hidden:!f,id:m})}}}function Vo(t,i,n,r){var o=Io(i);return e.useEffect((function(){var e,i=null!=(e=ee(n))?e:document;return i.addEventListener(t,o,r),function(){i.removeEventListener(t,o,r)}}),[t,n,r,o]),function(){var e;(null!=(e=ee(n))?e:document).removeEventListener(t,o,r)}}var Uo=function(t,i){var n=e.useRef(!1);return e.useEffect((function(){if(n.current)return t();n.current=!0}),i),n.current};function Wo(e,t){var i=t.shouldFocus,n=t.visible,r=t.focusRef,o=i&&!n;Uo((function(){if(o&&!function(e){var t=e.current;if(!t)return!1;var i=V(t);return!!i&&!U(t,i)&&!!Y(i)}(e)){var t=(null==r?void 0:r.current)||e.current;t&&oe(t,{nextTick:!0})}}),[o,e,r])}function Ho(e,t,i,n){return Vo(ge(t),pe(i,"pointerdown"===t),e,n)}function Go(e){var t,i=e.ref,n=e.elements,r=e.enabled,o=(t="Safari",!!B&&function(e){var t=e.userAgent,i=e.vendor,n=/(android)/i.test(t);switch(!0){case/CriOS/.test(t):return"Chrome for iOS";case/Edg\//.test(t):return"Edge";case n&&/Silk\//.test(t):return"Silk";case/Chrome/.test(t)&&/Google Inc/.test(i):return"Chrome";case/Firefox\/\d+\.\d+$/.test(t):return"Firefox";case n:return"AOSP";case/MSIE|Trident/.test(t):return"IE";case/Safari/.test(e.userAgent)&&/Apple Computer/.test(t):return"Safari";case/AppleWebKit/.test(t):return"WebKit";default:return null}}(window.navigator)===t);Ho((function(){return D(i.current)}),"pointerdown",(function(e){if(o&&r){var t=e.target,a=(null!=n?n:[i]).some((function(e){return U(x(e)?e.current:e,t)}));!q(t)&&a&&(e.preventDefault(),oe(t))}}))}var qo={preventScroll:!0,shouldFocus:!1};function Zo(t,i){return void 0===i&&(i=[]),e.useEffect((function(){return function(){return t()}}),i)}function Xo(){var t=e.useRef(!1),i=e.useState(0),n=i[0],r=i[1];return Zo((function(){t.current=!0})),e.useCallback((function(){t.current||r(n+1)}),[n])}function Yo(e,t){if(null!=e)if("function"!==typeof e)try{e.current=t}catch(i){throw new Error("Cannot assign value '"+t+"' to ref '"+e+"'")}else e(t)}function $o(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return e.useMemo((function(){return i.every((function(e){return null==e}))?null:function(e){i.forEach((function(t){t&&Yo(t,e)}))}}),i)}function Ko(){return Ko=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ko.apply(this,arguments)}function Qo(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}var Jo=["htmlWidth","htmlHeight","alt"],ea=["fallbackSrc","fallback","src","srcSet","align","fit","loading","ignoreFallback","crossOrigin"],ta=e.forwardRef((function(t,i){var n=t.htmlWidth,r=t.htmlHeight,o=t.alt,a=Qo(t,Jo);return e.createElement("img",Ko({width:n,height:r,ref:i,alt:o},a))})),ia=Mr((function(t,i){var n=t.fallbackSrc,r=t.fallback,o=t.src,a=t.srcSet,s=t.align,l=t.fit,u=t.loading,c=t.ignoreFallback,h=t.crossOrigin,d=Qo(t,ea),p=null!=u||c||void 0===n&&void 0===r,f=function(t){var i=t.loading,n=t.src,r=t.srcSet,o=t.onLoad,a=t.onError,s=t.crossOrigin,l=t.sizes,u=t.ignoreFallback,c=(0,e.useState)("pending"),h=c[0],d=c[1];(0,e.useEffect)((function(){d(n?"loading":"pending")}),[n]);var p=(0,e.useRef)(),f=(0,e.useCallback)((function(){if(n){m();var e=new Image;e.src=n,s&&(e.crossOrigin=s),r&&(e.srcset=r),l&&(e.sizes=l),i&&(e.loading=i),e.onload=function(e){m(),d("loaded"),null==o||o(e)},e.onerror=function(e){m(),d("failed"),null==a||a(e)},p.current=e}}),[n,s,r,l,o,a,i]),m=function(){p.current&&(p.current.onload=null,p.current.onerror=null,p.current=null)};return Ro((function(){if(!u)return"loading"===h&&f(),function(){m()}}),[h,f,u]),u?"loaded":h}(Ko({},t,{ignoreFallback:p})),m=Ko({ref:i,objectFit:l,objectPosition:s},p?d:_(d,["onError","onLoad"]));return"loaded"!==f?r||e.createElement(Pr.img,Ko({as:ta,className:"chakra-image__placeholder",src:n},m)):e.createElement(Pr.img,Ko({as:ta,src:o,srcSet:a,crossOrigin:h,loading:u,className:"chakra-image"},m))}));var na=function(){return(0,Lo.jsxs)(uo,{direction:["column","column","row"],width:"100%",pl:12,pr:12,pb:12,pt:4,justifyContent:"space-evenly",children:[(0,Lo.jsx)(ia,{borderRadius:"full",boxSize:["150px","300px","400px"],src:"https://bit.ly/dan-abramov",alt:"Dan Abramov",boxShadow:2}),(0,Lo.jsxs)(uo,{direction:"column",p:4,flex:.4,children:[(0,Lo.jsx)(fo,{noOfLines:[15,11,11],fontFamily:"Poppins",fontWeight:300,children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}),(0,Lo.jsx)("br",{}),(0,Lo.jsx)(fo,{noOfLines:[9,6,6],fontFamily:"Poppins",fontWeight:300,children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."})]})]})};function ra(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function oa(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function aa(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(i),!0).forEach((function(t){ra(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):oa(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var sa={border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",width:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},la=Pr("span",{baseStyle:sa});Pr("input",{baseStyle:sa});function ua(){return ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ua.apply(this,arguments)}var ca=["label","thickness","speed","emptyColor","className"],ha=Qn({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),da=Mr((function(t,i){var n=Or("Spinner",t),r=_r(t),o=r.label,a=void 0===o?"Loading...":o,s=r.thickness,l=void 0===s?"2px":s,u=r.speed,c=void 0===u?"0.45s":u,h=r.emptyColor,d=void 0===h?"transparent":h,p=r.className,f=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(r,ca),m=j("chakra-spinner",p),g=ua({display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:l,borderBottomColor:d,borderLeftColor:d,animation:ha+" "+c+" linear infinite"},n);return e.createElement(Pr.div,ua({ref:i,__css:g,className:m},f),a&&e.createElement(la,null,a))}));function pa(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}function fa(){return fa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},fa.apply(this,arguments)}var ma=nr({strict:!1,name:"ButtonGroupContext"}),ga=(ma[0],ma[1]);var ya=["label","placement","spacing","children","className","__css"],va=function(t){var i=t.label,n=t.placement;t.spacing;var r=t.children,o=void 0===r?e.createElement(da,{color:"currentColor",width:"1em",height:"1em"}):r,a=t.className,s=t.__css,l=pa(t,ya),u=j("chakra-button__spinner",a),c="start"===n?"marginEnd":"marginStart",h=e.useMemo((function(){var e;return fa(((e={display:"flex",alignItems:"center",position:i?"relative":"absolute"})[c]=i?"0.5rem":0,e.fontSize="1em",e.lineHeight="normal",e),s)}),[s,i,c]);return e.createElement(Pr.div,fa({className:u},l,{__css:h}),o)};var ba=["children","className"],xa=function(t){var i=t.children,n=t.className,r=pa(t,ba),o=e.isValidElement(i)?e.cloneElement(i,{"aria-hidden":!0,focusable:!1}):i,a=j("chakra-button__icon",n);return e.createElement(Pr.span,fa({display:"inline-flex",alignSelf:"center",flexShrink:0},r,{className:a}),o)};var _a=["isDisabled","isLoading","isActive","isFullWidth","children","leftIcon","rightIcon","loadingText","iconSpacing","type","spinner","spinnerPlacement","className","as"],wa=Mr((function(t,i){var n=ga(),r=Or("Button",fa({},n,t)),o=_r(t),a=o.isDisabled,l=void 0===a?null==n?void 0:n.isDisabled:a,u=o.isLoading,c=o.isActive,h=o.isFullWidth,d=o.children,p=o.leftIcon,f=o.rightIcon,m=o.loadingText,g=o.iconSpacing,y=void 0===g?"0.5rem":g,v=o.type,b=o.spinner,x=o.spinnerPlacement,_=void 0===x?"start":x,w=o.className,S=o.as,k=pa(o,_a),C=e.useMemo((function(){var e,t=s()({},null!=(e=null==r?void 0:r._focus)?e:{},{zIndex:1});return fa({display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",width:h?"100%":"auto"},r,!!n&&{_focus:t})}),[r,n,h]),T=function(t){var i=e.useState(!t),n=i[0],r=i[1],o=e.useCallback((function(e){e&&r("BUTTON"===e.tagName)}),[]);return{ref:o,type:n?"button":void 0}}(S),E=T.ref,A=T.type,P={rightIcon:f,leftIcon:p,iconSpacing:y,children:d};return e.createElement(Pr.button,fa({disabled:l||u,ref:$o(i,E),as:S,type:null!=v?v:A,"data-active":F(c),"data-loading":F(u),__css:C,className:j("chakra-button",w)},k),u&&"start"===_&&e.createElement(va,{className:"chakra-button__spinner--start",label:m,placement:"start"},b),u?m||e.createElement(Pr.span,{opacity:0},e.createElement(Sa,P)):e.createElement(Sa,P),u&&"end"===_&&e.createElement(va,{className:"chakra-button__spinner--end",label:m,placement:"end"},b))}));function Sa(t){var i=t.leftIcon,n=t.rightIcon,r=t.children,o=t.iconSpacing;return e.createElement(e.Fragment,null,i&&e.createElement(xa,{marginEnd:o},i),r,n&&e.createElement(xa,{marginStart:o},n))}var ka=["icon","children","isRound","aria-label"],Ca=Mr((function(t,i){var n=t.icon,r=t.children,o=t.isRound,a=t["aria-label"],s=pa(t,ka),l=n||r,u=e.isValidElement(l)?e.cloneElement(l,{"aria-hidden":!0,focusable:!1}):null;return e.createElement(wa,fa({padding:"0",borderRadius:o?"full":void 0,ref:i,"aria-label":a},s),u)}));B?e.useLayoutEffect:e.useEffect;function Ta(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}function Ea(){return Ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ea.apply(this,arguments)}function Aa(e){return Object.entries(e).sort((function(e,t){return Number.parseInt(e[1],10)>Number.parseInt(t[1],10)?1:-1})).map((function(e,t,i){var n=e[0],r=e[1],o=i[t+1],a=o?o[1]:void 0,s=function(e,t){if(!(parseInt(e,10)>=0)&&!t)return"";var i="(min-width: "+Ma(e)+")";if(!t)return i;i&&(i+=" and ");return i+="(max-width: "+Ma(function(e){return function(e,t){if("number"===typeof e)return""+(e+t);return e.replace(Pa,(function(e){return""+(parseFloat(e)+t)}))}(e,e.endsWith("px")?-1:-.01)}(t))+")",i}(r,a);return{minWidth:r,maxWidth:a,breakpoint:n,query:s}}))}var Pa=/([0-9]+\.?[0-9]*)/;function Ma(e){return h(e)?e+"px":e}var La=["query"],Oa=["query"],Ra=["query"];function Ia(e,t,i){void 0===i&&(i=ye);var n=Object.keys(e).indexOf(t);if(-1!==n)return e[t];for(var r=i.indexOf(t);r>=0;){if(null!=e[i[r]]){n=r;break}r-=1}return-1!==n?e[i[n]]:void 0}function Da(t,i){var n=function(t){var i=gr().breakpoints,n=Ce(),r=e.useMemo((function(){return Aa(Ea({base:"0px"},i))}),[i]),o=e.useState((function(){var e;if(n.window.matchMedia&&(r.forEach((function(t){var i=t.query,r=Ta(t,La);n.window.matchMedia(i).matches&&(e=r)})),e))return e;if(t){var i=r.find((function(e){return e.breakpoint===t}));if(i)return i.query,Ta(i,Oa)}})),a=o[0],s=o[1],l=null==a?void 0:a.breakpoint,u=e.useCallback((function(e,t){e.matches&&l!==t.breakpoint&&s(t)}),[l]);return e.useEffect((function(){var e=new Set;return r.forEach((function(t){var i=t.query,r=Ta(t,Ra),o=n.window.matchMedia(i);u(o,r);var a=function(){u(o,r)};return o.addListener(a),e.add({mediaQuery:o,handleChange:a}),function(){o.removeListener(a)}})),function(){e.forEach((function(e){var t=e.mediaQuery,i=e.handleChange;t.removeListener(i)})),e.clear()}}),[r,i,u,n.window]),l}(i),r=gr();if(n){var o=Object.keys(r.breakpoints);return Ia(d(t)?T(Object.entries(be(t,o)).map((function(e){return[e[0],e[1]]}))):t,n,o)}}var za=function(e,t){return za=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},za(e,t)};function Ba(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}za(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var Fa=function(){return Fa=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Fa.apply(this,arguments)};function Na(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}Object.create;function ja(e){var t="function"===typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Va(e,t){var i="function"===typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,o=i.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){r={error:s}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return a}function Ua(e,t,i){if(i||2===arguments.length)for(var n,r=0,o=t.length;r<o;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}Object.create;var Wa=1/60*1e3,Ha="undefined"!==typeof performance?function(){return performance.now()}:function(){return Date.now()},Ga="undefined"!==typeof window?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout((function(){return e(Ha())}),Wa)};var qa=!0,Za=!1,Xa=!1,Ya={delta:0,timestamp:0},$a=["read","update","preRender","render","postRender"],Ka=$a.reduce((function(e,t){return e[t]=function(e){var t=[],i=[],n=0,r=!1,o=!1,a=new WeakSet,s={schedule:function(e){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&r,s=o?t:i;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),-1===s.indexOf(e)&&(s.push(e),o&&r&&(n=t.length)),e},cancel:function(e){var t=i.indexOf(e);-1!==t&&i.splice(t,1),a.delete(e)},process:function(l){if(r)o=!0;else{r=!0;var u=[i,t];if(t=u[0],(i=u[1]).length=0,n=t.length)for(var c=0;c<n;c++){var h=t[c];h(l),a.has(h)&&(s.schedule(h),e())}r=!1,o&&(o=!1,s.process(l))}}};return s}((function(){return Za=!0})),e}),{}),Qa=$a.reduce((function(e,t){var i=Ka[t];return e[t]=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Za||ns(),i.schedule(e,t,n)},e}),{}),Ja=$a.reduce((function(e,t){return e[t]=Ka[t].cancel,e}),{}),es=$a.reduce((function(e,t){return e[t]=function(){return Ka[t].process(Ya)},e}),{}),ts=function(e){return Ka[e].process(Ya)},is=function e(t){Za=!1,Ya.delta=qa?Wa:Math.max(Math.min(t-Ya.timestamp,40),1),Ya.timestamp=t,Xa=!0,$a.forEach(ts),Xa=!1,Za&&(qa=!1,Ga(e))},ns=function(){Za=!0,qa=!0,Xa||Ga(is)},rs=function(){return Ya},os=Qa;function as(t){return(0,e.useEffect)((function(){return function(){return t()}}),[])}var ss=(0,e.createContext)(null);function ls(t){var i=(0,e.useRef)(null);return null===i.current&&(i.current=t()),i.current}var us=0;function cs(){var e=us;return us++,e}var hs=function(t){var i=t.children,n=t.initial,r=t.isPresent,o=t.onExitComplete,a=t.custom,s=t.presenceAffectsLayout,l=ls(ds),u=ls(cs),c=(0,e.useMemo)((function(){return{id:u,initial:n,isPresent:r,custom:a,onExitComplete:function(e){var t,i;l.set(e,!0);try{for(var n=ja(l.values()),r=n.next();!r.done;r=n.next()){if(!r.value)return}}catch(a){t={error:a}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}null===o||void 0===o||o()},register:function(e){return l.set(e,!1),function(){return l.delete(e)}}}}),s?void 0:[r]);return(0,e.useMemo)((function(){l.forEach((function(e,t){return l.set(t,!1)}))}),[r]),e.useEffect((function(){!r&&!l.size&&(null===o||void 0===o||o())}),[r]),e.createElement(ss.Provider,{value:c},i)};function ds(){return new Map}var ps=(0,e.createContext)({});function fs(e){return e.key||""}var ms=function(t){var i=t.children,n=t.custom,r=t.initial,o=void 0===r||r,a=t.onExitComplete,s=t.exitBeforeEnter,l=t.presenceAffectsLayout,u=void 0===l||l,c=Va(function(){var t=(0,e.useRef)(!1),i=Va((0,e.useState)(0),2),n=i[0],r=i[1];as((function(){return t.current=!0}));var o=(0,e.useCallback)((function(){!t.current&&r(n+1)}),[n]);return[(0,e.useCallback)((function(){return os.postRender(o)}),[o]),n]}(),1),h=c[0],d=(0,e.useContext)(ps).forceRender;d&&(h=d);var p=(0,e.useRef)(!0),f=(0,e.useRef)(!0);(0,e.useEffect)((function(){return function(){f.current=!1}}),[]);var m=function(t){var i=[];return e.Children.forEach(t,(function(t){(0,e.isValidElement)(t)&&i.push(t)})),i}(i),g=(0,e.useRef)(m),y=(0,e.useRef)(new Map).current,v=(0,e.useRef)(new Set).current;if(function(e,t){e.forEach((function(e){var i=fs(e);t.set(i,e)}))}(m,y),p.current)return p.current=!1,e.createElement(e.Fragment,null,m.map((function(t){return e.createElement(hs,{key:fs(t),isPresent:!0,initial:!!o&&void 0,presenceAffectsLayout:u},t)})));for(var b=Ua([],Va(m),!1),x=g.current.map(fs),_=m.map(fs),w=x.length,S=0;S<w;S++){var k=x[S];-1===_.indexOf(k)?v.add(k):v.delete(k)}return s&&v.size&&(b=[]),v.forEach((function(t){if(-1===_.indexOf(t)){var i=y.get(t);if(i){var r=x.indexOf(t);b.splice(r,0,e.createElement(hs,{key:fs(i),isPresent:!1,onExitComplete:function(){y.delete(t),v.delete(t);var e=g.current.findIndex((function(e){return e.key===t}));if(g.current.splice(e,1),!v.size){if(g.current=m,!1===f.current)return;h(),a&&a()}},custom:n,presenceAffectsLayout:u},i))}}})),b=b.map((function(t){var i=t.key;return v.has(i)?t:e.createElement(hs,{key:fs(t),isPresent:!0,presenceAffectsLayout:u},t)})),g.current=b,e.createElement(e.Fragment,null,v.size?b:b.map((function(t){return(0,e.cloneElement)(t)})))},gs=function(e){return{isEnabled:function(t){return e.some((function(e){return!!t[e]}))}}},ys={measureLayout:gs(["layout","layoutId","drag"]),animation:gs(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:gs(["exit"]),drag:gs(["drag","dragControls"]),focus:gs(["whileFocus"]),hover:gs(["whileHover","onHoverStart","onHoverEnd"]),tap:gs(["whileTap","onTap","onTapStart","onTapCancel"]),pan:gs(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:gs(["whileInView","onViewportEnter","onViewportLeave"])};var vs=(0,e.createContext)({strict:!1}),bs=Object.keys(ys),xs=bs.length;var _s=(0,e.createContext)({transformPagePoint:function(e){return e},isStatic:!1}),ws=(0,e.createContext)({});var Ss="undefined"!==typeof window,ks=Ss?e.useLayoutEffect:e.useEffect;function Cs(t,i,n,r){var o=(0,e.useContext)(vs),a=(0,e.useContext)(ws).visualElement,s=(0,e.useContext)(ss),l=(0,e.useRef)(void 0);r||(r=o.renderer),!l.current&&r&&(l.current=r(t,{visualState:i,parent:a,props:n,presenceId:null===s||void 0===s?void 0:s.id,blockInitialAnimation:!1===(null===s||void 0===s?void 0:s.initial)}));var u=l.current;return ks((function(){null===u||void 0===u||u.syncRender()})),(0,e.useEffect)((function(){var e;null===(e=null===u||void 0===u?void 0:u.animationState)||void 0===e||e.animateChanges()})),ks((function(){return function(){return null===u||void 0===u?void 0:u.notifyUnmount()}}),[]),u}function Ts(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Es(e){return Array.isArray(e)}function As(e){return"string"===typeof e||Es(e)}function Ps(e,t,i,n,r){var o;return void 0===n&&(n={}),void 0===r&&(r={}),"function"===typeof t&&(t=t(null!==i&&void 0!==i?i:e.custom,n,r)),"string"===typeof t&&(t=null===(o=e.variants)||void 0===o?void 0:o[t]),"function"===typeof t&&(t=t(null!==i&&void 0!==i?i:e.custom,n,r)),t}function Ms(e,t,i){var n=e.getProps();return Ps(n,t,null!==i&&void 0!==i?i:n.custom,function(e){var t={};return e.forEachValue((function(e,i){return t[i]=e.get()})),t}(e),function(e){var t={};return e.forEachValue((function(e,i){return t[i]=e.getVelocity()})),t}(e))}function Ls(e){var t;return"function"===typeof(null===(t=e.animate)||void 0===t?void 0:t.start)||As(e.initial)||As(e.animate)||As(e.whileHover)||As(e.whileDrag)||As(e.whileTap)||As(e.whileFocus)||As(e.exit)}function Os(e){return Boolean(Ls(e)||e.variants)}function Rs(t){var i=function(e,t){if(Ls(e)){var i=e.initial,n=e.animate;return{initial:!1===i||As(i)?i:void 0,animate:As(n)?n:void 0}}return!1!==e.inherit?t:{}}(t,(0,e.useContext)(ws)),n=i.initial,r=i.animate;return(0,e.useMemo)((function(){return{initial:n,animate:r}}),[Is(n),Is(r)])}function Is(e){return Array.isArray(e)?e.join(" "):e}var Ds=function(e,t,i){return-i*e+i*t+e};function zs(e,t){return t?e*(1e3/t):0}function Bs(e,t){-1===e.indexOf(t)&&e.push(t)}function Fs(e,t){var i=e.indexOf(t);i>-1&&e.splice(i,1)}var Ns=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(e){var t=this;return Bs(this.subscriptions,e),function(){return Fs(t.subscriptions,e)}},e.prototype.notify=function(e,t,i){var n=this.subscriptions.length;if(n)if(1===n)this.subscriptions[0](e,t,i);else for(var r=0;r<n;r++){var o=this.subscriptions[r];o&&o(e,t,i)}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),js=function(){function e(e){var t,i=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new Ns,this.velocityUpdateSubscribers=new Ns,this.renderSubscribers=new Ns,this.canTrackVelocity=!1,this.updateAndNotify=function(e,t){void 0===t&&(t=!0),i.prev=i.current,i.current=e;var n=rs(),r=n.delta,o=n.timestamp;i.lastUpdated!==o&&(i.timeDelta=r,i.lastUpdated=o,os.postRender(i.scheduleVelocityCheck)),i.prev!==i.current&&i.updateSubscribers.notify(i.current),i.velocityUpdateSubscribers.getSize()&&i.velocityUpdateSubscribers.notify(i.getVelocity()),t&&i.renderSubscribers.notify(i.current)},this.scheduleVelocityCheck=function(){return os.postRender(i.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==i.lastUpdated&&(i.prev=i.current,i.velocityUpdateSubscribers.notify(i.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t)))}return e.prototype.onChange=function(e){return this.updateSubscribers.add(e)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},e.prototype.attach=function(e){this.passiveEffect=e},e.prototype.set=function(e,t){void 0===t&&(t=!0),t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?zs(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(e){var t=this;return this.stop(),new Promise((function(i){t.hasAnimated=!0,t.stopAnimation=e(i)})).then((function(){return t.clearAnimation()}))},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function Vs(e){return new js(e)}var Us=function(e){return Boolean(null!==e&&"object"===typeof e&&e.getVelocity)};function Ws(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}Object.create;Object.create;var Hs=function(e,t,i){return Math.min(Math.max(i,e),t)},Gs=.001;function qs(e){var t,i,n=e.duration,r=void 0===n?800:n,o=e.bounce,a=void 0===o?.25:o,s=e.velocity,l=void 0===s?0:s,u=e.mass,c=void 0===u?1:u,h=1-a;h=Hs(.05,1,h),r=Hs(.01,10,r/1e3),h<1?(t=function(e){var t=e*h,i=t*r,n=t-l,o=Zs(e,h),a=Math.exp(-i);return Gs-n/o*a},i=function(e){var i=e*h*r,n=i*l+l,o=Math.pow(h,2)*Math.pow(e,2)*r,a=Math.exp(-i),s=Zs(Math.pow(e,2),h);return(-t(e)+Gs>0?-1:1)*((n-o)*a)/s}):(t=function(e){return Math.exp(-e*r)*((e-l)*r+1)-.001},i=function(e){return Math.exp(-e*r)*(r*r*(l-e))});var d=function(e,t,i){for(var n=i,r=1;r<12;r++)n-=e(n)/t(n);return n}(t,i,5/r);if(r*=1e3,isNaN(d))return{stiffness:100,damping:10,duration:r};var p=Math.pow(d,2)*c;return{stiffness:p,damping:2*h*Math.sqrt(c*p),duration:r}}function Zs(e,t){return e*Math.sqrt(1-t*t)}var Xs=["duration","bounce"],Ys=["stiffness","damping","mass"];function $s(e,t){return t.some((function(t){return void 0!==e[t]}))}function Ks(e){var t=e.from,i=void 0===t?0:t,n=e.to,r=void 0===n?1:n,o=e.restSpeed,a=void 0===o?2:o,s=e.restDelta,l=Ws(e,["from","to","restSpeed","restDelta"]),u={done:!1,value:i},c=function(e){var t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!$s(e,Ys)&&$s(e,Xs)){var i=qs(e);(t=Object.assign(Object.assign(Object.assign({},t),i),{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(l),h=c.stiffness,d=c.damping,p=c.mass,f=c.velocity,m=c.duration,g=c.isResolvedFromDuration,y=Qs,v=Qs;function b(){var e=f?-f/1e3:0,t=r-i,n=d/(2*Math.sqrt(h*p)),o=Math.sqrt(h/p)/1e3;if(void 0===s&&(s=Math.min(Math.abs(r-i)/100,.4)),n<1){var a=Zs(o,n);y=function(i){var s=Math.exp(-n*o*i);return r-s*((e+n*o*t)/a*Math.sin(a*i)+t*Math.cos(a*i))},v=function(i){var r=Math.exp(-n*o*i);return n*o*r*(Math.sin(a*i)*(e+n*o*t)/a+t*Math.cos(a*i))-r*(Math.cos(a*i)*(e+n*o*t)-a*t*Math.sin(a*i))}}else if(1===n)y=function(i){return r-Math.exp(-o*i)*(t+(e+o*t)*i)};else{var l=o*Math.sqrt(n*n-1);y=function(i){var a=Math.exp(-n*o*i),s=Math.min(l*i,300);return r-a*((e+n*o*t)*Math.sinh(s)+l*t*Math.cosh(s))/l}}}return b(),{next:function(e){var t=y(e);if(g)u.done=e>=m;else{var i=1e3*v(e),n=Math.abs(i)<=a,o=Math.abs(r-t)<=s;u.done=n&&o}return u.value=u.done?r:t,u},flipTarget:function(){f=-f;var e=[r,i];i=e[0],r=e[1],b()}}}Ks.needsInterpolation=function(e,t){return"string"===typeof e||"string"===typeof t};var Qs=function(e){return 0},Js=function(e,t,i){var n=t-e;return 0===n?1:(i-e)/n},el=function(e,t){return function(i){return Math.max(Math.min(i,t),e)}},tl=function(e){return e%1?Number(e.toFixed(5)):e},il=/(-)?([\d]*\.?[\d])+/g,nl=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,rl=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function ol(e){return"string"===typeof e}var al={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},sl=Object.assign(Object.assign({},al),{transform:el(0,1)}),ll=Object.assign(Object.assign({},al),{default:1}),ul=function(e,t){return function(i){return Boolean(ol(i)&&rl.test(i)&&i.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(i,t))}},cl=function(e,t,i){return function(n){var r;if(!ol(n))return n;var a=o(n.match(il),4),s=a[0],l=a[1],u=a[2],c=a[3];return ra(r={},e,parseFloat(s)),ra(r,t,parseFloat(l)),ra(r,i,parseFloat(u)),ra(r,"alpha",void 0!==c?parseFloat(c):1),r}},hl=el(0,255),dl=Object.assign(Object.assign({},al),{transform:function(e){return Math.round(hl(e))}}),pl={test:ul("rgb","red"),parse:cl("red","green","blue"),transform:function(e){var t=e.red,i=e.green,n=e.blue,r=e.alpha,o=void 0===r?1:r;return"rgba("+dl.transform(t)+", "+dl.transform(i)+", "+dl.transform(n)+", "+tl(sl.transform(o))+")"}};var fl={test:ul("#"),parse:function(e){var t="",i="",n="",r="";return e.length>5?(t=e.substr(1,2),i=e.substr(3,2),n=e.substr(5,2),r=e.substr(7,2)):(t=e.substr(1,1),i=e.substr(2,1),n=e.substr(3,1),r=e.substr(4,1),t+=t,i+=i,n+=n,r+=r),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}},transform:pl.transform},ml=function(e){return{test:function(t){return ol(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return"".concat(t).concat(e)}}},gl=ml("deg"),yl=ml("%"),vl=ml("px"),bl=ml("vh"),xl=ml("vw"),_l=Object.assign(Object.assign({},yl),{parse:function(e){return yl.parse(e)/100},transform:function(e){return yl.transform(100*e)}}),wl={test:ul("hsl","hue"),parse:cl("hue","saturation","lightness"),transform:function(e){var t=e.hue,i=e.saturation,n=e.lightness,r=e.alpha,o=void 0===r?1:r;return"hsla("+Math.round(t)+", "+yl.transform(tl(i))+", "+yl.transform(tl(n))+", "+tl(sl.transform(o))+")"}};function Sl(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function kl(e){var t=e.hue,i=e.saturation,n=e.lightness,r=e.alpha;t/=360,n/=100;var o=0,a=0,s=0;if(i/=100){var l=n<.5?n*(1+i):n+i-n*i,u=2*n-l;o=Sl(u,l,t+1/3),a=Sl(u,l,t),s=Sl(u,l,t-1/3)}else o=a=s=n;return{red:Math.round(255*o),green:Math.round(255*a),blue:Math.round(255*s),alpha:r}}var Cl=function(e,t,i){var n=e*e,r=t*t;return Math.sqrt(Math.max(0,i*(r-n)+n))},Tl=[fl,pl,wl],El=function(e){return Tl.find((function(t){return t.test(e)}))},Al=function(e){return"'".concat(e,"' is not an animatable color. Use the equivalent color code instead.")},Pl=function(e,t){var i=El(e),n=El(t);Al(e),Al(t);var r=i.parse(e),o=n.parse(t);i===wl&&(r=kl(r),i=pl),n===wl&&(o=kl(o),n=pl);var a=Object.assign({},r);return function(e){for(var t in a)"alpha"!==t&&(a[t]=Cl(r[t],o[t],e));return a.alpha=Ds(r.alpha,o.alpha,e),i.transform(a)}};function Ml(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ll={test:function(e){return pl.test(e)||fl.test(e)||wl.test(e)},parse:function(e){return pl.test(e)?pl.parse(e):wl.test(e)?wl.parse(e):fl.parse(e)},transform:function(e){return ol(e)?e:e.hasOwnProperty("red")?pl.transform(e):wl.transform(e)}},Ol="${c}",Rl="${n}";function Il(e){"number"===typeof e&&(e="".concat(e));var t=[],i=0,n=e.match(nl);n&&(i=n.length,e=e.replace(nl,Ol),t.push.apply(t,Ml(n.map(Ll.parse))));var r=e.match(il);return r&&(e=e.replace(il,Rl),t.push.apply(t,Ml(r.map(al.parse)))),{values:t,numColors:i,tokenised:e}}function Dl(e){return Il(e).values}function zl(e){var t=Il(e),i=t.values,n=t.numColors,r=t.tokenised,o=i.length;return function(e){for(var t=r,i=0;i<o;i++)t=t.replace(i<n?Ol:Rl,i<n?Ll.transform(e[i]):tl(e[i]));return t}}var Bl=function(e){return"number"===typeof e?0:e};var Fl={test:function(e){var t,i,n,r;return isNaN(e)&&ol(e)&&(null!==(i=null===(t=e.match(il))||void 0===t?void 0:t.length)&&void 0!==i?i:0)+(null!==(r=null===(n=e.match(nl))||void 0===n?void 0:n.length)&&void 0!==r?r:0)>0},parse:Dl,createTransformer:zl,getAnimatableNone:function(e){var t=Dl(e);return zl(e)(t.map(Bl))}},Nl=function(e){return"number"===typeof e},jl=function(e,t){return function(i){return t(e(i))}},Vl=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce(jl)};function Ul(e,t){return Nl(e)?function(i){return Ds(e,t,i)}:Ll.test(e)?Pl(e,t):ql(e,t)}var Wl=function(e,t){var i=Ml(e),n=i.length,r=e.map((function(e,i){return Ul(e,t[i])}));return function(e){for(var t=0;t<n;t++)i[t]=r[t](e);return i}},Hl=function(e,t){var i=Object.assign(Object.assign({},e),t),n={};for(var r in i)void 0!==e[r]&&void 0!==t[r]&&(n[r]=Ul(e[r],t[r]));return function(e){for(var t in n)i[t]=n[t](e);return i}};function Gl(e){for(var t=Fl.parse(e),i=t.length,n=0,r=0,o=0,a=0;a<i;a++)n||"number"===typeof t[a]?n++:void 0!==t[a].hue?o++:r++;return{parsed:t,numNumbers:n,numRGB:r,numHSL:o}}var ql=function(e,t){var i=Fl.createTransformer(t),n=Gl(e),r=Gl(t);return n.numHSL===r.numHSL&&n.numRGB===r.numRGB&&n.numNumbers>=r.numNumbers?Vl(Wl(n.parsed,r.parsed),i):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),function(i){return"".concat(i>0?t:e)})},Zl=function(e,t){return function(i){return Ds(e,t,i)}};function Xl(e,t,i){for(var n=[],r=i||function(e){return"number"===typeof e?Zl:"string"===typeof e?Ll.test(e)?Pl:ql:Array.isArray(e)?Wl:"object"===typeof e?Hl:void 0}(e[0]),o=e.length-1,a=0;a<o;a++){var s=r(e[a],e[a+1]);if(t){var l=Array.isArray(t)?t[a]:t;s=Vl(l,s)}n.push(s)}return n}function Yl(e,t){var i=o(e,2),n=i[0],r=i[1],a=o(t,1)[0];return function(e){return a(Js(n,r,e))}}function $l(e,t){var i=e.length,n=i-1;return function(r){var o=0,a=!1;if(r<=e[0]?a=!0:r>=e[n]&&(o=n-1,a=!0),!a){for(var s=1;s<i&&!(e[s]>r||s===n);s++);o=s-1}var l=Js(e[o],e[o+1],r);return t[o](l)}}function Kl(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.clamp,r=void 0===n||n,o=i.ease,a=i.mixer,s=e.length;t.length,!o||!Array.isArray(o)||o.length,e[0]>e[s-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());var l=Xl(t,o,a),u=2===s?Yl(e,l):$l(e,l);return r?function(t){return u(Hs(e[0],e[s-1],t))}:u}var Ql,Jl=function(e){return function(t){return 1-e(1-t)}},eu=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},tu=function(e){return function(t){return t*t*((e+1)*t-e)}},iu=function(e){return e},nu=(Ql=2,function(e){return Math.pow(e,Ql)}),ru=Jl(nu),ou=eu(nu),au=function(e){return 1-Math.sin(Math.acos(e))},su=Jl(au),lu=eu(su),uu=tu(1.525),cu=Jl(uu),hu=eu(uu),du=function(e){var t=tu(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}}(1.525),pu=function(e){if(1===e||0===e)return e;var t=e*e;return e<.36363636363636365?7.5625*t:e<.7272727272727273?9.075*t-9.9*e+3.4:e<.9?12.066481994459833*t-19.63545706371191*e+8.898060941828255:10.8*e*e-20.52*e+10.72},fu=Jl(pu);function mu(e,t){return e.map((function(){return t||ou})).splice(0,e.length-1)}function gu(e){var t=e.from,i=void 0===t?0:t,n=e.to,r=void 0===n?1:n,o=e.ease,a=e.offset,s=e.duration,l=void 0===s?300:s,u={done:!1,value:i},c=Array.isArray(r)?r:[i,r],h=function(e,t){return e.map((function(e){return e*t}))}(a&&a.length===c.length?a:function(e){var t=e.length;return e.map((function(e,i){return 0!==i?i/(t-1):0}))}(c),l);function d(){return Kl(h,c,{ease:Array.isArray(o)?o:mu(c,o)})}var p=d();return{next:function(e){return u.value=p(e),u.done=e>=l,u},flipTarget:function(){c.reverse(),p=d()}}}var yu={keyframes:gu,spring:Ks,decay:function(e){var t=e.velocity,i=void 0===t?0:t,n=e.from,r=void 0===n?0:n,o=e.power,a=void 0===o?.8:o,s=e.timeConstant,l=void 0===s?350:s,u=e.restDelta,c=void 0===u?.5:u,h=e.modifyTarget,d={done:!1,value:r},p=a*i,f=r+p,m=void 0===h?f:h(f);return m!==f&&(p=m-r),{next:function(e){var t=-p*Math.exp(-e/l);return d.done=!(t>c||t<-c),d.value=d.done?m:m+t,d},flipTarget:function(){}}}};var vu=1/60*1e3,bu="undefined"!==typeof performance?function(){return performance.now()}:function(){return Date.now()},xu="undefined"!==typeof window?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout((function(){return e(bu())}),vu)};var _u=!0,wu=!1,Su=!1,ku={delta:0,timestamp:0},Cu=["read","update","preRender","render","postRender"],Tu=Cu.reduce((function(e,t){return e[t]=function(e){var t=[],i=[],n=0,r=!1,o=!1,a=new WeakSet,s={schedule:function(e){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&r,s=o?t:i;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),-1===s.indexOf(e)&&(s.push(e),o&&r&&(n=t.length)),e},cancel:function(e){var t=i.indexOf(e);-1!==t&&i.splice(t,1),a.delete(e)},process:function(l){if(r)o=!0;else{r=!0;var u=[i,t];if(t=u[0],(i=u[1]).length=0,n=t.length)for(var c=0;c<n;c++){var h=t[c];h(l),a.has(h)&&(s.schedule(h),e())}r=!1,o&&(o=!1,s.process(l))}}};return s}((function(){return wu=!0})),e}),{}),Eu=Cu.reduce((function(e,t){var i=Tu[t];return e[t]=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return wu||Lu(),i.schedule(e,t,n)},e}),{}),Au=Cu.reduce((function(e,t){return e[t]=Tu[t].cancel,e}),{}),Pu=(Cu.reduce((function(e,t){return e[t]=function(){return Tu[t].process(ku)},e}),{}),function(e){return Tu[e].process(ku)}),Mu=function e(t){wu=!1,ku.delta=_u?vu:Math.max(Math.min(t-ku.timestamp,40),1),ku.timestamp=t,Su=!0,Cu.forEach(Pu),Su=!1,wu&&(_u=!1,xu(e))},Lu=function(){wu=!0,_u=!0,Su||xu(Mu)},Ou=Eu;function Ru(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e-t-i}var Iu=function(e){var t=function(t){var i=t.delta;return e(i)};return{start:function(){return Ou.update(t,!0)},stop:function(){return Au.update(t)}}};function Du(e){var t,i,n,r,o,a=e.from,s=e.autoplay,l=void 0===s||s,u=e.driver,c=void 0===u?Iu:u,h=e.elapsed,d=void 0===h?0:h,p=e.repeat,f=void 0===p?0:p,m=e.repeatType,g=void 0===m?"loop":m,y=e.repeatDelay,v=void 0===y?0:y,b=e.onPlay,x=e.onStop,_=e.onComplete,w=e.onRepeat,S=e.onUpdate,k=Ws(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),C=k.to,T=0,E=k.duration,A=!1,P=!0,M=function(e){if(Array.isArray(e.to))return gu;if(yu[e.type])return yu[e.type];var t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?gu:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?Ks:gu}(k);(null===(i=(t=M).needsInterpolation)||void 0===i?void 0:i.call(t,a,C))&&(o=Kl([0,100],[a,C],{clamp:!1}),a=0,C=100);var L=M(Object.assign(Object.assign({},k),{from:a,to:C}));function O(){T++,"reverse"===g?d=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?t-(e-t)+i:Ru(t+-e,t,i)}(d,E,v,P=T%2===0):(d=Ru(d,E,v),"mirror"===g&&L.flipTarget()),A=!1,w&&w()}function R(e){if(P||(e=-e),d+=e,!A){var t=L.next(Math.max(0,d));r=t.value,o&&(r=o(r)),A=P?t.done:d<=0}null===S||void 0===S||S(r),A&&(0===T&&(null!==E&&void 0!==E||(E=d)),T<f?function(e,t,i,n){return n?e>=t+i:e<=-i}(d,E,v,P)&&O():(n.stop(),_&&_()))}return l&&(null===b||void 0===b||b(),(n=c(R)).start()),{stop:function(){null===x||void 0===x||x(),n.stop()}}}function zu(e){var t,i=e.from,n=void 0===i?0:i,r=e.velocity,o=void 0===r?0:r,a=e.min,s=e.max,l=e.power,u=void 0===l?.8:l,c=e.timeConstant,h=void 0===c?750:c,d=e.bounceStiffness,p=void 0===d?500:d,f=e.bounceDamping,m=void 0===f?10:f,g=e.restDelta,y=void 0===g?1:g,v=e.modifyTarget,b=e.driver,x=e.onUpdate,_=e.onComplete,w=e.onStop;function S(e){return void 0!==a&&e<a||void 0!==s&&e>s}function k(e){return void 0===a?s:void 0===s||Math.abs(a-e)<Math.abs(s-e)?a:s}function C(e){null===t||void 0===t||t.stop(),t=Du(Object.assign(Object.assign({},e),{driver:b,onUpdate:function(t){var i;null===x||void 0===x||x(t),null===(i=e.onUpdate)||void 0===i||i.call(e,t)},onComplete:_,onStop:w}))}function T(e){C(Object.assign({type:"spring",stiffness:p,damping:m,restDelta:y},e))}if(S(n))T({from:n,velocity:o,to:k(n)});else{var E=u*o+n;"undefined"!==typeof v&&(E=v(E));var A,P,M=k(E),L=M===a?-1:1;C({type:"decay",from:n,velocity:o,timeConstant:h,power:u,restDelta:y,modifyTarget:v,onUpdate:S(E)?function(e){A=P,P=e,o=zs(e-A,ku.delta),(1===L&&e>M||-1===L&&e<M)&&T({from:e,to:M,velocity:o})}:void 0})}return{stop:function(){return null===t||void 0===t?void 0:t.stop()}}}var Bu=function(e){return 1e3*e},Fu=function(e,t){return 1-3*t+3*e},Nu=function(e,t){return 3*t-6*e},ju=function(e){return 3*e},Vu=function(e,t,i){return((Fu(t,i)*e+Nu(t,i))*e+ju(t))*e},Uu=function(e,t,i){return 3*Fu(t,i)*e*e+2*Nu(t,i)*e+ju(t)};var Wu=.1;function Hu(e,t,i,n){if(e===t&&i===n)return iu;for(var r=new Float32Array(11),o=0;o<11;++o)r[o]=Vu(o*Wu,e,i);function a(t){for(var n=0,o=1;10!==o&&r[o]<=t;++o)n+=Wu;--o;var a=n+(t-r[o])/(r[o+1]-r[o])*Wu,s=Uu(a,e,i);return s>=.001?function(e,t,i,n){for(var r=0;r<8;++r){var o=Uu(t,i,n);if(0===o)return t;t-=(Vu(t,i,n)-e)/o}return t}(t,a,e,i):0===s?a:function(e,t,i,n,r){var o,a,s=0;do{(o=Vu(a=t+(i-t)/2,n,r)-e)>0?i=a:t=a}while(Math.abs(o)>1e-7&&++s<10);return a}(t,n,n+Wu,e,i)}return function(e){return 0===e||1===e?e:Vu(a(e),t,n)}}var Gu={linear:iu,easeIn:nu,easeInOut:ou,easeOut:ru,circIn:au,circInOut:lu,circOut:su,backIn:uu,backInOut:hu,backOut:cu,anticipate:du,bounceIn:fu,bounceInOut:function(e){return e<.5?.5*(1-pu(1-2*e)):.5*pu(2*e-1)+.5},bounceOut:pu},qu=function(e){if(Array.isArray(e)){e.length;var t=Va(e,4);return Hu(t[0],t[1],t[2],t[3])}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),Gu[e]):e},Zu=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!Fl.test(t)||t.startsWith("url(")))},Xu=function(e){return Array.isArray(e)},Yu=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},$u=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}},Ku=function(){return{type:"keyframes",ease:"linear",duration:.3}},Qu=function(e){return{type:"keyframes",duration:.8,values:e}},Ju={x:Yu,y:Yu,z:Yu,rotate:Yu,rotateX:Yu,rotateY:Yu,rotateZ:Yu,scaleX:$u,scaleY:$u,scale:$u,opacity:Ku,backgroundColor:Ku,color:Ku,default:$u},ec=new Set(["brightness","contrast","saturate","opacity"]);function tc(e){var t=o(e.slice(0,-1).split("("),2),i=t[0],n=t[1];if("drop-shadow"===i)return e;var r=o(n.match(il)||[],1)[0];if(!r)return e;var a=n.replace(r,""),s=ec.has(i)?1:0;return r!==n&&(s*=100),i+"("+s+a+")"}var ic=/([a-z-]*)\(.*?\)/g,nc=Object.assign(Object.assign({},Fl),{getAnimatableNone:function(e){var t=e.match(ic);return t?t.map(tc).join(" "):e}}),rc=Fa(Fa({},al),{transform:Math.round}),oc={borderWidth:vl,borderTopWidth:vl,borderRightWidth:vl,borderBottomWidth:vl,borderLeftWidth:vl,borderRadius:vl,radius:vl,borderTopLeftRadius:vl,borderTopRightRadius:vl,borderBottomRightRadius:vl,borderBottomLeftRadius:vl,width:vl,maxWidth:vl,height:vl,maxHeight:vl,size:vl,top:vl,right:vl,bottom:vl,left:vl,padding:vl,paddingTop:vl,paddingRight:vl,paddingBottom:vl,paddingLeft:vl,margin:vl,marginTop:vl,marginRight:vl,marginBottom:vl,marginLeft:vl,rotate:gl,rotateX:gl,rotateY:gl,rotateZ:gl,scale:ll,scaleX:ll,scaleY:ll,scaleZ:ll,skew:gl,skewX:gl,skewY:gl,distance:vl,translateX:vl,translateY:vl,translateZ:vl,x:vl,y:vl,z:vl,perspective:vl,transformPerspective:vl,opacity:sl,originX:_l,originY:_l,originZ:vl,zIndex:rc,fillOpacity:sl,strokeOpacity:sl,numOctaves:rc},ac=Fa(Fa({},oc),{color:Ll,backgroundColor:Ll,outlineColor:Ll,fill:Ll,stroke:Ll,borderColor:Ll,borderTopColor:Ll,borderRightColor:Ll,borderBottomColor:Ll,borderLeftColor:Ll,filter:nc,WebkitFilter:nc}),sc=function(e){return ac[e]};function lc(e,t){var i,n=sc(e);return n!==nc&&(n=Fl),null===(i=n.getAnimatableNone)||void 0===i?void 0:i.call(n,t)}var uc=!1,cc=function(e){return Xu(e)?e[e.length-1]||0:e};function hc(e){var t=e.ease,i=e.times,n=e.yoyo,r=e.flip,o=e.loop,a=Na(e,["ease","times","yoyo","flip","loop"]),s=Fa({},a);return i&&(s.offset=i),a.duration&&(s.duration=Bu(a.duration)),a.repeatDelay&&(s.repeatDelay=Bu(a.repeatDelay)),t&&(s.ease=function(e){return Array.isArray(e)&&"number"!==typeof e[0]}(t)?t.map(qu):qu(t)),"tween"===a.type&&(s.type="keyframes"),(n||o||r)&&(!0,n?s.repeatType="reverse":o?s.repeatType="loop":r&&(s.repeatType="mirror"),s.repeat=o||n||r||a.repeat),"spring"!==a.type&&(s.type="keyframes"),s}function dc(e,t,i){var n;return Array.isArray(t.to)&&(null!==(n=e.duration)&&void 0!==n||(e.duration=.8)),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=Ua([],Va(e.to),!1),e.to[0]=e.from)}(t),function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=Na(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(t).length}(e)||(e=Fa(Fa({},e),function(e,t){var i;return i=Xu(t)?Qu:Ju[e]||Ju.default,Fa({to:t},i(t))}(i,t.to))),Fa(Fa({},t),hc(e))}function pc(e){return 0===e||"string"===typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function fc(e){return"number"===typeof e?0:lc("",e)}function mc(e,t){return e[t]||e.default||e}function gc(e,t,i,n){return void 0===n&&(n={}),uc&&(n={type:!1}),t.start((function(r){var o,a,s=function(e,t,i,n,r){var o,a=mc(n,e),s=null!==(o=a.from)&&void 0!==o?o:t.get(),l=Zu(e,i);"none"===s&&l&&"string"===typeof i?s=lc(e,i):pc(s)&&"string"===typeof i?s=fc(i):!Array.isArray(i)&&pc(i)&&"string"===typeof s&&(i=fc(s));var u=Zu(e,s);return"You are trying to animate ".concat(e,' from "').concat(s,'" to "').concat(i,'". ').concat(s," is not an animatable value - to enable this animation set ").concat(s," to a value animatable to ").concat(i," via the `style` property."),u&&l&&!1!==a.type?function(){var n={from:s,to:i,velocity:t.getVelocity(),onComplete:r,onUpdate:function(e){return t.set(e)}};return"inertia"===a.type||"decay"===a.type?zu(Fa(Fa({},n),a)):Du(Fa(Fa({},dc(a,n,e)),{onUpdate:function(e){var t;n.onUpdate(e),null===(t=a.onUpdate)||void 0===t||t.call(a,e)},onComplete:function(){var e;n.onComplete(),null===(e=a.onComplete)||void 0===e||e.call(a)}}))}:function(){var e,n,o=cc(i);return t.set(o),r(),null===(e=null===a||void 0===a?void 0:a.onUpdate)||void 0===e||e.call(a,o),null===(n=null===a||void 0===a?void 0:a.onComplete)||void 0===n||n.call(a),{stop:function(){}}}}(e,t,i,n,r),l=function(e,t){var i,n;return null!==(n=null!==(i=(mc(e,t)||{}).delay)&&void 0!==i?i:e.delay)&&void 0!==n?n:0}(n,e),u=function(){return a=s()};return l?o=setTimeout(u,Bu(l)):u(),function(){clearTimeout(o),null===a||void 0===a||a.stop()}}))}var yc=["TopLeft","TopRight","BottomLeft","BottomRight"],vc=yc.length;function bc(e,t){var i;return null!==(i=e[t])&&void 0!==i?i:e.borderRadius}var xc=wc(0,.5,su),_c=wc(.5,.95,iu);function wc(e,t,i){return function(n){return n<e?0:n>t?1:i(Js(e,t,n))}}function Sc(e,t){e.min=t.min,e.max=t.max}function kc(e,t){Sc(e.x,t.x),Sc(e.y,t.y)}function Cc(e){return void 0===e||1===e}function Tc(e){var t=e.scale,i=e.scaleX,n=e.scaleY;return!Cc(t)||!Cc(i)||!Cc(n)}function Ec(e){return Tc(e)||Ac(e.x)||Ac(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function Ac(e){return e&&"0%"!==e}function Pc(e,t,i){return i+t*(e-i)}function Mc(e,t,i,n,r){return void 0!==r&&(e=Pc(e,r,n)),Pc(e,i,n)+t}function Lc(e,t,i,n,r){void 0===t&&(t=0),void 0===i&&(i=1),e.min=Mc(e.min,t,i,n,r),e.max=Mc(e.max,t,i,n,r)}function Oc(e,t){var i=t.x,n=t.y;Lc(e.x,i.translate,i.scale,i.originPoint),Lc(e.y,n.translate,n.scale,n.originPoint)}function Rc(e,t){e.min=e.min+t,e.max=e.max+t}function Ic(e,t,i){var n=Va(i,3),r=n[0],o=n[1],a=n[2],s=void 0!==t[a]?t[a]:.5,l=Ds(e.min,e.max,s);Lc(e,t[r],t[o],l,t.scale)}var Dc=["x","scaleX","originX"],zc=["y","scaleY","originY"];function Bc(e,t){Ic(e.x,t,Dc),Ic(e.y,t,zc)}var Fc=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},Nc=function(e){return Fc(e)&&e.hasOwnProperty("z")},jc=function(e,t){return Math.abs(e-t)};function Vc(e,t){if(Nl(e)&&Nl(t))return jc(e,t);if(Fc(e)&&Fc(t)){var i=jc(e.x,t.x),n=jc(e.y,t.y),r=Nc(e)&&Nc(t)?jc(e.z,t.z):0;return Math.sqrt(Math.pow(i,2)+Math.pow(n,2)+Math.pow(r,2))}}function Uc(e){return e.max-e.min}function Wc(e,t,i){return void 0===t&&(t=0),void 0===i&&(i=.01),Vc(e,t)<i}function Hc(e,t,i,n){void 0===n&&(n=.5),e.origin=n,e.originPoint=Ds(t.min,t.max,e.origin),e.scale=Uc(i)/Uc(t),(Wc(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Ds(i.min,i.max,e.origin)-e.originPoint,(Wc(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Gc(e,t,i,n){Hc(e.x,t.x,i.x,null===n||void 0===n?void 0:n.originX),Hc(e.y,t.y,i.y,null===n||void 0===n?void 0:n.originY)}function qc(e,t,i){e.min=i.min+t.min,e.max=e.min+Uc(t)}function Zc(e,t,i){e.min=t.min-i.min,e.max=e.min+Uc(t)}function Xc(e,t,i){Zc(e.x,t.x,i.x),Zc(e.y,t.y,i.y)}function Yc(e,t,i,n,r){return e=Pc(e-=t,1/i,n),void 0!==r&&(e=Pc(e,1/r,n)),e}function $c(e,t,i,n,r){var o=Va(i,3),a=o[0],s=o[1],l=o[2];!function(e,t,i,n,r,o,a){if(void 0===t&&(t=0),void 0===i&&(i=1),void 0===n&&(n=.5),void 0===o&&(o=e),void 0===a&&(a=e),yl.test(t)&&(t=parseFloat(t),t=Ds(a.min,a.max,t/100)-a.min),"number"===typeof t){var s=Ds(o.min,o.max,n);e===o&&(s-=t),e.min=Yc(e.min,t,i,s,r),e.max=Yc(e.max,t,i,s,r)}}(e,t[a],t[s],t[l],t.scale,n,r)}var Kc=["x","scaleX","originX"],Qc=["y","scaleY","originY"];function Jc(e,t,i,n){$c(e.x,t,Kc,null===i||void 0===i?void 0:i.x,null===n||void 0===n?void 0:n.x),$c(e.y,t,Qc,null===i||void 0===i?void 0:i.y,null===n||void 0===n?void 0:n.y)}function eh(e){return 0===e.translate&&1===e.scale}function th(e){return eh(e.x)&&eh(e.y)}function ih(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}var nh=function(){function e(){this.members=[]}return e.prototype.add=function(e){Bs(this.members,e),e.scheduleRender()},e.prototype.remove=function(e){if(Fs(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}},e.prototype.relegate=function(e){var t,i=this.members.findIndex((function(t){return e===t}));if(0===i)return!1;for(var n=i;n>=0;n--){var r=this.members[n];if(!1!==r.isPresent){t=r;break}}return!!t&&(this.promote(t),!0)},e.prototype.promote=function(e,t){var i,n=this.lead;e!==n&&(this.prevLead=n,this.lead=e,e.show(),n&&(n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues,e.snapshot.isShared=!0),(null===(i=e.root)||void 0===i?void 0:i.isUpdating)&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&n.hide()))},e.prototype.exitAnimationComplete=function(){this.members.forEach((function(e){var t,i,n,r,o;null===(i=(t=e.options).onExitComplete)||void 0===i||i.call(t),null===(o=null===(n=e.resumingFrom)||void 0===n?void 0:(r=n.options).onExitComplete)||void 0===o||o.call(r)}))},e.prototype.scheduleRender=function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))},e.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},e}(),rh={};function oh(e,t,i){var n=e.x.translate/t.x,r=e.y.translate/t.y,o="translate3d(".concat(n,"px, ").concat(r,"px, 0) ");if(i){var a=i.rotate,s=i.rotateX,l=i.rotateY;a&&(o+="rotate(".concat(a,"deg) ")),s&&(o+="rotateX(".concat(s,"deg) ")),l&&(o+="rotateY(".concat(l,"deg) "))}return"translate3d(0px, 0px, 0) scale(1, 1)"===(o+="scale(".concat(e.x.scale,", ").concat(e.y.scale,")"))?"none":o}function ah(e){return[e("x"),e("y")]}var sh=["","X","Y","Z"],lh=["transformPerspective","x","y","z"];function uh(e,t){return lh.indexOf(e)-lh.indexOf(t)}["translate","scale","rotate","skew"].forEach((function(e){return sh.forEach((function(t){return lh.push(e+t)}))}));var ch=new Set(lh);function hh(e){return ch.has(e)}var dh=new Set(["originX","originY","originZ"]);function ph(e){return dh.has(e)}var fh=function(e,t){return e.depth-t.depth},mh=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(e){Bs(this.children,e),this.isDirty=!0},e.prototype.remove=function(e){Fs(this.children,e),this.isDirty=!0},e.prototype.forEach=function(e){this.isDirty&&this.children.sort(fh),this.isDirty=!1,this.children.forEach(e)},e}();function gh(e){var t=Us(e)?e.get():e;return function(e){return Boolean(e&&"object"===typeof e&&e.mix&&e.toValue)}(t)?t.toValue():t}var yh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vh(e){var t=e.attachResizeListener,i=e.defaultParent,n=e.measureScroll,r=e.resetTransform;return function(){function e(e,t,n){var r=this;void 0===t&&(t={}),void 0===n&&(n=null===i||void 0===i?void 0:i()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){r.isUpdating&&(r.isUpdating=!1,r.clearAllSnapshots())},this.updateProjection=function(){r.nodes.forEach(Ch),r.nodes.forEach(Th)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=e,this.latestValues=t,this.root=n?n.root||n:this,this.path=n?Ua(Ua([],Va(n.path),!1),[n],!1):[],this.parent=n,this.depth=n?n.depth+1:0,e&&this.root.registerPotentialNode(e,this);for(var o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new mh)}return e.prototype.addEventListener=function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Ns),this.eventHandlers.get(e).add(t)},e.prototype.notifyListeners=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var n=this.eventHandlers.get(e);null===n||void 0===n||n.notify.apply(n,Ua([],Va(t),!1))},e.prototype.hasListeners=function(e){return this.eventHandlers.has(e)},e.prototype.registerPotentialNode=function(e,t){this.potentialNodes.set(e,t)},e.prototype.mount=function(e,i){var n,r=this;if(void 0===i&&(i=!1),!this.instance){this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;var o=this.options,a=o.layoutId,s=o.layout,l=o.visualElement;if(l&&!l.getInstance()&&l.mount(e),this.root.nodes.add(this),null===(n=this.parent)||void 0===n||n.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),i&&(s||a)&&(this.isLayoutDirty=!0),t){var u,c=function(){return r.root.updateBlockedByResize=!1};t(e,(function(){r.root.updateBlockedByResize=!0,clearTimeout(u),u=setTimeout(c,250),yh.hasAnimatedSinceResize&&(yh.hasAnimatedSinceResize=!1,r.nodes.forEach(kh))}))}a&&this.root.registerSharedNode(a,this),!1!==this.options.animate&&l&&(a||s)&&this.addEventListener("didUpdate",(function(e){var t,i,n,o,a,s=e.delta,u=e.hasLayoutChanged,c=e.hasRelativeTargetChanged,h=e.layout;if(r.isTreeAnimationBlocked())return r.target=void 0,void(r.relativeTarget=void 0);var d=null!==(i=null!==(t=r.options.transition)&&void 0!==t?t:l.getDefaultTransition())&&void 0!==i?i:Oh,p=l.getProps().onLayoutAnimationComplete,f=!r.targetLayout||!ih(r.targetLayout,h)||c,m=!u&&c;(null===(n=r.resumeFrom)||void 0===n?void 0:n.instance)||m||u&&(f||!r.currentAnimation)?(r.resumeFrom&&(r.resumingFrom=r.resumeFrom,r.resumingFrom.resumingFrom=void 0),r.setAnimationOrigin(s,m),r.startAnimation(Fa(Fa({},mc(d,"layout")),{onComplete:p}))):r.isLead()&&(null===(a=(o=r.options).onExitComplete)||void 0===a||a.call(o)),r.targetLayout=h}))}},e.prototype.unmount=function(){var e,t;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(e=this.getStack())||void 0===e||e.remove(this),null===(t=this.parent)||void 0===t||t.children.delete(this),this.instance=void 0,Ja.preRender(this.updateProjection)},e.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},e.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},e.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},e.prototype.isTreeAnimationBlocked=function(){var e;return this.isAnimationBlocked||(null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimationBlocked())||!1},e.prototype.startUpdate=function(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null===(e=this.nodes)||void 0===e||e.forEach(Eh))},e.prototype.willUpdate=function(e){var t,i,n;if(void 0===e&&(e=!0),this.root.isUpdateBlocked())null===(i=(t=this.options).onExitComplete)||void 0===i||i.call(t);else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var r=0;r<this.path.length;r++){var o=this.path[r];o.shouldResetTransform=!0,o.updateScroll()}var a=this.options,s=a.layoutId,l=a.layout;if(void 0!==s||l){var u=null===(n=this.options.visualElement)||void 0===n?void 0:n.getProps().transformTemplate;this.prevTransformTemplateValue=null===u||void 0===u?void 0:u(this.latestValues,""),this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}}},e.prototype.didUpdate=function(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(wh);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(Rh),this.potentialNodes.clear()),this.nodes.forEach(Sh),this.nodes.forEach(bh),this.nodes.forEach(xh),this.clearAllSnapshots(),es.update(),es.preRender(),es.render())},e.prototype.clearAllSnapshots=function(){this.nodes.forEach(_h),this.sharedNodes.forEach(Ah)},e.prototype.scheduleUpdateProjection=function(){os.preRender(this.updateProjection,!1,!0)},e.prototype.scheduleCheckAfterUnmount=function(){var e=this;os.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))},e.prototype.updateSnapshot=function(){if(!this.snapshot&&this.instance){var e=this.measure(),t=this.removeTransform(this.removeElementScroll(e));Dh(t),this.snapshot={measured:e,layout:t,latestValues:{}}}},e.prototype.updateLayout=function(){var e;if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var t=0;t<this.path.length;t++){this.path[t].updateScroll()}var i=this.measure();Dh(i);var n=this.layout;this.layout={measured:i,actual:this.removeElementScroll(i)},this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null===(e=this.options.visualElement)||void 0===e||e.notifyLayoutMeasure(this.layout.actual,null===n||void 0===n?void 0:n.actual)}},e.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.scroll=n(this.instance))},e.prototype.resetTransform=function(){var e;if(r){var t=this.isLayoutDirty||this.shouldResetTransform,i=this.projectionDelta&&!th(this.projectionDelta),n=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate,o=null===n||void 0===n?void 0:n(this.latestValues,""),a=o!==this.prevTransformTemplateValue;t&&(i||Ec(this.latestValues)||a)&&(r(this.instance,o),this.shouldResetTransform=!1,this.scheduleRender())}},e.prototype.measure=function(){var e=this.options.visualElement;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};var t=e.measureViewportBox(),i=this.root.scroll;return i&&(Rc(t.x,i.x),Rc(t.y,i.y)),t},e.prototype.removeElementScroll=function(e){var t={x:{min:0,max:0},y:{min:0,max:0}};kc(t,e);for(var i=0;i<this.path.length;i++){var n=this.path[i],r=n.scroll,o=n.options;n!==this.root&&r&&o.layoutScroll&&(Rc(t.x,r.x),Rc(t.y,r.y))}return t},e.prototype.applyTransform=function(e,t){void 0===t&&(t=!1);var i={x:{min:0,max:0},y:{min:0,max:0}};kc(i,e);for(var n=0;n<this.path.length;n++){var r=this.path[n];!t&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Bc(i,{x:-r.scroll.x,y:-r.scroll.y}),Ec(r.latestValues)&&Bc(i,r.latestValues)}return Ec(this.latestValues)&&Bc(i,this.latestValues),i},e.prototype.removeTransform=function(e){var t,i={x:{min:0,max:0},y:{min:0,max:0}};kc(i,e);for(var n=0;n<this.path.length;n++){var r=this.path[n];if(r.instance&&Ec(r.latestValues)){Tc(r.latestValues)&&r.updateSnapshot();var o={x:{min:0,max:0},y:{min:0,max:0}};kc(o,r.measure()),Jc(i,r.latestValues,null===(t=r.snapshot)||void 0===t?void 0:t.layout,o)}}return Ec(this.latestValues)&&Jc(i,this.latestValues),i},e.prototype.setTargetDelta=function(e){this.targetDelta=e,this.root.scheduleUpdateProjection()},e.prototype.setOptions=function(e){var t;this.options=Fa(Fa(Fa({},this.options),e),{crossfade:null===(t=e.crossfade)||void 0===t||t})},e.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},e.prototype.resolveTargetDelta=function(){var e,t,i,n,r=this.options,o=r.layout,a=r.layoutId;this.layout&&(o||a)&&(this.targetDelta||this.relativeTarget||(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Xc(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),kc(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&(null===(e=this.relativeParent)||void 0===e?void 0:e.target)?(t=this.target,i=this.relativeTarget,n=this.relativeParent.target,qc(t.x,i.x,n.x),qc(t.y,i.y,n.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):kc(this.target,this.layout.actual),Oc(this.target,this.targetDelta)):kc(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Xc(this.relativeTargetOrigin,this.target,this.relativeParent.target),kc(this.relativeTarget,this.relativeTargetOrigin)))))},e.prototype.getClosestProjectingParent=function(){if(this.parent&&!Ec(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},e.prototype.calcProjection=function(){var e,t=this.options,i=t.layout,n=t.layoutId;if(this.isTreeAnimating=Boolean((null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(i||n)){var r=this.getLead();kc(this.layoutCorrected,this.layout.actual),function(e,t,i,n){var r,o;void 0===n&&(n=!1);var a=i.length;if(a){var s,l;t.x=t.y=1;for(var u=0;u<a;u++)l=(s=i[u]).projectionDelta,"contents"!==(null===(o=null===(r=s.instance)||void 0===r?void 0:r.style)||void 0===o?void 0:o.display)&&(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Bc(e,{x:-s.scroll.x,y:-s.scroll.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,Oc(e,l)),n&&Ec(s.latestValues)&&Bc(e,s.latestValues))}}(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==r);var o=r.target;if(o){this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});var a=this.treeScale.x,s=this.treeScale.y,l=this.projectionTransform;Gc(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.projectionTransform=oh(this.projectionDelta,this.treeScale),this.projectionTransform===l&&this.treeScale.x===a&&this.treeScale.y===s||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o))}}},e.prototype.hide=function(){this.isVisible=!1},e.prototype.show=function(){this.isVisible=!0},e.prototype.scheduleRender=function(e){var t,i,n;void 0===e&&(e=!0),null===(i=(t=this.options).scheduleRender)||void 0===i||i.call(t),e&&(null===(n=this.getStack())||void 0===n||n.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},e.prototype.setAnimationOrigin=function(e,t){var i,n=this;void 0===t&&(t=!1);var r=this.snapshot,o=(null===r||void 0===r?void 0:r.latestValues)||{},a=Fa({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!t;var l={x:{min:0,max:0},y:{min:0,max:0}},u=null===r||void 0===r?void 0:r.isShared,c=((null===(i=this.getStack())||void 0===i?void 0:i.members.length)||0)<=1,h=Boolean(u&&!c&&!0===this.options.crossfade&&!this.path.some(Lh));this.mixTargetDelta=function(t){var i,r=t/1e3;Ph(s.x,e.x,r),Ph(s.y,e.y,r),n.setTargetDelta(s),n.relativeTarget&&n.relativeTargetOrigin&&n.layout&&(null===(i=n.relativeParent)||void 0===i?void 0:i.layout)&&(Xc(l,n.layout.actual,n.relativeParent.layout.actual),function(e,t,i,n){Mh(e.x,t.x,i.x,n),Mh(e.y,t.y,i.y,n)}(n.relativeTarget,n.relativeTargetOrigin,l,r)),u&&(n.animationValues=a,function(e,t,i,n,r,o){var a,s,l,u;r?(e.opacity=Ds(0,null!==(a=i.opacity)&&void 0!==a?a:1,xc(n)),e.opacityExit=Ds(null!==(s=t.opacity)&&void 0!==s?s:1,0,_c(n))):o&&(e.opacity=Ds(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(u=i.opacity)&&void 0!==u?u:1,n));for(var c=0;c<vc;c++){var h="border".concat(yc[c],"Radius"),d=bc(t,h),p=bc(i,h);if((void 0!==d||void 0!==p)&&(d||(d=0),p||(p=0),"number"===typeof d&&"number"===typeof p)){var f=Math.max(Ds(d,p,n),0);e[h]=f}}(t.rotate||i.rotate)&&(e.rotate=Ds(t.rotate||0,i.rotate||0,n))}(a,o,n.latestValues,r,h,c)),n.root.scheduleUpdateProjection(),n.scheduleRender()},this.mixTargetDelta(0)},e.prototype.startAnimation=function(e){var t,i,n=this;null===(t=this.currentAnimation)||void 0===t||t.stop(),this.resumingFrom&&(null===(i=this.resumingFrom.currentAnimation)||void 0===i||i.stop()),this.pendingAnimation&&(Ja.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=os.update((function(){yh.hasAnimatedSinceResize=!0,n.currentAnimation=function(e,t,i){void 0===i&&(i={});var n=Us(e)?e:Vs(e);return gc("",n,t,i),{stop:function(){return n.stop()},isAnimating:function(){return n.isAnimating()}}}(0,1e3,Fa(Fa({},e),{onUpdate:function(t){var i;n.mixTargetDelta(t),null===(i=e.onUpdate)||void 0===i||i.call(e,t)},onComplete:function(){var t;null===(t=e.onComplete)||void 0===t||t.call(e),n.completeAnimation()}})),n.resumingFrom&&(n.resumingFrom.currentAnimation=n.currentAnimation),n.pendingAnimation=void 0}))},e.prototype.completeAnimation=function(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(e=this.getStack())||void 0===e||e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},e.prototype.finishAnimation=function(){var e;this.currentAnimation&&(null===(e=this.mixTargetDelta)||void 0===e||e.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()},e.prototype.applyTransformsToTarget=function(){var e=this.getLead(),t=e.targetWithTransforms,i=e.target,n=e.layout,r=e.latestValues;t&&i&&n&&(kc(t,i),Bc(t,r),Gc(this.projectionDeltaWithTransform,this.layoutCorrected,t,r))},e.prototype.registerSharedNode=function(e,t){var i,n,r;this.sharedNodes.has(e)||this.sharedNodes.set(e,new nh),this.sharedNodes.get(e).add(t),t.promote({transition:null===(i=t.options.initialPromotionConfig)||void 0===i?void 0:i.transition,preserveFollowOpacity:null===(r=null===(n=t.options.initialPromotionConfig)||void 0===n?void 0:n.shouldPreserveFollowOpacity)||void 0===r?void 0:r.call(n,t)})},e.prototype.isLead=function(){var e=this.getStack();return!e||e.lead===this},e.prototype.getLead=function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this},e.prototype.getPrevLead=function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0},e.prototype.getStack=function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)},e.prototype.promote=function(e){var t=void 0===e?{}:e,i=t.needsReset,n=t.transition,r=t.preserveFollowOpacity,o=this.getStack();o&&o.promote(this,r),i&&(this.projectionDelta=void 0,this.needsReset=!0),n&&this.setOptions({transition:n})},e.prototype.relegate=function(){var e=this.getStack();return!!e&&e.relegate(this)},e.prototype.resetRotation=function(){var e=this.options.visualElement;if(e){for(var t=!1,i={},n=0;n<sh.length;n++){var r="rotate"+sh[n];e.getStaticValue(r)&&(t=!0,i[r]=e.getStaticValue(r),e.setStaticValue(r,0))}if(t){for(var r in null===e||void 0===e||e.syncRender(),i)e.setStaticValue(r,i[r]);e.scheduleRender()}}},e.prototype.getProjectionStyles=function(e){var t,i,n,r,o,a;void 0===e&&(e={});var s={};if(!this.instance||this.isSVG)return s;if(!this.isVisible)return{visibility:"hidden"};s.visibility="";var l=null===(t=this.options.visualElement)||void 0===t?void 0:t.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,s.opacity="",s.pointerEvents=gh(e.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none",s;var u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){var c={};return this.options.layoutId&&(c.opacity=null!==(i=this.latestValues.opacity)&&void 0!==i?i:1,c.pointerEvents=gh(e.pointerEvents)||""),this.hasProjected&&!Ec(this.latestValues)&&(c.transform=l?l({},""):"none",this.hasProjected=!1),c}var h=u.animationValues||u.latestValues;this.applyTransformsToTarget(),s.transform=oh(this.projectionDeltaWithTransform,this.treeScale,h),l&&(s.transform=l(h,s.transform));var d=this.projectionDelta,p=d.x,f=d.y;for(var m in s.transformOrigin="".concat(100*p.origin,"% ").concat(100*f.origin,"% 0"),u.animationValues?s.opacity=u===this?null!==(r=null!==(n=h.opacity)&&void 0!==n?n:this.latestValues.opacity)&&void 0!==r?r:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:s.opacity=u===this?null!==(o=h.opacity)&&void 0!==o?o:"":null!==(a=h.opacityExit)&&void 0!==a?a:0,rh)if(void 0!==h[m]){var g=rh[m],y=g.correct,v=g.applyTo,b=y(h[m],u);if(v)for(var x=v.length,_=0;_<x;_++)s[v[_]]=b;else s[m]=b}return this.options.layoutId&&(s.pointerEvents=u===this?gh(e.pointerEvents)||"":"none"),s},e.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},e.prototype.resetTree=function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(wh),this.root.sharedNodes.clear()},e}()}function bh(e){e.updateLayout()}function xh(e){var t,i,n,r,o=null!==(i=null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)&&void 0!==i?i:e.snapshot;if(e.isLead()&&e.layout&&o&&e.hasListeners("didUpdate")){var a=e.layout,s=a.actual,l=a.measured;"size"===e.options.animationType?ah((function(e){var t=o.isShared?o.measured[e]:o.layout[e],i=Uc(t);t.min=s[e].min,t.max=t.min+i})):"position"===e.options.animationType&&ah((function(e){var t=o.isShared?o.measured[e]:o.layout[e],i=Uc(s[e]);t.max=t.min+i}));var u={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Gc(u,s,o.layout);var c={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};o.isShared?Gc(c,e.applyTransform(l,!0),o.measured):Gc(c,s,o.layout);var h=!th(u),d=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){var p=e.relativeParent,f=p.snapshot,m=p.layout;if(f&&m){var g={x:{min:0,max:0},y:{min:0,max:0}};Xc(g,o.layout,f.layout);var y={x:{min:0,max:0},y:{min:0,max:0}};Xc(y,s,m.actual),ih(g,y)||(d=!0)}}e.notifyListeners("didUpdate",{layout:s,snapshot:o,delta:c,layoutDelta:u,hasLayoutChanged:h,hasRelativeTargetChanged:d})}else e.isLead()&&(null===(r=(n=e.options).onExitComplete)||void 0===r||r.call(n));e.options.transition=void 0}function _h(e){e.clearSnapshot()}function wh(e){e.clearMeasurements()}function Sh(e){e.resetTransform()}function kh(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function Ch(e){e.resolveTargetDelta()}function Th(e){e.calcProjection()}function Eh(e){e.resetRotation()}function Ah(e){e.removeLeadSnapshot()}function Ph(e,t,i){e.translate=Ds(t.translate,0,i),e.scale=Ds(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function Mh(e,t,i,n){e.min=Ds(t.min,i.min,n),e.max=Ds(t.max,i.max,n)}function Lh(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var Oh={duration:.45,ease:[.4,0,.1,1]};function Rh(e,t){for(var i=e.root,n=e.path.length-1;n>=0;n--)if(Boolean(e.path[n].instance)){i=e.path[n];break}var r=(i&&i!==e.root?i.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));r&&e.mount(r,!0)}function Ih(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function Dh(e){Ih(e.x),Ih(e.y)}var zh=1;var Bh=(0,e.createContext)({});var Fh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ba(t,e),t.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},t.prototype.componentDidUpdate=function(){},t.prototype.updateProps=function(){var e=this.props,t=e.visualElement,i=e.props;t&&t.setProps(i)},t.prototype.render=function(){return this.props.children},t}(e.Component);function Nh(t){var i=t.preloadedFeatures,n=t.createVisualElement,r=t.projectionNodeConstructor,o=t.useRender,a=t.useVisualState,s=t.Component;return i&&function(e){for(var t in e)null!==e[t]&&("projectionNodeConstructor"===t?ys.projectionNodeConstructor=e[t]:ys[t].Component=e[t])}(i),(0,e.forwardRef)((function(t,i){var l=function(t){var i,n=t.layoutId,r=null===(i=(0,e.useContext)(ps))||void 0===i?void 0:i.id;return r&&void 0!==n?r+"-"+n:n}(t);t=Fa(Fa({},t),{layoutId:l});var u=(0,e.useContext)(_s),c=null,h=Rs(t),d=u.isStatic?void 0:ls((function(){if(yh.hasEverUpdated)return zh++})),p=a(t,u.isStatic);return!u.isStatic&&Ss&&(h.visualElement=Cs(s,p,Fa(Fa({},u),t),n),function(t,i,n,r){var o,a=i.layoutId,s=i.layout,l=i.drag,u=i.dragConstraints,c=i.layoutScroll,h=(0,e.useContext)(Bh);r&&n&&!(null===n||void 0===n?void 0:n.projection)&&(n.projection=new r(t,n.getLatestValues(),null===(o=n.parent)||void 0===o?void 0:o.projection),n.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:Boolean(l)||u&&Ts(u),visualElement:n,scheduleRender:function(){return n.scheduleRender()},animationType:"string"===typeof s?s:"both",initialPromotionConfig:h,layoutScroll:c}))}(d,t,h.visualElement,r||ys.projectionNodeConstructor),c=function(t,i,n){var r=[];if((0,e.useContext)(vs),!i)return null;for(var o=0;o<xs;o++){var a=bs[o],s=ys[a],l=s.isEnabled,u=s.Component;l(t)&&u&&r.push(e.createElement(u,Fa({key:a},t,{visualElement:i})))}return r}(t,h.visualElement)),e.createElement(Fh,{visualElement:h.visualElement,props:Fa(Fa({},u),t)},c,e.createElement(ws.Provider,{value:h},o(s,t,d,function(t,i,n){return(0,e.useCallback)((function(e){var r;e&&(null===(r=t.mount)||void 0===r||r.call(t,e)),i&&(e?i.mount(e):i.unmount()),n&&("function"===typeof n?n(e):Ts(n)&&(n.current=e))}),[i])}(p,h.visualElement,i),p,u.isStatic,h.visualElement)))}))}function jh(e){function t(t,i){return void 0===i&&(i={}),Nh(e(t,i))}if("undefined"===typeof Proxy)return t;var i=new Map;return new Proxy(t,{get:function(e,n){return i.has(n)||i.set(n,t(n)),i.get(n)}})}var Vh=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function Uh(e){return"string"===typeof e&&!e.includes("-")&&!!(Vh.indexOf(e)>-1||/[A-Z]/.test(e))}function Wh(e,t){var i=t.layout,n=t.layoutId;return hh(e)||ph(e)||(i||void 0!==n)&&(!!rh[e]||"opacity"===e)}var Hh={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function Gh(e){return e.startsWith("--")}var qh=function(e,t){return t&&"number"===typeof e?t.transform(e):e};function Zh(e,t,i,n){var r,o=e.style,a=e.vars,s=e.transform,l=e.transformKeys,u=e.transformOrigin;l.length=0;var c=!1,h=!1,d=!0;for(var p in t){var f=t[p];if(Gh(p))a[p]=f;else{var m=oc[p],g=qh(f,m);if(hh(p)){if(c=!0,s[p]=g,l.push(p),!d)continue;f!==(null!==(r=m.default)&&void 0!==r?r:0)&&(d=!1)}else ph(p)?(u[p]=g,h=!0):o[p]=g}}c?o.transform=function(e,t,i,n){var r=e.transform,o=e.transformKeys,a=t.enableHardwareAcceleration,s=void 0===a||a,l=t.allowTransformNone,u=void 0===l||l,c="";o.sort(uh);for(var h=!1,d=o.length,p=0;p<d;p++){var f=o[p];c+="".concat(Hh[f]||f,"(").concat(r[f],") "),"z"===f&&(h=!0)}return!h&&s?c+="translateZ(0)":c=c.trim(),n?c=n(r,i?"":c):u&&i&&(c="none"),c}(e,i,d,n):n&&(o.transform=n({},"")),h&&(o.transformOrigin=function(e){var t=e.originX,i=void 0===t?"50%":t,n=e.originY,r=void 0===n?"50%":n,o=e.originZ,a=void 0===o?0:o;return"".concat(i," ").concat(r," ").concat(a)}(u))}var Xh=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function Yh(e,t,i){for(var n in t)Us(t[n])||Wh(n,i)||(e[n]=t[n])}function $h(t,i,n){var r={};return Yh(r,t.style||{},t),Object.assign(r,function(t,i,n){var r=t.transformTemplate;return(0,e.useMemo)((function(){var e={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};Zh(e,i,{enableHardwareAcceleration:!n},r);var t=e.style;return Fa(Fa({},e.vars),t)}),[i])}(t,i,n)),t.transformValues&&(r=t.transformValues(r)),r}function Kh(e,t,i){var n={},r=$h(e,t,i);return Boolean(e.drag)&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),n.style=r,n}var Qh=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function Jh(e){return Qh.has(e)}var ed=function(e){return!Jh(e)};try{var td=require("@emotion/is-prop-valid").default;ed=function(e){return e.startsWith("on")?!Jh(e):td(e)}}catch(dB){}function id(e,t,i){return"string"===typeof e?e:vl.transform(t+i*e)}var nd={offset:"stroke-dashoffset",array:"stroke-dasharray"},rd={offset:"strokeDashoffset",array:"strokeDasharray"};function od(e,t,i,n){var r=t.attrX,o=t.attrY,a=t.originX,s=t.originY,l=t.pathLength,u=t.pathSpacing,c=void 0===u?1:u,h=t.pathOffset,d=void 0===h?0:h;Zh(e,Na(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),i,n),e.attrs=e.style,e.style={};var p=e.attrs,f=e.style,m=e.dimensions;p.transform&&(m&&(f.transform=p.transform),delete p.transform),m&&(void 0!==a||void 0!==s||f.transform)&&(f.transformOrigin=function(e,t,i){var n=id(t,e.x,e.width),r=id(i,e.y,e.height);return"".concat(n," ").concat(r)}(m,void 0!==a?a:.5,void 0!==s?s:.5)),void 0!==r&&(p.x=r),void 0!==o&&(p.y=o),void 0!==l&&function(e,t,i,n,r){void 0===i&&(i=1),void 0===n&&(n=0),void 0===r&&(r=!0),e.pathLength=1;var o=r?nd:rd;e[o.offset]=vl.transform(-n);var a=vl.transform(t),s=vl.transform(i);e[o.array]="".concat(a," ").concat(s)}(p,l,c,d,!1)}var ad=function(){return Fa(Fa({},{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}),{attrs:{}})};function sd(t,i){var n=(0,e.useMemo)((function(){var e=ad();return od(e,i,{enableHardwareAcceleration:!1},t.transformTemplate),Fa(Fa({},e.attrs),{style:Fa({},e.style)})}),[i]);if(t.style){var r={};Yh(r,t.style,t),n.style=Fa(Fa({},r),n.style)}return n}function ld(t){void 0===t&&(t=!1);return function(i,n,r,o,a,s){var l=a.latestValues,u=(Uh(i)?sd:Kh)(n,l,s),c=function(e,t,i){var n={};for(var r in e)(ed(r)||!0===i&&Jh(r)||!t&&!Jh(r)||e.draggable&&r.startsWith("onDrag"))&&(n[r]=e[r]);return n}(n,"string"===typeof i,t),h=Fa(Fa(Fa({},c),u),{ref:o});return r&&(h["data-projection-id"]=r),(0,e.createElement)(i,h)}}var ud=/([a-z])([A-Z])/g,cd=function(e){return e.replace(ud,"$1-$2").toLowerCase()};function hd(e,t,i,n){var r=t.style,o=t.vars;for(var a in Object.assign(e.style,r,n&&n.getProjectionStyles(i)),o)e.style.setProperty(a,o[a])}var dd=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function pd(e,t){for(var i in hd(e,t),t.attrs)e.setAttribute(dd.has(i)?i:cd(i),t.attrs[i])}function fd(e){var t=e.style,i={};for(var n in t)(Us(t[n])||Wh(n,e))&&(i[n]=t[n]);return i}function md(e){var t=fd(e);for(var i in e){if(Us(e[i]))t["x"===i||"y"===i?"attr"+i.toUpperCase():i]=e[i]}return t}function gd(e){return"object"===typeof e&&"function"===typeof e.start}function yd(e,t,i,n){var r=e.scrapeMotionValuesFromProps,o=e.createRenderState,a=e.onMount,s={latestValues:bd(t,i,n,r),renderState:o()};return a&&(s.mount=function(e){return a(t,e,s)}),s}var vd=function(t){return function(i,n){var r=(0,e.useContext)(ws),o=(0,e.useContext)(ss);return n?yd(t,i,r,o):ls((function(){return yd(t,i,r,o)}))}};function bd(e,t,i,n){var r={},o=!1===(null===i||void 0===i?void 0:i.initial),a=n(e);for(var s in a)r[s]=gh(a[s]);var l=e.initial,u=e.animate,c=Ls(e),h=Os(e);t&&h&&!c&&!1!==e.inherit&&(null!==l&&void 0!==l||(l=t.initial),null!==u&&void 0!==u||(u=t.animate));var d=o||!1===l,p=d?u:l;p&&"boolean"!==typeof p&&!gd(p)&&(Array.isArray(p)?p:[p]).forEach((function(t){var i=Ps(e,t);if(i){var n=i.transitionEnd;i.transition;var o=Na(i,["transitionEnd","transition"]);for(var a in o){var s=o[a];if(Array.isArray(s))s=s[d?s.length-1:0];null!==s&&(r[a]=s)}for(var a in n)r[a]=n[a]}}));return r}var xd,_d={useVisualState:vd({scrapeMotionValuesFromProps:md,createRenderState:ad,onMount:function(e,t,i){var n=i.renderState,r=i.latestValues;try{n.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(o){n.dimensions={x:0,y:0,width:0,height:0}}od(n,r,{enableHardwareAcceleration:!1},e.transformTemplate),pd(t,n)}})},wd={useVisualState:vd({scrapeMotionValuesFromProps:fd,createRenderState:Xh})};function Sd(e,t,i,n){return e.addEventListener(t,i,n),function(){return e.removeEventListener(t,i,n)}}function kd(t,i,n,r){(0,e.useEffect)((function(){var e=t.current;if(n&&e)return Sd(e,i,n,r)}),[t,i,n,r])}function Cd(e){return"undefined"!==typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function Td(e){return!!e.touches}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"}(xd||(xd={}));var Ed={pageX:0,pageY:0};function Ad(e,t){void 0===t&&(t="page");var i=e.touches[0]||e.changedTouches[0]||Ed;return{x:i[t+"X"],y:i[t+"Y"]}}function Pd(e,t){return void 0===t&&(t="page"),{x:e[t+"X"],y:e[t+"Y"]}}function Md(e,t){return void 0===t&&(t="page"),{point:Td(e)?Ad(e,t):Pd(e,t)}}var Ld=function(e,t){void 0===t&&(t=!1);var i,n=function(t){return e(t,Md(t))};return t?(i=n,function(e){var t=e instanceof MouseEvent;(!t||t&&0===e.button)&&i(e)}):n},Od={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},Rd={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function Id(e){return Ss&&null===window.onpointerdown?e:Ss&&null===window.ontouchstart?Rd[e]:Ss&&null===window.onmousedown?Od[e]:e}function Dd(e,t,i,n){return Sd(e,Id(t),Ld(i,"pointerdown"===t),n)}function zd(e,t,i,n){return kd(e,Id(t),i&&Ld(i,"pointerdown"===t),n)}function Bd(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var Fd=Bd("dragHorizontal"),Nd=Bd("dragVertical");function jd(e){var t=!1;if("y"===e)t=Nd();else if("x"===e)t=Fd();else{var i=Fd(),n=Nd();i&&n?t=function(){i(),n()}:(i&&i(),n&&n())}return t}function Vd(){var e=jd(!0);return!e||(e(),!1)}function Ud(e,t,i){return function(n,r){var o;Cd(n)&&!Vd()&&(null===(o=e.animationState)||void 0===o||o.setActive(xd.Hover,t),null===i||void 0===i||i(n,r))}}var Wd=function e(t,i){return!!i&&(t===i||e(t,i.parentElement))};var Hd=new WeakMap,Gd=new WeakMap,qd=function(e){var t;null===(t=Hd.get(e.target))||void 0===t||t(e)},Zd=function(e){e.forEach(qd)};function Xd(e,t,i){var n=function(e){var t=e.root,i=Na(e,["root"]),n=t||document;Gd.has(n)||Gd.set(n,{});var r=Gd.get(n),o=JSON.stringify(i);return r[o]||(r[o]=new IntersectionObserver(Zd,Fa({root:t},i))),r[o]}(t);return Hd.set(e,i),n.observe(e),function(){Hd.delete(e),n.unobserve(e)}}var Yd={some:0,all:1};function $d(t,i,n,r){var o=r.root,a=r.margin,s=r.amount,l=void 0===s?"some":s,u=r.once;(0,e.useEffect)((function(){if(t){var e={root:null===o||void 0===o?void 0:o.current,rootMargin:a,threshold:"number"===typeof l?l:Yd[l]};return Xd(n.getInstance(),e,(function(e){var t,r=e.isIntersecting;if(i.isInView!==r&&(i.isInView=r,!u||r||!i.hasEnteredView)){r&&(i.hasEnteredView=!0),null===(t=n.animationState)||void 0===t||t.setActive(xd.InView,r);var o=n.getProps(),a=r?o.onViewportEnter:o.onViewportLeave;null===a||void 0===a||a(e)}}))}}),[t,o,a,l])}function Kd(t,i,n){(0,e.useEffect)((function(){t&&requestAnimationFrame((function(){var e;i.hasEnteredView=!0;var t=n.getProps().onViewportEnter;null===t||void 0===t||t(null),null===(e=n.animationState)||void 0===e||e.setActive(xd.InView,!0)}))}),[t])}var Qd=function(e){return function(t){return e(t),null}},Jd={inView:Qd((function(t){var i=t.visualElement,n=t.whileInView,r=t.onViewportEnter,o=t.onViewportLeave,a=t.viewport,s=void 0===a?{}:a,l=(0,e.useRef)({hasEnteredView:!1,isInView:!1}),u=Boolean(n||r||o);s.once&&l.current.hasEnteredView&&(u=!1),("undefined"===typeof IntersectionObserver?Kd:$d)(u,l.current,i,s)})),tap:Qd((function(t){var i=t.onTap,n=t.onTapStart,r=t.onTapCancel,o=t.whileTap,a=t.visualElement,s=i||n||r||o,l=(0,e.useRef)(!1),u=(0,e.useRef)(null);function c(){var e;null===(e=u.current)||void 0===e||e.call(u),u.current=null}function h(){var e;return c(),l.current=!1,null===(e=a.animationState)||void 0===e||e.setActive(xd.Tap,!1),!Vd()}function d(e,t){h()&&(Wd(a.getInstance(),e.target)?null===i||void 0===i||i(e,t):null===r||void 0===r||r(e,t))}function p(e,t){h()&&(null===r||void 0===r||r(e,t))}zd(a,"pointerdown",s?function(e,t){var i;c(),l.current||(l.current=!0,u.current=Vl(Dd(window,"pointerup",d),Dd(window,"pointercancel",p)),null===(i=a.animationState)||void 0===i||i.setActive(xd.Tap,!0),null===n||void 0===n||n(e,t))}:void 0),as(c)})),focus:Qd((function(e){var t=e.whileFocus,i=e.visualElement;kd(i,"focus",t?function(){var e;null===(e=i.animationState)||void 0===e||e.setActive(xd.Focus,!0)}:void 0),kd(i,"blur",t?function(){var e;null===(e=i.animationState)||void 0===e||e.setActive(xd.Focus,!1)}:void 0)})),hover:Qd((function(e){var t=e.onHoverStart,i=e.onHoverEnd,n=e.whileHover,r=e.visualElement;zd(r,"pointerenter",t||n?Ud(r,!0,t):void 0),zd(r,"pointerleave",i||n?Ud(r,!1,i):void 0)}))};function ep(){var t=(0,e.useContext)(ss);if(null===t)return[!0,null];var i=t.isPresent,n=t.onExitComplete,r=t.register,o=np();(0,e.useEffect)((function(){return r(o)}),[]);return!i&&n?[!1,function(){return null===n||void 0===n?void 0:n(o)}]:[!0]}var tp=0,ip=function(){return tp++},np=function(){return ls(ip)};function rp(e,t){if(!Array.isArray(t))return!1;var i=t.length;if(i!==e.length)return!1;for(var n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0}var op=function(e){return/^\-?\d*\.?\d+$/.test(e)},ap=function(e){return/^0[^.\s]+$/.test(e)},sp=function(e){return function(t){return t.test(e)}},lp=[al,vl,yl,gl,xl,bl,{test:function(e){return"auto"===e},parse:function(e){return e}}],up=function(e){return lp.find(sp(e))},cp=Ua(Ua([],Va(lp),!1),[Ll,Fl],!1),hp=function(e){return cp.find(sp(e))};function dp(e,t,i){e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,Vs(i))}function pp(e,t){var i=Ms(e,t),n=i?e.makeTargetAnimatable(i,!1):{},r=n.transitionEnd,o=void 0===r?{}:r;n.transition;var a=Na(n,["transitionEnd","transition"]);for(var s in a=Fa(Fa({},a),o)){dp(e,s,cc(a[s]))}}function fp(e,t){if(t)return(t[e]||t.default||t).from}function mp(e,t,i){var n;void 0===i&&(i={});var r=Ms(e,t,i.custom),o=(r||{}).transition,a=void 0===o?e.getDefaultTransition()||{}:o;i.transitionOverride&&(a=i.transitionOverride);var s=r?function(){return gp(e,r,i)}:function(){return Promise.resolve()},l=(null===(n=e.variantChildren)||void 0===n?void 0:n.size)?function(n){void 0===n&&(n=0);var r=a.delayChildren,o=void 0===r?0:r,s=a.staggerChildren,l=a.staggerDirection;return function(e,t,i,n,r,o){void 0===i&&(i=0);void 0===n&&(n=0);void 0===r&&(r=1);var a=[],s=(e.variantChildren.size-1)*n,l=1===r?function(e){return void 0===e&&(e=0),e*n}:function(e){return void 0===e&&(e=0),s-e*n};return Array.from(e.variantChildren).sort(yp).forEach((function(e,n){a.push(mp(e,t,Fa(Fa({},o),{delay:i+l(n)})).then((function(){return e.notifyAnimationComplete(t)})))})),Promise.all(a)}(e,t,o+n,s,l,i)}:function(){return Promise.resolve()},u=a.when;if(u){var c=Va("beforeChildren"===u?[s,l]:[l,s],2),h=c[0],d=c[1];return h().then(d)}return Promise.all([s(),l(i.delay)])}function gp(e,t,i){var n,r=void 0===i?{}:i,o=r.delay,a=void 0===o?0:o,s=r.transitionOverride,l=r.type,u=e.makeTargetAnimatable(t),c=u.transition,h=void 0===c?e.getDefaultTransition():c,d=u.transitionEnd,p=Na(u,["transition","transitionEnd"]);s&&(h=s);var f=[],m=l&&(null===(n=e.animationState)||void 0===n?void 0:n.getState()[l]);for(var g in p){var y=e.getValue(g),v=p[g];if(!(!y||void 0===v||m&&vp(m,g))){var b=gc(g,y,v,Fa({delay:a},h));f.push(b)}}return Promise.all(f).then((function(){d&&pp(e,d)}))}function yp(e,t){return e.sortNodePosition(t)}function vp(e,t){var i=e.protectedKeys,n=e.needsAnimating,r=i.hasOwnProperty(t)&&!0!==n[t];return n[t]=!1,r}var bp=[xd.Animate,xd.InView,xd.Focus,xd.Hover,xd.Tap,xd.Drag,xd.Exit],xp=Ua([],Va(bp),!1).reverse(),_p=bp.length;function wp(e){return function(t){return Promise.all(t.map((function(t){var i=t.animation,n=t.options;return function(e,t,i){var n;if(void 0===i&&(i={}),e.notifyAnimationStart(t),Array.isArray(t)){var r=t.map((function(t){return mp(e,t,i)}));n=Promise.all(r)}else if("string"===typeof t)n=mp(e,t,i);else{var o="function"===typeof t?Ms(e,t,i.custom):t;n=gp(e,o,i)}return n.then((function(){return e.notifyAnimationComplete(t)}))}(e,i,n)})))}}function Sp(e){var t=wp(e),i=function(){var e;return(e={})[xd.Animate]=kp(!0),e[xd.InView]=kp(),e[xd.Hover]=kp(),e[xd.Tap]=kp(),e[xd.Drag]=kp(),e[xd.Focus]=kp(),e[xd.Exit]=kp(),e}(),n={},r=!0,o=function(t,i){var n=Ms(e,i);if(n){n.transition;var r=n.transitionEnd,o=Na(n,["transition","transitionEnd"]);t=Fa(Fa(Fa({},t),o),r)}return t};function a(a,s){for(var l,u=e.getProps(),c=e.getVariantContext(!0)||{},h=[],d=new Set,p={},f=1/0,m=function(t){var n=xp[t],m=i[n],g=null!==(l=u[n])&&void 0!==l?l:c[n],y=As(g),v=n===s?m.isActive:null;!1===v&&(f=t);var b=g===c[n]&&g!==u[n]&&y;if(b&&r&&e.manuallyAnimateOnMount&&(b=!1),m.protectedKeys=Fa({},p),!m.isActive&&null===v||!g&&!m.prevProp||gd(g)||"boolean"===typeof g)return"continue";var x=function(e,t){if("string"===typeof t)return t!==e;if(Es(t))return!rp(t,e);return!1}(m.prevProp,g),_=x||n===s&&m.isActive&&!b&&y||t>f&&y,w=Array.isArray(g)?g:[g],S=w.reduce(o,{});!1===v&&(S={});var k=m.prevResolvedValues,C=void 0===k?{}:k,T=Fa(Fa({},C),S),E=function(e){_=!0,d.delete(e),m.needsAnimating[e]=!0};for(var A in T){var P=S[A],M=C[A];p.hasOwnProperty(A)||(P!==M?Xu(P)&&Xu(M)?!rp(P,M)||x?E(A):m.protectedKeys[A]=!0:void 0!==P?E(A):d.add(A):void 0!==P&&d.has(A)?E(A):m.protectedKeys[A]=!0)}m.prevProp=g,m.prevResolvedValues=S,m.isActive&&(p=Fa(Fa({},p),S)),r&&e.blockInitialAnimation&&(_=!1),_&&!b&&h.push.apply(h,Ua([],Va(w.map((function(e){return{animation:e,options:Fa({type:n},a)}}))),!1))},g=0;g<_p;g++)m(g);if(n=Fa({},p),d.size){var y={};d.forEach((function(t){var i=e.getBaseTarget(t);void 0!==i&&(y[t]=i)})),h.push({animation:y})}var v=Boolean(h.length);return r&&!1===u.initial&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(h):Promise.resolve()}return{isAnimated:function(e){return void 0!==n[e]},animateChanges:a,setActive:function(t,n,r){var o;return i[t].isActive===n?Promise.resolve():(null===(o=e.variantChildren)||void 0===o||o.forEach((function(e){var i;return null===(i=e.animationState)||void 0===i?void 0:i.setActive(t,n)})),i[t].isActive=n,a(r,t))},setAnimateFunction:function(i){t=i(e)},getState:function(){return i}}}function kp(e){return void 0===e&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var Cp={animation:Qd((function(t){var i=t.visualElement,n=t.animate;i.animationState||(i.animationState=Sp(i)),gd(n)&&(0,e.useEffect)((function(){return n.subscribe(i)}),[n])})),exit:Qd((function(t){var i=t.custom,n=t.visualElement,r=Va(ep(),2),o=r[0],a=r[1],s=(0,e.useContext)(ss);(0,e.useEffect)((function(){var e,t;n.isPresent=o;var r=null===(e=n.animationState)||void 0===e?void 0:e.setActive(xd.Exit,!o,{custom:null!==(t=null===s||void 0===s?void 0:s.custom)&&void 0!==t?t:i});!o&&(null===r||void 0===r||r.then(a))}),[o])}))},Tp=function(){function e(e,t,i){var n=this,r=(void 0===i?{}:i).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(n.lastMoveEvent&&n.lastMoveEventInfo){var e=Pp(n.lastMoveEventInfo,n.history),t=null!==n.startEvent,i=Vc(e.offset,{x:0,y:0})>=3;if(t||i){var r=e.point,o=rs().timestamp;n.history.push(Fa(Fa({},r),{timestamp:o}));var a=n.handlers,s=a.onStart,l=a.onMove;t||(s&&s(n.lastMoveEvent,e),n.startEvent=n.lastMoveEvent),l&&l(n.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){n.lastMoveEvent=e,n.lastMoveEventInfo=Ep(t,n.transformPagePoint),Cd(e)&&0===e.buttons?n.handlePointerUp(e,t):os.update(n.updatePoint,!0)},this.handlePointerUp=function(e,t){n.end();var i=n.handlers,r=i.onEnd,o=i.onSessionEnd,a=Pp(Ep(t,n.transformPagePoint),n.history);n.startEvent&&r&&r(e,a),o&&o(e,a)},!(Td(e)&&e.touches.length>1)){this.handlers=t,this.transformPagePoint=r;var o=Ep(Md(e),this.transformPagePoint),a=o.point,s=rs().timestamp;this.history=[Fa(Fa({},a),{timestamp:s})];var l=t.onSessionStart;l&&l(e,Pp(o,this.history)),this.removeListeners=Vl(Dd(window,"pointermove",this.handlePointerMove),Dd(window,"pointerup",this.handlePointerUp),Dd(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(e){this.handlers=e},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),Ja.update(this.updatePoint)},e}();function Ep(e,t){return t?{point:t(e.point)}:e}function Ap(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Pp(e,t){var i=e.point;return{point:i,delta:Ap(i,Lp(t)),offset:Ap(i,Mp(t)),velocity:Op(t,.1)}}function Mp(e){return e[0]}function Lp(e){return e[e.length-1]}function Op(e,t){if(e.length<2)return{x:0,y:0};for(var i=e.length-1,n=null,r=Lp(e);i>=0&&(n=e[i],!(r.timestamp-n.timestamp>Bu(t)));)i--;if(!n)return{x:0,y:0};var o=(r.timestamp-n.timestamp)/1e3;if(0===o)return{x:0,y:0};var a={x:(r.x-n.x)/o,y:(r.y-n.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Rp(e,t,i){return{min:void 0!==t?e.min+t:void 0,max:void 0!==i?e.max+i-(e.max-e.min):void 0}}function Ip(e,t){var i,n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&(n=(i=Va([r,n],2))[0],r=i[1]),{min:n,max:r}}var Dp=.35;function zp(e,t,i){return{min:Bp(e,t),max:Bp(e,i)}}function Bp(e,t){var i;return"number"===typeof e?e:null!==(i=e[t])&&void 0!==i?i:0}function Fp(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function Np(e,t){return Fp(function(e,t){if(!t)return e;var i=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:n.y,right:n.x}}(e.getBoundingClientRect(),t))}var jp=new WeakMap,Vp=function(){function e(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}return e.prototype.start=function(e,t){var i=this,n=(void 0===t?{}:t).snapToCursor,r=void 0!==n&&n;if(!1!==this.visualElement.isPresent){this.panSession=new Tp(e,{onSessionStart:function(e){i.stopAnimation(),r&&i.snapToCursor(Md(e,"page").point)},onStart:function(e,t){var n,r=i.getProps(),o=r.drag,a=r.dragPropagation,s=r.onDragStart;(!o||a||(i.openGlobalLock&&i.openGlobalLock(),i.openGlobalLock=jd(o),i.openGlobalLock))&&(i.isDragging=!0,i.currentDirection=null,i.resolveConstraints(),i.visualElement.projection&&(i.visualElement.projection.isAnimationBlocked=!0,i.visualElement.projection.target=void 0),ah((function(e){var t,n,r=i.getAxisMotionValue(e).get()||0;if(yl.test(r)){var o=null===(n=null===(t=i.visualElement.projection)||void 0===t?void 0:t.layout)||void 0===n?void 0:n.actual[e];if(o)r=Uc(o)*(parseFloat(r)/100)}i.originPoint[e]=r})),null===s||void 0===s||s(e,t),null===(n=i.visualElement.animationState)||void 0===n||n.setActive(xd.Drag,!0))},onMove:function(e,t){var n=i.getProps(),r=n.dragPropagation,o=n.dragDirectionLock,a=n.onDirectionLock,s=n.onDrag;if(r||i.openGlobalLock){var l=t.offset;if(o&&null===i.currentDirection)return i.currentDirection=function(e,t){void 0===t&&(t=10);var i=null;Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x");return i}(l),void(null!==i.currentDirection&&(null===a||void 0===a||a(i.currentDirection)));i.updateAxis("x",t.point,l),i.updateAxis("y",t.point,l),i.visualElement.syncRender(),null===s||void 0===s||s(e,t)}},onSessionEnd:function(e,t){return i.stop(e,t)}},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},e.prototype.stop=function(e,t){var i=this.isDragging;if(this.cancel(),i){var n=t.velocity;this.startAnimation(n);var r=this.getProps().onDragEnd;null===r||void 0===r||r(e,t)}},e.prototype.cancel=function(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(e=this.panSession)||void 0===e||e.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(xd.Drag,!1)},e.prototype.updateAxis=function(e,t,i){var n=this.getProps().drag;if(i&&Up(e,n,this.currentDirection)){var r=this.getAxisMotionValue(e),o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=function(e,t,i){var n=t.min,r=t.max;return void 0!==n&&e<n?e=i?Ds(n,e,i.min):Math.max(e,n):void 0!==r&&e>r&&(e=i?Ds(r,e,i.max):Math.min(e,r)),e}(o,this.constraints[e],this.elastic[e])),r.set(o)}},e.prototype.resolveConstraints=function(){var e=this,t=this.getProps(),i=t.dragConstraints,n=t.dragElastic,r=(this.visualElement.projection||{}).layout,o=this.constraints;i&&Ts(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!i||!r)&&function(e,t){var i=t.top,n=t.left,r=t.bottom,o=t.right;return{x:Rp(e.x,n,o),y:Rp(e.y,i,r)}}(r.actual,i),this.elastic=function(e){return void 0===e&&(e=Dp),!1===e?e=0:!0===e&&(e=Dp),{x:zp(e,"left","right"),y:zp(e,"top","bottom")}}(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ah((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var i={};return void 0!==t.min&&(i.min=t.min-e.min),void 0!==t.max&&(i.max=t.max-e.min),i}(r.actual[t],e.constraints[t]))}))},e.prototype.resolveRefConstraints=function(){var e=this.getProps(),t=e.dragConstraints,i=e.onMeasureDragConstraints;if(!t||!Ts(t))return!1;var n=t.current,r=this.visualElement.projection;if(!r||!r.layout)return!1;var o=function(e,t,i){var n=Np(e,i),r=t.scroll;return r&&(Rc(n.x,r.x),Rc(n.y,r.y)),n}(n,r.root,this.visualElement.getTransformPagePoint()),a=function(e,t){return{x:Ip(e.x,t.x),y:Ip(e.y,t.y)}}(r.layout.actual,o);if(i){var s=i(function(e){var t=e.x,i=e.y;return{top:i.min,right:t.max,bottom:i.max,left:t.min}}(a));this.hasMutatedConstraints=!!s,s&&(a=Fp(s))}return a},e.prototype.startAnimation=function(e){var t=this,i=this.getProps(),n=i.drag,r=i.dragMomentum,o=i.dragElastic,a=i.dragTransition,s=i.dragSnapToOrigin,l=i.onDragTransitionEnd,u=this.constraints||{},c=ah((function(i){var l;if(Up(i,n,t.currentDirection)){var c=null!==(l=null===u||void 0===u?void 0:u[i])&&void 0!==l?l:{};s&&(c={min:0,max:0});var h=o?200:1e6,d=o?40:1e7,p=Fa(Fa({type:"inertia",velocity:r?e[i]:0,bounceStiffness:h,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},a),c);return t.startAxisValueAnimation(i,p)}}));return Promise.all(c).then(l)},e.prototype.startAxisValueAnimation=function(e,t){return gc(e,this.getAxisMotionValue(e),0,t)},e.prototype.stopAnimation=function(){var e=this;ah((function(t){return e.getAxisMotionValue(t).stop()}))},e.prototype.getAxisMotionValue=function(e){var t,i,n="_drag"+e.toUpperCase(),r=this.visualElement.getProps()[n];return r||this.visualElement.getValue(e,null!==(i=null===(t=this.visualElement.getProps().initial)||void 0===t?void 0:t[e])&&void 0!==i?i:0)},e.prototype.snapToCursor=function(e){var t=this;ah((function(i){if(Up(i,t.getProps().drag,t.currentDirection)){var n=t.visualElement.projection,r=t.getAxisMotionValue(i);if(n&&n.layout){var o=n.layout.actual[i],a=o.min,s=o.max;r.set(e[i]-Ds(a,s,.5))}}}))},e.prototype.scalePositionWithinConstraints=function(){var e,t=this,i=this.getProps(),n=i.drag,r=i.dragConstraints,o=this.visualElement.projection;if(Ts(r)&&o&&this.constraints){this.stopAnimation();var a={x:0,y:0};ah((function(e){var i=t.getAxisMotionValue(e);if(i){var n=i.get();a[e]=function(e,t){var i=.5,n=Uc(e),r=Uc(t);return r>n?i=Js(t.min,t.max-n,e.min):n>r&&(i=Js(e.min,e.max-r,t.min)),Hs(0,1,i)}({min:n,max:n},t.constraints[e])}}));var s=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=s?s({},""):"none",null===(e=o.root)||void 0===e||e.updateScroll(),o.updateLayout(),this.resolveConstraints(),ah((function(e){if(Up(e,n,null)){var i=t.getAxisMotionValue(e),r=t.constraints[e],o=r.min,s=r.max;i.set(Ds(o,s,a[e]))}}))}},e.prototype.addListeners=function(){var e,t=this;jp.set(this.visualElement,this);var i=Dd(this.visualElement.getInstance(),"pointerdown",(function(e){var i=t.getProps(),n=i.drag,r=i.dragListener;n&&(void 0===r||r)&&t.start(e)})),n=function(){Ts(t.getProps().dragConstraints)&&(t.constraints=t.resolveRefConstraints())},r=this.visualElement.projection,o=r.addEventListener("measure",n);r&&!r.layout&&(null===(e=r.root)||void 0===e||e.updateScroll(),r.updateLayout()),n();var a=Sd(window,"resize",(function(){t.scalePositionWithinConstraints()}));return r.addEventListener("didUpdate",(function(e){var i=e.delta,n=e.hasLayoutChanged;t.isDragging&&n&&(ah((function(e){var n=t.getAxisMotionValue(e);n&&(t.originPoint[e]+=i[e].translate,n.set(n.get()+i[e].translate))})),t.visualElement.syncRender())})),function(){a(),i(),o()}},e.prototype.getProps=function(){var e=this.visualElement.getProps(),t=e.drag,i=void 0!==t&&t,n=e.dragDirectionLock,r=void 0!==n&&n,o=e.dragPropagation,a=void 0!==o&&o,s=e.dragConstraints,l=void 0!==s&&s,u=e.dragElastic,c=void 0===u?Dp:u,h=e.dragMomentum,d=void 0===h||h;return Fa(Fa({},e),{drag:i,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d})},e}();function Up(e,t,i){return(!0===t||t===e)&&(null===i||i===e)}var Wp={pan:Qd((function(t){var i=t.onPan,n=t.onPanStart,r=t.onPanEnd,o=t.onPanSessionStart,a=t.visualElement,s=i||n||r||o,l=(0,e.useRef)(null),u=(0,e.useContext)(_s).transformPagePoint,c={onSessionStart:o,onStart:n,onMove:i,onEnd:function(e,t){l.current=null,r&&r(e,t)}};(0,e.useEffect)((function(){null!==l.current&&l.current.updateHandlers(c)})),zd(a,"pointerdown",s&&function(e){l.current=new Tp(e,c,{transformPagePoint:u})}),as((function(){return l.current&&l.current.end()}))})),drag:Qd((function(t){var i=t.dragControls,n=t.visualElement,r=ls((function(){return new Vp(n)}));(0,e.useEffect)((function(){return i&&i.subscribe(r)}),[r,i]),(0,e.useEffect)((function(){return r.addListeners()}),[r])}))},Hp=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","SetAxisTarget","Unmount"];var Gp=function(e){var t=e.treeType,i=void 0===t?"":t,n=e.build,r=e.getBaseTarget,o=e.makeTargetAnimatable,a=e.measureViewportBox,s=e.render,l=e.readValueFromInstance,u=e.removeValueFromRenderState,c=e.sortNodePosition,h=e.scrapeMotionValuesFromProps;return function(e,t){var d=e.parent,p=e.props,f=e.presenceId,m=e.blockInitialAnimation,g=e.visualState;void 0===t&&(t={});var y,v,b=!1,x=g.latestValues,_=g.renderState,w=function(){var e=Hp.map((function(){return new Ns})),t={},i={clearAllListeners:function(){return e.forEach((function(e){return e.clear()}))},updatePropListeners:function(e){Hp.forEach((function(n){var r,o="on"+n,a=e[o];null===(r=t[n])||void 0===r||r.call(t),a&&(t[n]=i[o](a))}))}};return e.forEach((function(e,t){i["on"+Hp[t]]=function(t){return e.add(t)},i["notify"+Hp[t]]=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];e.notify.apply(e,Ua([],Va(t),!1))}})),i}(),S=new Map,k=new Map,C={},T=Fa({},x);function E(){y&&b&&(A(),s(y,_,p.style,D.projection))}function A(){n(D,_,x,t,p)}function P(){w.notifyUpdate(x)}var M=h(p);for(var L in M){var O=M[L];void 0!==x[L]&&Us(O)&&O.set(x[L],!1)}var R=Ls(p),I=Os(p),D=Fa(Fa({treeType:i,current:null,depth:d?d.depth+1:0,parent:d,children:new Set,presenceId:f,variantChildren:I?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null===d||void 0===d?void 0:d.isMounted()),blockInitialAnimation:m,isMounted:function(){return Boolean(y)},mount:function(e){b=!0,y=D.current=e,D.projection&&D.projection.mount(e),I&&d&&!R&&(v=null===d||void 0===d?void 0:d.addVariantChild(D)),null===d||void 0===d||d.children.add(D),D.setProps(p)},unmount:function(){var e;null===(e=D.projection)||void 0===e||e.unmount(),Ja.update(P),Ja.render(E),k.forEach((function(e){return e()})),null===v||void 0===v||v(),null===d||void 0===d||d.children.delete(D),w.clearAllListeners(),y=void 0,b=!1},addVariantChild:function(e){var t,i=D.getClosestVariantNode();if(i)return null===(t=i.variantChildren)||void 0===t||t.add(e),function(){return i.variantChildren.delete(e)}},sortNodePosition:function(e){return c&&i===e.treeType?c(D.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return I?D:null===d||void 0===d?void 0:d.getClosestVariantNode()},getLayoutId:function(){return p.layoutId},getInstance:function(){return y},getStaticValue:function(e){return x[e]},setStaticValue:function(e,t){return x[e]=t},getLatestValues:function(){return x},setVisibility:function(e){D.isVisible!==e&&(D.isVisible=e,D.scheduleRender())},makeTargetAnimatable:function(e,t){return void 0===t&&(t=!0),o(D,e,p,t)},measureViewportBox:function(){return a(y,p)},addValue:function(e,t){D.hasValue(e)&&D.removeValue(e),S.set(e,t),x[e]=t.get(),function(e,t){var i=t.onChange((function(t){x[e]=t,p.onUpdate&&os.update(P,!1,!0)})),n=t.onRenderRequest(D.scheduleRender);k.set(e,(function(){i(),n()}))}(e,t)},removeValue:function(e){var t;S.delete(e),null===(t=k.get(e))||void 0===t||t(),k.delete(e),delete x[e],u(e,_)},hasValue:function(e){return S.has(e)},getValue:function(e,t){var i=S.get(e);return void 0===i&&void 0!==t&&(i=Vs(t),D.addValue(e,i)),i},forEachValue:function(e){return S.forEach(e)},readValue:function(e){var i;return null!==(i=x[e])&&void 0!==i?i:l(y,e,t)},setBaseTarget:function(e,t){T[e]=t},getBaseTarget:function(e){if(r){var t=r(p,e);if(void 0!==t&&!Us(t))return t}return T[e]}},w),{build:function(){return A(),_},scheduleRender:function(){os.render(E,!1,!0)},syncRender:E,setProps:function(e){p=e,w.updatePropListeners(e),C=function(e,t,i){var n;for(var r in t){var o=t[r],a=i[r];if(Us(o))e.addValue(r,o);else if(Us(a))e.addValue(r,Vs(o));else if(a!==o)if(e.hasValue(r)){var s=e.getValue(r);!s.hasAnimated&&s.set(o)}else e.addValue(r,Vs(null!==(n=e.getStaticValue(r))&&void 0!==n?n:o))}for(var r in i)void 0===t[r]&&e.removeValue(r);return t}(D,h(p),C)},getProps:function(){return p},getVariant:function(e){var t;return null===(t=p.variants)||void 0===t?void 0:t[e]},getDefaultTransition:function(){return p.transition},getTransformPagePoint:function(){return p.transformPagePoint},getVariantContext:function(e){if(void 0===e&&(e=!1),e)return null===d||void 0===d?void 0:d.getVariantContext();if(!R){var t=(null===d||void 0===d?void 0:d.getVariantContext())||{};return void 0!==p.initial&&(t.initial=p.initial),t}for(var i={},n=0;n<Zp;n++){var r=qp[n],o=p[r];(As(o)||!1===o)&&(i[r]=o)}return i}});return D}},qp=Ua(["initial"],Va(bp),!1),Zp=qp.length;function Xp(e){return"string"===typeof e&&e.startsWith("var(--")}var Yp=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function $p(e,t,i){void 0===i&&(i=1),'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');var n=Va(function(e){var t=Yp.exec(e);if(!t)return[,];var i=Va(t,3);return[i[1],i[2]]}(e),2),r=n[0],o=n[1];if(r){var a=window.getComputedStyle(t).getPropertyValue(r);return a?a.trim():Xp(o)?$p(o,t,i+1):o}}var Kp,Qp=new Set(["width","height","top","left","right","bottom","x","y"]),Jp=function(e){return Qp.has(e)},ef=function(e,t){e.set(t,!1),e.set(t)},tf=function(e){return e===al||e===vl};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(Kp||(Kp={}));var nf=function(e,t){return parseFloat(e.split(", ")[t])},rf=function(e,t){return function(i,n){var r=n.transform;if("none"===r||!r)return 0;var o=r.match(/^matrix3d\((.+)\)$/);if(o)return nf(o[1],t);var a=r.match(/^matrix\((.+)\)$/);return a?nf(a[1],e):0}},of=new Set(["x","y","z"]),af=lh.filter((function(e){return!of.has(e)}));var sf={width:function(e,t){var i=e.x,n=t.paddingLeft,r=void 0===n?"0":n,o=t.paddingRight,a=void 0===o?"0":o;return i.max-i.min-parseFloat(r)-parseFloat(a)},height:function(e,t){var i=e.y,n=t.paddingTop,r=void 0===n?"0":n,o=t.paddingBottom,a=void 0===o?"0":o;return i.max-i.min-parseFloat(r)-parseFloat(a)},top:function(e,t){var i=t.top;return parseFloat(i)},left:function(e,t){var i=t.left;return parseFloat(i)},bottom:function(e,t){var i=e.y,n=t.top;return parseFloat(n)+(i.max-i.min)},right:function(e,t){var i=e.x,n=t.left;return parseFloat(n)+(i.max-i.min)},x:rf(4,13),y:rf(5,14)},lf=function(e,t,i,n){void 0===i&&(i={}),void 0===n&&(n={}),t=Fa({},t),n=Fa({},n);var r=Object.keys(t).filter(Jp),o=[],a=!1,s=[];if(r.forEach((function(r){var l=e.getValue(r);if(e.hasValue(r)){var u,c=i[r],h=up(c),d=t[r];if(Xu(d)){var p=d.length,f=null===d[0]?1:0;c=d[f],h=up(c);for(var m=f;m<p;m++)u?up(d[m]):(u=up(d[m]))===h||tf(h)&&tf(u)}else u=up(d);if(h!==u)if(tf(h)&&tf(u)){var g=l.get();"string"===typeof g&&l.set(parseFloat(g)),"string"===typeof d?t[r]=parseFloat(d):Array.isArray(d)&&u===vl&&(t[r]=d.map(parseFloat))}else(null===h||void 0===h?void 0:h.transform)&&(null===u||void 0===u?void 0:u.transform)&&(0===c||0===d)?0===c?l.set(u.transform(c)):t[r]=h.transform(d):(a||(o=function(e){var t=[];return af.forEach((function(i){var n=e.getValue(i);void 0!==n&&(t.push([i,n.get()]),n.set(i.startsWith("scale")?1:0))})),t.length&&e.syncRender(),t}(e),a=!0),s.push(r),n[r]=void 0!==n[r]?n[r]:t[r],ef(l,d))}})),s.length){var l=function(e,t,i){var n=t.measureViewportBox(),r=t.getInstance(),o=getComputedStyle(r),a=o.display,s={};"none"===a&&t.setStaticValue("display",e.display||"block"),i.forEach((function(e){s[e]=sf[e](n,o)})),t.syncRender();var l=t.measureViewportBox();return i.forEach((function(i){var n=t.getValue(i);ef(n,s[i]),e[i]=sf[i](l,o)})),e}(t,e,s);return o.length&&o.forEach((function(t){var i=Va(t,2),n=i[0],r=i[1];e.getValue(n).set(r)})),e.syncRender(),{target:l,transitionEnd:n}}return{target:t,transitionEnd:n}};function uf(e,t,i,n){return function(e){return Object.keys(e).some(Jp)}(t)?lf(e,t,i,n):{target:t,transitionEnd:n}}var cf=function(e,t,i,n){var r=function(e,t,i){var n,r=Na(t,[]),o=e.getInstance();if(!(o instanceof Element))return{target:r,transitionEnd:i};for(var a in i&&(i=Fa({},i)),e.forEachValue((function(e){var t=e.get();if(Xp(t)){var i=$p(t,o);i&&e.set(i)}})),r){var s=r[a];if(Xp(s)){var l=$p(s,o);l&&(r[a]=l,i&&(null!==(n=i[a])&&void 0!==n||(i[a]=s)))}}return{target:r,transitionEnd:i}}(e,t,n);return uf(e,t=r.target,i,n=r.transitionEnd)};var hf={treeType:"dom",readValueFromInstance:function(e,t){if(hh(t)){var i=sc(t);return i&&i.default||0}var n,r=(n=e,window.getComputedStyle(n));return(Gh(t)?r.getPropertyValue(t):r[t])||0},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){var i;return null===(i=e.style)||void 0===i?void 0:i[t]},measureViewportBox:function(e,t){return Np(e,t.transformPagePoint)},resetTransform:function(e,t,i){var n=i.transformTemplate;t.style.transform=n?n({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var i=t.vars,n=t.style;delete i[e],delete n[e]},makeTargetAnimatable:function(e,t,i,n){var r=i.transformValues;void 0===n&&(n=!0);var o=t.transition,a=t.transitionEnd,s=Na(t,["transition","transitionEnd"]),l=function(e,t,i){var n,r,o={};for(var a in e)o[a]=null!==(n=fp(a,t))&&void 0!==n?n:null===(r=i.getValue(a))||void 0===r?void 0:r.get();return o}(s,o||{},e);if(r&&(a&&(a=r(a)),s&&(s=r(s)),l&&(l=r(l))),n){!function(e,t,i){var n,r,o,a,s=Object.keys(t).filter((function(t){return!e.hasValue(t)})),l=s.length;if(l)for(var u=0;u<l;u++){var c=s[u],h=t[c],d=null;Array.isArray(h)&&(d=h[0]),null===d&&(d=null!==(r=null!==(n=i[c])&&void 0!==n?n:e.readValue(c))&&void 0!==r?r:t[c]),void 0!==d&&null!==d&&("string"===typeof d&&(op(d)||ap(d))?d=parseFloat(d):!hp(d)&&Fl.test(h)&&(d=lc(c,h)),e.addValue(c,Vs(d)),null!==(o=(a=i)[c])&&void 0!==o||(a[c]=d),e.setBaseTarget(c,d))}}(e,s,l);var u=cf(e,s,l,a);a=u.transitionEnd,s=u.target}return Fa({transition:o,transitionEnd:a},s)},scrapeMotionValuesFromProps:fd,build:function(e,t,i,n,r){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden"),Zh(t,i,n,r.transformTemplate)},render:hd},df=Gp(hf),pf=Gp(Fa(Fa({},hf),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var i;return hh(t)?(null===(i=sc(t))||void 0===i?void 0:i.default)||0:(t=dd.has(t)?t:cd(t),e.getAttribute(t))},scrapeMotionValuesFromProps:md,build:function(e,t,i,n,r){od(t,i,n,r.transformTemplate)},render:pd})),ff=function(e,t){return Uh(e)?pf(t,{enableHardwareAcceleration:!1}):df(t,{enableHardwareAcceleration:!0})};function mf(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var gf={correct:function(e,t){if(!t.target)return e;if("string"===typeof e){if(!vl.test(e))return e;e=parseFloat(e)}var i=mf(e,t.target.x),n=mf(e,t.target.y);return"".concat(i,"% ").concat(n,"%")}},yf="_$css",vf={correct:function(e,t){var i=t.treeScale,n=t.projectionDelta,r=e,o=e.includes("var("),a=[];o&&(e=e.replace(Yp,(function(e){return a.push(e),yf})));var s=Fl.parse(e);if(s.length>5)return r;var l=Fl.createTransformer(e),u="number"!==typeof s[0]?1:0,c=n.x.scale*i.x,h=n.y.scale*i.y;s[0+u]/=c,s[1+u]/=h;var d=Ds(c,h,.5);"number"===typeof s[2+u]&&(s[2+u]/=d),"number"===typeof s[3+u]&&(s[3+u]/=d);var p=l(s);if(o){var f=0;p=p.replace(yf,(function(){var e=a[f];return f++,e}))}return p}},bf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ba(t,e),t.prototype.componentDidMount=function(){var e,t=this,i=this.props,n=i.visualElement,r=i.layoutGroup,o=i.switchLayoutGroup,a=i.layoutId,s=n.projection;e=xf,Object.assign(rh,e),s&&((null===r||void 0===r?void 0:r.group)&&r.group.add(s),(null===o||void 0===o?void 0:o.register)&&a&&o.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(function(){t.safeToRemove()})),s.setOptions(Fa(Fa({},s.options),{onExitComplete:function(){return t.safeToRemove()}}))),yh.hasEverUpdated=!0},t.prototype.getSnapshotBeforeUpdate=function(e){var t=this,i=this.props,n=i.layoutDependency,r=i.visualElement,o=i.drag,a=i.isPresent,s=r.projection;return s?(s.isPresent=a,o||e.layoutDependency!==n||void 0===n?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||os.postRender((function(){var e;(null===(e=s.getStack())||void 0===e?void 0:e.members.length)||t.safeToRemove()}))),null):null},t.prototype.componentDidUpdate=function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.visualElement,i=e.layoutGroup,n=e.switchLayoutGroup,r=t.projection;r&&(r.scheduleCheckAfterUnmount(),(null===i||void 0===i?void 0:i.group)&&i.group.remove(r),(null===n||void 0===n?void 0:n.deregister)&&n.deregister(r))},t.prototype.safeToRemove=function(){var e=this.props.safeToRemove;null===e||void 0===e||e()},t.prototype.render=function(){return null},t}(e.Component);var xf={borderRadius:Fa(Fa({},gf),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:gf,borderTopRightRadius:gf,borderBottomLeftRadius:gf,borderBottomRightRadius:gf,boxShadow:vf},_f={measureLayout:function(t){var i=Va(ep(),2),n=i[0],r=i[1],o=(0,e.useContext)(ps);return e.createElement(bf,Fa({},t,{layoutGroup:o,switchLayoutGroup:(0,e.useContext)(Bh),isPresent:n,safeToRemove:r}))}},wf=vh({attachResizeListener:function(e,t){return e.addEventListener("resize",t,{passive:!0}),function(){return e.removeEventListener("resize",t)}},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}}}),Sf={current:void 0},kf=vh({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!Sf.current){var e=new wf(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),Sf.current=e}return Sf.current},resetTransform:function(e,t){e.style.transform=null!==t&&void 0!==t?t:"none"}}),Cf=Fa(Fa(Fa(Fa({},Cp),Jd),Wp),_f),Tf=jh((function(e,t){return function(e,t,i,n,r){var o=t.forwardMotionProps,a=void 0!==o&&o,s=Uh(e)?_d:wd;return Fa(Fa({},s),{preloadedFeatures:i,useRender:ld(a),createVisualElement:n,projectionNodeConstructor:r,Component:e})}(e,t,Cf,ff,kf)}));function Ef(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}function Af(){return Af=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Af.apply(this,arguments)}var Pf={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]};var Mf=function(e,t){return Af({},e,{delay:h(t)?t:null==t?void 0:t.enter})},Lf=function(e,t){return Af({},e,{delay:h(t)?t:null==t?void 0:t.exit})},Of=["in","unmountOnExit","animateOpacity","startingHeight","endingHeight","style","className","transition","transitionEnd"],Rf={exit:{height:{duration:.2,ease:Pf.ease},opacity:{duration:.3,ease:Pf.ease}},enter:{height:{duration:.3,ease:Pf.ease},opacity:{duration:.4,ease:Pf.ease}}},If={exit:function(e){var t,i,n=e.animateOpacity,r=e.startingHeight,o=e.transition,a=e.transitionEnd,s=e.delay;return Af({},n&&{opacity:(i=r,null!=i&&parseInt(i.toString(),10)>0?1:0)},{overflow:"hidden",height:r,transitionEnd:null==a?void 0:a.exit,transition:null!=(t=null==o?void 0:o.exit)?t:Lf(Rf.exit,s)})},enter:function(e){var t,i=e.animateOpacity,n=e.endingHeight,r=e.transition,o=e.transitionEnd,a=e.delay;return Af({},i&&{opacity:1},{height:n,transitionEnd:null==o?void 0:o.enter,transition:null!=(t=null==r?void 0:r.enter)?t:Mf(Rf.enter,a)})}},Df=e.forwardRef((function(t,i){var n=t.in,r=t.unmountOnExit,o=t.animateOpacity,a=void 0===o||o,l=t.startingHeight,u=void 0===l?0:l,c=t.endingHeight,h=void 0===c?"auto":c,d=t.style,p=t.className,f=t.transition,m=t.transitionEnd,g=Ef(t,Of),y=e.useState(!1),v=y[0],b=y[1];e.useEffect((function(){var e=setTimeout((function(){b(!0)}));return function(){return clearTimeout(e)}}),[]),re({condition:Boolean(u>0&&r),message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});var x=parseFloat(u.toString())>0,_={startingHeight:u,endingHeight:h,animateOpacity:a,transition:v?f:{enter:{duration:0}},transitionEnd:s()(m,{enter:{overflow:"initial"},exit:r?void 0:{display:x?"block":"none"}})},w=!r||n,S=n||r?"enter":"exit";return e.createElement(ms,{initial:!1,custom:_},w&&e.createElement(Tf.div,Af({ref:i},g,{className:j("chakra-collapse",p),style:Af({overflow:"hidden",display:"block"},d),custom:_,variants:If,initial:!!r&&"exit",animate:S,exit:"exit"})))}));function zf(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Bf(e){return e instanceof zf(e).Element||e instanceof Element}function Ff(e){return e instanceof zf(e).HTMLElement||e instanceof HTMLElement}function Nf(e){return"undefined"!==typeof ShadowRoot&&(e instanceof zf(e).ShadowRoot||e instanceof ShadowRoot)}var jf=Math.max,Vf=Math.min,Uf=Math.round;function Wf(e,t){void 0===t&&(t=!1);var i=e.getBoundingClientRect(),n=1,r=1;if(Ff(e)&&t){var o=e.offsetHeight,a=e.offsetWidth;a>0&&(n=Uf(i.width)/a||1),o>0&&(r=Uf(i.height)/o||1)}return{width:i.width/n,height:i.height/r,top:i.top/r,right:i.right/n,bottom:i.bottom/r,left:i.left/n,x:i.left/n,y:i.top/r}}function Hf(e){var t=zf(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Gf(e){return e?(e.nodeName||"").toLowerCase():null}function qf(e){return((Bf(e)?e.ownerDocument:e.document)||window.document).documentElement}function Zf(e){return Wf(qf(e)).left+Hf(e).scrollLeft}function Xf(e){return zf(e).getComputedStyle(e)}function Yf(e){var t=Xf(e),i=t.overflow,n=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+r+n)}function $f(e,t,i){void 0===i&&(i=!1);var n=Ff(t),r=Ff(t)&&function(e){var t=e.getBoundingClientRect(),i=Uf(t.width)/e.offsetWidth||1,n=Uf(t.height)/e.offsetHeight||1;return 1!==i||1!==n}(t),o=qf(t),a=Wf(e,r),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!i)&&(("body"!==Gf(t)||Yf(o))&&(s=function(e){return e!==zf(e)&&Ff(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Hf(e);var t}(t)),Ff(t)?((l=Wf(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=Zf(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function Kf(e){var t=Wf(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function Qf(e){return"html"===Gf(e)?e:e.assignedSlot||e.parentNode||(Nf(e)?e.host:null)||qf(e)}function Jf(e){return["html","body","#document"].indexOf(Gf(e))>=0?e.ownerDocument.body:Ff(e)&&Yf(e)?e:Jf(Qf(e))}function em(e,t){var i;void 0===t&&(t=[]);var n=Jf(e),r=n===(null==(i=e.ownerDocument)?void 0:i.body),o=zf(n),a=r?[o].concat(o.visualViewport||[],Yf(n)?n:[]):n,s=t.concat(a);return r?s:s.concat(em(Qf(a)))}function tm(e){return["table","td","th"].indexOf(Gf(e))>=0}function im(e){return Ff(e)&&"fixed"!==Xf(e).position?e.offsetParent:null}function nm(e){for(var t=zf(e),i=im(e);i&&tm(i)&&"static"===Xf(i).position;)i=im(i);return i&&("html"===Gf(i)||"body"===Gf(i)&&"static"===Xf(i).position)?t:i||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&Ff(e)&&"fixed"===Xf(e).position)return null;for(var i=Qf(e);Ff(i)&&["html","body"].indexOf(Gf(i))<0;){var n=Xf(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(e)||t}var rm="top",om="bottom",am="right",sm="left",lm="auto",um=[rm,om,am,sm],cm="start",hm="end",dm="viewport",pm="popper",fm=um.reduce((function(e,t){return e.concat([t+"-"+cm,t+"-"+hm])}),[]),mm=[].concat(um,[lm]).reduce((function(e,t){return e.concat([t,t+"-"+cm,t+"-"+hm])}),[]),gm=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function ym(e){var t=new Map,i=new Set,n=[];function r(e){i.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!i.has(e)){var n=t.get(e);n&&r(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){i.has(e.name)||r(e)})),n}function vm(e){var t;return function(){return t||(t=new Promise((function(i){Promise.resolve().then((function(){t=void 0,i(e())}))}))),t}}var bm={placement:"bottom",modifiers:[],strategy:"absolute"};function xm(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function _m(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,n=void 0===i?[]:i,r=t.defaultOptions,o=void 0===r?bm:r;return function(e,t,i){void 0===i&&(i=o);var r={placement:"bottom",orderedModifiers:[],options:Object.assign({},bm,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,l={state:r,setOptions:function(i){var s="function"===typeof i?i(r.options):i;u(),r.options=Object.assign({},o,r.options,s),r.scrollParents={reference:Bf(e)?em(e):e.contextElement?em(e.contextElement):[],popper:em(t)};var c=function(e){var t=ym(e);return gm.reduce((function(e,i){return e.concat(t.filter((function(e){return e.phase===i})))}),[])}(function(e){var t=e.reduce((function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(n,r.options.modifiers)));return r.orderedModifiers=c.filter((function(e){return e.enabled})),r.orderedModifiers.forEach((function(e){var t=e.name,i=e.options,n=void 0===i?{}:i,o=e.effect;if("function"===typeof o){var s=o({state:r,name:t,instance:l,options:n}),u=function(){};a.push(s||u)}})),l.update()},forceUpdate:function(){if(!s){var e=r.elements,t=e.reference,i=e.popper;if(xm(t,i)){r.rects={reference:$f(t,nm(i),"fixed"===r.options.strategy),popper:Kf(i)},r.reset=!1,r.placement=r.options.placement,r.orderedModifiers.forEach((function(e){return r.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<r.orderedModifiers.length;n++)if(!0!==r.reset){var o=r.orderedModifiers[n],a=o.fn,u=o.options,c=void 0===u?{}:u,h=o.name;"function"===typeof a&&(r=a({state:r,options:c,name:h,instance:l})||r)}else r.reset=!1,n=-1}}},update:vm((function(){return new Promise((function(e){l.forceUpdate(),e(r)}))})),destroy:function(){u(),s=!0}};if(!xm(e,t))return l;function u(){a.forEach((function(e){return e()})),a=[]}return l.setOptions(i).then((function(e){!s&&i.onFirstUpdate&&i.onFirstUpdate(e)})),l}}var wm={passive:!0};var Sm={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,n=e.options,r=n.scroll,o=void 0===r||r,a=n.resize,s=void 0===a||a,l=zf(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach((function(e){e.addEventListener("scroll",i.update,wm)})),s&&l.addEventListener("resize",i.update,wm),function(){o&&u.forEach((function(e){e.removeEventListener("scroll",i.update,wm)})),s&&l.removeEventListener("resize",i.update,wm)}},data:{}};function km(e){return e.split("-")[0]}function Cm(e){return e.split("-")[1]}function Tm(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Em(e){var t,i=e.reference,n=e.element,r=e.placement,o=r?km(r):null,a=r?Cm(r):null,s=i.x+i.width/2-n.width/2,l=i.y+i.height/2-n.height/2;switch(o){case rm:t={x:s,y:i.y-n.height};break;case om:t={x:s,y:i.y+i.height};break;case am:t={x:i.x+i.width,y:l};break;case sm:t={x:i.x-n.width,y:l};break;default:t={x:i.x,y:i.y}}var u=o?Tm(o):null;if(null!=u){var c="y"===u?"height":"width";switch(a){case cm:t[u]=t[u]-(i[c]/2-n[c]/2);break;case hm:t[u]=t[u]+(i[c]/2-n[c]/2)}}return t}var Am={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=Em({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Pm={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Mm(e){var t,i=e.popper,n=e.popperRect,r=e.placement,o=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,h=e.isFixed,d=a.x,p=void 0===d?0:d,f=a.y,m=void 0===f?0:f,g="function"===typeof c?c({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var y=a.hasOwnProperty("x"),v=a.hasOwnProperty("y"),b=sm,x=rm,_=window;if(u){var w=nm(i),S="clientHeight",k="clientWidth";if(w===zf(i)&&"static"!==Xf(w=qf(i)).position&&"absolute"===s&&(S="scrollHeight",k="scrollWidth"),w=w,r===rm||(r===sm||r===am)&&o===hm)x=om,m-=(h&&_.visualViewport?_.visualViewport.height:w[S])-n.height,m*=l?1:-1;if(r===sm||(r===rm||r===om)&&o===hm)b=am,p-=(h&&_.visualViewport?_.visualViewport.width:w[k])-n.width,p*=l?1:-1}var C,T=Object.assign({position:s},u&&Pm),E=!0===c?function(e){var t=e.x,i=e.y,n=window.devicePixelRatio||1;return{x:Uf(t*n)/n||0,y:Uf(i*n)/n||0}}({x:p,y:m}):{x:p,y:m};return p=E.x,m=E.y,l?Object.assign({},T,((C={})[x]=v?"0":"",C[b]=y?"0":"",C.transform=(_.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",C)):Object.assign({},T,((t={})[x]=v?m+"px":"",t[b]=y?p+"px":"",t.transform="",t))}var Lm={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,i=e.options,n=i.gpuAcceleration,r=void 0===n||n,o=i.adaptive,a=void 0===o||o,s=i.roundOffsets,l=void 0===s||s,u={placement:km(t.placement),variation:Cm(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Mm(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Mm(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Om={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var i=t.styles[e]||{},n=t.attributes[e]||{},r=t.elements[e];Ff(r)&&Gf(r)&&(Object.assign(r.style,i),Object.keys(n).forEach((function(e){var t=n[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],r=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:i[e]).reduce((function(e,t){return e[t]="",e}),{});Ff(n)&&Gf(n)&&(Object.assign(n.style,o),Object.keys(r).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]};var Rm={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,i=e.options,n=e.name,r=i.offset,o=void 0===r?[0,0]:r,a=mm.reduce((function(e,i){return e[i]=function(e,t,i){var n=km(e),r=[sm,rm].indexOf(n)>=0?-1:1,o="function"===typeof i?i(Object.assign({},t,{placement:e})):i,a=o[0],s=o[1];return a=a||0,s=(s||0)*r,[sm,am].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}(i,t.rects,o),e}),{}),s=a[t.placement],l=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=a}},Im={left:"right",right:"left",bottom:"top",top:"bottom"};function Dm(e){return e.replace(/left|right|bottom|top/g,(function(e){return Im[e]}))}var zm={start:"end",end:"start"};function Bm(e){return e.replace(/start|end/g,(function(e){return zm[e]}))}function Fm(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&Nf(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Nm(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function jm(e,t){return t===dm?Nm(function(e){var t=zf(e),i=qf(e),n=t.visualViewport,r=i.clientWidth,o=i.clientHeight,a=0,s=0;return n&&(r=n.width,o=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=n.offsetLeft,s=n.offsetTop)),{width:r,height:o,x:a+Zf(e),y:s}}(e)):Bf(t)?function(e){var t=Wf(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Nm(function(e){var t,i=qf(e),n=Hf(e),r=null==(t=e.ownerDocument)?void 0:t.body,o=jf(i.scrollWidth,i.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=jf(i.scrollHeight,i.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-n.scrollLeft+Zf(e),l=-n.scrollTop;return"rtl"===Xf(r||i).direction&&(s+=jf(i.clientWidth,r?r.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}(qf(e)))}function Vm(e,t,i){var n="clippingParents"===t?function(e){var t=em(Qf(e)),i=["absolute","fixed"].indexOf(Xf(e).position)>=0&&Ff(e)?nm(e):e;return Bf(i)?t.filter((function(e){return Bf(e)&&Fm(e,i)&&"body"!==Gf(e)})):[]}(e):[].concat(t),r=[].concat(n,[i]),o=r[0],a=r.reduce((function(t,i){var n=jm(e,i);return t.top=jf(n.top,t.top),t.right=Vf(n.right,t.right),t.bottom=Vf(n.bottom,t.bottom),t.left=jf(n.left,t.left),t}),jm(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Um(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Wm(e,t){return t.reduce((function(t,i){return t[i]=e,t}),{})}function Hm(e,t){void 0===t&&(t={});var i=t,n=i.placement,r=void 0===n?e.placement:n,o=i.boundary,a=void 0===o?"clippingParents":o,s=i.rootBoundary,l=void 0===s?dm:s,u=i.elementContext,c=void 0===u?pm:u,h=i.altBoundary,d=void 0!==h&&h,p=i.padding,f=void 0===p?0:p,m=Um("number"!==typeof f?f:Wm(f,um)),g=c===pm?"reference":pm,y=e.rects.popper,v=e.elements[d?g:c],b=Vm(Bf(v)?v:v.contextElement||qf(e.elements.popper),a,l),x=Wf(e.elements.reference),_=Em({reference:x,element:y,strategy:"absolute",placement:r}),w=Nm(Object.assign({},y,_)),S=c===pm?w:x,k={top:b.top-S.top+m.top,bottom:S.bottom-b.bottom+m.bottom,left:b.left-S.left+m.left,right:S.right-b.right+m.right},C=e.modifiersData.offset;if(c===pm&&C){var T=C[r];Object.keys(k).forEach((function(e){var t=[am,om].indexOf(e)>=0?1:-1,i=[rm,om].indexOf(e)>=0?"y":"x";k[e]+=T[i]*t}))}return k}var Gm={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var r=i.mainAxis,o=void 0===r||r,a=i.altAxis,s=void 0===a||a,l=i.fallbackPlacements,u=i.padding,c=i.boundary,h=i.rootBoundary,d=i.altBoundary,p=i.flipVariations,f=void 0===p||p,m=i.allowedAutoPlacements,g=t.options.placement,y=km(g),v=l||(y===g||!f?[Dm(g)]:function(e){if(km(e)===lm)return[];var t=Dm(e);return[Bm(e),t,Bm(t)]}(g)),b=[g].concat(v).reduce((function(e,i){return e.concat(km(i)===lm?function(e,t){void 0===t&&(t={});var i=t,n=i.placement,r=i.boundary,o=i.rootBoundary,a=i.padding,s=i.flipVariations,l=i.allowedAutoPlacements,u=void 0===l?mm:l,c=Cm(n),h=c?s?fm:fm.filter((function(e){return Cm(e)===c})):um,d=h.filter((function(e){return u.indexOf(e)>=0}));0===d.length&&(d=h);var p=d.reduce((function(t,i){return t[i]=Hm(e,{placement:i,boundary:r,rootBoundary:o,padding:a})[km(i)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:i,boundary:c,rootBoundary:h,padding:u,flipVariations:f,allowedAutoPlacements:m}):i)}),[]),x=t.rects.reference,_=t.rects.popper,w=new Map,S=!0,k=b[0],C=0;C<b.length;C++){var T=b[C],E=km(T),A=Cm(T)===cm,P=[rm,om].indexOf(E)>=0,M=P?"width":"height",L=Hm(t,{placement:T,boundary:c,rootBoundary:h,altBoundary:d,padding:u}),O=P?A?am:sm:A?om:rm;x[M]>_[M]&&(O=Dm(O));var R=Dm(O),I=[];if(o&&I.push(L[E]<=0),s&&I.push(L[O]<=0,L[R]<=0),I.every((function(e){return e}))){k=T,S=!1;break}w.set(T,I)}if(S)for(var D=function(e){var t=b.find((function(t){var i=w.get(t);if(i)return i.slice(0,e).every((function(e){return e}))}));if(t)return k=t,"break"},z=f?3:1;z>0;z--){if("break"===D(z))break}t.placement!==k&&(t.modifiersData[n]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function qm(e,t,i){return jf(e,Vf(t,i))}var Zm={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name,r=i.mainAxis,o=void 0===r||r,a=i.altAxis,s=void 0!==a&&a,l=i.boundary,u=i.rootBoundary,c=i.altBoundary,h=i.padding,d=i.tether,p=void 0===d||d,f=i.tetherOffset,m=void 0===f?0:f,g=Hm(t,{boundary:l,rootBoundary:u,padding:h,altBoundary:c}),y=km(t.placement),v=Cm(t.placement),b=!v,x=Tm(y),_="x"===x?"y":"x",w=t.modifiersData.popperOffsets,S=t.rects.reference,k=t.rects.popper,C="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,T="number"===typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),E=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(w){if(o){var P,M="y"===x?rm:sm,L="y"===x?om:am,O="y"===x?"height":"width",R=w[x],I=R+g[M],D=R-g[L],z=p?-k[O]/2:0,B=v===cm?S[O]:k[O],F=v===cm?-k[O]:-S[O],N=t.elements.arrow,j=p&&N?Kf(N):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=V[M],W=V[L],H=qm(0,S[O],j[O]),G=b?S[O]/2-z-H-U-T.mainAxis:B-H-U-T.mainAxis,q=b?-S[O]/2+z+H+W+T.mainAxis:F+H+W+T.mainAxis,Z=t.elements.arrow&&nm(t.elements.arrow),X=Z?"y"===x?Z.clientTop||0:Z.clientLeft||0:0,Y=null!=(P=null==E?void 0:E[x])?P:0,$=R+q-Y,K=qm(p?Vf(I,R+G-Y-X):I,R,p?jf(D,$):D);w[x]=K,A[x]=K-R}if(s){var Q,J="x"===x?rm:sm,ee="x"===x?om:am,te=w[_],ie="y"===_?"height":"width",ne=te+g[J],re=te-g[ee],oe=-1!==[rm,sm].indexOf(y),ae=null!=(Q=null==E?void 0:E[_])?Q:0,se=oe?ne:te-S[ie]-k[ie]-ae+T.altAxis,le=oe?te+S[ie]+k[ie]-ae-T.altAxis:re,ue=p&&oe?function(e,t,i){var n=qm(e,t,i);return n>i?i:n}(se,te,le):qm(p?se:ne,te,p?le:re);w[_]=ue,A[_]=ue-te}t.modifiersData[n]=A}},requiresIfExists:["offset"]};var Xm={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,i=e.state,n=e.name,r=e.options,o=i.elements.arrow,a=i.modifiersData.popperOffsets,s=km(i.placement),l=Tm(s),u=[sm,am].indexOf(s)>=0?"height":"width";if(o&&a){var c=function(e,t){return Um("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Wm(e,um))}(r.padding,i),h=Kf(o),d="y"===l?rm:sm,p="y"===l?om:am,f=i.rects.reference[u]+i.rects.reference[l]-a[l]-i.rects.popper[u],m=a[l]-i.rects.reference[l],g=nm(o),y=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,v=f/2-m/2,b=c[d],x=y-h[u]-c[p],_=y/2-h[u]/2+v,w=qm(b,_,x),S=l;i.modifiersData[n]=((t={})[S]=w,t.centerOffset=w-_,t)}},effect:function(e){var t=e.state,i=e.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!==typeof n||(n=t.elements.popper.querySelector(n)))&&Fm(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ym(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function $m(e){return[rm,am,om,sm].some((function(t){return e[t]>=0}))}var Km={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,i=e.name,n=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,a=Hm(t,{elementContext:"reference"}),s=Hm(t,{altBoundary:!0}),l=Ym(a,n),u=Ym(s,r,o),c=$m(l),h=$m(u);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}},Qm=_m({defaultModifiers:[Sm,Am,Lm,Om,Rm,Gm,Zm,Xm,Km]});function Jm(){return Jm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Jm.apply(this,arguments)}var eg=function(e,t){return{var:e,varRef:t?"var("+e+", "+t+")":"var("+e+")"}},tg={arrowShadowColor:eg("--popper-arrow-shadow-color"),arrowSize:eg("--popper-arrow-size","8px"),arrowSizeHalf:eg("--popper-arrow-size-half"),arrowBg:eg("--popper-arrow-bg"),transformOrigin:eg("--popper-transform-origin"),arrowOffset:eg("--popper-arrow-offset")};var ig={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},ng={scroll:!0,resize:!0};var rg={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;t.styles.popper.width=t.rects.reference.width+"px"},effect:function(e){var t=e.state;return function(){var e=t.elements.reference;t.elements.popper.style.width=e.offsetWidth+"px"}}},og={name:"transformOrigin",enabled:!0,phase:"write",fn:function(e){var t=e.state;ag(t)},effect:function(e){var t=e.state;return function(){ag(t)}}},ag=function(e){var t;e.elements.popper.style.setProperty(tg.transformOrigin.var,(t=e.placement,ig[t]))},sg={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:function(e){var t=e.state;lg(t)}},lg=function(e){var t;if(e.placement){var i=ug(e.placement);if(null!=(t=e.elements)&&t.arrow&&i){var n,r;Object.assign(e.elements.arrow.style,((n={})[i.property]=i.value,n.width=tg.arrowSize.varRef,n.height=tg.arrowSize.varRef,n.zIndex=-1,n));var o=((r={})[tg.arrowSizeHalf.var]="calc("+tg.arrowSize.varRef+" / 2)",r[tg.arrowOffset.var]="calc("+tg.arrowSizeHalf.varRef+" * -1)",r);for(var a in o)e.elements.arrow.style.setProperty(a,o[a])}}},ug=function(e){return e.startsWith("top")?{property:"bottom",value:tg.arrowOffset.varRef}:e.startsWith("bottom")?{property:"top",value:tg.arrowOffset.varRef}:e.startsWith("left")?{property:"right",value:tg.arrowOffset.varRef}:e.startsWith("right")?{property:"left",value:tg.arrowOffset.varRef}:void 0},cg={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:function(e){var t=e.state;hg(t)},effect:function(e){var t=e.state;return function(){hg(t)}}},hg=function(e){if(e.elements.arrow){var t,i=e.elements.arrow.querySelector("[data-popper-arrow-inner]");if(i)Object.assign(i.style,{transform:"rotate(45deg)",background:tg.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:(t=e.placement,t.includes("top")?"1px 1px 1px 0 var(--popper-arrow-shadow-color)":t.includes("bottom")?"-1px -1px 1px 0 var(--popper-arrow-shadow-color)":t.includes("right")?"-1px 1px 1px 0 var(--popper-arrow-shadow-color)":t.includes("left")?"1px -1px 1px 0 var(--popper-arrow-shadow-color)":void 0)})}},dg={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},pg={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};var fg=["size","shadowColor","bg","style"];function mg(t){void 0===t&&(t={});var i=t,n=i.enabled,r=void 0===n||n,o=i.modifiers,a=i.placement,s=void 0===a?"bottom":a,l=i.strategy,u=void 0===l?"absolute":l,c=i.arrowPadding,h=void 0===c?8:c,d=i.eventListeners,p=void 0===d||d,f=i.offset,m=i.gutter,g=void 0===m?8:m,y=i.flip,v=void 0===y||y,b=i.boundary,x=void 0===b?"clippingParents":b,_=i.preventOverflow,w=void 0===_||_,S=i.matchWidth,k=i.direction,C=void 0===k?"ltr":k,T=(0,e.useRef)(null),E=(0,e.useRef)(null),A=(0,e.useRef)(null),P=function(e,t){var i,n;void 0===t&&(t="ltr");var r=(null==(i=dg[e])?void 0:i[t])||e;return"ltr"===t?r:null!=(n=pg[e])?n:r}(s,C),M=(0,e.useRef)((function(){})),L=(0,e.useCallback)((function(){var e;r&&T.current&&E.current&&(null==M.current||M.current(),A.current=Qm(T.current,E.current,{placement:P,modifiers:[cg,sg,og,Jm({},rg,{enabled:!!S}),Jm({name:"eventListeners"},(e=p,"object"===typeof e?{enabled:!0,options:Jm({},ng,e)}:{enabled:e,options:ng})),{name:"arrow",options:{padding:h}},{name:"offset",options:{offset:null!=f?f:[0,g]}},{name:"flip",enabled:!!v,options:{padding:8}},{name:"preventOverflow",enabled:!!w,options:{boundary:x}}].concat(null!=o?o:[]),strategy:u}),A.current.forceUpdate(),M.current=A.current.destroy)}),[P,r,o,S,p,h,f,g,v,w,x,u]);(0,e.useEffect)((function(){return function(){var e;T.current||E.current||(null==(e=A.current)||e.destroy(),A.current=null)}}),[]);var O=(0,e.useCallback)((function(e){T.current=e,L()}),[L]),R=(0,e.useCallback)((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),Jm({},e,{ref:ir(O,t)})}),[O]),I=(0,e.useCallback)((function(e){E.current=e,L()}),[L]),D=(0,e.useCallback)((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),Jm({},e,{ref:ir(I,t),style:Jm({},e.style,{position:u,minWidth:"max-content",inset:"0 auto auto 0"})})}),[u,I]),z=(0,e.useCallback)((function(e,t){void 0===e&&(e={}),void 0===t&&(t=null);var i=e;return i.size,i.shadowColor,i.bg,i.style,Jm({},function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(i,fg),{ref:t,"data-popper-arrow":"",style:gg(e)})}),[]),B=(0,e.useCallback)((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),Jm({},e,{ref:t,"data-popper-arrow-inner":""})}),[]);return{update:function(){var e;null==(e=A.current)||e.update()},forceUpdate:function(){var e;null==(e=A.current)||e.forceUpdate()},transformOrigin:tg.transformOrigin.varRef,referenceRef:O,popperRef:I,getPopperProps:D,getArrowProps:z,getArrowInnerProps:B,getReferenceProps:R}}function gg(e){var t=e.size,i=e.shadowColor,n=e.bg,r=Jm({},e.style,{position:"absolute"});return t&&(r["--popper-arrow-size"]=t),i&&(r["--popper-arrow-shadow-color"]=i),n&&(r["--popper-arrow-bg"]=n),r}function yg(){return yg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},yg.apply(this,arguments)}function vg(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}var bg=nr({name:"PopoverContext",errorMessage:"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"}),xg=bg[0],_g=bg[1],wg=function(e){if(e)return s()(e,{enter:{visibility:"visible"},exit:{transitionEnd:{visibility:"hidden"}}})},Sg=Tf(Pr.section),kg=e.forwardRef((function(t,i){var n=_g().isOpen;return e.createElement(Sg,yg({ref:i,variants:wg(t.variants)},t,{initial:!1,animate:n?"enter":"exit"}))}));kg.defaultProps={variants:{exit:{opacity:0,scale:.95,transition:{duration:.1,ease:[.4,0,1,1]}},enter:{scale:1,opacity:1,transition:{duration:.15,ease:[0,0,.2,1]}}}};var Cg=["closeOnBlur","closeOnEsc","initialFocusRef","id","returnFocusOnClose","autoFocus","arrowSize","arrowShadowColor","trigger","openDelay","closeDelay","isLazy","lazyBehavior","computePositionOnMount"],Tg="click",Eg="hover";function Ag(t){void 0===t&&(t={});var i=t,n=i.closeOnBlur,r=void 0===n||n,o=i.closeOnEsc,a=void 0===o||o,s=i.initialFocusRef,l=i.id,u=i.returnFocusOnClose,c=void 0===u||u,h=i.autoFocus,d=void 0===h||h,p=i.arrowSize,f=i.arrowShadowColor,m=i.trigger,g=void 0===m?Tg:m,y=i.openDelay,v=void 0===y?200:y,b=i.closeDelay,_=void 0===b?200:b,w=i.isLazy,S=i.lazyBehavior,k=void 0===S?"unmount":S,C=i.computePositionOnMount,T=vg(i,Cg),A=jo(t),P=A.isOpen,M=A.onClose,L=A.onOpen,O=A.onToggle,R=(0,e.useRef)(null),I=(0,e.useRef)(null),D=(0,e.useRef)(null),z=(0,e.useRef)(!1),B=(0,e.useRef)(!1);P&&(B.current=!0);var F=(0,e.useState)(!1),N=F[0],j=F[1],V=(0,e.useState)(!1),H=V[0],G=V[1],q=function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];var o=No(t);return e.useMemo((function(){return n.map((function(e){return e+"-"+o}))}),[o,n])}(l,"popover-trigger","popover-content","popover-header","popover-body"),Z=q[0],X=q[1],Y=q[2],$=q[3],Q=mg(yg({},T,{enabled:P||!!C})),J=Q.referenceRef,ee=Q.getArrowProps,ie=Q.getPopperProps,ne=Q.getArrowInnerProps,re=Q.forceUpdate;Go({enabled:P,ref:I}),Wo(D,{focusRef:I,visible:P,shouldFocus:c&&g===Tg}),function(t,i){void 0===i&&(i=qo);var n=i,r=n.focusRef,o=n.preventScroll,a=n.shouldFocus,s=n.visible,l=x(t)?t.current:t,u=a&&s,c=(0,e.useCallback)((function(){if(l&&u&&!U(l,document.activeElement))if(null!=r&&r.current)oe(r.current,{preventScroll:o,nextTick:!0});else{var e=K(l);e.length>0&&oe(e[0],{preventScroll:o,nextTick:!0})}}),[u,o,l,r]);Uo((function(){c()}),[c]),Vo("transitionend",c,l)}(D,{focusRef:s,visible:P,shouldFocus:d&&g===Tg});var ae=se({hasBeenSelected:B.current,isLazy:w,lazyBehavior:k,isSelected:P}),le=(0,e.useCallback)((function(e,t){var i;void 0===e&&(e={}),void 0===t&&(t=null);var n=yg({},e,{style:yg({},e.style,(i={transformOrigin:tg.transformOrigin.varRef},i[tg.arrowSize.var]=p?E(p):void 0,i[tg.arrowShadowColor.var]=f,i)),ref:ir(D,t),children:ae?e.children:null,id:X,tabIndex:-1,role:"dialog",onKeyDown:te(e.onKeyDown,(function(e){a&&"Escape"===e.key&&M()})),onBlur:te(e.onBlur,(function(e){var t=W(e),i=U(D.current,t),n=U(I.current,t);P&&r&&(!i&&!n)&&M()})),"aria-labelledby":N?Y:void 0,"aria-describedby":H?$:void 0});return g===Eg&&(n.role="tooltip",n.onMouseEnter=te(e.onMouseEnter,(function(){z.current=!0})),n.onMouseLeave=te(e.onMouseLeave,(function(){z.current=!1,setTimeout(M,_)}))),n}),[ae,X,N,Y,H,$,g,a,M,P,r,_,f,p]),ue=(0,e.useCallback)((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),ie(yg({},e,{style:yg({visibility:P?"visible":"hidden"},e.style)}),t)}),[P,ie]),ce=(0,e.useCallback)((function(e,t){return void 0===t&&(t=null),yg({},e,{ref:ir(t,R,J)})}),[R,J]),he=(0,e.useRef)(),de=(0,e.useRef)(),pe=(0,e.useCallback)((function(e){null==R.current&&J(e)}),[J]),fe=(0,e.useCallback)((function(e,t){void 0===e&&(e={}),void 0===t&&(t=null);var i=yg({},e,{ref:ir(I,t,pe),id:Z,"aria-haspopup":"dialog","aria-expanded":P,"aria-controls":X});return g===Tg&&(i.onClick=te(e.onClick,O)),g===Eg&&(i.onFocus=te(e.onFocus,L),i.onBlur=te(e.onBlur,(function(e){var t=W(e),i=!U(D.current,t);P&&r&&i&&M()})),i.onKeyDown=te(e.onKeyDown,(function(e){"Escape"===e.key&&M()})),i.onMouseEnter=te(e.onMouseEnter,(function(){z.current=!0,he.current=window.setTimeout(L,v)})),i.onMouseLeave=te(e.onMouseLeave,(function(){z.current=!1,he.current&&(clearTimeout(he.current),he.current=void 0),de.current=window.setTimeout((function(){!1===z.current&&M()}),_)}))),i}),[Z,P,X,g,pe,O,L,r,M,v,_]);(0,e.useEffect)((function(){return function(){he.current&&clearTimeout(he.current),de.current&&clearTimeout(de.current)}}),[]);var me=(0,e.useCallback)((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),yg({},e,{id:Y,ref:ir(t,(function(e){j(!!e)}))})}),[Y]),ge=(0,e.useCallback)((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),yg({},e,{id:$,ref:ir(t,(function(e){G(!!e)}))})}),[$]);return{forceUpdate:re,isOpen:P,onClose:M,getAnchorProps:ce,getArrowProps:ee,getArrowInnerProps:ne,getPopoverPositionerProps:ue,getPopoverProps:le,getTriggerProps:fe,getHeaderProps:me,getBodyProps:ge}}var Pg=["children"],Mg=["rootProps"],Lg=function(t){var i=Rr("Popover",t),n=_r(t),r=n.children,o=Ag(yg({},vg(n,Pg),{direction:gr().direction}));return e.createElement(xg,{value:o},e.createElement(vr,{value:i},ee(r,{isOpen:o.isOpen,onClose:o.onClose,forceUpdate:o.forceUpdate})))};var Og=function(t){var i=e.Children.only(t.children),n=_g().getTriggerProps;return e.cloneElement(i,n(i.props,i.ref))};var Rg=Mr((function(t,i){var n=t.rootProps,r=vg(t,Mg),o=_g(),a=o.getPopoverProps,s=o.getPopoverPositionerProps,l=br(),u=yg({position:"relative",display:"flex",flexDirection:"column"},l.content);return e.createElement(Pr.div,yg({},s(n),{__css:l.popper,className:"chakra-popover__popper"}),e.createElement(kg,yg({},a(r,i),{className:j("chakra-popover__content",t.className),__css:u})))}));bo({d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z",displayName:"CopyIcon"}),bo({d:"M23.384,21.619,16.855,15.09a9.284,9.284,0,1,0-1.768,1.768l6.529,6.529a1.266,1.266,0,0,0,1.768,0A1.251,1.251,0,0,0,23.384,21.619ZM2.75,9.5a6.75,6.75,0,1,1,6.75,6.75A6.758,6.758,0,0,1,2.75,9.5Z",displayName:"SearchIcon"}),bo({d:"M23.414,20.591l-4.645-4.645a10.256,10.256,0,1,0-2.828,2.829l4.645,4.644a2.025,2.025,0,0,0,2.828,0A2,2,0,0,0,23.414,20.591ZM10.25,3.005A7.25,7.25,0,1,1,3,10.255,7.258,7.258,0,0,1,10.25,3.005Z",displayName:"Search2Icon"}),bo({d:"M21.4,13.7C20.6,13.9,19.8,14,19,14c-5,0-9-4-9-9c0-0.8,0.1-1.6,0.3-2.4c0.1-0.3,0-0.7-0.3-1 c-0.3-0.3-0.6-0.4-1-0.3C4.3,2.7,1,7.1,1,12c0,6.1,4.9,11,11,11c4.9,0,9.3-3.3,10.6-8.1c0.1-0.3,0-0.7-0.3-1 C22.1,13.7,21.7,13.6,21.4,13.7z",displayName:"MoonIcon"}),bo({displayName:"SunIcon",path:e.createElement("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2",fill:"none",stroke:"currentColor"},e.createElement("circle",{cx:"12",cy:"12",r:"5"}),e.createElement("path",{d:"M12 1v2"}),e.createElement("path",{d:"M12 21v2"}),e.createElement("path",{d:"M4.22 4.22l1.42 1.42"}),e.createElement("path",{d:"M18.36 18.36l1.42 1.42"}),e.createElement("path",{d:"M1 12h2"}),e.createElement("path",{d:"M21 12h2"}),e.createElement("path",{d:"M4.22 19.78l1.42-1.42"}),e.createElement("path",{d:"M18.36 5.64l1.42-1.42"}))}),bo({d:"M0,12a1.5,1.5,0,0,0,1.5,1.5h8.75a.25.25,0,0,1,.25.25V22.5a1.5,1.5,0,0,0,3,0V13.75a.25.25,0,0,1,.25-.25H22.5a1.5,1.5,0,0,0,0-3H13.75a.25.25,0,0,1-.25-.25V1.5a1.5,1.5,0,0,0-3,0v8.75a.25.25,0,0,1-.25.25H1.5A1.5,1.5,0,0,0,0,12Z",displayName:"AddIcon"}),bo({displayName:"SmallAddIcon",viewBox:"0 0 20 20",path:e.createElement("path",{fill:"currentColor",d:"M14 9h-3V6c0-.55-.45-1-1-1s-1 .45-1 1v3H6c-.55 0-1 .45-1 1s.45 1 1 1h3v3c0 .55.45 1 1 1s1-.45 1-1v-3h3c.55 0 1-.45 1-1s-.45-1-1-1z",fillRule:"evenodd"})}),bo({viewBox:"0 0 14 14",d:"M14,7.77 L14,6.17 L12.06,5.53 L11.61,4.44 L12.49,2.6 L11.36,1.47 L9.55,2.38 L8.46,1.93 L7.77,0.01 L6.17,0.01 L5.54,1.95 L4.43,2.4 L2.59,1.52 L1.46,2.65 L2.37,4.46 L1.92,5.55 L0,6.23 L0,7.82 L1.94,8.46 L2.39,9.55 L1.51,11.39 L2.64,12.52 L4.45,11.61 L5.54,12.06 L6.23,13.98 L7.82,13.98 L8.45,12.04 L9.56,11.59 L11.4,12.47 L12.53,11.34 L11.61,9.53 L12.08,8.44 L14,7.75 L14,7.77 Z M7,10 C5.34,10 4,8.66 4,7 C4,5.34 5.34,4 7,4 C8.66,4 10,5.34 10,7 C10,8.66 8.66,10 7,10 Z",displayName:"SettingsIcon"}),bo({displayName:"CheckCircleIcon",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"});var Ig,Dg=bo({d:"M19.5,9.5h-.75V6.75a6.75,6.75,0,0,0-13.5,0V9.5H4.5a2,2,0,0,0-2,2V22a2,2,0,0,0,2,2h15a2,2,0,0,0,2-2V11.5A2,2,0,0,0,19.5,9.5Zm-9.5,6a2,2,0,1,1,3,1.723V19.5a1,1,0,0,1-2,0V17.223A1.994,1.994,0,0,1,10,15.5ZM7.75,6.75a4.25,4.25,0,0,1,8.5,0V9a.5.5,0,0,1-.5.5H8.25a.5.5,0,0,1-.5-.5Z",displayName:"LockIcon"}),zg=(bo({d:"M19.5,9.5h-.75V6.75A6.751,6.751,0,0,0,5.533,4.811a1.25,1.25,0,1,0,2.395.717A4.251,4.251,0,0,1,16.25,6.75V9a.5.5,0,0,1-.5.5H4.5a2,2,0,0,0-2,2V22a2,2,0,0,0,2,2h15a2,2,0,0,0,2-2V11.5A2,2,0,0,0,19.5,9.5Zm-9.5,6a2,2,0,1,1,3,1.723V19.5a1,1,0,0,1-2,0V17.223A1.994,1.994,0,0,1,10,15.5Z",displayName:"UnlockIcon"}),bo({displayName:"ViewIcon",path:e.createElement("g",{fill:"currentColor"},e.createElement("path",{d:"M23.432,10.524C20.787,7.614,16.4,4.538,12,4.6,7.6,4.537,3.213,7.615.568,10.524a2.211,2.211,0,0,0,0,2.948C3.182,16.351,7.507,19.4,11.839,19.4h.308c4.347,0,8.671-3.049,11.288-5.929A2.21,2.21,0,0,0,23.432,10.524ZM7.4,12A4.6,4.6,0,1,1,12,16.6,4.6,4.6,0,0,1,7.4,12Z"}),e.createElement("circle",{cx:"12",cy:"12",r:"2"}))}),bo({displayName:"ViewOffIcon",path:e.createElement("g",{fill:"currentColor"},e.createElement("path",{d:"M23.2,10.549a20.954,20.954,0,0,0-4.3-3.6l4-3.995a1,1,0,1,0-1.414-1.414l-.018.018a.737.737,0,0,1-.173.291l-19.5,19.5c-.008.007-.018.009-.026.017a1,1,0,0,0,1.631,1.088l4.146-4.146a11.26,11.26,0,0,0,4.31.939h.3c4.256,0,8.489-2.984,11.051-5.8A2.171,2.171,0,0,0,23.2,10.549ZM16.313,13.27a4.581,4.581,0,0,1-3,3.028,4.3,4.3,0,0,1-3.1-.19.253.253,0,0,1-.068-.407l5.56-5.559a.252.252,0,0,1,.407.067A4.3,4.3,0,0,1,16.313,13.27Z"}),e.createElement("path",{d:"M7.615,13.4a.244.244,0,0,0,.061-.24A4.315,4.315,0,0,1,7.5,12,4.5,4.5,0,0,1,12,7.5a4.276,4.276,0,0,1,1.16.173.244.244,0,0,0,.24-.062l1.941-1.942a.254.254,0,0,0-.1-.421A10.413,10.413,0,0,0,12,4.75C7.7,4.692,3.4,7.7.813,10.549a2.15,2.15,0,0,0-.007,2.9,21.209,21.209,0,0,0,3.438,3.03.256.256,0,0,0,.326-.029Z"}))}),bo({d:"M11.2857,6.05714 L10.08571,4.85714 L7.85714,7.14786 L7.85714,1 L6.14286,1 L6.14286,7.14786 L3.91429,4.85714 L2.71429,6.05714 L7,10.42857 L11.2857,6.05714 Z M1,11.2857 L1,13 L13,13 L13,11.2857 L1,11.2857 Z",displayName:"DownloadIcon",viewBox:"0 0 14 14"}),bo({displayName:"DeleteIcon",path:e.createElement("g",{fill:"currentColor"},e.createElement("path",{d:"M19.452 7.5H4.547a.5.5 0 00-.5.545l1.287 14.136A2 2 0 007.326 24h9.347a2 2 0 001.992-1.819L19.95 8.045a.5.5 0 00-.129-.382.5.5 0 00-.369-.163zm-9.2 13a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zm5 0a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zM22 4h-4.75a.25.25 0 01-.25-.25V2.5A2.5 2.5 0 0014.5 0h-5A2.5 2.5 0 007 2.5v1.25a.25.25 0 01-.25.25H2a1 1 0 000 2h20a1 1 0 000-2zM9 3.75V2.5a.5.5 0 01.5-.5h5a.5.5 0 01.5.5v1.25a.25.25 0 01-.25.25h-5.5A.25.25 0 019 3.75z"}))}),bo({displayName:"RepeatIcon",path:e.createElement("g",{fill:"currentColor"},e.createElement("path",{d:"M10.319,4.936a7.239,7.239,0,0,1,7.1,2.252,1.25,1.25,0,1,0,1.872-1.657A9.737,9.737,0,0,0,9.743,2.5,10.269,10.269,0,0,0,2.378,9.61a.249.249,0,0,1-.271.178l-1.033-.13A.491.491,0,0,0,.6,9.877a.5.5,0,0,0-.019.526l2.476,4.342a.5.5,0,0,0,.373.248.43.43,0,0,0,.062,0,.5.5,0,0,0,.359-.152l3.477-3.593a.5.5,0,0,0-.3-.844L5.15,10.172a.25.25,0,0,1-.2-.333A7.7,7.7,0,0,1,10.319,4.936Z"}),e.createElement("path",{d:"M23.406,14.1a.5.5,0,0,0,.015-.526l-2.5-4.329A.5.5,0,0,0,20.546,9a.489.489,0,0,0-.421.151l-3.456,3.614a.5.5,0,0,0,.3.842l1.848.221a.249.249,0,0,1,.183.117.253.253,0,0,1,.023.216,7.688,7.688,0,0,1-5.369,4.9,7.243,7.243,0,0,1-7.1-2.253,1.25,1.25,0,1,0-1.872,1.656,9.74,9.74,0,0,0,9.549,3.03,10.261,10.261,0,0,0,7.369-7.12.251.251,0,0,1,.27-.179l1.058.127a.422.422,0,0,0,.06,0A.5.5,0,0,0,23.406,14.1Z"}))}),bo({displayName:"RepeatClockIcon",path:e.createElement("g",{fill:"currentColor"},e.createElement("path",{d:"M12.965,6a1,1,0,0,0-1,1v5.5a1,1,0,0,0,1,1h5a1,1,0,0,0,0-2h-3.75a.25.25,0,0,1-.25-.25V7A1,1,0,0,0,12.965,6Z"}),e.createElement("path",{d:"M12.567,1.258A10.822,10.822,0,0,0,2.818,8.4a.25.25,0,0,1-.271.163L.858,8.309a.514.514,0,0,0-.485.213.5.5,0,0,0-.021.53l2.679,4.7a.5.5,0,0,0,.786.107l3.77-3.746a.5.5,0,0,0-.279-.85L5.593,9.007a.25.25,0,0,1-.192-.35,8.259,8.259,0,1,1,7.866,11.59,1.25,1.25,0,0,0,.045,2.5h.047a10.751,10.751,0,1,0-.792-21.487Z"}))}),bo({displayName:"EditIcon",path:e.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2"},e.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))}),bo({d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z",displayName:"ChevronLeftIcon"}),bo({d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",displayName:"ChevronRightIcon"})),Bg=bo({displayName:"ChevronDownIcon",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),Fg=(bo({d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z",displayName:"ChevronUpIcon"}),bo({d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z",displayName:"ArrowBackIcon"}),bo({d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z",displayName:"ArrowForwardIcon"}),bo({d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z",displayName:"ArrowUpIcon"}),bo({viewBox:"0 0 16 16",d:"M11.891 9.992a1 1 0 1 1 1.416 1.415l-4.3 4.3a1 1 0 0 1-1.414 0l-4.3-4.3A1 1 0 0 1 4.71 9.992l3.59 3.591 3.591-3.591zm0-3.984L8.3 2.417 4.709 6.008a1 1 0 0 1-1.416-1.415l4.3-4.3a1 1 0 0 1 1.414 0l4.3 4.3a1 1 0 1 1-1.416 1.415z",displayName:"ArrowUpDownIcon"}),bo({d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z",displayName:"ArrowDownIcon"}),bo({displayName:"ExternalLinkIcon",path:e.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2"},e.createElement("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),e.createElement("path",{d:"M15 3h6v6"}),e.createElement("path",{d:"M10 14L21 3"}))}),bo({displayName:"LinkIcon",path:e.createElement("g",{fill:"currentColor"},e.createElement("path",{d:"M10.458,18.374,7.721,21.11a2.853,2.853,0,0,1-3.942,0l-.892-.891a2.787,2.787,0,0,1,0-3.941l5.8-5.8a2.789,2.789,0,0,1,3.942,0l.893.892A1,1,0,0,0,14.94,9.952l-.893-.892a4.791,4.791,0,0,0-6.771,0l-5.8,5.8a4.787,4.787,0,0,0,0,6.77l.892.891a4.785,4.785,0,0,0,6.771,0l2.736-2.735a1,1,0,1,0-1.414-1.415Z"}),e.createElement("path",{d:"M22.526,2.363l-.892-.892a4.8,4.8,0,0,0-6.77,0l-2.905,2.9a1,1,0,0,0,1.414,1.414l2.9-2.9a2.79,2.79,0,0,1,3.941,0l.893.893a2.786,2.786,0,0,1,0,3.942l-5.8,5.8a2.769,2.769,0,0,1-1.971.817h0a2.766,2.766,0,0,1-1.969-.816,1,1,0,1,0-1.415,1.412,4.751,4.751,0,0,0,3.384,1.4h0a4.752,4.752,0,0,0,3.385-1.4l5.8-5.8a4.786,4.786,0,0,0,0-6.771Z"}))}),bo({displayName:"PlusSquareIcon",path:e.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2"},e.createElement("rect",{height:"18",width:"18",rx:"2",ry:"2",x:"3",y:"3"}),e.createElement("path",{d:"M12 8v8"}),e.createElement("path",{d:"M8 12h8"}))}),bo({displayName:"CalendarIcon",viewBox:"0 0 14 14",d:"M10.8889,5.5 L3.11111,5.5 L3.11111,7.05556 L10.8889,7.05556 L10.8889,5.5 Z M12.4444,1.05556 L11.6667,1.05556 L11.6667,0 L10.1111,0 L10.1111,1.05556 L3.88889,1.05556 L3.88889,0 L2.33333,0 L2.33333,1.05556 L1.55556,1.05556 C0.692222,1.05556 0.00777777,1.75556 0.00777777,2.61111 L0,12.5 C0,13.3556 0.692222,14 1.55556,14 L12.4444,14 C13.3,14 14,13.3556 14,12.5 L14,2.61111 C14,1.75556 13.3,1.05556 12.4444,1.05556 Z M12.4444,12.5 L1.55556,12.5 L1.55556,3.94444 L12.4444,3.94444 L12.4444,12.5 Z M8.55556,8.61111 L3.11111,8.61111 L3.11111,10.1667 L8.55556,10.1667 L8.55556,8.61111 Z"}),bo({d:"M0.913134,0.920639 C1.49851,0.331726 2.29348,0 3.12342,0 L10.8766,0 C11.7065,0 12.5015,0.331725 13.0869,0.920639 C13.6721,1.50939 14,2.30689 14,3.13746 L14,8.12943 C13.9962,8.51443 13.9059,8.97125 13.7629,9.32852 C13.6128,9.683 13.3552,10.0709 13.0869,10.3462 C12.813,10.6163 12.4265,10.8761 12.0734,11.0274 C11.7172,11.1716 11.2607,11.263 10.8766,11.2669 L10.1234,11.2669 L10.1234,12.5676 L10.1209,12.5676 C10.1204,12.793 10.0633,13.0791 9.97807,13.262 C9.8627,13.466 9.61158,13.7198 9.40818,13.8382 L9.40824,13.8383 C9.4077,13.8386 9.40716,13.8388 9.40661,13.8391 C9.40621,13.8393 9.4058,13.8396 9.40539,13.8398 L9.40535,13.8397 C9.22958,13.9254 8.94505,13.9951 8.75059,14 L8.74789,14 C8.35724,13.9963 7.98473,13.8383 7.71035,13.5617 L5.39553,11.2669 L3.12342,11.2669 C2.29348,11.2669 1.49851,10.9352 0.913134,10.3462 C0.644826,10.0709 0.387187,9.683 0.23711,9.32852 C0.0941235,8.97125 0.00379528,8.51443 0,8.12943 L0,3.13746 C0,2.30689 0.327915,1.50939 0.913134,0.920639 Z M3.12342,1.59494 C2.71959,1.59494 2.33133,1.75628 2.04431,2.04503 C1.75713,2.33395 1.59494,2.72681 1.59494,3.13746 L1.59494,8.12943 C1.59114,8.35901 1.62114,8.51076 1.71193,8.72129 C1.79563,8.9346 1.88065,9.06264 2.04431,9.22185 C2.33133,9.5106 2.71959,9.67195 3.12342,9.67195 L5.72383,9.67195 C5.93413,9.67195 6.13592,9.75502 6.28527,9.90308 L8.52848,12.1269 L8.52848,10.4694 C8.52848,10.029 8.88552,9.67195 9.32595,9.67195 L10.8766,9.67195 C11.1034,9.67583 11.2517,9.64614 11.4599,9.55518 C11.6712,9.47132 11.7976,9.38635 11.9557,9.22185 C12.1193,9.06264 12.2044,8.9346 12.2881,8.72129 C12.3789,8.51076 12.4089,8.35901 12.4051,8.12943 L12.4051,3.13746 C12.4051,2.72681 12.2429,2.33394 11.9557,2.04503 C11.6687,1.75628 11.2804,1.59494 10.8766,1.59494 L3.12342,1.59494 Z",displayName:"ChatIcon",viewBox:"0 0 14 14"}),bo({displayName:"TimeIcon",path:e.createElement("g",{fill:"currentColor"},e.createElement("path",{d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm0,22A10,10,0,1,1,22,12,10.011,10.011,0,0,1,12,22Z"}),e.createElement("path",{d:"M17.134,15.81,12.5,11.561V6.5a1,1,0,0,0-2,0V12a1,1,0,0,0,.324.738l4.959,4.545a1.01,1.01,0,0,0,1.413-.061A1,1,0,0,0,17.134,15.81Z"}))}),bo({displayName:"ArrowRightIcon",path:e.createElement("g",{fill:"currentColor"},e.createElement("path",{d:"M13.584,12a2.643,2.643,0,0,1-.775,1.875L3.268,23.416a1.768,1.768,0,0,1-2.5-2.5l8.739-8.739a.25.25,0,0,0,0-.354L.768,3.084a1.768,1.768,0,0,1,2.5-2.5l9.541,9.541A2.643,2.643,0,0,1,13.584,12Z"}),e.createElement("path",{d:"M23.75,12a2.643,2.643,0,0,1-.775,1.875l-9.541,9.541a1.768,1.768,0,0,1-2.5-2.5l8.739-8.739a.25.25,0,0,0,0-.354L10.934,3.084a1.768,1.768,0,0,1,2.5-2.5l9.541,9.541A2.643,2.643,0,0,1,23.75,12Z"}))}),bo({displayName:"ArrowLeftIcon",path:e.createElement("g",{fill:"currentColor"},e.createElement("path",{d:"M10.416,12a2.643,2.643,0,0,1,.775-1.875L20.732.584a1.768,1.768,0,0,1,2.5,2.5l-8.739,8.739a.25.25,0,0,0,0,.354l8.739,8.739a1.768,1.768,0,0,1-2.5,2.5l-9.541-9.541A2.643,2.643,0,0,1,10.416,12Z"}),e.createElement("path",{d:"M.25,12a2.643,2.643,0,0,1,.775-1.875L10.566.584a1.768,1.768,0,0,1,2.5,2.5L4.327,11.823a.25.25,0,0,0,0,.354l8.739,8.739a1.768,1.768,0,0,1-2.5,2.5L1.025,13.875A2.643,2.643,0,0,1,.25,12Z"}))}),bo({displayName:"AtSignIcon",d:"M12,.5A11.634,11.634,0,0,0,.262,12,11.634,11.634,0,0,0,12,23.5a11.836,11.836,0,0,0,6.624-2,1.25,1.25,0,1,0-1.393-2.076A9.34,9.34,0,0,1,12,21a9.132,9.132,0,0,1-9.238-9A9.132,9.132,0,0,1,12,3a9.132,9.132,0,0,1,9.238,9v.891a1.943,1.943,0,0,1-3.884,0V12A5.355,5.355,0,1,0,12,17.261a5.376,5.376,0,0,0,3.861-1.634,4.438,4.438,0,0,0,7.877-2.736V12A11.634,11.634,0,0,0,12,.5Zm0,14.261A2.763,2.763,0,1,1,14.854,12,2.812,2.812,0,0,1,12,14.761Z"}),bo({displayName:"AttachmentIcon",d:"M21.843,3.455a6.961,6.961,0,0,0-9.846,0L1.619,13.832a5.128,5.128,0,0,0,7.252,7.252L17.3,12.653A3.293,3.293,0,1,0,12.646,8L7.457,13.184A1,1,0,1,0,8.871,14.6L14.06,9.409a1.294,1.294,0,0,1,1.829,1.83L7.457,19.67a3.128,3.128,0,0,1-4.424-4.424L13.411,4.869a4.962,4.962,0,1,1,7.018,7.018L12.646,19.67a1,1,0,1,0,1.414,1.414L21.843,13.3a6.96,6.96,0,0,0,0-9.846Z"}),bo({displayName:"UpDownIcon",viewBox:"-1 -1 9 11",d:"M 3.5 0L 3.98809 -0.569442L 3.5 -0.987808L 3.01191 -0.569442L 3.5 0ZM 3.5 9L 3.01191 9.56944L 3.5 9.98781L 3.98809 9.56944L 3.5 9ZM 0.488094 3.56944L 3.98809 0.569442L 3.01191 -0.569442L -0.488094 2.43056L 0.488094 3.56944ZM 3.01191 0.569442L 6.51191 3.56944L 7.48809 2.43056L 3.98809 -0.569442L 3.01191 0.569442ZM -0.488094 6.56944L 3.01191 9.56944L 3.98809 8.43056L 0.488094 5.43056L -0.488094 6.56944ZM 3.98809 9.56944L 7.48809 6.56944L 6.51191 5.43056L 3.01191 8.43056L 3.98809 9.56944Z"}),bo({d:"M23.555,8.729a1.505,1.505,0,0,0-1.406-.98H16.062a.5.5,0,0,1-.472-.334L13.405,1.222a1.5,1.5,0,0,0-2.81,0l-.005.016L8.41,7.415a.5.5,0,0,1-.471.334H1.85A1.5,1.5,0,0,0,.887,10.4l5.184,4.3a.5.5,0,0,1,.155.543L4.048,21.774a1.5,1.5,0,0,0,2.31,1.684l5.346-3.92a.5.5,0,0,1,.591,0l5.344,3.919a1.5,1.5,0,0,0,2.312-1.683l-2.178-6.535a.5.5,0,0,1,.155-.543l5.194-4.306A1.5,1.5,0,0,0,23.555,8.729Z",displayName:"StarIcon"}),bo({displayName:"EmailIcon",path:e.createElement("g",{fill:"currentColor"},e.createElement("path",{d:"M11.114,14.556a1.252,1.252,0,0,0,1.768,0L22.568,4.87a.5.5,0,0,0-.281-.849A1.966,1.966,0,0,0,22,4H2a1.966,1.966,0,0,0-.289.021.5.5,0,0,0-.281.849Z"}),e.createElement("path",{d:"M23.888,5.832a.182.182,0,0,0-.2.039l-6.2,6.2a.251.251,0,0,0,0,.354l5.043,5.043a.75.75,0,1,1-1.06,1.061l-5.043-5.043a.25.25,0,0,0-.354,0l-2.129,2.129a2.75,2.75,0,0,1-3.888,0L7.926,13.488a.251.251,0,0,0-.354,0L2.529,18.531a.75.75,0,0,1-1.06-1.061l5.043-5.043a.251.251,0,0,0,0-.354l-6.2-6.2a.18.18,0,0,0-.2-.039A.182.182,0,0,0,0,6V18a2,2,0,0,0,2,2H22a2,2,0,0,0,2-2V6A.181.181,0,0,0,23.888,5.832Z"}))}),bo({d:"M2.20731,0.0127209 C2.1105,-0.0066419 1.99432,-0.00664663 1.91687,0.032079 C0.871279,0.438698 0.212942,1.92964 0.0580392,2.95587 C-0.426031,6.28627 2.20731,9.17133 4.62766,11.0689 C6.77694,12.7534 10.9012,15.5223 13.3409,12.8503 C13.6507,12.5211 14.0186,12.037 13.9993,11.553 C13.9412,10.7397 13.186,10.1588 12.6051,9.71349 C12.1598,9.38432 11.2304,8.47427 10.6495,8.49363 C10.1267,8.51299 9.79754,9.05515 9.46837,9.38432 L8.88748,9.96521 C8.79067,10.062 7.55145,9.24878 7.41591,9.15197 C6.91248,8.8228 6.4284,8.45491 6.00242,8.04829 C5.57644,7.64167 5.18919,7.19632 4.86002,6.73161 C4.7632,6.59607 3.96933,5.41495 4.04678,5.31813 C4.04678,5.31813 4.72448,4.58234 4.91811,4.2919 C5.32473,3.67229 5.63453,3.18822 5.16982,2.45243 C4.99556,2.18135 4.78257,1.96836 4.55021,1.73601 C4.14359,1.34875 3.73698,0.942131 3.27227,0.612963 C3.02055,0.419335 2.59457,0.0708094 2.20731,0.0127209 Z",displayName:"PhoneIcon",viewBox:"0 0 14 14"}),bo({viewBox:"0 0 10 10",d:"M3,2 C2.44771525,2 2,1.55228475 2,1 C2,0.44771525 2.44771525,0 3,0 C3.55228475,0 4,0.44771525 4,1 C4,1.55228475 3.55228475,2 3,2 Z M3,6 C2.44771525,6 2,5.55228475 2,5 C2,4.44771525 2.44771525,4 3,4 C3.55228475,4 4,4.44771525 4,5 C4,5.55228475 3.55228475,6 3,6 Z M3,10 C2.44771525,10 2,9.55228475 2,9 C2,8.44771525 2.44771525,8 3,8 C3.55228475,8 4,8.44771525 4,9 C4,9.55228475 3.55228475,10 3,10 Z M7,2 C6.44771525,2 6,1.55228475 6,1 C6,0.44771525 6.44771525,0 7,0 C7.55228475,0 8,0.44771525 8,1 C8,1.55228475 7.55228475,2 7,2 Z M7,6 C6.44771525,6 6,5.55228475 6,5 C6,4.44771525 6.44771525,4 7,4 C7.55228475,4 8,4.44771525 8,5 C8,5.55228475 7.55228475,6 7,6 Z M7,10 C6.44771525,10 6,9.55228475 6,9 C6,8.44771525 6.44771525,8 7,8 C7.55228475,8 8,8.44771525 8,9 C8,9.55228475 7.55228475,10 7,10 Z",displayName:"DragHandleIcon"}),bo({displayName:"SpinnerIcon",path:e.createElement(e.Fragment,null,e.createElement("defs",null,e.createElement("linearGradient",{x1:"28.154%",y1:"63.74%",x2:"74.629%",y2:"17.783%",id:"a"},e.createElement("stop",{stopColor:"currentColor",offset:"0%"}),e.createElement("stop",{stopColor:"#fff",stopOpacity:"0",offset:"100%"}))),e.createElement("g",{transform:"translate(2)",fill:"none"},e.createElement("circle",{stroke:"url(#a)",strokeWidth:"4",cx:"10",cy:"12",r:"10"}),e.createElement("path",{d:"M10 2C4.477 2 0 6.477 0 12",stroke:"currentColor",strokeWidth:"4"}),e.createElement("rect",{fill:"currentColor",x:"8",width:"4",height:"4",rx:"8"})))}),bo({displayName:"CloseIcon",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})),Ng=(bo({displayName:"SmallCloseIcon",viewBox:"0 0 16 16",path:e.createElement("path",{d:"M9.41 8l2.29-2.29c.19-.18.3-.43.3-.71a1.003 1.003 0 0 0-1.71-.71L8 6.59l-2.29-2.3a1.003 1.003 0 0 0-1.42 1.42L6.59 8 4.3 10.29c-.19.18-.3.43-.3.71a1.003 1.003 0 0 0 1.71.71L8 9.41l2.29 2.29c.18.19.43.3.71.3a1.003 1.003 0 0 0 .71-1.71L9.41 8z",fillRule:"evenodd",fill:"currentColor"})}),bo({d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z",displayName:"NotAllowedIcon"}),bo({d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z",displayName:"TriangleDownIcon"}),bo({d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z",displayName:"TriangleUpIcon"}),bo({displayName:"InfoOutlineIcon",path:e.createElement("g",{fill:"currentColor",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"2"},e.createElement("circle",{cx:"12",cy:"12",fill:"none",r:"11",stroke:"currentColor"}),e.createElement("line",{fill:"none",x1:"11.959",x2:"11.959",y1:"11",y2:"17"}),e.createElement("circle",{cx:"11.959",cy:"7",r:"1",stroke:"none"}))}),bo({displayName:"BellIcon",d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}),bo({d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"}),bo({d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm0,19a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,12,19Zm1.6-6.08a1,1,0,0,0-.6.917,1,1,0,1,1-2,0,3,3,0,0,1,1.8-2.75A2,2,0,1,0,10,9.255a1,1,0,1,1-2,0,4,4,0,1,1,5.6,3.666Z",displayName:"QuestionIcon"}),bo({displayName:"QuestionOutlineIcon",path:e.createElement("g",{stroke:"currentColor",strokeWidth:"1.5"},e.createElement("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),e.createElement("path",{fill:"none",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),e.createElement("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"}))}),bo({d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z",displayName:"WarningIcon"}),bo({displayName:"WarningTwoIcon",d:"M23.119,20,13.772,2.15h0a2,2,0,0,0-3.543,0L.881,20a2,2,0,0,0,1.772,2.928H21.347A2,2,0,0,0,23.119,20ZM11,8.423a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Zm1.05,11.51h-.028a1.528,1.528,0,0,1-1.522-1.47,1.476,1.476,0,0,1,1.448-1.53h.028A1.527,1.527,0,0,1,13.5,18.4,1.475,1.475,0,0,1,12.05,19.933Z"}),bo({viewBox:"0 0 14 14",path:e.createElement("g",{fill:"currentColor"},e.createElement("polygon",{points:"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039"}))}),bo({displayName:"MinusIcon",path:e.createElement("g",{fill:"currentColor"},e.createElement("rect",{height:"4",width:"20",x:"2",y:"10"}))}),bo({displayName:"HamburgerIcon",viewBox:"0 0 24 24",d:"M 3 5 A 1.0001 1.0001 0 1 0 3 7 L 21 7 A 1.0001 1.0001 0 1 0 21 5 L 3 5 z M 3 11 A 1.0001 1.0001 0 1 0 3 13 L 21 13 A 1.0001 1.0001 0 1 0 21 11 L 3 11 z M 3 17 A 1.0001 1.0001 0 1 0 3 19 L 21 19 A 1.0001 1.0001 0 1 0 21 17 L 3 17 z"})),jg=Ig||(Ig={});jg.Pop="POP",jg.Push="PUSH",jg.Replace="REPLACE";var Vg=function(e){return e};function Ug(e){e.preventDefault(),e.returnValue=""}function Wg(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function Hg(){return Math.random().toString(36).substr(2,8)}function Gg(e){var t=e.pathname;t=void 0===t?"/":t;var i=e.search;return i=void 0===i?"":i,e=void 0===(e=e.hash)?"":e,i&&"?"!==i&&(t+="?"===i.charAt(0)?i:"?"+i),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function qg(e){var t={};if(e){var i=e.indexOf("#");0<=i&&(t.hash=e.substr(i),e=e.substr(0,i)),0<=(i=e.indexOf("?"))&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function Zg(e,t){if(!e)throw new Error(t)}var Xg=(0,e.createContext)(null);var Yg=(0,e.createContext)(null);var $g=(0,e.createContext)({outlet:null,matches:[]});function Kg(t){return function(t){var i=(0,e.useContext)($g).outlet;if(i)return(0,e.createElement)(oy.Provider,{value:t},i);return i}(t.context)}function Qg(e){Zg(!1)}function Jg(t){var i=t.basename,n=void 0===i?"/":i,r=t.children,o=void 0===r?null:r,a=t.location,s=t.navigationType,l=void 0===s?Ig.Pop:s,u=t.navigator,c=t.static,h=void 0!==c&&c;iy()&&Zg(!1);var d=by(n),p=(0,e.useMemo)((function(){return{basename:d,navigator:u,static:h}}),[d,u,h]);"string"===typeof a&&(a=qg(a));var f=a,m=f.pathname,g=void 0===m?"/":m,y=f.search,v=void 0===y?"":y,b=f.hash,x=void 0===b?"":b,_=f.state,w=void 0===_?null:_,S=f.key,k=void 0===S?"default":S,C=(0,e.useMemo)((function(){var e=yy(g,d);return null==e?null:{pathname:e,search:v,hash:x,state:w,key:k}}),[d,g,v,x,w,k]);return null==C?null:(0,e.createElement)(Xg.Provider,{value:p},(0,e.createElement)(Yg.Provider,{children:o,value:{location:C,navigationType:l}}))}function ey(t){var i=t.children,n=t.location;return function(t,i){iy()||Zg(!1);var n=(0,e.useContext)($g).matches,r=n[n.length-1],o=r?r.params:{},a=(r&&r.pathname,r?r.pathnameBase:"/");r&&r.route;0;var s,l=ny();if(i){var u,c="string"===typeof i?qg(i):i;"/"===a||(null==(u=c.pathname)?void 0:u.startsWith(a))||Zg(!1),s=c}else s=l;var h=s.pathname||"/",d="/"===a?h:h.slice(a.length)||"/",p=function(e,t,i){void 0===i&&(i="/");var n=yy(("string"===typeof t?qg(t):t).pathname||"/",i);if(null==n)return null;var r=uy(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var i=e.length===t.length&&e.slice(0,-1).every((function(e,i){return e===t[i]}));return i?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(r);for(var o=null,a=0;null==o&&a<r.length;++a)o=py(r[a],n);return o}(t,{pathname:d});0;return fy(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:vy([a,e.pathname]),pathnameBase:"/"===e.pathnameBase?a:vy([a,e.pathnameBase])})})),n)}(ly(i),n)}function ty(t){iy()||Zg(!1);var i=(0,e.useContext)(Xg),n=i.basename,r=i.navigator,o=sy(t),a=o.hash,s=o.pathname,l=o.search,u=s;if("/"!==n){var c=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?qg(e).pathname:e.pathname}(t),h=null!=c&&c.endsWith("/");u="/"===s?n+(h?"/":""):vy([n,s])}return r.createHref({pathname:u,search:l,hash:a})}function iy(){return null!=(0,e.useContext)(Yg)}function ny(){return iy()||Zg(!1),(0,e.useContext)(Yg).location}function ry(){iy()||Zg(!1);var t=(0,e.useContext)(Xg),i=t.basename,n=t.navigator,r=(0,e.useContext)($g).matches,o=ny().pathname,a=JSON.stringify(r.map((function(e){return e.pathnameBase}))),s=(0,e.useRef)(!1);return(0,e.useEffect)((function(){s.current=!0})),(0,e.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var r=gy(e,JSON.parse(a),o);"/"!==i&&(r.pathname=vy([i,r.pathname])),(t.replace?n.replace:n.push)(r,t.state)}else n.go(e)}),[i,n,a,o])}var oy=(0,e.createContext)(null);function ay(){var t=(0,e.useContext)($g).matches,i=t[t.length-1];return i?i.params:{}}function sy(t){var i=(0,e.useContext)($g).matches,n=ny().pathname,r=JSON.stringify(i.map((function(e){return e.pathnameBase})));return(0,e.useMemo)((function(){return gy(t,JSON.parse(r),n)}),[t,r,n])}function ly(t){var i=[];return e.Children.forEach(t,(function(t){if((0,e.isValidElement)(t))if(t.type!==e.Fragment){t.type!==Qg&&Zg(!1);var n={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(n.children=ly(t.props.children)),i.push(n)}else i.push.apply(i,ly(t.props.children))})),i}function uy(e,t,i,n){return void 0===t&&(t=[]),void 0===i&&(i=[]),void 0===n&&(n=""),e.forEach((function(e,r){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(n)||Zg(!1),o.relativePath=o.relativePath.slice(n.length));var a=vy([n,o.relativePath]),s=i.concat(o);e.children&&e.children.length>0&&(!0===e.index&&Zg(!1),uy(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:dy(a,e.index),routesMeta:s})})),t}var cy=/^:\w+$/,hy=function(e){return"*"===e};function dy(e,t){var i=e.split("/"),n=i.length;return i.some(hy)&&(n+=-2),t&&(n+=2),i.filter((function(e){return!hy(e)})).reduce((function(e,t){return e+(cy.test(t)?3:""===t?1:10)}),n)}function py(e,t){for(var i=e.routesMeta,n={},r="/",o=[],a=0;a<i.length;++a){var s=i[a],l=a===i.length-1,u="/"===r?t:t.slice(r.length)||"/",c=my({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(n,c.params);var h=s.route;o.push({params:n,pathname:vy([r,c.pathname]),pathnameBase:vy([r,c.pathnameBase]),route:h}),"/"!==c.pathnameBase&&(r=vy([r,c.pathnameBase]))}return o}function fy(t,i){return void 0===i&&(i=[]),null==t?null:t.reduceRight((function(n,r,o){return(0,e.createElement)($g.Provider,{children:void 0!==r.route.element?r.route.element:(0,e.createElement)(Kg,null),value:{outlet:n,matches:i.concat(t.slice(0,o+1))}})}),null)}function my(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var i=function(e,t,i){void 0===t&&(t=!1);void 0===i&&(i=!0);var n=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return n.push(t),"([^\\/]+)"}));e.endsWith("*")?(n.push("*"),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r+=i?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(r,t?void 0:"i"),n]}(e.path,e.caseSensitive,e.end),n=o(i,2),r=n[0],a=n[1],s=t.match(r);if(!s)return null;var l=s[0],u=l.replace(/(.)\/+$/,"$1"),c=s.slice(1),h=a.reduce((function(e,t,i){if("*"===t){var n=c[i]||"";u=l.slice(0,l.length-n.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(i){return e}}(c[i]||""),e}),{});return{params:h,pathname:l,pathnameBase:u,pattern:e}}function gy(e,t,i){var n,r="string"===typeof e?qg(e):e,o=""===e||""===r.pathname?"/":r.pathname;if(null==o)n=i;else{var a=t.length-1;if(o.startsWith("..")){for(var s=o.split("/");".."===s[0];)s.shift(),a-=1;r.pathname=s.join("/")}n=a>=0?t[a]:"/"}var l=function(e,t){void 0===t&&(t="/");var i="string"===typeof e?qg(e):e,n=i.pathname,r=i.search,o=void 0===r?"":r,a=i.hash,s=void 0===a?"":a,l=n?n.startsWith("/")?n:function(e,t){var i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?i.length>1&&i.pop():"."!==e&&i.push(e)})),i.length>1?i.join("/"):"/"}(n,t):t;return{pathname:l,search:xy(o),hash:_y(s)}}(r,n);return o&&"/"!==o&&o.endsWith("/")&&!l.pathname.endsWith("/")&&(l.pathname+="/"),l}function yy(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var i=e.charAt(t.length);return i&&"/"!==i?null:e.slice(t.length)||"/"}var vy=function(e){return e.join("/").replace(/\/\/+/g,"/")},by=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},xy=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},_y=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},wy=e.createContext(!1);function Sy(){var t=jo(),i=t.isOpen,n=t.onToggle,r=ry(),o=(0,e.useContext)(wy);return(0,Lo.jsxs)(Ur,{children:[(0,Lo.jsxs)($r,{bg:Ve("white","gray.800"),color:Ve("gray.600","white"),minH:"60px",py:{base:2},px:{base:4},borderBottom:1,borderStyle:"solid",borderColor:Ve("gray.200","gray.900"),align:"center",children:[(0,Lo.jsx)($r,{flex:{base:1,md:"auto"},ml:{base:-2},display:{base:"flex",md:"none"},children:(0,Lo.jsx)(Ca,{onClick:n,icon:i?(0,Lo.jsx)(Fg,{w:3,h:3}):(0,Lo.jsx)(Ng,{w:5,h:5}),variant:"ghost","aria-label":"Toggle Navigation"})}),(0,Lo.jsxs)($r,{flex:{base:1},justify:{base:"center",md:"start"},children:[(0,Lo.jsx)(wa,{textAlign:Da({base:"center",md:"left"}),fontFamily:"Poppins",fontSize:"xl",colorScheme:"transparent",textColor:"gray.800",onClick:function(){r("/")},children:"Home"}),(0,Lo.jsx)($r,{display:{base:"none",md:"flex"},ml:10,alignItems:"center",children:(0,Lo.jsx)(ky,{})})]}),(0,Lo.jsx)(uo,{flex:{base:1,md:0},justify:"flex-end",direction:"row",spacing:6,children:(0,Lo.jsx)(wa,{onClick:function(){localStorage.clear(),r("/login")},display:{base:"none",md:"inline-flex"},fontSize:"sm",fontWeight:400,fontFamily:"Poppins",color:"white",bg:"pink.400",_hover:{bg:"pink.300"},children:o.value?"Log Out":"Log In"})})]}),(0,Lo.jsx)(Df,{in:i,animateOpacity:!0,children:(0,Lo.jsx)(Ty,{})})]})}var ky=function(){var e=Ve("gray.600","gray.200"),t=Ve("gray.800","white"),i=Ve("white","gray.800"),n=ry();return(0,Lo.jsx)(uo,{direction:"row",spacing:4,children:Ay.map((function(r){return(0,Lo.jsx)(Ur,{children:(0,Lo.jsxs)(Lg,{trigger:"hover",placement:"bottom-start",children:[(0,Lo.jsx)(Og,{children:(0,Lo.jsx)(io,{p:2,onClick:function(){n(r.href)},fontSize:"md",fontWeight:375,fontFamily:"Poppins",color:e,_hover:{textDecoration:"none",color:t},children:r.label})}),r.children&&(0,Lo.jsx)(Rg,{border:0,boxShadow:"xl",bg:i,p:4,rounded:"xl",minW:"sm",children:(0,Lo.jsx)(uo,{children:r.children.map((function(e){return(0,Lo.jsx)(Cy,aa({},e),e.label)}))})})]})},r.label)}))})},Cy=function(e){var t=e.label,i=e.href,n=e.subLabel,r=ry();return(0,Lo.jsx)(io,{onClick:function(){r(i)},role:"group",display:"block",p:2,rounded:"md",_hover:{bg:Ve("pink.50","gray.900")},children:(0,Lo.jsxs)(uo,{direction:"row",align:"center",children:[(0,Lo.jsxs)(Ur,{children:[(0,Lo.jsx)(fo,{transition:"all .3s ease",_groupHover:{color:"pink.400"},fontWeight:500,children:t}),(0,Lo.jsx)(fo,{fontSize:"sm",children:n})]}),(0,Lo.jsx)($r,{transition:"all .3s ease",transform:"translateX(-10px)",opacity:0,_groupHover:{opacity:"100%",transform:"translateX(0)"},justify:"flex-end",align:"center",flex:1,children:(0,Lo.jsx)(Br,{color:"pink.400",w:5,h:5,as:zg})})]})})},Ty=function(){return(0,Lo.jsx)(uo,{bg:Ve("white","gray.800"),p:4,display:{md:"none"},children:Ay.map((function(e){return(0,Lo.jsx)(Ey,aa({},e),e.label)}))})},Ey=function(e){var t=e.label,i=e.children,n=e.href,r=jo(),o=r.isOpen,a=r.onToggle;return(0,Lo.jsxs)(uo,{spacing:4,onClick:i&&a,children:[(0,Lo.jsxs)($r,{py:2,as:io,href:null!==n&&void 0!==n?n:"#",justify:"space-between",align:"center",_hover:{textDecoration:"none"},children:[(0,Lo.jsx)(fo,{fontWeight:600,color:Ve("gray.600","gray.200"),children:t}),i&&(0,Lo.jsx)(Br,{as:Bg,transition:"all .25s ease-in-out",transform:o?"rotate(180deg)":"",w:6,h:6})]}),(0,Lo.jsx)(Df,{in:o,animateOpacity:!0,style:{marginTop:"0!important"},children:(0,Lo.jsx)(uo,{mt:2,pl:4,borderLeft:1,borderStyle:"solid",borderColor:Ve("gray.200","gray.700"),align:"start",children:i&&i.map((function(e){return(0,Lo.jsx)(io,{py:2,href:e.href,children:e.label},e.label)}))})})]})},Ay=[{label:"Curriculum Development",href:"/curr"},{label:"Academic Monitoring",href:"/test"},{label:"Teaching Learning Planning",href:"/test"},{label:"Quality Improvement",href:"/test"},{label:"Projects, Seminars & Internships",href:"/test"},{label:"More",children:[{label:"FDP Add on Courses",href:"/test"},{label:"Infrastructure & Labs",href:"/test"},{label:"Student Events & Chapters",href:"/card"},{label:"Website and Social Media",href:"/test"},{label:"Industry Collaborations",href:"/test"},{label:"Research & Innovations",href:"/researchpublication/0"},{label:"Systems",href:"/test"}]}];var Py=function(){return(0,Lo.jsxs)(uo,{direction:["column","column","row"],width:"100%",pl:12,pr:12,pb:12,pt:4,mt:0,justifyContent:"space-evenly",bgColor:"yellow.50",children:[(0,Lo.jsx)(eo,{fontFamily:"Poppins",fontSize:["2xl","4xl","5xl"],bgGradient:"linear(to-r, gray.500, gray.700)",bgClip:"text",children:"Research Interests"}),(0,Lo.jsxs)(uo,{direction:"column",p:4,flex:.45,children:[(0,Lo.jsx)(fo,{noOfLines:[15,11,11],fontFamily:"Poppins",fontWeight:300,children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}),(0,Lo.jsx)("br",{}),(0,Lo.jsx)(fo,{noOfLines:[9,6,6],fontFamily:"Poppins",fontWeight:300,children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."}),(0,Lo.jsx)("br",{}),(0,Lo.jsx)(wa,{colorScheme:"orange",variant:"outline",fontFamily:"Poppins",fontWeight:300,children:"Research Accolades"})]})]})};function My(){return My=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},My.apply(this,arguments)}function Ly(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}var Oy=["onClick","reloadDocument","replace","state","target","to"];function Ry(t){var i=t.basename,n=t.children,r=t.window,a=(0,e.useRef)();null==a.current&&(a.current=function(e){function t(){var e=a.location,t=s.state||{};return[t.idx,Vg({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function i(e){return"string"===typeof e?e:Gg(e)}function n(e,t){return void 0===t&&(t=null),Vg(Tn({pathname:h.pathname,hash:"",search:""},"string"===typeof e?qg(e):e,{state:t,key:Hg()}))}function r(e){u=e,e=t(),c=e[0],h=e[1],d.call({action:u,location:h})}function o(e){s.go(e)}void 0===e&&(e={});var a=void 0===(e=e.window)?document.defaultView:e,s=a.history,l=null;a.addEventListener("popstate",(function(){if(l)p.call(l),l=null;else{var e=Ig.Pop,i=t(),n=i[0];if(i=i[1],p.length){if(null!=n){var a=c-n;a&&(l={action:e,location:i,retry:function(){o(-1*a)}},o(a))}}else r(e)}}));var u=Ig.Pop,c=(e=t())[0],h=e[1],d=Wg(),p=Wg();return null==c&&(c=0,s.replaceState(Tn({},s.state,{idx:c}),"")),{get action(){return u},get location(){return h},createHref:i,push:function e(t,o){var l=Ig.Push,u=n(t,o);if(!p.length||(p.call({action:l,location:u,retry:function(){e(t,o)}}),0)){var h=[{usr:u.state,key:u.key,idx:c+1},i(u)];u=h[0],h=h[1];try{s.pushState(u,"",h)}catch(pv){a.location.assign(h)}r(l)}},replace:function e(t,o){var a=Ig.Replace,l=n(t,o);p.length&&(p.call({action:a,location:l,retry:function(){e(t,o)}}),1)||(l=[{usr:l.state,key:l.key,idx:c},i(l)],s.replaceState(l[0],"",l[1]),r(a))},go:o,back:function(){o(-1)},forward:function(){o(1)},listen:function(e){return d.push(e)},block:function(e){var t=p.push(e);return 1===p.length&&a.addEventListener("beforeunload",Ug),function(){t(),p.length||a.removeEventListener("beforeunload",Ug)}}}}({window:r}));var s=a.current,l=o((0,e.useState)({action:s.action,location:s.location}),2),u=l[0],c=l[1];return(0,e.useLayoutEffect)((function(){return s.listen(c)}),[s]),(0,e.createElement)(Jg,{basename:i,children:n,location:u.location,navigationType:u.action,navigator:s})}var Iy=(0,e.forwardRef)((function(t,i){var n=t.onClick,r=t.reloadDocument,o=t.replace,a=void 0!==o&&o,s=t.state,l=t.target,u=t.to,c=Ly(t,Oy),h=ty(u),d=function(t,i){var n=void 0===i?{}:i,r=n.target,o=n.replace,a=n.state,s=ry(),l=ny(),u=sy(t);return(0,e.useCallback)((function(e){if(0===e.button&&(!r||"_self"===r)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)){e.preventDefault();var i=!!o||Gg(l)===Gg(u);s(t,{replace:i,state:a})}}),[l,s,u,o,a,r,t])}(u,{replace:a,state:s,target:l});return(0,e.createElement)("a",My({},c,{href:h,onClick:function(e){n&&n(e),e.defaultPrevented||r||d(e)},ref:i,target:l}))}));var Dy=function(){return(0,Lo.jsxs)(uo,{direction:["column","column","row"],width:"100%",pl:12,pr:12,pb:12,pt:4,mt:0,justifyContent:"space-evenly",children:[(0,Lo.jsx)(eo,{fontFamily:"Poppins",fontSize:["2xl","4xl","5xl"],bgGradient:"linear(to-r, gray.500, gray.700)",bgClip:"text",children:"Publications"}),(0,Lo.jsxs)(uo,{direction:"column",p:4,flex:.325,children:[(0,Lo.jsx)(fo,{noOfLines:[15,11,11],fontFamily:"Poppins",fontWeight:400,children:'D. Tenant "This is your publication title. Click to edit", Accepted, Institute or journal title (2023)'}),(0,Lo.jsx)("br",{}),(0,Lo.jsx)(fo,{noOfLines:[9,6,6],fontFamily:"Poppins",fontWeight:400,children:'D. Tenant "This is your publication title. Click to edit", Accepted, Institute or journal title (2023)'}),(0,Lo.jsx)("br",{}),(0,Lo.jsx)(fo,{noOfLines:[9,6,6],fontFamily:"Poppins",fontWeight:400,children:'D. Tenant "This is your publication title. Click to edit", Accepted, Institute or journal title (2023)'}),(0,Lo.jsx)("br",{}),(0,Lo.jsx)(Iy,{to:"/test",children:(0,Lo.jsx)(wa,{colorScheme:"teal",variant:"outline",fontFamily:"Poppins",fontWeight:300,children:"View All Publications"})})]})]})},zy=i(5483),By=i.n(zy);By().accessToken="pk.eyJ1IjoiYXl1c2g2NTAxIiwiYSI6ImNreWUxYnVsYjA3dDEycHM4aGpydHMybDMifQ.dD-cifuZPoBrE_Pd6keU7A";var Fy=function(e){var t=e.children;return(0,Lo.jsx)(fo,{fontWeight:"500",fontSize:"lg",mb:2,children:t})};function Ny(){var t=(0,e.useRef)(null),i=(0,e.useRef)(null),n=o((0,e.useState)(73.8154),2),r=n[0],a=(n[1],o((0,e.useState)(18.5181),2)),s=a[0],l=(a[1],o((0,e.useState)(14),2)),u=l[0];l[1];return(0,e.useEffect)((function(){i.current||(i.current=new(By().Map)({container:t.current,style:"mapbox://styles/mapbox/streets-v11",center:[r,s],zoom:u}))})),(0,Lo.jsxs)(Ur,{bg:Ve("gray.50","gray.900"),color:Ve("gray.700","gray.200"),children:[(0,Lo.jsx)(Gr,{as:uo,maxW:"7xl",py:10,children:(0,Lo.jsxs)(oo,{columns:5,spacing:8,children:[(0,Lo.jsxs)(uo,{align:"flex-start",children:[(0,Lo.jsx)(Fy,{children:"SCET"}),(0,Lo.jsx)(io,{href:"#",children:"Research & Innovation"}),(0,Lo.jsx)(io,{href:"#",children:"Student Chapter"}),(0,Lo.jsx)(io,{href:"#",children:"Home"}),(0,Lo.jsx)(io,{href:"#",children:"Contact Us"})]}),(0,Lo.jsxs)(uo,{align:"flex-start",children:[(0,Lo.jsx)(Fy,{children:"Support"}),(0,Lo.jsx)(io,{href:"#",children:"Help Center"}),(0,Lo.jsx)(io,{href:"#",children:"Safety Center"}),(0,Lo.jsx)(io,{href:"#",children:"Community Guidelines"})]}),(0,Lo.jsxs)(uo,{align:"flex-start",children:[(0,Lo.jsx)(Fy,{children:"Legal"}),(0,Lo.jsx)(io,{href:"#",children:"Cookies Policy"}),(0,Lo.jsx)(io,{href:"#",children:"Privacy Policy"}),(0,Lo.jsx)(io,{href:"#",children:"Terms of Service"}),(0,Lo.jsx)(io,{href:"#",children:"Law Enforcement"})]}),(0,Lo.jsxs)(uo,{align:"flex-start",children:[(0,Lo.jsx)(Fy,{children:"Social"}),(0,Lo.jsxs)(ho,{direction:"row",spacing:3,align:"left",children:[(0,Lo.jsx)(wa,{colorScheme:"twitter",leftIcon:(0,Lo.jsx)(Po,{}),children:"Twitter"}),(0,Lo.jsx)(wa,{colorScheme:"red",leftIcon:(0,Lo.jsx)(Mo,{}),children:"Youtube"}),(0,Lo.jsx)(wa,{colorScheme:"facebook",leftIcon:(0,Lo.jsx)(Eo,{}),children:"Facebook"})]})]}),(0,Lo.jsxs)(uo,{align:"flex-start",children:[(0,Lo.jsx)(Fy,{children:"Find Us"}),(0,Lo.jsx)("div",{children:(0,Lo.jsx)("div",{ref:t,style:{height:"150px",width:"250px"}})})]})]})}),(0,Lo.jsx)(Ur,{borderTopWidth:1,borderStyle:"solid",borderColor:Ve("gray.200","gray.700"),children:(0,Lo.jsx)(Gr,{as:uo,maxW:"6xl",py:4,direction:{base:"column",md:"row"},spacing:4,justify:{md:"space-between"},align:{md:"center"},children:(0,Lo.jsx)(fo,{children:"\xa9 2022 MIT-WPU SCET. All rights reserved"})})})]})}var jy=function(){var t=(0,e.useContext)(wy),i=ry();return console.log(t),(0,e.useEffect)((function(){t.value||i("/login")}),[t.value]),(0,Lo.jsxs)(Lo.Fragment,{children:[(0,Lo.jsx)(Sy,{}),(0,Lo.jsxs)(ho,{children:[(0,Lo.jsx)(Oo,{}),(0,Lo.jsx)(na,{}),(0,Lo.jsx)(Xr,{borderColor:"blackAlpha.700",border:1,background:"black"}),(0,Lo.jsx)(Py,{}),(0,Lo.jsx)(Xr,{borderColor:"blackAlpha.700",border:1,background:"black"}),(0,Lo.jsx)(Dy,{})]}),(0,Lo.jsx)(Ny,{})]})};function Vy(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Uy=i(7441),Wy=i(9613),Hy=i.n(Wy);var Gy=function(e){function t(e,n,l,u,d){for(var p,f,m,g,x,w=0,S=0,k=0,C=0,T=0,O=0,I=m=p=0,z=0,B=0,F=0,N=0,j=l.length,V=j-1,U="",W="",H="",G="";z<j;){if(f=l.charCodeAt(z),z===V&&0!==S+C+k+w&&(0!==S&&(f=47===S?10:47),C=k=w=0,j++,V++),0===S+C+k+w){if(z===V&&(0<B&&(U=U.replace(h,"")),0<U.trim().length)){switch(f){case 32:case 9:case 59:case 13:case 10:break;default:U+=l.charAt(z)}f=59}switch(f){case 123:for(p=(U=U.trim()).charCodeAt(0),m=1,N=++z;z<j;){switch(f=l.charCodeAt(z)){case 123:m++;break;case 125:m--;break;case 47:switch(f=l.charCodeAt(z+1)){case 42:case 47:e:{for(I=z+1;I<V;++I)switch(l.charCodeAt(I)){case 47:if(42===f&&42===l.charCodeAt(I-1)&&z+2!==I){z=I+1;break e}break;case 10:if(47===f){z=I+1;break e}}z=I}}break;case 91:f++;case 40:f++;case 34:case 39:for(;z++<V&&l.charCodeAt(z)!==f;);}if(0===m)break;z++}if(m=l.substring(N,z),0===p&&(p=(U=U.replace(c,"").trim()).charCodeAt(0)),64===p){switch(0<B&&(U=U.replace(h,"")),f=U.charCodeAt(1)){case 100:case 109:case 115:case 45:B=n;break;default:B=L}if(N=(m=t(n,B,m,f,d+1)).length,0<R&&(x=s(3,m,B=i(L,U,F),n,A,E,N,f,d,u),U=B.join(""),void 0!==x&&0===(N=(m=x.trim()).length)&&(f=0,m="")),0<N)switch(f){case 115:U=U.replace(_,a);case 100:case 109:case 45:m=U+"{"+m+"}";break;case 107:m=(U=U.replace(y,"$1 $2"))+"{"+m+"}",m=1===M||2===M&&o("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=U+m,112===u&&(W+=m,m="")}else m=""}else m=t(n,i(n,U,F),m,u,d+1);H+=m,m=F=B=I=p=0,U="",f=l.charCodeAt(++z);break;case 125:case 59:if(1<(N=(U=(0<B?U.replace(h,""):U).trim()).length))switch(0===I&&(p=U.charCodeAt(0),45===p||96<p&&123>p)&&(N=(U=U.replace(" ",":")).length),0<R&&void 0!==(x=s(1,U,n,e,A,E,W.length,u,d,u))&&0===(N=(U=x.trim()).length)&&(U="\0\0"),p=U.charCodeAt(0),f=U.charCodeAt(1),p){case 0:break;case 64:if(105===f||99===f){G+=U+l.charAt(z);break}default:58!==U.charCodeAt(N-1)&&(W+=r(U,p,f,U.charCodeAt(2)))}F=B=I=p=0,U="",f=l.charCodeAt(++z)}}switch(f){case 13:case 10:47===S?S=0:0===1+p&&107!==u&&0<U.length&&(B=1,U+="\0"),0<R*D&&s(0,U,n,e,A,E,W.length,u,d,u),E=1,A++;break;case 59:case 125:if(0===S+C+k+w){E++;break}default:switch(E++,g=l.charAt(z),f){case 9:case 32:if(0===C+w+S)switch(T){case 44:case 58:case 9:case 32:g="";break;default:32!==f&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===C+S+w&&(B=F=1,g="\f"+g);break;case 108:if(0===C+S+w+P&&0<I)switch(z-I){case 2:112===T&&58===l.charCodeAt(z-3)&&(P=T);case 8:111===O&&(P=O)}break;case 58:0===C+S+w&&(I=z);break;case 44:0===S+k+C+w&&(B=1,g+="\r");break;case 34:case 39:0===S&&(C=C===f?0:0===C?f:C);break;case 91:0===C+S+k&&w++;break;case 93:0===C+S+k&&w--;break;case 41:0===C+S+w&&k--;break;case 40:if(0===C+S+w){if(0===p)if(2*T+3*O===533);else p=1;k++}break;case 64:0===S+k+C+w+I+m&&(m=1);break;case 42:case 47:if(!(0<C+w+k))switch(S){case 0:switch(2*f+3*l.charCodeAt(z+1)){case 235:S=47;break;case 220:N=z,S=42}break;case 42:47===f&&42===T&&N+2!==z&&(33===l.charCodeAt(N+2)&&(W+=l.substring(N,z+1)),g="",S=0)}}0===S&&(U+=g)}O=T,T=f,z++}if(0<(N=W.length)){if(B=n,0<R&&(void 0!==(x=s(2,W,B,e,A,E,N,u,d,u))&&0===(W=x).length))return G+W+H;if(W=B.join(",")+"{"+W+"}",0!==M*P){switch(2!==M||o(W,2)||(P=0),P){case 111:W=W.replace(b,":-moz-$1")+W;break;case 112:W=W.replace(v,"::-webkit-input-$1")+W.replace(v,"::-moz-$1")+W.replace(v,":-ms-input-$1")+W}P=0}}return G+W+H}function i(e,t,i){var r=t.trim().split(m);t=r;var o=r.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=n(e,t[s],i).trim();break;default:var l=s=0;for(t=[];s<o;++s)for(var u=0;u<a;++u)t[l++]=n(e[u]+" ",r[s],i).trim()}return t}function n(e,t,i){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*i&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function r(e,t,i,n){var a=e+";",s=2*t+3*i+4*n;if(944===s){e=a.indexOf(":",9)+1;var l=a.substring(e,a.length-1).trim();return l=a.substring(0,e).trim()+l+";",1===M||2===M&&o(l,1)?"-webkit-"+l+l:l}if(0===M||2===M&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(T,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return p.test(a)?a.replace(d,":-webkit-")+a.replace(d,":-moz-")+a:a;case 1e3:switch(t=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=a.replace(x,"tb");break;case 232:l=a.replace(x,"tb-rl");break;case 220:l=a.replace(x,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(l=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(S,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(S,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===C.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?r(e.replace("stretch","fill-available"),t,i,n).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===i+n&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(f,"$1-webkit-$2")+a}return a}function o(e,t){var i=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?i:10);return i=e.substring(i+1,e.length-1),I(2!==t?n:n.replace(k,"$1"),i,t)}function a(e,t){var i=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return i!==t+";"?i.replace(w," or ($1)").substring(4):"("+t+")"}function s(e,t,i,n,r,o,a,s,l,c){for(var h,d=0,p=t;d<R;++d)switch(h=O[d].call(u,e,p,i,n,r,o,a,s,l,c)){case void 0:case!1:case!0:case null:break;default:p=h}if(p!==t)return p}function l(e){return void 0!==(e=e.prefix)&&(I=null,e?"function"!==typeof e?M=1:(M=2,I=e):M=0),l}function u(e,i){var n=e;if(33>n.charCodeAt(0)&&(n=n.trim()),n=[n],0<R){var r=s(-1,i,n,n,A,E,0,0,0,0);void 0!==r&&"string"===typeof r&&(i=r)}var o=t(L,n,i,0,0);return 0<R&&(void 0!==(r=s(-2,o,n,n,A,E,o.length,0,0,0))&&(o=r)),"",P=0,E=A=1,o}var c=/^\0+/g,h=/[\0\r\f]/g,d=/: */g,p=/zoo|gra/,f=/([,: ])(transform)/g,m=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,b=/:(read-only)/g,x=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,S=/-self|flex-/g,k=/[^]*?(:[rp][el]a[\w-]+)[^]*/,C=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,E=1,A=1,P=0,M=1,L=[],O=[],R=0,I=null,D=0;return u.use=function e(t){switch(t){case void 0:case null:R=O.length=0;break;default:if("function"===typeof t)O[R++]=t;else if("object"===typeof t)for(var i=0,n=t.length;i<n;++i)e(t[i]);else D=0|!!t}return e},u.set=l,void 0!==e&&l(e),u};var qy=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Zy=function(e){var t={};return function(i){return void 0===t[i]&&(t[i]=e(i)),t[i]}}((function(e){return qy.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function Xy(){return(Xy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var Yy=function(e,t){for(var i=[e[0]],n=0,r=t.length;n<r;n+=1)i.push(t[n],e[n+1]);return i},$y=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,Uy.typeOf)(e)},Ky=Object.freeze([]),Qy=Object.freeze({});function Jy(e){return"function"==typeof e}function ev(e){return e.displayName||e.name||"Component"}function tv(e){return e&&"string"==typeof e.styledComponentId}var iv="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",nv="undefined"!=typeof window&&"HTMLElement"in window,rv=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function ov(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(i.length>0?" Args: "+i.join(", "):""))}var av=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,i=0;i<e;i++)t+=this.groupSizes[i];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var i=this.groupSizes,n=i.length,r=n;e>=r;)(r<<=1)<0&&ov(16,""+e);this.groupSizes=new Uint32Array(r),this.groupSizes.set(i),this.length=r;for(var o=n;o<r;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,l=t.length;s<l;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],i=this.indexOfGroup(e),n=i+t;this.groupSizes[e]=0;for(var r=i;r<n;r++)this.tag.deleteRule(i)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var i=this.groupSizes[e],n=this.indexOfGroup(e),r=n+i,o=n;o<r;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),sv=new Map,lv=new Map,uv=1,cv=function(e){if(sv.has(e))return sv.get(e);for(;lv.has(uv);)uv++;var t=uv++;return sv.set(e,t),lv.set(t,e),t},hv=function(e){return lv.get(e)},dv=function(e,t){t>=uv&&(uv=t+1),sv.set(e,t),lv.set(t,e)},pv="style["+iv+'][data-styled-version="5.3.3"]',fv=new RegExp("^"+iv+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),mv=function(e,t,i){for(var n,r=i.split(","),o=0,a=r.length;o<a;o++)(n=r[o])&&e.registerName(t,n)},gv=function(e,t){for(var i=(t.textContent||"").split("/*!sc*/\n"),n=[],r=0,o=i.length;r<o;r++){var a=i[r].trim();if(a){var s=a.match(fv);if(s){var l=0|parseInt(s[1],10),u=s[2];0!==l&&(dv(u,l),mv(e,u,s[3]),e.getTag().insertRules(l,n)),n.length=0}else n.push(a)}}},yv=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},vv=function(e){var t=document.head,i=e||t,n=document.createElement("style"),r=function(e){for(var t=e.childNodes,i=t.length;i>=0;i--){var n=t[i];if(n&&1===n.nodeType&&n.hasAttribute(iv))return n}}(i),o=void 0!==r?r.nextSibling:null;n.setAttribute(iv,"active"),n.setAttribute("data-styled-version","5.3.3");var a=yv();return a&&n.setAttribute("nonce",a),i.insertBefore(n,o),n},bv=function(){function e(e){var t=this.element=vv(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,i=0,n=t.length;i<n;i++){var r=t[i];if(r.ownerNode===e)return r}ov(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),xv=function(){function e(e){var t=this.element=vv(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var i=document.createTextNode(t),n=this.nodes[e];return this.element.insertBefore(i,n||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),_v=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),wv=nv,Sv={isServer:!nv,useCSSOMInjection:!rv},kv=function(){function e(e,t,i){void 0===e&&(e=Qy),void 0===t&&(t={}),this.options=Xy({},Sv,{},e),this.gs=t,this.names=new Map(i),this.server=!!e.isServer,!this.server&&nv&&wv&&(wv=!1,function(e){for(var t=document.querySelectorAll(pv),i=0,n=t.length;i<n;i++){var r=t[i];r&&"active"!==r.getAttribute(iv)&&(gv(e,r),r.parentNode&&r.parentNode.removeChild(r))}}(this))}e.registerId=function(e){return cv(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,i){return void 0===i&&(i=!0),new e(Xy({},this.options,{},t),this.gs,i&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(i=(t=this.options).isServer,n=t.useCSSOMInjection,r=t.target,e=i?new _v(r):n?new bv(r):new xv(r),new av(e)));var e,t,i,n,r},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(cv(e),this.names.has(e))this.names.get(e).add(t);else{var i=new Set;i.add(t),this.names.set(e,i)}},t.insertRules=function(e,t,i){this.registerName(e,t),this.getTag().insertRules(cv(e),i)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(cv(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),i=t.length,n="",r=0;r<i;r++){var o=hv(r);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(r);if(a&&s&&a.size){var l=iv+".g"+r+'[id="'+o+'"]',u="";void 0!==a&&a.forEach((function(e){e.length>0&&(u+=e+",")})),n+=""+s+l+'{content:"'+u+'"}/*!sc*/\n'}}}return n}(this)},e}(),Cv=/(a)(d)/gi,Tv=function(e){return String.fromCharCode(e+(e>25?39:97))};function Ev(e){var t,i="";for(t=Math.abs(e);t>52;t=t/52|0)i=Tv(t%52)+i;return(Tv(t%52)+i).replace(Cv,"$1-$2")}var Av=function(e,t){for(var i=t.length;i;)e=33*e^t.charCodeAt(--i);return e},Pv=function(e){return Av(5381,e)};function Mv(e){for(var t=0;t<e.length;t+=1){var i=e[t];if(Jy(i)&&!tv(i))return!1}return!0}var Lv=Pv("5.3.3"),Ov=function(){function e(e,t,i){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===i||i.isStatic)&&Mv(e),this.componentId=t,this.baseHash=Av(Lv,t),this.baseStyle=i,kv.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,i){var n=this.componentId,r=[];if(this.baseStyle&&r.push(this.baseStyle.generateAndInjectStyles(e,t,i)),this.isStatic&&!i.hash)if(this.staticRulesId&&t.hasNameForId(n,this.staticRulesId))r.push(this.staticRulesId);else{var o=$v(this.rules,e,t,i).join(""),a=Ev(Av(this.baseHash,o)>>>0);if(!t.hasNameForId(n,a)){var s=i(o,"."+a,void 0,n);t.insertRules(n,a,s)}r.push(a),this.staticRulesId=a}else{for(var l=this.rules.length,u=Av(this.baseHash,i.hash),c="",h=0;h<l;h++){var d=this.rules[h];if("string"==typeof d)c+=d;else if(d){var p=$v(d,e,t,i),f=Array.isArray(p)?p.join(""):p;u=Av(u,f+h),c+=f}}if(c){var m=Ev(u>>>0);if(!t.hasNameForId(n,m)){var g=i(c,"."+m,void 0,n);t.insertRules(n,m,g)}r.push(m)}}return r.join(" ")},e}(),Rv=/^\s*\/\/.*$/gm,Iv=[":","[",".","#"];function Dv(e){var t,i,n,r,o=void 0===e?Qy:e,a=o.options,s=void 0===a?Qy:a,l=o.plugins,u=void 0===l?Ky:l,c=new Gy(s),h=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(i,n,r,o,a,s,l,u,c,h){switch(i){case 1:if(0===c&&64===n.charCodeAt(0))return e(n+";"),"";break;case 2:if(0===u)return n+"/*|*/";break;case 3:switch(u){case 102:case 112:return e(r[0]+n),"";default:return n+(0===h?"/*|*/":"")}case-2:n.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),p=function(e,n,o){return 0===n&&-1!==Iv.indexOf(o[i.length])||o.match(r)?e:"."+t};function f(e,o,a,s){void 0===s&&(s="&");var l=e.replace(Rv,""),u=o&&a?a+" "+o+" { "+l+" }":l;return t=s,i=o,n=new RegExp("\\"+i+"\\b","g"),r=new RegExp("(\\"+i+"\\b){2,}"),c(a||!o?"":o,u)}return c.use([].concat(u,[function(e,t,r){2===e&&r.length&&r[0].lastIndexOf(i)>0&&(r[0]=r[0].replace(n,p))},d,function(e){if(-2===e){var t=h;return h=[],t}}])),f.hash=u.length?u.reduce((function(e,t){return t.name||ov(15),Av(e,t.name)}),5381).toString():"",f}var zv=e.createContext(),Bv=(zv.Consumer,e.createContext()),Fv=(Bv.Consumer,new kv),Nv=Dv();function jv(){return(0,e.useContext)(zv)||Fv}function Vv(){return(0,e.useContext)(Bv)||Nv}function Uv(t){var i=(0,e.useState)(t.stylisPlugins),n=i[0],r=i[1],o=jv(),a=(0,e.useMemo)((function(){var e=o;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[t.disableCSSOMInjection,t.sheet,t.target]),s=(0,e.useMemo)((function(){return Dv({options:{prefix:!t.disableVendorPrefixes},plugins:n})}),[t.disableVendorPrefixes,n]);return(0,e.useEffect)((function(){Hy()(n,t.stylisPlugins)||r(t.stylisPlugins)}),[t.stylisPlugins]),e.createElement(zv.Provider,{value:a},e.createElement(Bv.Provider,{value:s},t.children))}var Wv=function(){function e(e,t){var i=this;this.inject=function(e,t){void 0===t&&(t=Nv);var n=i.name+t.hash;e.hasNameForId(i.id,n)||e.insertRules(i.id,n,t(i.rules,n,"@keyframes"))},this.toString=function(){return ov(12,String(i.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=Nv),this.name+e.hash},e}(),Hv=/([A-Z])/,Gv=/([A-Z])/g,qv=/^ms-/,Zv=function(e){return"-"+e.toLowerCase()};function Xv(e){return Hv.test(e)?e.replace(Gv,Zv).replace(qv,"-ms-"):e}var Yv=function(e){return null==e||!1===e||""===e};function $v(e,t,i,n){if(Array.isArray(e)){for(var r,o=[],a=0,s=e.length;a<s;a+=1)""!==(r=$v(e[a],t,i,n))&&(Array.isArray(r)?o.push.apply(o,r):o.push(r));return o}return Yv(e)?"":tv(e)?"."+e.styledComponentId:Jy(e)?"function"!=typeof(l=e)||l.prototype&&l.prototype.isReactComponent||!t?e:$v(e(t),t,i,n):e instanceof Wv?i?(e.inject(i,n),e.getName(n)):e:$y(e)?function e(t,i){var n,r,o=[];for(var a in t)t.hasOwnProperty(a)&&!Yv(t[a])&&(Array.isArray(t[a])&&t[a].isCss||Jy(t[a])?o.push(Xv(a)+":",t[a],";"):$y(t[a])?o.push.apply(o,e(t[a],a)):o.push(Xv(a)+": "+(n=a,(null==(r=t[a])||"boolean"==typeof r||""===r?"":"number"!=typeof r||0===r||n in Pn?String(r).trim():r+"px")+";")));return i?[i+" {"].concat(o,["}"]):o}(e):e.toString();var l}var Kv=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function Qv(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return Jy(e)||$y(e)?Kv($v(Yy(Ky,[e].concat(i)))):0===i.length&&1===e.length&&"string"==typeof e[0]?e:Kv($v(Yy(e,i)))}new Set;var Jv=function(e,t,i){return void 0===i&&(i=Qy),e.theme!==i.theme&&e.theme||t||i.theme},eb=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,tb=/(^-|-$)/g;function ib(e){return e.replace(eb,"-").replace(tb,"")}var nb=function(e){return Ev(Pv(e)>>>0)};function rb(e){return"string"==typeof e&&!0}var ob=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},ab=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function sb(e,t,i){var n=e[i];ob(t)&&ob(n)?lb(n,t):e[i]=t}function lb(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];for(var r=0,o=i;r<o.length;r++){var a=o[r];if(ob(a))for(var s in a)ab(s)&&sb(e,a[s],s)}return e}var ub=e.createContext();ub.Consumer;var cb={};function hb(t,i,n){var r=tv(t),o=!rb(t),a=i.attrs,s=void 0===a?Ky:a,l=i.componentId,u=void 0===l?function(e,t){var i="string"!=typeof e?"sc":ib(e);cb[i]=(cb[i]||0)+1;var n=i+"-"+nb("5.3.3"+i+cb[i]);return t?t+"-"+n:n}(i.displayName,i.parentComponentId):l,c=i.displayName,h=void 0===c?function(e){return rb(e)?"styled."+e:"Styled("+ev(e)+")"}(t):c,d=i.displayName&&i.componentId?ib(i.displayName)+"-"+i.componentId:i.componentId||u,p=r&&t.attrs?Array.prototype.concat(t.attrs,s).filter(Boolean):s,f=i.shouldForwardProp;r&&t.shouldForwardProp&&(f=i.shouldForwardProp?function(e,n,r){return t.shouldForwardProp(e,n,r)&&i.shouldForwardProp(e,n,r)}:t.shouldForwardProp);var m,g=new Ov(n,d,r?t.componentStyle:void 0),y=g.isStatic&&0===s.length,v=function(t,i){return function(t,i,n,r){var o=t.attrs,a=t.componentStyle,s=t.defaultProps,l=t.foldedComponentIds,u=t.shouldForwardProp,c=t.styledComponentId,h=t.target,d=function(e,t,i){void 0===e&&(e=Qy);var n=Xy({},t,{theme:e}),r={};return i.forEach((function(e){var t,i,o,a=e;for(t in Jy(a)&&(a=a(n)),a)n[t]=r[t]="className"===t?(i=r[t],o=a[t],i&&o?i+" "+o:i||o):a[t]})),[n,r]}(Jv(i,(0,e.useContext)(ub),s)||Qy,i,o),p=d[0],f=d[1],m=function(e,t,i,n){var r=jv(),o=Vv();return t?e.generateAndInjectStyles(Qy,r,o):e.generateAndInjectStyles(i,r,o)}(a,r,p),g=n,y=f.$as||i.$as||f.as||i.as||h,v=rb(y),b=f!==i?Xy({},i,{},f):i,x={};for(var _ in b)"$"!==_[0]&&"as"!==_&&("forwardedAs"===_?x.as=b[_]:(u?u(_,Zy,y):!v||Zy(_))&&(x[_]=b[_]));return i.style&&f.style!==i.style&&(x.style=Xy({},i.style,{},f.style)),x.className=Array.prototype.concat(l,c,m!==c?m:null,i.className,f.className).filter(Boolean).join(" "),x.ref=g,(0,e.createElement)(y,x)}(m,t,i,y)};return v.displayName=h,(m=e.forwardRef(v)).attrs=p,m.componentStyle=g,m.displayName=h,m.shouldForwardProp=f,m.foldedComponentIds=r?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):Ky,m.styledComponentId=d,m.target=r?t.target:t,m.withComponent=function(e){var t=i.componentId,r=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(i,["componentId"]),o=t&&t+"-"+(rb(e)?e:ib(ev(e)));return hb(e,Xy({},r,{attrs:p,componentId:o}),n)},Object.defineProperty(m,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=r?lb({},t.defaultProps,e):e}}),m.toString=function(){return"."+m.styledComponentId},o&&Zn()(m,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),m}var db=function(e){return function e(t,i,n){if(void 0===n&&(n=Qy),!(0,Uy.isValidElementType)(i))return ov(1,String(i));var r=function(){return t(i,n,Qv.apply(void 0,arguments))};return r.withConfig=function(r){return e(t,i,Xy({},n,{},r))},r.attrs=function(r){return e(t,i,Xy({},n,{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r}(hb,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){db[e]=db(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Mv(e),kv.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,i,n){var r=n($v(this.rules,t,i,n).join(""),""),o=this.componentId+e;i.insertRules(o,o,r)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,i,n){e>2&&kv.registerId(this.componentId+e),this.removeStyles(e,i),this.createStyles(e,t,i,n)}}();!function(){function t(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString();if(!e)return"";var i=yv();return"<style "+[i&&'nonce="'+i+'"',iv+'="true"','data-styled-version="5.3.3"'].filter(Boolean).join(" ")+">"+e+"</style>"},this.getStyleTags=function(){return t.sealed?ov(2):t._emitSheetCSS()},this.getStyleElement=function(){var i;if(t.sealed)return ov(2);var n=((i={})[iv]="",i["data-styled-version"]="5.3.3",i.dangerouslySetInnerHTML={__html:t.instance.toString()},i),r=yv();return r&&(n.nonce=r),[e.createElement("style",Xy({},n,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new kv({isServer:!0}),this.sealed=!1}var i=t.prototype;i.collectStyles=function(t){return this.sealed?ov(2):e.createElement(Uv,{sheet:this.instance},t)},i.interleaveWithNodeStream=function(e){return ov(3)}}();var pb=db,fb=i(9220),mb=!1;function gb(e,t){var i=t;return i.unshift(void 0),new(Function.prototype.bind.apply(e,i))}function yb(e,t){for(var i=t,n=e.replace(/\[/g,".").replace(/\]/g,"").split("."),r=0;r<n.length&&!Sb(i);r++)i=i[n[r]];return i}function vb(e,t,i){var n,r,o=e.replace(/\[/g,".").replace(/\]/g,"").split("."),a=i||{},s=a,l=o.length;for(n=0;n<l;n++)r=o[n],n+1===l?s[r]=void 0===t?{}:t:wb(s[r])&&(s[r]={}),s=s[r];return a}function bb(e){return!wb(e)&&e.constructor==={}.constructor}function xb(e,t){if(!wb(t))for(var i=e,n=t,r=0,o=Object.keys(t);r<o.length;r++){var a=o[r];wb(i.deepMerge)||-1===i.deepMerge.indexOf(a)||!bb(n[a])&&!Array.isArray(n[a])?i[a]=n[a]:_b(i[a],i[a],n[a],!0)}}function _b(e,t,i,n){var r=e&&"object"===typeof e?e:{},o=arguments.length;n&&(o-=1);for(var a=function(e){if(!s[e])return"continue";var t=s[e];Object.keys(t).forEach((function(e){var i,o=r[e],a=t[e],s=Array.isArray(a)&&Array.isArray(o)&&a.length!==o.length,l=!Tb()||!(o instanceof Event)&&!s;n&&l&&(bb(a)||Array.isArray(a))?bb(a)?(i=o||{},Array.isArray(i)&&i.hasOwnProperty("isComplexArray")?_b(i,{},a,n):r[e]=_b(i,{},a,n)):(i=Tb()?o&&Object.keys(a).length:o||[],r[e]=_b([],i,a,n)):r[e]=a}))},s=arguments,l=1;l<o;l++)a(l);return r}function wb(e){return void 0===e||null===e}function Sb(e){return"undefined"===typeof e}function kb(e,t){return e===t||!(e===document||!e)&&kb(e.parentNode,t)}function Cb(e){try{throw new Error(e)}catch(t){throw t.message+"\n"+t.stack}}function Tb(){return mb}var Eb,Ab={latn:{_digits:"0123456789",_type:"numeric"}},Pb={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"\u221e",nan:"NaN",exponential:"E"},Mb=[0,1,2,3,4,5,6,7,8,9],Lb=function(){function e(){}return e.getMainObject=function(e,t){return yb(Tb()?t:"main."+t,e)},e.getNumberingSystem=function(e){return yb("supplemental.numberingSystems",e)||this.numberingSystems},e.reverseObject=function(e,t){for(var i={},n=0,r=t||Object.keys(e);n<r.length;n++){var o=r[n];i.hasOwnProperty(e[o])||(i[e[o]]=o)}return i},e.getSymbolRegex=function(e){var t=e.map((function(e){return e.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")})).join("|");return new RegExp(t,"g")},e.getSymbolMatch=function(e){for(var t={},i=0,n=Object.keys(Pb);i<n.length;i++){var r=n[i];t[e[r]]=Pb[r]}return t},e.constructRegex=function(e){for(var t=e.length,i="",n=0;n<t;n++)i+=n!==t-1?e[n]+"|":e[n];return i},e.convertValueParts=function(e,t,i){return e.replace(t,(function(e){return i[e]}))},e.getDefaultNumberingSystem=function(e){var t={};return t.obj=yb("numbers",e),t.nSystem=yb("defaultNumberingSystem",t.obj),t},e.getCurrentNumericOptions=function(e,t,i,n){var r={},o=this.getDefaultNumberingSystem(e);if(!Sb(o.nSystem)||n){var a=n?yb("obj.mapperDigits",o):yb(o.nSystem+"._digits",t);Sb(a)||(r.numericPair=this.reverseObject(a,Mb),r.numberParseRegex=new RegExp(this.constructRegex(a),"g"),r.numericRegex="["+a[0]+"-"+a[9]+"]",i&&(r.numericRegex=a[0]+"-"+a[9],r.symbolNumberSystem=yb(n?"numberSymbols":"symbols-numberSystem-"+o.nSystem,o.obj),r.symbolMatch=this.getSymbolMatch(r.symbolNumberSystem),r.numberSystem=o.nSystem))}return r},e.getNumberMapper=function(e,t,i){var n={mapper:{}},r=this.getDefaultNumberingSystem(e);if(!Sb(r.nSystem)){n.numberSystem=r.nSystem,n.numberSymbols=yb("symbols-numberSystem-"+r.nSystem,r.obj),n.timeSeparator=yb("timeSeparator",n.numberSymbols);var o=yb(r.nSystem+"._digits",t);if(!Sb(o))for(var a=0,s=Mb;a<s.length;a++){var l=s[a];n.mapper[l]=o[l]}}return n},e.nPair="numericPair",e.nRegex="numericRegex",e.numberingSystems=Ab,e}(),Ob={DJF:"Fdj",ERN:"Nfk",ETB:"Br",NAD:"$",ZAR:"R",XAF:"FCFA",GHS:"GH\u20b5",XDR:"XDR",AED:"\u062f.\u0625.\u200f",BHD:"\u062f.\u0628.\u200f",DZD:"\u062f.\u062c.\u200f",EGP:"\u062c.\u0645.\u200f",ILS:"\u20aa",IQD:"\u062f.\u0639.\u200f",JOD:"\u062f.\u0627.\u200f",KMF:"CF",KWD:"\u062f.\u0643.\u200f",LBP:"\u0644.\u0644.\u200f",LYD:"\u062f.\u0644.\u200f",MAD:"\u062f.\u0645.\u200f",MRU:"\u0623.\u0645.",OMR:"\u0631.\u0639.\u200f",QAR:"\u0631.\u0642.\u200f",SAR:"\u0631.\u0633.\u200f",SDG:"\u062c.\u0633.",SOS:"S",SSP:"\xa3",SYP:"\u0644.\u0633.\u200f",TND:"\u062f.\u062a.\u200f",YER:"\u0631.\u064a.\u200f",CLP:"$",INR:"\u20b9",TZS:"TSh",EUR:"\u20ac",AZN:"\u20bc",RUB:"\u20bd",BYN:"Br",ZMW:"K",BGN:"\u043b\u0432.",NGN:"\u20a6",XOF:"CFA",BDT:"\u09f3",CNY:"\xa5",BAM:"\u041a\u041c",UGX:"USh",USD:"$",CZK:"K\u010d",GBP:"\xa3",DKK:"kr.",KES:"Ksh",CHF:"CHF",MVR:"\u0783.",BTN:"Nu.",XCD:"EC$",AUD:"$",BBD:"$",BIF:"FBu",BMD:"$",BSD:"$",BWP:"P",BZD:"$",CAD:"$",NZD:"$",FJD:"$",FKP:"\xa3",GIP:"\xa3",GMD:"D",GYD:"$",HKD:"$",IDR:"Rp",JMD:"$",KYD:"$",LRD:"$",MGA:"Ar",MOP:"MOP$",MUR:"Rs",MWK:"MK",MYR:"RM",PGK:"K",PHP:"\u20b1",PKR:"Rs",RWF:"RF",SBD:"$",SCR:"SR",SEK:"kr",SGD:"$",SHP:"\xa3",SLL:"Le",ANG:"NAf.",SZL:"E",TOP:"T$",TTD:"$",VUV:"VT",WST:"WS$",ARS:"$",BOB:"Bs",BRL:"R$",COP:"$",CRC:"\u20a1",CUP:"$",DOP:"$",GTQ:"Q",HNL:"L",MXN:"$",NIO:"C$",PAB:"B/.",PEN:"S/",PYG:"\u20b2",UYU:"$",VES:"Bs.S",IRR:"\u0631\u064a\u0627\u0644",GNF:"FG",CDF:"FC",HTG:"G",XPF:"FCFP",HRK:"kn",HUF:"Ft",AMD:"\u058f",ISK:"kr",JPY:"\xa5",GEL:"\u20be",CVE:"\u200b",KZT:"\u20b8",KHR:"\u17db",KPW:"\u20a9",KRW:"\u20a9",KGS:"\u0441\u043e\u043c",AOA:"Kz",LAK:"\u20ad",MZN:"MTn",MKD:"\u0434\u0435\u043d",MNT:"\u20ae",BND:"$",MMK:"K",NOK:"kr",NPR:"\u0930\u0941",AWG:"Afl.",SRD:"$",PLN:"z\u0142",AFN:"\u060b",STN:"Db",MDL:"L",RON:"lei",UAH:"\u20b4",LKR:"\u0dbb\u0dd4.",ALL:"Lek\xeb",RSD:"\u0434\u0438\u043d.",TJS:"\u0441\u043c\u043d",THB:"\u0e3f",TMT:"m.",TRY:"\u20ba",UZS:"\u0441\u045e\u043c",VND:"\u20ab",TWD:"NT$"};!function(e){var t=[28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990];e.getHijriDate=function(e){var i=e.getDate(),n=e.getMonth(),r=e.getFullYear(),o=n+1,a=r;o<3&&(a-=1,o+=12);var s=Math.floor(a/100),l=s-Math.floor(s/4)-2,u=Math.floor(365.25*(a+4716))+Math.floor(30.6001*(o+1))+i-l-1524,c=u+(l=(s=Math.floor((u-1867216.25)/36524.25))-Math.floor(s/4)+1)+1524,h=Math.floor((c-122.1)/365.25),d=Math.floor(365.25*h),p=Math.floor((c-d)/30.6001);i=c-d-Math.floor(30.6001*p),(n=Math.floor((c-d)/20.6001))>13&&(h+=1,n-=12),n-=1,r=h-4716;var f=u-24e5,m=10631/30,g=u-1948084,y=Math.floor(g/10631);g-=10631*y;var v=Math.floor((g-.1335)/m),b=30*y+v;g-=Math.floor(v*m+.1335);var x=Math.floor((g+28.5001)/29.5);13===x&&(x=12);for(var _=g-Math.floor(29.5001*x-29),w=0;w<t.length&&!(t[w]>f);w++);var S=w+16260,k=Math.floor((S-1)/12),C=k+1,T=S-12*k,E=f-t[w-1]+1;return(E+"").length>2&&(E=_,T=x,C=b),{year:C,month:T,date:E}},e.toGregorian=function(e,i,n){var r=n+t[12*(e-1)+1+(i-1)-16260-1]-1+24e5,o=Math.floor(r+.5),a=Math.floor((o-1867216.25)/36524.25),s=(a=o+1+a-Math.floor(a/4))+1524,l=Math.floor((s-122.1)/365.25),u=Math.floor(365.25*l),c=Math.floor((s-u)/30.6001),h=s-u-Math.floor(30.6001*c),d=c-(c>13.5?13:1),p=l-(d>2.5?4716:4715);return p<=0&&d--,new Date(p+"/"+d+"/"+h)}}(Eb||(Eb={}));var Rb=/\/MMMMM|MMMM|MMM|a|LLLL|LLL|EEEEE|EEEE|E|K|cccc|ccc|WW|W|G+|z+/gi,Ib="stand-alone",Db=["sun","mon","tue","wed","thu","fri","sat"],zb={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate",f:"getMilliseconds"},Bb={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",z:"timeZone",Z:"timeZone",G:"era",f:"milliseconds"},Fb=function(){function e(){}return e.dateFormat=function(e,t,i){var n=this,r=ix.getDependables(i,e,t.calendar),o=yb("parserObject.numbers",r),a=r.dateObject,s={isIslamic:ix.islamicRegex.test(t.calendar)};Tb()&&t.isServerRendered&&(t=ix.compareBlazorDateFormats(t,e));var l=t.format||ix.getResultantPattern(t.skeleton,r.dateObject,t.type,!1,Tb()?e:"");if(s.dateSeperator=Tb()?yb("dateSeperator",a):ix.getDateSeparator(r.dateObject),Sb(l))Cb("Format options or type given must be invalid");else{l=ix.ConvertDateToWeekFormat(l),Tb()&&(l=l.replace(/tt/,"a")),s.pattern=l,s.numMapper=Tb()?_b({},o):Lb.getNumberMapper(r.parserObject,Lb.getNumberingSystem(i));for(var u=0,c=l.match(Rb)||[];u<c.length;u++){var h=c[u],d=h.length,p=h[0];switch("K"===p&&(p="h"),p){case"E":case"c":Tb()?s.weekday=yb("days."+ix.monthIndex[d],a):s.weekday=r.dateObject[ix.days][Ib][ix.monthIndex[d]];break;case"M":case"L":Tb()?s.month=yb("months."+ix.monthIndex[d],a):s.month=r.dateObject[ix.month][Ib][ix.monthIndex[d]];break;case"a":s.designator=Tb()?yb("dayPeriods",a):yb("dayPeriods.format.wide",a);break;case"G":var f=d<=3?"eraAbbr":4===d?"eraNames":"eraNarrow";s.era=Tb()?yb("eras",a):yb("eras."+f,r.dateObject);break;case"z":s.timeZone=yb("dates.timeZoneNames",r.parserObject)}}}return function(e){return isNaN(e.getDate())?null:n.intDateFormatter(e,s)}},e.intDateFormatter=function(e,t){for(var i="",n=t.pattern.match(ix.dateParseRegex),r=this.getCurrentDateValue(e,t.isIslamic),o=0,a=n;o<a.length;o++){var s=a[o],l=s.length,u=s[0];"K"===u&&(u="h");var c=void 0,h="",d=void 0,p=void 0,f="";switch(u){case"M":case"L":c=r.month,l>2?i+=t.month[c]:d=!0;break;case"E":case"c":i+=t.weekday[Db[e.getDay()]];break;case"H":case"h":case"m":case"s":case"d":case"f":if(d=!0,"d"===u)c=r.date;else if("f"===u){d=!1,p=!0;var m=(h=(h=e[zb[u]]().toString()).substring(0,l)).length;if(l!==m){if(l>3)continue;for(var g=0;g<l-m;g++)h="0"+h.toString()}f+=h}else c=e[zb[u]]();"h"===u&&(c=c%12||12);break;case"y":p=!0,f+=r.year,2===l&&(f=f.substr(f.length-2));break;case"a":var y=e.getHours()<12?"am":"pm";i+=t.designator[y];break;case"G":var v=e.getFullYear()<0?0:1,b=t.era[v];wb(b)&&(b=t.era[v?0:1]),i+=b||"";break;case"'":i+="''"===s?"'":s.replace(/'/g,"");break;case"z":var x=e.getTimezoneOffset(),_=l<4?"+H;-H":t.timeZone.hourFormat;_=_.replace(/:/g,t.numMapper.timeSeparator),0===x?i+=t.timeZone.gmtZeroFormat:(p=!0,f=this.getTimeZoneValue(x,_)),f=t.timeZone.gmtFormat.replace(/\{0\}/,f);break;case":":i+=t.numMapper.numberSymbols.timeSeparator;break;case"/":i+=t.dateSeperator;break;case"W":d=!0,c=ix.getWeekOfYear(e);break;default:i+=s}d&&(p=!0,f=this.checkTwodigitNumber(c,l)),p&&(i+=Lb.convertValueParts(f,ix.latnParseRegex,t.numMapper.mapper))}return i},e.getCurrentDateValue=function(e,t){return t?Eb.getHijriDate(e):{year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate()}},e.checkTwodigitNumber=function(e,t){var i=e+"";return 2===t&&2!==i.length?"0"+i:i},e.getTimeZoneValue=function(e,t){var i=this,n=t.split(";")[e>0?1:0],r=Math.abs(e);return n.replace(/HH?|mm/g,(function(e){var t=e.length,n=-1!==e.indexOf("H");return i.checkTwodigitNumber(Math.floor(n?r/60:r%60),t)}))},e}(),Nb={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},jb=["infinity","nan","group","decimal","exponential"],Vb=function(){function e(){}return e.numberFormatter=function(e,t,i){var n,r=this,o=_b({},t),a={},s={},l=ix.getDependables(i,e,"",!0),u=l.numericObject;s.numberMapper=Tb()?_b({},u):Lb.getNumberMapper(l.parserObject,Lb.getNumberingSystem(i),!0),s.currencySymbol=Tb()?yb("currencySymbol",u):ix.getCurrencySymbol(l.numericObject,o.currency||ex,t.altSymbol),s.percentSymbol=Tb()?yb("numberSymbols.percentSign",u):s.numberMapper.numberSymbols.percentSign,s.minusSymbol=Tb()?yb("numberSymbols.minusSign",u):s.numberMapper.numberSymbols.minusSign;var c=s.numberMapper.numberSymbols;if(t.format&&!ix.formatRegex.test(t.format))a=ix.customFormat(t.format,s,l.numericObject);else{if(_b(o,ix.getProperNumericSkeleton(t.format||"N")),o.isCurrency="currency"===o.type,o.isPercent="percent"===o.type,Tb()||(n=ix.getSymbolPattern(o.type,s.numberMapper.numberSystem,l.numericObject,o.isAccount)),o.groupOne=this.checkValueRange(o.maximumSignificantDigits,o.minimumSignificantDigits,!0),this.checkValueRange(o.maximumFractionDigits,o.minimumFractionDigits,!1,!0),Sb(o.fractionDigits)||(o.minimumFractionDigits=o.maximumFractionDigits=o.fractionDigits),Sb(o.useGrouping)&&(o.useGrouping=!0),o.isCurrency&&!Tb()&&(n=n.replace(/\u00A4/g,ix.defaultCurrency)),Tb())a.nData=_b({},{},yb(o.type+"nData",u)),a.pData=_b({},{},yb(o.type+"pData",u)),"currency"===o.type&&t.currency&&ix.replaceBlazorCurrency([a.pData,a.nData],s.currencySymbol,t.currency);else{var h=n.split(";");a.nData=ix.getFormatData(h[1]||"-"+h[0],!0,s.currencySymbol),a.pData=ix.getFormatData(h[0],!1,s.currencySymbol),o.useGrouping&&(o.groupSeparator=c[jb[2]],o.groupData=this.getGroupingDetails(h[0]))}if(Sb(o.minimumFractionDigits)&&(o.minimumFractionDigits=a.nData.minimumFraction),Sb(o.maximumFractionDigits)){var d=a.nData.maximumFraction;o.maximumFractionDigits=Sb(d)&&o.isPercent?0:d}var p=o.minimumFractionDigits,f=o.maximumFractionDigits;Sb(p)||Sb(f)||p>f&&(o.maximumFractionDigits=p)}return _b(a.nData,o),_b(a.pData,o),function(e){return isNaN(e)?c[jb[1]]:isFinite(e)?r.intNumberFormatter(e,a,s):c[jb[0]]}},e.getGroupingDetails=function(e){var t={},i=e.match(ix.negativeDataRegex);if(i&&i[4]){var n=i[4],r=n.lastIndexOf(",");if(-1!==r){var o=n.split(".")[0];t.primary=o.length-r-1;var a=n.lastIndexOf(",",r-1);-1!==a&&(t.secondary=r-1-a)}}return t},e.checkValueRange=function(e,t,i,n){var r=n?"f":"s",o=0,a=Nb["l"+r],s=Nb["m"+r];if(Sb(e)||(this.checkRange(e,a,n),o++),Sb(t)||(this.checkRange(t,s,n),o++),2===o){if(!(e<t))return!0;Cb(s+"specified must be less than the"+a)}else i&&1===o&&Cb("Both"+s+"and"+s+"must be present");return!1},e.checkRange=function(e,t,i){var n=i?[0,20]:[1,21];(e<n[0]||e>n[1])&&Cb(t+"value must be within the range"+n[0]+"to"+n[1])},e.intNumberFormatter=function(e,t,i){var n;if(!Sb(t.nData.type)){e<0?(e*=-1,n=t.nData):n=0===e&&t.zeroData||t.pData;var r="";return n.isPercent&&(e*=100),n.groupOne?r=this.processSignificantDigits(e,n.minimumSignificantDigits,n.maximumSignificantDigits):(r=this.processFraction(e,n.minimumFractionDigits,n.maximumFractionDigits),n.minimumIntegerDigits&&(r=this.processMinimumIntegers(r,n.minimumIntegerDigits))),"scientific"===n.type&&(r=(r=e.toExponential(n.maximumFractionDigits)).replace("e",i.numberMapper.numberSymbols[jb[4]])),r=r.replace(".",i.numberMapper.numberSymbols[jb[3]]),n.useGrouping&&(r=this.groupNumbers(r,n.groupData.primary,n.groupSeparator||",",i.numberMapper.numberSymbols[jb[3]]||".",n.groupData.secondary)),r=Lb.convertValueParts(r,ix.latnParseRegex,i.numberMapper.mapper),"N/A"===n.nlead?n.nlead:n.nlead+r+n.nend}},e.processSignificantDigits=function(e,t,i){var n=e+"";return n.length<t?e.toPrecision(t):+(n=e.toPrecision(i))+""},e.groupNumbers=function(e,t,i,n,r){for(var o=!wb(r)&&0!==r,a=e.split(n),s=a[0],l=s.length,u="";l>t;)u=s.slice(l-t,l)+(u.length?i+u:""),l-=t,o&&(t=r,o=!1);return a[0]=s.slice(0,l)+(u.length?i:"")+u,a.join(n)},e.processFraction=function(e,t,i){var n=(e+"").split(".")[1],r=n?n.length:0;if(t&&r<t){var o="";if(0!==r){o+=e;for(var a=0;a<t-r;a++)o+="0";return o}return o=e.toFixed(t),e.toFixed(t)}return!wb(i)&&(r>i||0===i)?e.toFixed(i):e+""},e.processMinimumIntegers=function(e,t){var i=e.split("."),n=i[0],r=n.length;if(r<t){for(var o=0;o<t-r;o++)n="0"+n;i[0]=n}return i.join(".")},e}(),Ub=/^[0-9]*$/,Wb={minute:"setMinutes",hour:"setHours",second:"setSeconds",day:"setDate",month:"setMonth",milliseconds:"setMilliseconds"},Hb=function(){function e(){}return e.dateParser=function(e,t,i){var n=this,r=ix.getDependables(i,e,t.calendar),o=Lb.getCurrentNumericOptions(r.parserObject,Lb.getNumberingSystem(i),!1,Tb()),a={};Tb()&&t.isServerRendered&&(t=ix.compareBlazorDateFormats(t,e));var s,l=t.format||ix.getResultantPattern(t.skeleton,r.dateObject,t.type,!1,Tb()?e:""),u="";if(Sb(l))Cb("Format options or type given must be invalid");else{l=ix.ConvertDateToWeekFormat(l),a={isIslamic:ix.islamicRegex.test(t.calendar),pattern:l,evalposition:{},culture:e};for(var c=l.match(ix.dateParseRegex)||[],h=c.length,d=0,p=0,f=!1,m=o.numericRegex,g=Tb()?r.parserObject.numbers:Lb.getNumberMapper(r.parserObject,Lb.getNumberingSystem(i)),y=0;y<h;y++){var v=c[y],b=v.length,x="K"===v[0]?"h":v[0],_=void 0,w=void 0,S=Bb[x],k=2===b?"":"?";switch(f&&(d=p,f=!1),x){case"E":case"c":var C=void 0;C=Tb()?yb("days."+ix.monthIndex[b],r.dateObject):r.dateObject[ix.days]["stand-alone"][ix.monthIndex[b]];var T=Lb.reverseObject(C);u+="("+Object.keys(T).join("|")+")";break;case"M":case"L":case"d":case"m":case"s":case"h":case"H":case"f":if(w=!0,("M"===x||"L"===x)&&b>2){var E=void 0;E=Tb()?yb("months."+ix.monthIndex[b],r.dateObject):r.dateObject.months["stand-alone"][ix.monthIndex[b]],a[S]=Lb.reverseObject(E),u+="("+Object.keys(a[S]).join("|")+")"}else if("f"===x){if(b>3)continue;_=!0,u+="("+m+m+"?"+m+"?)"}else _=!0,u+="("+m+m+k+")";"h"===x&&(a.hour12=!0);break;case"W":u+="("+m+(1===b?"?":"")+m+")";break;case"y":w=_=!0,u+=2===b?"("+m+m+")":"("+m+"{"+b+",})";break;case"a":w=!0;var A=Tb()?yb("dayPeriods",r.dateObject):yb("dayPeriods.format.wide",r.dateObject);a[S]=Lb.reverseObject(A),u+="("+Object.keys(a[S]).join("|")+")";break;case"G":w=!0;var P=b<=3?"eraAbbr":4===b?"eraNames":"eraNarrow";a[S]=Lb.reverseObject(Tb()?yb("eras",r.dateObject):yb("eras."+P,r.dateObject)),u+="("+Object.keys(a[S]).join("|")+"?)";break;case"z":w=0!==(new Date).getTimezoneOffset(),a[S]=yb("dates.timeZoneNames",r.parserObject);var M=a[S],L=(s=b<4)?"+H;-H":M.hourFormat;L=L.replace(/:/g,g.timeSeparator),u+="("+this.parseTimeZoneRegx(L,M,m)+")?",f=!0,p=s?6:12;break;case"'":u+="("+v.replace(/'/g,"")+")?";break;default:u+="([\\D])"}w&&(a.evalposition[S]={isNumber:_,pos:y+1+d,hourOnly:s}),y!==h-1||wb(u)||(a.parserRegex=new RegExp("^"+u+"$","i"))}}return function(e){var t=n.internalDateParse(e,a,o);if(wb(t)||!Object.keys(t).length)return null;if(a.isIslamic){var i={},r=t.year,s=t.day,l=t.month,u=r?r+"":"",c=2===u.length;r&&l&&s&&!c||(i=Eb.getHijriDate(new Date)),c&&(r=parseInt((i.year+"").slice(0,2)+u,10));var h=Eb.toGregorian(r||i.year,l||i.month,s||i.date);t.year=h.getFullYear(),t.month=h.getMonth()+1,t.day=h.getDate()}return n.getDateObject(t)}},e.getDateObject=function(e,t){var i=t||new Date;i.setMilliseconds(0);var n=e.year,r=e.designator,o=e.timeZone;if(!Sb(n)){if((n+"").length<=2)n+=100*Math.floor(i.getFullYear()/100);i.setFullYear(n)}for(var a=0,s=["hour","minute","second","milliseconds","month","day"];a<s.length;a++){var l=s[a],u=e[l];if(Sb(u)&&"day"===l&&i.setDate(1),!Sb(u))if("month"===l){if((u-=1)<0||u>11)return new Date("invalid");var c=i.getDate();i.setDate(1),i[Wb[l]](u);var h=new Date(i.getFullYear(),u+1,0).getDate();i.setDate(c<h?c:h)}else{if("day"===l){var d=new Date(i.getFullYear(),i.getMonth()+1,0).getDate();if(u<1||u>d)return null}i[Wb[l]](u)}}if(!Sb(r)){var p=i.getHours();"pm"===r?i.setHours(p+(12===p?0:12)):12===p&&i.setHours(0)}if(!Sb(o)){var f=o-i.getTimezoneOffset();0!==f&&i.setMinutes(i.getMinutes()+f)}return i},e.internalDateParse=function(e,t,i){var n=e.match(t.parserRegex),r={hour:0,minute:0,second:0};if(wb(n))return null;for(var o=0,a=Object.keys(t.evalposition);o<a.length;o++){var s=a[o],l=t.evalposition[s],u=n[l.pos];if(l.isNumber)r[s]=this.internalNumberParser(u,i);else if("timeZone"!==s||Sb(u))u="month"!==s||t.isIslamic||"en"!==t.culture&&"en-GB"!==t.culture&&"en-US"!==t.culture?u:u[0].toUpperCase()+u.substring(1).toLowerCase(),r[s]=t[s][u];else{var c=l.pos,h=void 0,d=n[c+1],p=!Sb(d);l.hourOnly?h=60*this.getZoneValue(p,d,n[c+4],i):(h=60*this.getZoneValue(p,d,n[c+7],i),h+=this.getZoneValue(p,n[c+4],n[c+10],i)),wb(h)||(r[s]=h)}}return t.hour12&&(r.hour12=!0),r},e.internalNumberParser=function(e,t){return e=Lb.convertValueParts(e,t.numberParseRegex,t.numericPair),Ub.test(e)?+e:null},e.parseTimeZoneRegx=function(e,t,i){var n,r,o=t.gmtFormat,a="("+i+")("+i+")";return n=e.replace("+","\\+"),r=(n=-1!==e.indexOf("HH")?n.replace(/HH|mm/g,"("+a+")"):n.replace(/H|m/g,"("+a+"?)")).split(";").map((function(e){return o.replace("{0}",e)})),n=r.join("|")+"|"+t.gmtZeroFormat},e.getZoneValue=function(e,t,i,n){var r=e?t:i;if(!r)return 0;var o=this.internalNumberParser(r,n);return e?-o:o},e}(),Gb=/^([^0-9]*)(([0-9,]*[0-9]+)(\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/,qb=/,/g,Zb=["minusSign","infinity"],Xb=function(){function e(){}return e.numberParser=function(e,t,i){var n,r=this,o=ix.getDependables(i,e,"",!0),a={custom:!0};ix.formatRegex.test(t.format)||!t.format?(_b(a,ix.getProperNumericSkeleton(t.format||"N")),a.custom=!1,a.fractionDigits||t.maximumFractionDigits&&(a.maximumFractionDigits=t.maximumFractionDigits)):_b(a,ix.customFormat(t.format,null,null));var s,l=yb("numbers",o.parserObject);if(n=Lb.getCurrentNumericOptions(o.parserObject,Lb.getNumberingSystem(i),!0,Tb()),a.symbolRegex=Lb.getSymbolRegex(Object.keys(n.symbolMatch)),a.infinity=n.symbolNumberSystem[Zb[1]],Tb())a.nData=_b({},{},yb(a.type+"nData",l)),a.pData=_b({},{},yb(a.type+"pData",l)),"currency"===a.type&&t.currency&&ix.replaceBlazorCurrency([a.pData,a.nData],yb("currencySymbol",l),t.currency);else if(s=ix.getSymbolPattern(a.type,n.numberSystem,o.numericObject,a.isAccount)){var u=(s=s.replace(/\u00A4/g,ix.defaultCurrency)).split(";");a.nData=ix.getFormatData(u[1]||"-"+u[0],!0,""),a.pData=ix.getFormatData(u[0],!0,"")}return function(e){return r.getParsedNumber(e,a,n)}},e.getParsedNumber=function(e,t,i){var n,r,o,a,s,l;if(-1!==e.indexOf(t.infinity))return 1/0;e=Lb.convertValueParts(e,t.symbolRegex,i.symbolMatch),0===(e=-1!==(e=Lb.convertValueParts(e,i.numberParseRegex,i.numericPair)).indexOf("-")?e.replace("-.","-0."):e).indexOf(".")&&(e="0"+e);var u=e.match(Gb);if(wb(u))return NaN;a=u[1],o=u[2];var c=u[5];return s=u[6],r=(n=t.custom?a===t.nData.nlead&&s===t.nData.nend:-1!==a.indexOf(t.nData.nlead)&&-1!==s.indexOf(t.nData.nend))?t.nData.isPercent:t.pData.isPercent,o=o.replace(qb,""),c&&(o+=c),l=+o,("percent"===t.type||r)&&(l/=100),(t.custom||t.fractionDigits)&&(l=parseFloat(l.toFixed(t.custom?n?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.fractionDigits))),t.maximumFractionDigits&&(l=this.convertMaxFracDigits(o,t,l,n)),n&&(l*=-1),l},e.convertMaxFracDigits=function(e,t,i,n){var r=e.split(".");return r[1]&&r[1].length>t.maximumFractionDigits&&(i=+i.toFixed(t.custom?n?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.maximumFractionDigits)),i},e}(),Yb=function(){function e(e){this.ranArray=[],this.boundedEvents={},wb(e)||(this.context=e)}return e.prototype.on=function(e,t,i,n){if(!wb(t)){var r=i||this.context;this.notExist(e)?this.boundedEvents[e]=[{handler:t,context:r}]:wb(n)?this.isHandlerPresent(this.boundedEvents[e],t)||this.boundedEvents[e].push({handler:t,context:r}):-1===this.ranArray.indexOf(n)&&(this.ranArray.push(n),this.boundedEvents[e].push({handler:t,context:r,id:n}))}},e.prototype.off=function(e,t,i){if(!this.notExist(e)){var n=yb(e,this.boundedEvents);if(t){for(var r=0;r<n.length;r++)if(i){if(n[r].id===i){n.splice(r,1);var o=this.ranArray.indexOf(i);-1!==o&&this.ranArray.splice(o,1);break}}else if(t===n[r].handler){n.splice(r,1);break}}else delete this.boundedEvents[e]}},e.prototype.notify=function(e,t,i,n){if(this.notExist(e))i&&i.call(this,t);else{t&&(t.name=e);var r=yb(e,this.boundedEvents).slice(0);if(window.Blazor)return this.blazorCallback(r,t,i,n,0);for(var o=0,a=r;o<a.length;o++){var s=a[o];s.handler.call(s.context,t)}i&&i.call(this,t)}},e.prototype.blazorCallback=function(e,t,i,n,r){var o=this,a=r===e.length-1;if(r<e.length){var s=e[r],l=s.handler.call(s.context,t);if(l&&"function"===typeof l.then){if(!i)return l;l.then((function(l){if(l="string"===typeof l&&o.isJson(l)?JSON.parse(l,o.dateReviver):l,_b(t,t,l,!0),!i||!a)return o.blazorCallback(e,t,i,n,r+1);i.call(s.context,t)})).catch((function(e){n&&n.call(s.context,"string"===typeof e&&o.isJson(e)?JSON.parse(e,o.dateReviver):e)}))}else{if(!i||!a)return this.blazorCallback(e,t,i,n,r+1);i.call(s.context,t)}}},e.prototype.dateReviver=function(e,t){return Tb&&"string"===typeof t&&null!==t.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?new Date(t):t},e.prototype.isJson=function(e){try{JSON.parse(e)}catch(t){return!1}return!0},e.prototype.destroy=function(){this.boundedEvents=this.context=void 0},e.prototype.notExist=function(e){return!1===this.boundedEvents.hasOwnProperty(e)||this.boundedEvents[e].length<=0},e.prototype.isHandlerPresent=function(e,t){for(var i=0,n=e;i<n.length;i++){if(n[i].handler===t)return!0}return!1},e}(),$b=new Yb,Kb=!1,Qb={},Jb="en-US",ex="USD",tx=function(){function e(e){e&&(this.culture=e)}return e.prototype.getDateFormat=function(e){return Fb.dateFormat(this.getCulture(),e||{type:"date",skeleton:"short"},Qb)},e.prototype.getNumberFormat=function(e){return e&&!e.currency&&(e.currency=ex),Tb()&&e&&!e.format&&(e.minimumFractionDigits=0),Vb.numberFormatter(this.getCulture(),e||{},Qb)},e.prototype.getDateParser=function(e){return Hb.dateParser(this.getCulture(),e||{skeleton:"short",type:"date"},Qb)},e.prototype.getNumberParser=function(e){return Tb()&&e&&!e.format&&(e.minimumFractionDigits=0),Xb.numberParser(this.getCulture(),e||{format:"N"},Qb)},e.prototype.formatNumber=function(e,t){return this.getNumberFormat(t)(e)},e.prototype.formatDate=function(e,t){return this.getDateFormat(t)(e)},e.prototype.parseDate=function(e,t){return this.getDateParser(t)(e)},e.prototype.parseNumber=function(e,t){return this.getNumberParser(t)(e)},e.prototype.getDatePattern=function(e,t){return ix.getActualDateTimeFormat(this.getCulture(),e,Qb,t)},e.prototype.getNumberPattern=function(e,t){return ix.getActualNumberFormat(this.getCulture(),e,Qb,t)},e.prototype.getFirstDayOfWeek=function(){return ix.getWeekData(this.getCulture(),Qb)},e.prototype.getCulture=function(){return this.culture||Jb},e}();var ix,nx={"en-US":{d:"M/d/y",D:"EEEE, MMMM d, y",f:"EEEE, MMMM d, y h:mm a",F:"EEEE, MMMM d, y h:mm:s a",g:"M/d/y h:mm a",G:"M/d/yyyy h:mm:ss tt",m:"MMMM d",M:"MMMM d",r:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",R:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",t:"h:mm tt",T:"h:m:s tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",U:"dddd, MMMM d, yyyy h:mm:ss tt",y:"MMMM yyyy",Y:"MMMM yyyy"}};!function(e){e.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,e.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,e.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;var t=/[0-9]/g;e.defaultCurrency="$";var i=["infinity","nan","group","decimal"],n=/G|M|L|H|c|'| a|yy|y|EEEE|E/g,r={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};e.dateConverterMapper=/dddd|ddd/gi;e.islamicRegex=/^islamic/;var o={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};e.formatRegex=/(^[ncpae]{1})([0-1]?[0-9]|20)?$/i,e.currencyFormatRegex=/(^[ca]{1})([0-1]?[0-9]|20)?$/i,e.curWithoutNumberRegex=/(c|a)$/gi;var a={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};function s(t,i,n,r,o){var a,s=n||"date";if(o)a=h({skeleton:t},o).format||h({skeleton:"d"},"en-US").format;else{if(-1!==e.basicPatterns.indexOf(t)){if(a=yb(s+"Formats."+t,i),"dateTime"===s){var l=yb("dateFormats."+t,i),u=yb("timeFormats."+t,i);a=a.replace("{1}",l).replace("{0}",u)}}else a=yb("dateTimeFormats.availableFormats."+t,i);Sb(a)&&"yMd"===t&&(a="M/d/y")}return a}function l(t,i,n,r){var o={},a=n||"gregorian";if(o.parserObject=Lb.getMainObject(t,i)||(Tb()?e.blazorDefaultObject:e.defaultObject),r)o.numericObject=yb("numbers",o.parserObject);else{var s=Tb()?"dates":"dates.calendars."+a;o.dateObject=yb(s,o.parserObject)}return o}function u(e,t,i,n){return yb(e+"Formats-numberSystem-"+t+(n?".accounting":".standard"),i)||(n?yb(e+"Formats-numberSystem-"+t+".standard",i):"")}function c(t){var i=t.match(e.dateConverterMapper);if(i&&Tb()){var n=3===i[0].length?"EEE":"EEEE";return t.replace(e.dateConverterMapper,n)}return t}function h(e,t){var i=e.format||e.skeleton,n=yb((t||"en-US")+"."+i,nx);return n||(n=yb("en-US."+i,nx)),n&&(n=c(n),e.format=n.replace(/tt/,"a")),e}function d(t){var i=t.match(e.formatRegex),n={},r=i[1].toUpperCase();return n.isAccount="A"===r,n.type=e.patternMatcher[r],t.length>1&&(n.fractionDigits=parseInt(i[2],10)),n}function p(i,n,r,o){var a=o?{}:{nlead:"",nend:""},s=i.match(e.customRegex);if(s){o||(a.nlead=f(s[1],r),a.nend=f(s[10],r),a.groupPattern=s[4]);var l=s[7];if(l&&n){var u=l.match(t);wb(u)?a.minimumFraction=0:a.minimumFraction=u.length,a.maximumFraction=l.length-1}}return a}function f(t,i){return t?t.replace(e.defaultCurrency,i):""}function m(e,t,i){return yb("currencies."+t+(i?"."+i:".symbol"),e)||yb("currencies."+t+".symbol-alt-narrow",e)||"$"}function g(t,n,r){var o={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},a=t.match(e.customRegex);if(wb(a)||""===a[5]&&"N/A"!==t)return o.type=void 0,o;o.nlead=a[1],o.nend=a[10];var s=a[6];o.useGrouping=-1!==s.indexOf(","),s=s.replace(/,/g,"");var l=a[7];if(-1!==s.indexOf("0")&&(o.minimumIntegerDigits=s.length-s.indexOf("0")),wb(l)||(o.minimumFractionDigits=l.lastIndexOf("0"),o.maximumFractionDigits=l.lastIndexOf("#"),-1===o.minimumFractionDigits&&(o.minimumFractionDigits=0),(-1===o.maximumFractionDigits||o.maximumFractionDigits<o.minimumFractionDigits)&&(o.maximumFractionDigits=o.minimumFractionDigits)),wb(n)?_b(o,y([o.nlead,o.nend],"%","%")):(_b(o,y([o.nlead,o.nend],"$",n.currencySymbol)),o.isCurrency||_b(o,y([o.nlead,o.nend],"%",n.percentSymbol))),!wb(r)){var c=u(o.type,n.numberMapper.numberSystem,r,!1);o.useGrouping&&(o.groupSeparator=n.numberMapper.numberSymbols[i[2]],o.groupData=Vb.getGroupingDetails(c.split(";")[0])),o.nlead=o.nlead.replace(/'/g,""),o.nend=o.nend.replace(/'/g,"")}return o}function y(e,t,i){for(var n={nlead:e[0],nend:e[1]},r=0;r<2;r++){var o=e[r],s=o.indexOf(t);if(-1!==s&&(s<o.indexOf("'")||s>o.lastIndexOf("'"))){n[a[r]]=o.substr(0,s)+i+o.substr(s+1),n[a[t]]=!0,n.type=n.isCurrency?"currency":"percent";break}}return n}function v(e,t,i){e+=".";for(var n=0;n<t;n++)e+="0";if(t<i)for(var r=i-t,o=0;o<r;o++)e+="#";return e}function b(e,t){for(var i=e.split("."),n="",r=0;r<t;r++)n+="0";return i[1]?n+"."+i[1]:n}function x(e){var t=e.split("."),i=t[0],n=3-i.length%3;e="";for(var r=(i=(n&&1===n?"#":2===n?"##":"")+i).length-1;r>0;r-=3)e=","+i[r-2]+i[r-1]+i[r]+e;return e=e.slice(1),t[1]?e+"."+t[1]:e}e.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi,e.basicPatterns=["short","medium","long","full"],e.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},narrow:{1:"J",2:"F",3:"M",4:"A",5:"M",6:"J",7:"J",8:"A",9:"S",10:"O",11:"N",12:"D"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"Before Christ","0-alt-variant":"Before Common Era",1:"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{0:"BC","0-alt-variant":"BCE",1:"AD","1-alt-variant":"CE"},eraNarrow:{0:"B","0-alt-variant":"BCE",1:"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}},islamic:{months:{"stand-alone":{abbreviated:{1:"Muh.",2:"Saf.",3:"Rab. I",4:"Rab. II",5:"Jum. I",6:"Jum. II",7:"Raj.",8:"Sha.",9:"Ram.",10:"Shaw.",11:"Dhu\u02bbl-Q.",12:"Dhu\u02bbl-H."},narrow:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},wide:{1:"Muharram",2:"Safar",3:"Rabi\u02bb I",4:"Rabi\u02bb II",5:"Jumada I",6:"Jumada II",7:"Rajab",8:"Sha\u02bbban",9:"Ramadan",10:"Shawwal",11:"Dhu\u02bbl-Qi\u02bbdah",12:"Dhu\u02bbl-Hijjah"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"AH"},eraAbbr:{0:"AH"},eraNarrow:{0:"AH"}},dateFormats:{full:"EEEE, MMMM d, y G",long:"MMMM d, y G",medium:"MMM d, y G",short:"M/d/y GGGGG"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y G",yyyy:"y G",yyyyM:"M/y GGGGG",yyyyMd:"M/d/y GGGGG",yyyyMEd:"E, M/d/y GGGGG",yyyyMMM:"MMM y G",yyyyMMMd:"MMM d, y G",yyyyMMMEd:"E, MMM d, y G",yyyyMMMM:"MMMM y G",yyyyQQQ:"QQQ y G",yyyyQQQQ:"QQQQ y G"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},GBP:{displayName:"British Pound","symbol-alt-narrow":"\xa3"}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"\xa4#,##0.00",accounting:"\xa4#,##0.00;(\xa4#,##0.00)"},"scientificFormats-numberSystem-latn":{standard:"#E0"}}},e.blazorDefaultObject={numbers:{mapper:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},mapperDigits:"0123456789",numberSymbols:{decimal:".",group:",",plusSign:"+",minusSign:"-",percentSign:"%",nan:"NaN",timeSeparator:":",infinity:"\u221e"},timeSeparator:":",currencySymbol:"$",currencypData:{nlead:"$",nend:"",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentpData:{nlead:"",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentnData:{nlead:"-",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},currencynData:{nlead:"($",nend:")",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalnData:{nlead:"-",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalpData:{nlead:"",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2}},dates:{dayPeriods:{am:"AM",pm:"PM"},dateSeperator:"/",days:{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}},months:{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}},eras:{1:"AD"}}},e.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"},e.month="months",e.days="days",e.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency",E:"scientific"},e.getResultantPattern=s,e.getDependables=l,e.getSymbolPattern=u,e.ConvertDateToWeekFormat=c,e.compareBlazorDateFormats=h,e.getProperNumericSkeleton=d,e.getFormatData=p,e.changeCurrencySymbol=f,e.getCurrencySymbol=m,e.customFormat=function(e,t,i){for(var n={},r=e.split(";"),o=["pData","nData","zeroData"],a=0;a<r.length;a++)n[o[a]]=g(r[a],t,i);return wb(n.nData)&&(n.nData=_b({},n.pData),n.nData.nlead=wb(t)?"-"+n.nData.nlead:t.minusSymbol+n.nData.nlead),n},e.customNumberFormat=g,e.isCurrencyPercent=y,e.getDateSeparator=function(e){var t=(yb("dateFormats.short",e)||"").match(/[d\u200fM\u200f]([^d\u200fM])[d\u200fM\u200f]/i);return t?t[1]:"/"},e.getActualDateTimeFormat=function(e,t,i,o){var a=l(i,e,t.calendar);Tb()&&(t=h(t,e));var u=t.format||s(t.skeleton,a.dateObject,t.type);if(o){if(u=u.replace(n,(function(e){return r[e]})),-1!==u.indexOf("z")){var c=u.match(/z/g).length,d=void 0,p={timeZone:{}};p.numMapper=Lb.getNumberMapper(a.parserObject,Lb.getNumberingSystem(i)),p.timeZone=yb("dates.timeZoneNames",a.parserObject);var f=(new Date).getTimezoneOffset(),m=c<4?"+H;-H":p.timeZone.hourFormat;m=m.replace(/:/g,p.numMapper.timeSeparator),0===f?d=p.timeZone.gmtZeroFormat:(d=Fb.getTimeZoneValue(f,m),d=p.timeZone.gmtFormat.replace(/\{0\}/,d)),u=u.replace(/[z]+/,'"'+d+'"')}u=u.replace(/ $/,"")}return u},e.getActualNumberFormat=function(t,i,n,r){var o,a,s=l(n,t,"",!0),c={custom:!0},h=s.numericObject,f={},g=(i.format||"").match(e.currencyFormatRegex),y=e.formatRegex.test(i.format)?d(i.format||"N"):{},_={};if(g){_.numberMapper=Tb()?_b({},s.numericObject):Lb.getNumberMapper(s.parserObject,Lb.getNumberingSystem(n),!0);var w=Tb()?yb("currencySymbol",s.numericObject):m(s.numericObject,i.currency||ex,i.altSymbol),S=u("currency",_.numberMapper.numberSystem,s.numericObject,/a/i.test(i.format)),k=(S=S.replace(/\u00A4/g,w)).split(";");f.hasNegativePattern=!!Tb()||k.length>1,f.nData=Tb()?yb(y.type+"nData",h):p(k[1]||"-"+k[0],!0,w),f.pData=Tb()?yb(y.type+"pData",h):p(k[0],!1,w),g[2]||i.minimumFractionDigits||i.maximumFractionDigits||(o=p(S.split(";")[0],!0,"",!0).minimumFraction)}if(e.formatRegex.test(i.format)||!i.format){if(_b(c,d(i.format||"N")),c.custom=!1,a="###0",c.fractionDigits||i.minimumFractionDigits||i.maximumFractionDigits||o){c.fractionDigits&&(i.minimumFractionDigits=i.maximumFractionDigits=c.fractionDigits),a=v(a,o||c.fractionDigits||i.minimumFractionDigits||0,i.maximumFractionDigits||0)}if(i.minimumIntegerDigits&&(a=b(a,i.minimumIntegerDigits)),i.useGrouping&&(a=x(a)),"currency"===c.type||c.type&&Tb()){Tb()&&"currency"!==c.type&&(f.pData=yb(c.type+"pData",h),f.nData=yb(c.type+"nData",h));var C=a;a=f.pData.nlead+C+f.pData.nend,(f.hasNegativePattern||Tb())&&(a+=";"+f.nData.nlead+C+f.nData.nend)}"percent"!==c.type||Tb()||(a+=" %")}else a=i.format.replace(/'/g,'"');return Object.keys(_).length>0&&(a=r?a:function(e,t){if(-1!==e.indexOf(",")){var i=e.split(",");e=i[0]+yb("numberMapper.numberSymbols.group",t)+i[1].replace(".",yb("numberMapper.numberSymbols.decimal",t))}else e=e.replace(".",yb("numberMapper.numberSymbols.decimal",t));return e}(a,_)),a},e.fractionDigitsPattern=v,e.minimumIntegerPattern=b,e.groupingPattern=x,e.getWeekData=function(e,t){var i="sun",n=yb("supplemental.weekData.firstDay",t),r=e;return/en-/.test(r)&&(r=r.slice(3)),r=r.slice(0,2).toUpperCase()+r.substr(2),n&&(i=n[r]||n[r.slice(0,2)]||"sun"),o[i]},e.replaceBlazorCurrency=function(e,t,i){var n=yb(i||"",Ob);if(t!==n)for(var r=0,o=e;r<o.length;r++){var a=o[r];a.nend=a.nend.replace(t,n),a.nlead=a.nlead.replace(t,n)}},e.getWeekOfYear=function(e){var t,i=new Date(e.getFullYear(),0,1),n=i.getDay();n=n>=0?n:n+7;var r=Math.floor((e.getTime()-i.getTime()-6e4*(e.getTimezoneOffset()-i.getTimezoneOffset()))/864e5)+1;if(n<4){if((t=Math.floor((r+n-1)/7)+1)>52){var o=new Date(e.getFullYear()+1,0,1).getDay();t=(o=o>=0?o:o+7)<4?1:53}}else t=Math.floor((r+n-1)/7);return t}}(ix||(ix={}));var rx=/^(.*?):[ \t]*([^\r\n]*)$/gm,ox=function(){function e(e,t,i,n){this.mode=!0,this.emitError=!0,this.options={},"string"===typeof e?(this.url=e,this.type=t?t.toUpperCase():"GET",this.mode=!!wb(i)||i):"object"===typeof e&&(this.options=e,xb(this,this.options)),this.type=this.type?this.type.toUpperCase():"GET",this.contentType=void 0!==this.contentType?this.contentType:n}return e.prototype.send=function(e){var t=this;this.data=wb(e)?this.data:e;var i={cancel:!1,httpRequest:null};return new Promise((function(e,n){t.httpRequest=new XMLHttpRequest,t.httpRequest.onreadystatechange=function(){t.stateChange(e,n)},wb(t.onLoad)||(t.httpRequest.onload=t.onLoad),wb(t.onProgress)||(t.httpRequest.onprogress=t.onProgress),wb(t.onAbort)||(t.httpRequest.onabort=t.onAbort),wb(t.onError)||(t.httpRequest.onerror=t.onError),wb(t.onUploadProgress)||(t.httpRequest.upload.onprogress=t.onUploadProgress),t.httpRequest.open(t.type,t.url,t.mode),wb(t.data)||null===t.contentType||t.httpRequest.setRequestHeader("Content-Type",t.contentType||"application/json; charset=utf-8"),t.beforeSend&&(i.httpRequest=t.httpRequest,t.beforeSend(i)),i.cancel||t.httpRequest.send(wb(t.data)?null:t.data)}))},e.prototype.successHandler=function(e){return this.onSuccess&&this.onSuccess(e,this),e},e.prototype.failureHandler=function(e){return this.onFailure&&this.onFailure(this.httpRequest),e},e.prototype.stateChange=function(e,t){var i=this.httpRequest.responseText;if(this.dataType&&"json"===this.dataType.toLowerCase())if(""===i)i=void 0;else try{i=JSON.parse(i)}catch(n){}4===this.httpRequest.readyState&&(this.httpRequest.status>=200&&this.httpRequest.status<=299||304===this.httpRequest.status?e(this.successHandler(i)):this.emitError?t(new Error(this.failureHandler(this.httpRequest.statusText))):e())},e.prototype.getResponseHeader=function(e){var t,i;t={};for(var n=rx.exec(this.httpRequest.getAllResponseHeaders());n;)t[n[1].toLowerCase()]=n[2],n=rx.exec(this.httpRequest.getAllResponseHeaders());return wb(i=t[e.toLowerCase()])?null:i},e}(),ax=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i,sx=/msie|trident/i,lx=/Trident\/7\./,ux=/(ipad|iphone|ipod touch)/i,cx=/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,hx=/android/i,dx=/trident|windows phone|edge/i,px=/(version)[ /]([\w.]+)/i,fx={OPERA:/(opera|opr)(?:.*version|)[ /]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ /]([\w.]+)/i,CHROME:/(chrome|crios)[ /]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ /]([\w.]+)/i,SAFARI:/(safari)[ /]([\w.]+)/i,WEBKIT:/(webkit)[ /]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i};"undefined"!==typeof window&&(window.browserDetails=window.browserDetails||{});var mx=function(){function e(){}return e.extractBrowserDetail=function(){for(var t={culture:{}},i=[],n=0,r=Object.keys(fx);n<r.length;n++){var o=r[n];if(i=e.userAgent.match(fx[o])){if(t.name="opr"===i[1].toLowerCase()?"opera":i[1].toLowerCase(),t.name="crios"===i[1].toLowerCase()?"chrome":t.name,t.version=i[2],t.culture.name=t.culture.language=navigator.language,e.userAgent.match(lx)){t.name="msie";break}var a=e.userAgent.match(px);"safari"===t.name&&a&&(t.version=a[2]);break}}return t},e.getEvent=function(t){var i={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"},cancel:{isPointer:"pointercancel",isTouch:"touchcancel",isDevice:"mouseleave"}};return e.isPointer?i[t].isPointer:e.isTouch?i[t].isTouch+(e.isDevice?"":" "+i[t].isDevice):i[t].isDevice},e.getTouchStartEvent=function(){return e.getEvent("start")},e.getTouchEndEvent=function(){return e.getEvent("end")},e.getTouchMoveEvent=function(){return e.getEvent("move")},e.getTouchCancelEvent=function(){return e.getEvent("cancel")},e.getValue=function(t,i){var n=window.browserDetails;return"undefined"===typeof n[t]?n[t]=i.test(e.userAgent):("MacIntel"===navigator.platform&&navigator.maxTouchPoints>1&&!0===e.isTouch&&(n.isIos=!0,n.isDevice=!0,n.isTouch=!0,n.isPointer=!0),n[t])},Object.defineProperty(e,"userAgent",{get:function(){return e.uA},set:function(t){e.uA=t,window.browserDetails={}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"info",{get:function(){return Sb(window.browserDetails.info)?window.browserDetails.info=e.extractBrowserDetail():window.browserDetails.info},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isIE",{get:function(){return e.getValue("isIE",sx)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isTouch",{get:function(){return Sb(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window.navigator||window&&window.navigator&&window.navigator.maxTouchPoints>0||"ontouchstart"in window:window.browserDetails.isTouch},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isPointer",{get:function(){return Sb(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isMSPointer",{get:function(){return Sb(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isDevice",{get:function(){return e.getValue("isDevice",ax)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isIos",{get:function(){return e.getValue("isIos",ux)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isIos7",{get:function(){return e.getValue("isIos7",cx)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isAndroid",{get:function(){return e.getValue("isAndroid",hx)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isWebView",{get:function(){return Sb(window.browserDetails.isWebView)?(window.browserDetails.isWebView=!(Sb(window.cordova)&&Sb(window.PhoneGap)&&Sb(window.phonegap)&&"object"!==window.forge),window.browserDetails.isWebView):window.browserDetails.isWebView},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isWindows",{get:function(){return e.getValue("isWindows",dx)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchStartEvent",{get:function(){return Sb(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=e.getTouchStartEvent():window.browserDetails.touchStartEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchMoveEvent",{get:function(){return Sb(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=e.getTouchMoveEvent():window.browserDetails.touchMoveEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchEndEvent",{get:function(){return Sb(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=e.getTouchEndEvent():window.browserDetails.touchEndEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchCancelEvent",{get:function(){return Sb(window.browserDetails.touchCancelEvent)?window.browserDetails.touchCancelEvent=e.getTouchCancelEvent():window.browserDetails.touchCancelEvent},enumerable:!0,configurable:!0}),e.uA="undefined"!==typeof navigator?navigator.userAgent:"",e}(),gx=function(){function e(){}return e.addOrGetEventData=function(e){return"__eventList"in e?e.__eventList.events:(e.__eventList={},e.__eventList.events=[])},e.add=function(t,i,n,r,o){var a,s=e.addOrGetEventData(t);a=o?function(e,t){var i;return function(){var n=this,r=arguments,o=function(){return i=null,e.apply(n,r)};clearTimeout(i),i=setTimeout(o,t)}}(n,o):n,r&&(a=a.bind(r));for(var l=i.split(" "),u=0;u<l.length;u++)s.push({name:l[u],listener:n,debounce:a}),mx.isIE?t.addEventListener(l[u],a):t.addEventListener(l[u],a,{passive:!1});return a},e.remove=function(t,i,n){for(var r=e.addOrGetEventData(t),o=i.split(" "),a=function(e){var i,a=-1;r&&0!==r.length&&r.some((function(t,r){return t.name===o[e]&&t.listener===n&&(a=r,i=t.debounce,!0)})),-1!==a&&r.splice(a,1),i&&t.removeEventListener(o[e],i)},s=0;s<o.length;s++)a(s)},e.clearEvents=function(t){var i,n;n=_b([],n,i=e.addOrGetEventData(t));for(var r=0;r<n.length;r++)t.removeEventListener(n[r].name,n[r].debounce),i.shift()},e.trigger=function(t,i,n){for(var r=0,o=e.addOrGetEventData(t);r<o.length;r++){var a=o[r];a.name===i&&a.debounce.call(this,n)}},e}(),yx=/^svg|^path|^g/;function vx(e,t){var i=yx.test(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return"undefined"===typeof t||(i.innerHTML=t.innerHTML?t.innerHTML:"",void 0!==t.className&&(i.className=t.className),void 0!==t.id&&(i.id=t.id),void 0!==t.styles&&i.setAttribute("style",t.styles),void 0!==t.attrs&&function(e,t){for(var i=Object.keys(t),n=e,r=0,o=i;r<o.length;r++){var a=o[r];if(bb(n)){var s=a;"tabindex"===a&&(s="tabIndex"),n.attributes[s]=t[a]}else n.setAttribute(a,t[a])}}(i,t.attrs)),i}function bx(e,t){for(var i=_x(t),n=0,r=e;n<r.length;n++)for(var o=r[n],a=0,s=i;a<s.length;a++){var l=s[a];if(bb(o)){var u=yb("attributes.className",o);wb(u)?vb("attributes.className",l,o):new RegExp("\\b"+l+"\\b","i").test(u)||vb("attributes.className",u+" "+l,o)}else o.classList.contains(l)||o.classList.add(l)}return e}function xx(e,t){for(var i=_x(t),n=0,r=e;n<r.length;n++){var o=r[n],a=bb(o);if(a?yb("attributes.className",o):""!==o.className)for(var s=0,l=i;s<l.length;s++){var u=l[s];if(a){var c=yb("attributes.className",o).split(" "),h=c.indexOf(u);-1!==h&&c.splice(h,1),vb("attributes.className",c.join(" "),o)}else o.classList.remove(u)}}return e}function _x(e){var t=[];return"string"===typeof e?t.push(e):t=e,t}function wx(e){var t=e;return""===t.style.visibility&&t.offsetWidth>0}function Sx(e){var t=e.parentNode;if(t)return t.removeChild(e)}function kx(e){var t=e.parentNode;gx.clearEvents(e),t.removeChild(e)}function Cx(e,t,i){return void 0===t&&(t=document),e=Tx(e),t.querySelector(e)}function Tx(e){var t=/(!|"|\$|%|&|'|\(|\)|\*|\/|:|;|<|=|\?|@|\]|\^|`|{|}|\||\+|~)/g;if(e.match(/#[0-9]/g)||e.match(t)){for(var i=e.split(","),n=0;n<i.length;n++){for(var r=i[n].split(" "),o=0;o<r.length;o++)if(r[o].indexOf("#")>-1&&!r[o].match(/\[.*\]/)){var a=r[o].split("#");if(a[1].match(/^\d/)||a[1].match(t)){var s=r[o].split(".");s[0]=s[0].replace(/#/,"[id='")+"']",r[o]=s.join(".")}}i[n]=r.join(" ")}return i.join(",")}return e}function Ex(e,t){var i=e;if("function"===typeof i.closest)return i.closest(t);for(;i&&1===i.nodeType;){if(Px(i,t))return i;i=i.parentNode}return null}function Ax(e,t){void 0!==t&&Object.keys(t).forEach((function(i){e.style[i]=t[i]}))}function Px(e,t){var i=e.matches||e.msMatchesSelector||e.webkitMatchesSelector;return i?i.call(e,t):-1!==[].indexOf.call(document.querySelectorAll(t),e)}var Mx=new RegExp("]"),Lx=function(){function e(e,t){this.isRendered=!1,this.isComplexArraySetter=!1,this.isServerRendered=!1,this.allowServerDataBinding=!0,this.isProtectedOnChange=!0,this.properties={},this.changedProperties={},this.oldProperties={},this.bulkChanges={},this.refreshing=!1,this.ignoreCollectionWatch=!1,this.finalUpdate=function(){},this.childChangedProperties={},this.modelObserver=new Yb(this),Sb(t)||(this.element="string"===typeof t?document.querySelector(t):t,wb(this.element)||(this.isProtectedOnChange=!1,this.addInstance())),Sb(e)||this.setProperties(e,!0),this.isDestroyed=!1}return e.prototype.setProperties=function(e,t){var i=this.isProtectedOnChange;this.isProtectedOnChange=!!t,xb(this,e),!0!==t?(xb(this.changedProperties,e),this.dataBind()):Tb()&&this.isRendered&&this.serverDataBind(e),this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.isProtectedOnChange=i},e.callChildDataBind=function(e,t){for(var i=0,n=Object.keys(e);i<n.length;i++){var r=n[i];if(t[r]instanceof Array)for(var o=0,a=t[r];o<a.length;o++){var s=a[o];void 0!==s.dataBind&&s.dataBind()}else t[r].dataBind()}},e.prototype.clearChanges=function(){this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.childChangedProperties={}},e.prototype.dataBind=function(){if(e.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){var t=this.isProtectedOnChange,i=this.changedProperties,n=this.oldProperties;this.clearChanges(),this.isProtectedOnChange=!0,this.onPropertyChanged(i,n),this.isProtectedOnChange=t}},e.prototype.serverDataBind=function(e){if(Tb()){e=e||{},_b(this.bulkChanges,{},e,!0);this.allowServerDataBinding&&window.sfBlazor.updateModel&&(window.sfBlazor.updateModel(this),this.bulkChanges={})}},e.prototype.saveChanges=function(e,t,i){if(Tb()){var n={};n[e]=t,this.serverDataBind(n)}this.isProtectedOnChange||(this.oldProperties[e]=i,this.changedProperties[e]=t,this.finalUpdate(),this.finalUpdate=function(e){var t,i=new Uint16Array(5);(window.msCrypto||window.crypto).getRandomValues(i);var n="ej2"+function(e){for(var t="",i=0;i<5;i++)t+=(i?",":"")+e[i];return t}(i),r=function(i){i.source===window&&"string"===typeof i.data&&i.data.length<=32&&i.data===n&&(e(),t())};return window.addEventListener("message",r,!1),window.postMessage(n,"*"),t=function(){window.removeEventListener("message",r),e=r=n=void 0}}(this.dataBind.bind(this)))},e.prototype.addEventListener=function(e,t){this.modelObserver.on(e,t)},e.prototype.removeEventListener=function(e,t){this.modelObserver.off(e,t)},e.prototype.trigger=function(e,t,i,n){var r=this;if(!0!==this.isDestroyed){var o=this.isProtectedOnChange;this.isProtectedOnChange=!1;var a=this.modelObserver.notify(e,t,i,n);if(Mx.test(e)){var s=yb(e,this);if(s){if(window.Blazor){var l=s.call(this,t);l&&"function"===typeof l.then?i?l.then((function(e){i&&(e="string"===typeof e&&r.modelObserver.isJson(e)?JSON.parse(e):e,i.call(r,e))})).catch((function(e){n&&(e="string"===typeof e&&r.modelObserver.isJson(e)?JSON.parse(e):e,n.call(r,e))})):a=l:i&&i.call(this,t)}else s.call(this,t),i&&i.call(this,t)}else i&&i.call(this,t)}return this.isProtectedOnChange=o,a}},e.prototype.addInstance=function(){var e="e-"+this.getModuleName().toLowerCase();bx([this.element],["e-lib",e]),wb(this.element.ej2_instances)?vb("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)},e.prototype.destroy=function(){var e=this;this.element.ej2_instances=this.element.ej2_instances.filter((function(t){return t!==e})),xx([this.element],["e-"+this.getModuleName()]),0===this.element.ej2_instances.length&&xx([this.element],["e-lib"]),this.clearChanges(),this.modelObserver.destroy(),this.isDestroyed=!0},e}();function Ox(e,t,i,n){return e.properties.hasOwnProperty(t)&&e.properties[t]instanceof n||(e.properties[t]=gb(n,[e,t,i])),e.properties[t]}function Rx(e,t,i,n,r,o){for(var a=[],s=i?i.length:0,l=0;l<s;l++){var u=n;if(o&&(u=n(i[l],e)),r){var c=gb(u,[e,t,{},!0]);c.setProperties(i[l],!0),a.push(c)}else a.push(gb(u,[e,t,i[l],!1]))}return a}function Ix(e,t){return function(){return this.properties.hasOwnProperty(t)||(this.properties[t]=e),this.properties[t]}}function Dx(e,t){return function(i){if(this.properties[t]!==i){var n=this.properties.hasOwnProperty(t)?this.properties[t]:e;this.saveChanges(t,i,n),this.properties[t]=i}}}function zx(e,t,i){return function(){return Ox(this,t,e,i)}}function Bx(e,t,i){return function(n){Ox(this,t,e,i).setProperties(n)}}function Fx(e,t,i){return function(){var n=this;if(!this.properties.hasOwnProperty(t)){var r=Rx(this,t,e,i,!1);this.properties[t]=r}var o=void 0!==this.controlParent&&this.controlParent.ignoreCollectionWatch||this.ignoreCollectionWatch;return this.properties[t].hasOwnProperty("push")||o||["push","pop"].forEach((function(e){var r={value:jx(e,t,i,n.properties[t]).bind(n),configurable:!0};Object.defineProperty(n.properties[t],e,r)})),this.properties[t].hasOwnProperty("isComplexArray")||Object.defineProperty(this.properties[t],"isComplexArray",{value:!0}),this.properties[t]}}function Nx(e,t,i){return function(n){this.isComplexArraySetter=!0;var r=Rx(this,t,e,i,!1),o=Rx(this,t,n,i,!0);this.isComplexArraySetter=!1,this.saveChanges(t,o,r),this.properties[t]=o}}function jx(e,t,i,n){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=this.propName?this.getParentKey()+"."+t+"-":t+"-";switch(e){case"push":for(var a=0;a<i.length;a++){Array.prototype[e].apply(n,[i[a]]);var s=Vx(o+(n.length-1),i[a],!this.controlParent,e);this.serverDataBind(s,i[a],!1,e)}break;case"pop":Array.prototype[e].apply(n);var l=Vx(o+n.length,null,!this.controlParent,e);this.serverDataBind(l,{ejsAction:"pop"},!1,e)}return n}}function Vx(e,t,i,n){var r=e;if(i&&((r={})[e]=t,t&&"object"===typeof t)){r[e].ejsAction=n}return r}function Ux(e){return function(t,i){var n={set:Dx(e,i),get:Ix(e,i),enumerable:!0,configurable:!0};Object.defineProperty(t,i,n),Zx(t,i,"prop",e)}}function Wx(e,t){return function(i,n){var r={set:Bx(e,n,t),get:zx(e,n,t),enumerable:!0,configurable:!0};Object.defineProperty(i,n,r),Zx(i,n,"complexProp",e,t)}}function Hx(e,t){return function(i,n){var r={set:Nx(e,n,t),get:Fx(e,n,t),enumerable:!0,configurable:!0};Object.defineProperty(i,n,r),Zx(i,n,"colProp",e,t)}}function Gx(){return function(e,t){var i={set:function(e){var i=this.properties[t];if(i!==e){var n=Xx(this,t);!1===Sb(i)&&n.context.removeEventListener(n.prefix,i),n.context.addEventListener(n.prefix,e),this.properties[t]=e}},get:Ix(void 0,t),enumerable:!0,configurable:!0};Object.defineProperty(e,t,i),Zx(e,t,"event")}}function qx(e){}function Zx(e,t,i,n,r){Sb(e.propList)&&(e.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]}),e.propList[i+"s"].push({propertyName:t,defaultValue:n,type:r}),e.propList[i+"Names"].push(t)}function Xx(e,t){if(!1===e.hasOwnProperty("parentObj"))return{context:e,prefix:t};var i=yb("propName",e);return i&&(t=i+"-"+t),Xx(yb("parentObj",e),t)}var Yx=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),$x=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},Kx=function(e){function t(t){var i=e.call(this,t,void 0)||this;return i.easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"},i}var i;return Yx(t,e),i=t,t.prototype.animate=function(e,t){t=t||{};var n=this.getModel(t);if("string"===typeof e)for(var r=Array.prototype.slice.call(function(e,t,i){return void 0===t&&(t=document),e=Tx(e),t.querySelectorAll(e)}(e,document)),o=0,a=r;o<a.length;o++){var s=a[o];n.element=s,i.delayAnimation(n)}else n.element=e,i.delayAnimation(n)},t.stop=function(e,t){e.style.animation="",e.removeAttribute("e-animate");var i=e.getAttribute("e-animation-id");if(i){var n=parseInt(i,10);cancelAnimationFrame(n),e.removeAttribute("e-animation-id")}t&&t.end&&t.end.call(this,t)},t.delayAnimation=function(e){e.delay?setTimeout((function(){i.applyAnimation(e)}),e.delay):i.applyAnimation(e)},t.applyAnimation=function(e){var t=this;e.timeStamp=0;var i=0,n=0,r=0,o=e.duration;e.element.setAttribute("e-animate","true");!function a(s){try{if(s){r=0===r?s:r,e.timeStamp=s+e.timeStamp-r,r=s,!i&&e.begin&&e.begin.call(t,e),i+=1;var l=e.timeStamp/i;e.timeStamp<o&&e.timeStamp+l<o&&e.element.getAttribute("e-animate")?(e.element.style.animation=e.name+" "+e.duration+"ms "+e.timingFunction,e.progress&&e.progress.call(t,e),requestAnimationFrame(a)):(cancelAnimationFrame(n),e.element.removeAttribute("e-animation-id"),e.element.removeAttribute("e-animate"),e.element.style.animation="",e.end&&e.end.call(t,e))}else n=requestAnimationFrame(a),e.element.setAttribute("e-animation-id",n.toString())}catch(u){cancelAnimationFrame(n),e.element.removeAttribute("e-animation-id"),e.fail&&e.fail.call(t,u)}}()},t.prototype.getModel=function(e){return{name:e.name||this.name,delay:e.delay||this.delay,duration:void 0!==e.duration?e.duration:this.duration,begin:e.begin||this.begin,end:e.end||this.end,fail:e.fail||this.fail,progress:e.progress||this.progress,timingFunction:this.easing[e.timingFunction]?this.easing[e.timingFunction]:e.timingFunction||this.easing[this.timingFunction]}},t.prototype.onPropertyChanged=function(e,t){},t.prototype.getModuleName=function(){return"animation"},t.prototype.destroy=function(){},$x([Ux("FadeIn")],t.prototype,"name",void 0),$x([Ux(400)],t.prototype,"duration",void 0),$x([Ux("ease")],t.prototype,"timingFunction",void 0),$x([Ux(0)],t.prototype,"delay",void 0),$x([Gx()],t.prototype,"progress",void 0),$x([Gx()],t.prototype,"begin",void 0),$x([Gx()],t.prototype,"end",void 0),$x([Gx()],t.prototype,"fail",void 0),t=i=$x([qx],t)}(Lx);var Qx,Jx=function(){function e(e){this.loadedModules=[],this.parent=e}return e.prototype.inject=function(e,t){var i=e.length;if(0!==i){this.loadedModules.length&&this.clearUnusedModule(e);for(var n=0;n<i;n++)for(var r=e[n],o=0,a=t;o<a.length;o++){var s=a[o],l=r.member;if(s.prototype.getModuleName()===r.member&&!this.isModuleLoaded(l)){var u=gb(s,r.args),c=this.getMemberName(l);r.isProperty?vb(c,s,this.parent):vb(c,u,this.parent);var h=r;h.member=c,this.loadedModules.push(h)}}}else this.clean()},e.prototype.clean=function(){for(var e=0,t=this.loadedModules;e<t.length;e++){var i=t[e];i.isProperty||yb(i.member,this.parent).destroy()}this.loadedModules=[]},e.prototype.clearUnusedModule=function(e){for(var t,i,n=this,r=e.map((function(e){return n.getMemberName(e.member)})),o=0,a=this.loadedModules.filter((function(e){return-1===r.indexOf(e.member)}));o<a.length;o++){var s=a[o];s.isProperty||yb(s.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(s),1),t=this.parent,i=s.member,delete t[i]}},e.prototype.getMemberName=function(e){return e[0].toLowerCase()+e.substring(1)+"Module"},e.prototype.isModuleLoaded=function(e){for(var t=0,i=this.loadedModules;t<i.length;t++){if(i[t].member===this.getMemberName(e))return!0}return!1},e}(),e_=function(){function e(e,t,i,n){this.isComplexArraySetter=!1,this.properties={},this.changedProperties={},this.childChangedProperties={},this.oldProperties={},this.finalUpdate=function(){},this.callChildDataBind=yb("callChildDataBind",Lx),this.parentObj=e,this.controlParent=this.parentObj.controlParent||this.parentObj,this.propName=t,this.isParentArray=n,this.setProperties(i,!0)}return e.prototype.updateChange=function(e,t){!0===e?this.parentObj.childChangedProperties[t]=e:delete this.parentObj.childChangedProperties[t],this.parentObj.updateChange&&this.parentObj.updateChange(e,this.parentObj.propName)},e.prototype.updateTimeOut=function(){if(this.parentObj.updateTimeOut)this.parentObj.finalUpdate(),this.parentObj.updateTimeOut();else{var e=setTimeout(this.parentObj.dataBind.bind(this.parentObj));this.finalUpdate=function(){clearTimeout(e)}}},e.prototype.clearChanges=function(){this.finalUpdate(),this.updateChange(!1,this.propName),this.oldProperties={},this.changedProperties={}},e.prototype.setProperties=function(e,t){!0===t?(xb(this,e),this.updateChange(!1,this.propName),this.clearChanges()):xb(this,e)},e.prototype.dataBind=function(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){var e=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(vb(this.propName+"."+e,this.changedProperties,this.parentObj.changedProperties),vb(this.propName+"."+e,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()},e.prototype.saveChanges=function(e,t,i,n){this.controlParent.isProtectedOnChange||(n||this.serverDataBind(e,t,!0),this.oldProperties[e]=i,this.changedProperties[e]=t,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())},e.prototype.serverDataBind=function(e,t,i,n){if(Tb()&&!this.parentObj.isComplexArraySetter){var r,o={},a=i?this.getParentKey(!0)+"."+e:e;if(-1!==a.indexOf(".")){var s=a.split(".");r=o;for(var l=0;l<s.length;l++){var u=l===s.length-1;r[s[l]]=u?t:{},r=u?r:r[s[l]]}}else o[a]={},r=o[a],o[a][e]=t;if(this.isParentArray){r.ejsAction=n||"none"}this.controlParent.serverDataBind(o)}},e.prototype.getParentKey=function(e){var t="",i=this.propName;if(this.isParentArray){t=this.parentObj[this.propName].indexOf(this);var n=this.parentObj[this.propName].length;n=e?n:n>0?n-1:0,i+=t=-1!==t?"-"+t:"-"+n}return this.controlParent!==this.parentObj&&(i=this.parentObj.getParentKey()+"."+this.propName+t),i},e}(),t_=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),i_=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},n_=0,r_=0,o_=!1;var a_=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.randomId=function(){if("undefined"!==typeof window){var e=new Uint16Array(5);return(window.msCrypto||window.crypto).getRandomValues(e)}}(),n.isStringTemplate=!1,n.needsID=!1,n.isReactHybrid=!1,wb(n.enableRtl)&&n.setProperties({enableRtl:Kb},!0),wb(n.locale)&&n.setProperties({locale:Jb},!0),n.moduleLoader=new Jx(n),n.localObserver=new Yb(n),$b.on("notifyExternalChange",n.detectFunction,n,n.randomId),Sb(i)||n.appendTo(),n}return t_(t,e),t.prototype.requiredModules=function(){return[]},t.prototype.destroy=function(){this.isDestroyed||(this.enablePersistence&&this.setPersistData(),this.localObserver.destroy(),this.refreshing||(xx([this.element],["e-control"]),this.trigger("destroyed",{cancel:!1}),e.prototype.destroy.call(this),this.moduleLoader.clean(),$b.off("notifyExternalChange",this.detectFunction,this.randomId)))},t.prototype.refresh=function(){this.refreshing=!0,this.moduleLoader.clean(),this.destroy(),this.clearChanges(),this.localObserver=new Yb(this),this.preRender(),this.injectModules(),this.render(),this.refreshing=!1},t.prototype.accessMount=function(){this.mount&&!this.isReactHybrid&&this.mount()},t.prototype.getRootElement=function(){return this.isReactHybrid?this.actualElement:this.element},t.prototype.getLocalData=function(){var e=this.getModuleName()+this.element.id;return o_?window.localStorage.getItem(e+this.ej2StatePersistenceVersion):window.localStorage.getItem(e)},t.prototype.appendTo=function(t){if(wb(t)||"string"!==typeof t?wb(t)||(this.element=t):this.element=Cx(t,document),!wb(this.element)){var i="e-"+this.getModuleName().toLowerCase();bx([this.element],["e-control",i]),this.isProtectedOnChange=!1,this.needsID&&!this.element.id&&(this.element.id=this.getUniqueID(this.getModuleName())),this.enablePersistence&&(this.mergePersistData(),window.addEventListener("unload",this.setPersistData.bind(this)));var n=yb("ej2_instances",this.element);n&&-1!==n.indexOf(this)||e.prototype.addInstance.call(this),this.preRender(),this.injectModules(),this.render(),this.mount?this.accessMount():this.trigger("created")}},t.prototype.renderComplete=function(e){if(Tb()){window.sfBlazor.renderComplete(this.element,e)}this.isRendered=!0},t.prototype.dataBind=function(){this.injectModules(),e.prototype.dataBind.call(this)},t.prototype.on=function(e,t,i){if("string"===typeof e)this.localObserver.on(e,t,i);else for(var n=0,r=e;n<r.length;n++){var o=r[n];this.localObserver.on(o.event,o.handler,o.context)}},t.prototype.off=function(e,t){if("string"===typeof e)this.localObserver.off(e,t);else for(var i=0,n=e;i<n.length;i++){var r=n[i];this.localObserver.off(r.event,r.handler)}},t.prototype.notify=function(e,t){!0!==this.isDestroyed&&this.localObserver.notify(e,t)},t.prototype.getInjectedModules=function(){return this.injectedModules},t.Inject=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.prototype.injectedModules||(this.prototype.injectedModules=[]);for(var i=0;i<e.length;i++)-1===this.prototype.injectedModules.indexOf(e[i])&&this.prototype.injectedModules.push(e[i])},t.prototype.createElement=function(e,t,i){return vx(e,t)},t.prototype.triggerStateChange=function(e,t){this.isReactHybrid&&(this.setState(),this.currentContext={calls:e,args:t})},t.prototype.injectModules=function(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)},t.prototype.detectFunction=function(e){var t=Object.keys(e);t.length&&(this[t[0]]=e[t[0]])},t.prototype.mergePersistData=function(){var e;wb(e=o_?window.localStorage.getItem(this.getModuleName()+this.element.id+this.ej2StatePersistenceVersion):window.localStorage.getItem(this.getModuleName()+this.element.id))||""===e||this.setProperties(JSON.parse(e),!0)},t.prototype.setPersistData=function(){this.isDestroyed||(o_?window.localStorage.setItem(this.getModuleName()+this.element.id+this.ej2StatePersistenceVersion,this.getPersistData()):window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData()))},t.prototype.renderReactTemplates=function(){},t.prototype.clearTemplate=function(e,t){},t.prototype.getUniqueID=function(e){return this.isHistoryChanged()&&(n_=0),Qx=this.pageID(location.href),r_=history.length,e+"_"+Qx+"_"+n_++},t.prototype.pageID=function(e){var t=0;if(0===e.length)return t;for(var i=0;i<e.length;i++){t=(t<<5)-t+e.charCodeAt(i),t&=t}return Math.abs(t)},t.prototype.isHistoryChanged=function(){return Qx!==this.pageID(location.href)||r_!==history.length},t.prototype.addOnPersist=function(e){for(var t=this,i={},n=0,r=e;n<r.length;n++){var o,a=r[n];Sb(o=yb(a,this))||vb(a,this.getActualProperties(o),i)}return JSON.stringify(i,(function(e,i){return t.getActualProperties(i)}))},t.prototype.getActualProperties=function(e){return e instanceof e_?yb("properties",e):e},t.prototype.ignoreOnPersist=function(e){return JSON.stringify(this.iterateJsonProperties(this.properties,e))},t.prototype.iterateJsonProperties=function(e,t){for(var i={},n=function(n){if(-1===t.indexOf(n)){var o=e[n];if("object"!==typeof o||o instanceof Array)i[n]=o;else{var a=t.filter((function(e){return new RegExp(n+".").test(e)})).map((function(e){return e.replace(n+".","")}));i[n]=r.iterateJsonProperties(r.getActualProperties(o),a)}}},r=this,o=0,a=Object.keys(e);o<a.length;o++){n(a[o])}return i},i_([Ux(!1)],t.prototype,"enablePersistence",void 0),i_([Ux()],t.prototype,"enableRtl",void 0),i_([Ux()],t.prototype,"locale",void 0),t=i_([qx],t)}(Lx);"undefined"!==typeof window&&window.addEventListener("popstate",(function(){n_=0}));var s_=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l_=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},u_={left:0,top:0,bottom:0,right:0},c_={isDragged:!1},h_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s_(t,e),l_([Ux(0)],t.prototype,"left",void 0),l_([Ux(0)],t.prototype,"top",void 0),t}(e_),d_=(function(e){function t(t,n){var r=e.call(this,n,t)||this;return r.dragLimit=i.getDefaultPosition(),r.borderWidth=i.getDefaultPosition(),r.padding=i.getDefaultPosition(),r.diffX=0,r.prevLeft=0,r.prevTop=0,r.dragProcessStarted=!1,r.eleTop=0,r.tapHoldTimer=0,r.externalInitialize=!1,r.diffY=0,r.parentScrollX=0,r.parentScrollY=0,r.droppables={},r.bind(),r}var i;s_(t,e),i=t,t.prototype.bind=function(){this.toggleEvents(),mx.isIE&&bx([this.element],"e-block-touch"),this.droppables[this.scope]={}},t.getDefaultPosition=function(){return _b({},u_)},t.prototype.toggleEvents=function(e){var t;Sb(this.handle)||(t=Cx(this.handle,this.element));var i=this.enableTapHold&&mx.isDevice&&mx.isTouch?this.mobileInitialize:this.initialize;e?gx.remove(t||this.element,mx.touchStartEvent,i):gx.add(t||this.element,mx.touchStartEvent,i,this)},t.prototype.mobileInitialize=function(e){var t=this,i=e.currentTarget;this.tapHoldTimer=setTimeout((function(){t.externalInitialize=!0,t.removeTapholdTimer(),t.initialize(e,i)}),this.tapHoldThreshold),gx.add(document,mx.touchMoveEvent,this.removeTapholdTimer,this),gx.add(document,mx.touchEndEvent,this.removeTapholdTimer,this)},t.prototype.removeTapholdTimer=function(){clearTimeout(this.tapHoldTimer),gx.remove(document,mx.touchMoveEvent,this.removeTapholdTimer),gx.remove(document,mx.touchEndEvent,this.removeTapholdTimer)},t.prototype.getScrollableParent=function(e,t){return wb(e)?null:e[{vertical:"scrollHeight",horizontal:"scrollWidth"}[t]]>e[{vertical:"clientHeight",horizontal:"clientWidth"}[t]]&&("vertical"===t?e.scrollTop>0:e.scrollLeft>0)?("vertical"===t?(this.parentScrollY=this.parentScrollY+(0===this.parentScrollY?e.scrollTop:e.scrollTop-this.parentScrollY),this.tempScrollHeight=e.scrollHeight):(this.parentScrollX=this.parentScrollX+(0===this.parentScrollX?e.scrollLeft:e.scrollLeft-this.parentScrollX),this.tempScrollWidth=e.scrollWidth),wb(e)?e:this.getScrollableParent(e.parentNode,t)):this.getScrollableParent(e.parentNode,t)},t.prototype.getScrollableValues=function(){this.parentScrollX=0,this.parentScrollY=0;this.element.classList.contains("e-dialog")&&this.element.classList.contains("e-dlg-modal"),this.getScrollableParent(this.element.parentNode,"vertical"),this.getScrollableParent(this.element.parentNode,"horizontal")},t.prototype.initialize=function(e,t){if(this.currentStateTarget=e.target,!this.isDragStarted()){if(this.isDragStarted(!0),this.externalInitialize=!1,this.target=e.currentTarget||t,this.dragProcessStarted=!1,this.abort){var i=this.abort;"string"===typeof i&&(i=[i]);for(var n=0;n<i.length;n++)if(!wb(Ex(e.target,i[n])))return void(this.isDragStarted()&&this.isDragStarted(!0))}this.preventDefault&&!Sb(e.changedTouches)&&"touchstart"!==e.type&&e.preventDefault(),this.element.setAttribute("aria-grabbed","true");var r=this.getCoordinates(e);if(this.initialPosition={x:r.pageX,y:r.pageY},!this.clone){var o=this.element.getBoundingClientRect();this.getScrollableValues(),e.clientX===e.pageX&&(this.parentScrollX=0),e.clientY===e.pageY&&(this.parentScrollY=0),this.relativeXPosition=r.pageX-(o.left+this.parentScrollX),this.relativeYPosition=r.pageY-(o.top+this.parentScrollY)}this.externalInitialize?this.intDragStart(e):(gx.add(document,mx.touchMoveEvent,this.intDragStart,this),gx.add(document,mx.touchEndEvent,this.intDestroy,this)),this.toggleEvents(!0),"touchstart"!==e.type&&this.isPreventSelect&&document.body.classList.add("e-prevent-select"),this.externalInitialize=!1,gx.trigger(document.documentElement,mx.touchStartEvent,e)}},t.prototype.intDragStart=function(e){this.removeTapholdTimer();var t=!Sb(e.changedTouches);if(!t||1===e.changedTouches.length){t&&e.preventDefault();var i,n=this.getCoordinates(e),r=getComputedStyle(this.element);this.margin={left:parseInt(r.marginLeft,10),top:parseInt(r.marginTop,10),right:parseInt(r.marginRight,10),bottom:parseInt(r.marginBottom,10)};var o=this.element;if(this.clone&&this.dragTarget){var a=Ex(e.target,this.dragTarget);wb(a)||(o=a)}this.isReplaceDragEle&&(o=this.currentStateCheck(e.target,o)),this.offset=this.calculateParentPosition(o),this.position=this.getMousePosition(e,this.isDragScroll);var s=this.initialPosition.x-n.pageX,l=this.initialPosition.y-n.pageY;if(Math.sqrt(s*s+l*l)>=this.distance||this.externalInitialize){var u=this.getHelperElement(e);if(!u||wb(u))return;var c=this.helperElement=u;if(this.parentClientRect=this.calculateParentPosition(c.offsetParent),this.dragStart){var h={event:e,element:o,target:this.getProperTargetElement(e),bindEvents:Tb()?this.bindDragEvents.bind(this):null,dragElement:c};this.trigger("dragStart",h)}this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0}),i={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top},this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top),this.getScrollableValues();var d=getComputedStyle(o),p=parseFloat(d.marginTop);this.clone&&0!==p&&(i.top+=p),this.eleTop=isNaN(parseFloat(d.top))?0:parseFloat(d.top)-this.offset.top,this.enableScrollHandler&&!this.clone&&(i.top-=this.parentScrollY,i.left-=this.parentScrollX);var f=this.getProcessedPositionValue({top:i.top-this.diffY+"px",left:i.left-this.diffX+"px"});this.dragElePosition={top:i.top,left:i.left},Ax(c,this.getDragPosition({position:"absolute",left:f.left,top:f.top})),gx.remove(document,mx.touchMoveEvent,this.intDragStart),gx.remove(document,mx.touchEndEvent,this.intDestroy),Tb()||this.bindDragEvents(c)}}},t.prototype.bindDragEvents=function(e){wx(e)?(gx.add(document,mx.touchMoveEvent,this.intDrag,this),gx.add(document,mx.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,e)):(this.toggleEvents(),document.body.classList.remove("e-prevent-select"))},t.prototype.elementInViewport=function(e){for(this.top=e.offsetTop,this.left=e.offsetLeft,this.width=e.offsetWidth,this.height=e.offsetHeight;e.offsetParent;)e=e.offsetParent,this.top+=e.offsetTop,this.left+=e.offsetLeft;return this.top>=window.pageYOffset&&this.left>=window.pageXOffset&&this.top+this.height<=window.pageYOffset+window.innerHeight&&this.left+this.width<=window.pageXOffset+window.innerWidth},t.prototype.getProcessedPositionValue=function(e){return this.queryPositionInfo?this.queryPositionInfo(e):e},t.prototype.calculateParentPosition=function(e){if(wb(e))return{left:0,top:0};var t=e.getBoundingClientRect(),i=getComputedStyle(e);return{left:t.left+window.pageXOffset-parseInt(i.marginLeft,10),top:t.top+window.pageYOffset-parseInt(i.marginTop,10)}},t.prototype.intDrag=function(e){if(Sb(e.changedTouches)||1===e.changedTouches.length){var t,i;this.position=this.getMousePosition(e,this.isDragScroll);var n=this.getDocumentWidthHeight("Height");n<this.position.top&&(this.position.top=n);var r=this.getDocumentWidthHeight("Width");if(r<this.position.left&&(this.position.left=r),this.drag){var o=this.getProperTargetElement(e);this.trigger("drag",{event:e,element:this.element,target:o})}var a=this.checkTargetElement(e);if(a.target&&a.instance){var s=!0;this.hoverObject&&(this.hoverObject.instance!==a.instance?this.triggerOutFunction(e,a):s=!1),s&&(a.instance.dragData[this.scope]=this.droppables[this.scope],a.instance.intOver(e,a.target),this.hoverObject=a)}else this.hoverObject&&this.triggerOutFunction(e,a);var l=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);var u=this.parentClientRect.left,c=this.parentClientRect.top,h=this.getCoordinates(e),d=h.pageX,p=h.pageY,f=this.position.left-this.diffX,m=this.position.top-this.diffY,g=getComputedStyle(l);if(this.dragArea){if(this.pageX!==d||this.skipDistanceCheck){var y=l.offsetWidth+(parseFloat(g.marginLeft)+parseFloat(g.marginRight));t=this.dragLimit.left>f&&f>0?this.dragLimit.left:this.dragLimit.right+window.pageXOffset<f+y&&f>0?f-(f-this.dragLimit.right)+window.pageXOffset-y:f<0?this.dragLimit.left:f}if(this.pageY!==p||this.skipDistanceCheck){var v=l.offsetHeight+(parseFloat(g.marginTop)+parseFloat(g.marginBottom));i=this.dragLimit.top>m&&m>0?this.dragLimit.top:this.dragLimit.bottom+window.pageYOffset<m+v&&m>0?m-(m-this.dragLimit.bottom)+window.pageYOffset-v:m<0?this.dragLimit.top:m}}else t=f,i=m;var b,x,_=c+this.borderWidth.top,w=u+this.borderWidth.left;this.dragProcessStarted&&(wb(i)&&(i=this.prevTop),wb(t)&&(t=this.prevLeft)),this.dragArea?(this.dragLimit.top=this.clone?this.dragLimit.top:0,b=i-_<0?this.dragLimit.top:i-_,x=t-w<0?this.dragElePosition.left:t-w):(b=i-_,x=t-w);var S=parseFloat(getComputedStyle(this.element).marginTop);if(S>0&&(this.clone&&(b+=S,m<0&&(S+m>=0?b=S+m:b-=S),b=this.dragLimit.bottom<b?this.dragLimit.bottom:b),i-_<0))if(m+S+(l.offsetHeight-_)>=0){var k=this.dragLimit.top+m-_;k+S+_<0?b-=S+_:b=k}else b-=S+_;this.enableScrollHandler&&!this.clone&&(b-=this.parentScrollY,x-=this.parentScrollX);var C=this.getProcessedPositionValue({top:b+"px",left:x+"px"});Ax(l,this.getDragPosition(C)),!this.elementInViewport(l)&&this.enableAutoScroll&&this.helperElement.scrollIntoView(),this.dragProcessStarted=!0,this.prevLeft=t,this.prevTop=i,this.position.left=t,this.position.top=i,this.pageX=d,this.pageY=p}},t.prototype.triggerOutFunction=function(e,t){this.hoverObject.instance.intOut(e,t.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null},t.prototype.getDragPosition=function(e){var t=_b({},e);return this.axis&&("x"===this.axis?delete t.top:"y"===this.axis&&delete t.left),t},t.prototype.getDocumentWidthHeight=function(e){var t=document.body,i=document.documentElement;return Math.max(t["scroll"+e],i["scroll"+e],t["offset"+e],i["offset"+e],i["client"+e])},t.prototype.intDragStop=function(e){if(this.dragProcessStarted=!1,Sb(e.changedTouches)||1===e.changedTouches.length){if(-1!==["touchend","pointerup","mouseup"].indexOf(e.type)){if(this.dragStop){var t=this.getProperTargetElement(e);this.trigger("dragStop",{event:e,element:this.element,target:t,helper:this.helperElement})}this.intDestroy(e)}else this.element.setAttribute("aria-grabbed","false");var i=this.checkTargetElement(e);i.target&&i.instance&&(i.instance.dragStopCalled=!0,i.instance.dragData[this.scope]=this.droppables[this.scope],i.instance.intDrop(e,i.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select")}},t.prototype.intDestroy=function(e){this.dragProcessStarted=!1,this.toggleEvents(),document.body.classList.remove("e-prevent-select"),this.element.setAttribute("aria-grabbed","false"),gx.remove(document,mx.touchMoveEvent,this.intDragStart),gx.remove(document,mx.touchEndEvent,this.intDragStop),gx.remove(document,mx.touchEndEvent,this.intDestroy),gx.remove(document,mx.touchMoveEvent,this.intDrag),this.isDragStarted()&&this.isDragStarted(!0)},t.prototype.onPropertyChanged=function(e,t){},t.prototype.getModuleName=function(){return"draggable"},t.prototype.isDragStarted=function(e){return e&&(c_.isDragged=!c_.isDragged),c_.isDragged},t.prototype.setDragArea=function(){var e,t,i,n=0,r=0;if(i="string"===typeof this.dragArea?Cx(this.dragArea):this.dragArea){var o=i.getBoundingClientRect();e=i.scrollWidth?i.scrollWidth:o.right-o.left,t=i.scrollHeight?i.scrollHeight:o.bottom-o.top;for(var a=["Top","Left","Bottom","Right"],s=getComputedStyle(i),l=0;l<a.length;l++){var u=a[l],c=s["border"+u+"Width"],h=s["padding"+u],d=u.toLowerCase();this.borderWidth[d]=isNaN(parseFloat(c))?0:parseFloat(c),this.padding[d]=isNaN(parseFloat(h))?0:parseFloat(h)}n=o.top,r=o.left,this.dragLimit.left=r+this.borderWidth.left+this.padding.left,this.dragLimit.top=i.offsetTop+this.borderWidth.top+this.padding.top,this.dragLimit.right=r+e-(this.borderWidth.right+this.padding.right),this.dragLimit.bottom=n+t-(this.borderWidth.bottom+this.padding.bottom)}},t.prototype.getProperTargetElement=function(e){var t,i=this.getCoordinates(e),n=this.helperElement.style.pointerEvents||"";return kb(e.target,this.helperElement)||-1!==e.type.indexOf("touch")?(this.helperElement.style.pointerEvents="none",t=document.elementFromPoint(i.clientX,i.clientY),this.helperElement.style.pointerEvents=n):t=e.target,t},t.prototype.currentStateCheck=function(e,t){return wb(this.currentStateTarget)||this.currentStateTarget===e?wb(t)?e:t:this.currentStateTarget},t.prototype.getMousePosition=function(e,t){var i,n,r=void 0!==e.srcElement?e.srcElement:e.target,o=this.getCoordinates(e),a=wb(r.offsetParent);return t?(i=this.clone?o.pageX:o.pageX+(a?0:r.offsetParent.scrollLeft)-this.relativeXPosition,n=this.clone?o.pageY:o.pageY+(a?0:r.offsetParent.scrollTop)-this.relativeYPosition):(i=this.clone?o.pageX:o.pageX+window.pageXOffset-this.relativeXPosition,n=this.clone?o.pageY:o.pageY+window.pageYOffset-this.relativeYPosition),{left:i-(this.margin.left+this.cursorAt.left),top:n-(this.margin.top+this.cursorAt.top)}},t.prototype.getCoordinates=function(e){return e.type.indexOf("touch")>-1?e.changedTouches[0]:e},t.prototype.getHelperElement=function(e){var t;return this.clone?this.helper?t=this.helper({sender:e,element:this.target}):(t=vx("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(t)):t=this.element,t},t.prototype.setGlobalDroppables=function(e,t,i){this.droppables[this.scope]=e?null:{draggable:t,helper:i,draggedElement:this.element}},t.prototype.checkTargetElement=function(e){var t=this.getProperTargetElement(e),i=this.getDropInstance(t);if(!i&&t&&!wb(t.parentNode)){var n=Ex(t.parentNode,".e-droppable")||t.parentElement;n&&(i=this.getDropInstance(n))}return{target:t,instance:i}},t.prototype.getDropInstance=function(e){var t,i=e&&e.ej2_instances;if(i)for(var n=0,r=i;n<r.length;n++){var o=r[n];if("droppable"===o.getModuleName()){t=o;break}}return t},t.prototype.destroy=function(){this.toggleEvents(!0),e.prototype.destroy.call(this)},l_([Wx({},h_)],t.prototype,"cursorAt",void 0),l_([Ux(!0)],t.prototype,"clone",void 0),l_([Ux()],t.prototype,"dragArea",void 0),l_([Ux()],t.prototype,"isDragScroll",void 0),l_([Ux()],t.prototype,"isReplaceDragEle",void 0),l_([Ux(!0)],t.prototype,"isPreventSelect",void 0),l_([Gx()],t.prototype,"drag",void 0),l_([Gx()],t.prototype,"dragStart",void 0),l_([Gx()],t.prototype,"dragStop",void 0),l_([Ux(1)],t.prototype,"distance",void 0),l_([Ux()],t.prototype,"handle",void 0),l_([Ux()],t.prototype,"abort",void 0),l_([Ux()],t.prototype,"helper",void 0),l_([Ux("default")],t.prototype,"scope",void 0),l_([Ux("")],t.prototype,"dragTarget",void 0),l_([Ux()],t.prototype,"axis",void 0),l_([Ux()],t.prototype,"queryPositionInfo",void 0),l_([Ux(!1)],t.prototype,"enableTailMode",void 0),l_([Ux(!1)],t.prototype,"skipDistanceCheck",void 0),l_([Ux(!0)],t.prototype,"preventDefault",void 0),l_([Ux(!1)],t.prototype,"enableAutoScroll",void 0),l_([Ux(!1)],t.prototype,"enableTapHold",void 0),l_([Ux(750)],t.prototype,"tapHoldThreshold",void 0),l_([Ux(!1)],t.prototype,"enableScrollHandler",void 0),t=i=l_([qx],t)}(Lx),function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}()),p_=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},f_=(function(e){function t(t,i){var n=e.call(this,i,t)||this;return n.mouseOver=!1,n.dragData={},n.dragStopCalled=!1,n.bind(),n}d_(t,e),t.prototype.bind=function(){this.wireEvents()},t.prototype.wireEvents=function(){gx.add(this.element,mx.touchEndEvent,this.intDrop,this)},t.prototype.onPropertyChanged=function(e,t){},t.prototype.getModuleName=function(){return"droppable"},t.prototype.intOver=function(e,t){if(!this.mouseOver){var i=this.dragData[this.scope];this.trigger("over",{event:e,target:t,dragData:i}),this.mouseOver=!0}},t.prototype.intOut=function(e,t){this.mouseOver&&(this.trigger("out",{evt:e,target:t}),this.mouseOver=!1)},t.prototype.intDrop=function(e,t){if(this.dragStopCalled){this.dragStopCalled=!1;var i,n=!0,r=this.dragData[this.scope],o=!!r&&(r.helper&&wx(r.helper));o&&(i=this.isDropArea(e,r.helper,t),this.accept&&(n=Px(r.helper,this.accept))),o&&this.drop&&i.canDrop&&n&&this.trigger("drop",{event:e,target:i.target,droppedElement:r.helper,dragData:r}),this.mouseOver=!1}},t.prototype.isDropArea=function(e,t,i){var n={canDrop:!0,target:i||e.target},r="touchend"===e.type;if(r||n.target===t){t.style.display="none";var o=r?e.changedTouches[0]:e,a=document.elementFromPoint(o.clientX,o.clientY);n.canDrop=!1,n.canDrop=kb(a,this.element),n.canDrop&&(n.target=a),t.style.display=""}return n},t.prototype.destroy=function(){gx.remove(this.element,mx.touchEndEvent,this.intDrop),e.prototype.destroy.call(this)},p_([Ux()],t.prototype,"accept",void 0),p_([Ux("default")],t.prototype,"scope",void 0),p_([Gx()],t.prototype,"drop",void 0),p_([Gx()],t.prototype,"over",void 0),p_([Gx()],t.prototype,"out",void 0),t=p_([qx],t)}(Lx),function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}()),m_=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},g_={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},y_=(function(e){function t(t,n){var r=e.call(this,n,t)||this;return r.keyPressHandler=function(e){for(var t=e.altKey,n=e.ctrlKey,o=e.shiftKey,a=e.which,s=0,l=Object.keys(r.keyConfigs);s<l.length;s++)for(var u=l[s],c=0,h=r.keyConfigs[u].split(",");c<h.length;c++){var d=h[c],p=i.getKeyConfigData(d.trim());t===p.altKey&&n===p.ctrlKey&&o===p.shiftKey&&a===p.keyCode&&(e.action=u,r.keyAction&&r.keyAction(e))}},r.bind(),r}var i;f_(t,e),i=t,t.prototype.destroy=function(){this.unwireEvents(),e.prototype.destroy.call(this)},t.prototype.onPropertyChanged=function(e,t){},t.prototype.bind=function(){this.wireEvents()},t.prototype.getModuleName=function(){return"keyboard"},t.prototype.wireEvents=function(){this.element.addEventListener(this.eventName,this.keyPressHandler)},t.prototype.unwireEvents=function(){this.element.removeEventListener(this.eventName,this.keyPressHandler)},t.getKeyConfigData=function(e){if(e in this.configCache)return this.configCache[e];var t=e.toLowerCase().split("+"),n={altKey:-1!==t.indexOf("alt"),ctrlKey:-1!==t.indexOf("ctrl"),shiftKey:-1!==t.indexOf("shift"),keyCode:null};return t[t.length-1].length>1&&Number(t[t.length-1])?n.keyCode=Number(t[t.length-1]):n.keyCode=i.getKeyCode(t[t.length-1]),i.configCache[e]=n,n},t.getKeyCode=function(e){return g_[e]||e.toUpperCase().charCodeAt(0)},t.configCache={},m_([Ux({})],t.prototype,"keyConfigs",void 0),m_([Ux("keyup")],t.prototype,"eventName",void 0),m_([Gx()],t.prototype,"keyAction",void 0),t=i=m_([qx],t)}(Lx),function(){function e(e,t,i){this.controlName=e,this.localeStrings=t,this.setLocale(i||Jb)}return e.prototype.setLocale=function(t){var i=this.intGetControlConstant(e.locale,t);this.currentLocale=i||this.localeStrings},e.load=function(e){this.locale=_b(this.locale,e,{},!0)},e.prototype.getConstant=function(e){return wb(this.currentLocale[e])?this.localeStrings[e]||"":this.currentLocale[e]},e.prototype.intGetControlConstant=function(e,t){return e[t]?e[t][this.controlName]:null},e.locale={},e}()),v_=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),b_=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},x_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v_(t,e),b_([Ux(50)],t.prototype,"swipeThresholdDistance",void 0),t}(e_),__=/(Up|Down)/,w_=function(e){function t(t,i){var n=e.call(this,i,t)||this;return n.touchAction=!0,n.tapCount=0,n.startEvent=function(e){if(!0===n.touchAction){var t=n.updateChangeTouches(e);void 0!==e.changedTouches&&(n.touchAction=!1),n.isTouchMoved=!1,n.movedDirection="",n.startPoint=n.lastMovedPoint={clientX:t.clientX,clientY:t.clientY},n.startEventData=t,n.hScrollLocked=n.vScrollLocked=!1,n.tStampStart=Date.now(),n.timeOutTapHold=setTimeout((function(){n.tapHoldEvent(e)}),n.tapHoldThreshold),gx.add(n.element,mx.touchMoveEvent,n.moveEvent,n),gx.add(n.element,mx.touchEndEvent,n.endEvent,n),gx.add(n.element,mx.touchCancelEvent,n.cancelEvent,n)}},n.moveEvent=function(e){var t=n.updateChangeTouches(e);n.movedPoint=t,n.isTouchMoved=!(t.clientX===n.startPoint.clientX&&t.clientY===n.startPoint.clientY);var i={};n.isTouchMoved&&(clearTimeout(n.timeOutTapHold),n.calcScrollPoints(e),i=_b(i,{},{startEvents:n.startEventData,originalEvent:e,startX:n.startPoint.clientX,startY:n.startPoint.clientY,distanceX:n.distanceX,distanceY:n.distanceY,scrollDirection:n.scrollDirection,velocity:n.getVelocity(t)}),n.trigger("scroll",i),n.lastMovedPoint={clientX:t.clientX,clientY:t.clientY})},n.cancelEvent=function(e){clearTimeout(n.timeOutTapHold),clearTimeout(n.timeOutTap),n.tapCount=0,n.swipeFn(e),gx.remove(n.element,mx.touchCancelEvent,n.cancelEvent)},n.endEvent=function(e){n.swipeFn(e),n.isTouchMoved||"function"===typeof n.tap&&(n.trigger("tap",{originalEvent:e,tapCount:++n.tapCount}),n.timeOutTap=setTimeout((function(){n.tapCount=0}),n.tapThreshold)),n.modeclear()},n.swipeFn=function(e){clearTimeout(n.timeOutTapHold),clearTimeout(n.timeOutTap);var t=n.updateChangeTouches(e),i=t.clientX-n.startPoint.clientX,r=t.clientY-n.startPoint.clientY;i=Math.floor(i<0?-1*i:i),r=Math.floor(r<0?-1*r:i),n.isTouchMoved=i>1||r>1,n.endPoint=t,n.calcPoints(e);var o={originalEvent:e,startEvents:n.startEventData,startX:n.startPoint.clientX,startY:n.startPoint.clientY,distanceX:n.distanceX,distanceY:n.distanceY,swipeDirection:n.movedDirection,velocity:n.getVelocity(t)};if(n.isTouchMoved){var a=void 0,s=n.swipeSettings.swipeThresholdDistance;a=_b(a,n.defaultArgs,o);var l=!1,u=n.element,c=n.isScrollable(u),h=__.test(n.movedDirection);(s<n.distanceX&&!h||s<n.distanceY&&h)&&(l=!c||n.checkSwipe(u,h)),l&&n.trigger("swipe",a)}n.modeclear()},n.modeclear=function(){n.modeClear=setTimeout((function(){n.touchAction=!0}),"function"!==typeof n.tap?0:20),n.lastTapTime=(new Date).getTime(),gx.remove(n.element,mx.touchMoveEvent,n.moveEvent),gx.remove(n.element,mx.touchEndEvent,n.endEvent),gx.remove(n.element,mx.touchCancelEvent,n.cancelEvent)},n.bind(),n}return v_(t,e),t.prototype.onPropertyChanged=function(e,t){},t.prototype.bind=function(){this.wireEvents(),mx.isIE&&this.element.classList.add("e-block-touch")},t.prototype.destroy=function(){this.unwireEvents(),e.prototype.destroy.call(this)},t.prototype.wireEvents=function(){gx.add(this.element,mx.touchStartEvent,this.startEvent,this)},t.prototype.unwireEvents=function(){gx.remove(this.element,mx.touchStartEvent,this.startEvent)},t.prototype.getModuleName=function(){return"touch"},t.prototype.isScrollable=function(e){var t=getComputedStyle(e),i=t.overflow+t.overflowX+t.overflowY;return!!/(auto|scroll)/.test(i)},t.prototype.tapHoldEvent=function(e){var t;this.tapCount=0,this.touchAction=!0,gx.remove(this.element,mx.touchMoveEvent,this.moveEvent),gx.remove(this.element,mx.touchEndEvent,this.endEvent),t={originalEvent:e},this.trigger("tapHold",t),gx.remove(this.element,mx.touchCancelEvent,this.cancelEvent)},t.prototype.calcPoints=function(e){var t=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.startPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.startPoint.clientY)),this.distanceX>this.distanceY?this.movedDirection=t.clientX>this.startPoint.clientX?"Right":"Left":this.movedDirection=t.clientY<this.startPoint.clientY?"Up":"Down"},t.prototype.calcScrollPoints=function(e){var t=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.lastMovedPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.lastMovedPoint.clientY)),(this.distanceX>this.distanceY||!0===this.hScrollLocked)&&!1===this.vScrollLocked?(this.scrollDirection=t.clientX>this.lastMovedPoint.clientX?"Right":"Left",this.hScrollLocked=!0):(this.scrollDirection=t.clientY<this.lastMovedPoint.clientY?"Up":"Down",this.vScrollLocked=!0)},t.prototype.getVelocity=function(e){var t=e.clientX,i=e.clientY,n=Date.now(),r=t-this.startPoint.clientX,o=i-this.startPoint.clientX,a=n-this.tStampStart;return Math.sqrt(r*r+o*o)/a},t.prototype.checkSwipe=function(e,t){var i=["scroll","offset"],n=t?["Height","Top"]:["Width","Left"];return e[i[0]+n[0]]<=e[i[1]+n[0]]||(0===e[i[0]+n[1]]||e[i[1]+n[0]]+e[i[0]+n[1]]>=e[i[0]+n[0]])},t.prototype.updateChangeTouches=function(e){return e.changedTouches&&0!==e.changedTouches.length?e.changedTouches[0]:e},b_([Gx()],t.prototype,"tap",void 0),b_([Gx()],t.prototype,"tapHold",void 0),b_([Gx()],t.prototype,"swipe",void 0),b_([Gx()],t.prototype,"scroll",void 0),b_([Ux(350)],t.prototype,"tapThreshold",void 0),b_([Ux(750)],t.prototype,"tapHoldThreshold",void 0),b_([Wx({},x_)],t.prototype,"swipeSettings",void 0),t=b_([qx],t)}(Lx),S_=new RegExp("\\n|\\r|\\s\\s+","g"),k_=new RegExp(/'|"/g),C_=new RegExp("if ?\\("),T_=new RegExp("else if ?\\("),E_=new RegExp("else"),A_=new RegExp("for ?\\("),P_=new RegExp("(/if|/for)"),M_=new RegExp("\\((.*)\\)",""),L_=new RegExp("^[0-9]+$","g"),O_=new RegExp("[\\w\"'.\\s+]+","g"),R_=new RegExp('"(.*?)"',"g"),I_=new RegExp("[\\w\"'@#$.\\s-+]+","g"),D_=new RegExp("\\${([^}]*)}","g"),z_=/^\..*/gm,B_=/\\/gi,F_=/\\\\/gi,N_=new RegExp("[\\w\"'@#$.\\s+]+","g"),j_=/\window\./gm;function V_(e,t,i){var n="data",r=function(e,t,i,n){var r=0,o=[],a=e.match(/class="([^"]+|)\s{2}/g),s="";a&&a.forEach((function(t){s=t.replace(/\s\s+/g," "),e=e.replace(t,s)}));return e.replace(S_,"").replace(R_,"'$1'").replace(D_,(function(e,a,s,l){var u=/@|#|\$/gm,c=a.match(M_);if(c){var h=c[1];if(T_.test(a))a='";} '+a.replace(c[1],h.replace(O_,(function(e){return U_(e=e.trim(),!k_.test(e)&&-1===o.indexOf(e),t,o,n)})))+'{ \n str = str + "';else if(C_.test(a))a='"; '+a.replace(c[1],h.replace(I_,(function(e){return G_(e,t,o,n)})))+'{ \n str = str + "';else if(A_.test(a)){var d=c[1].split(" of ");a='"; '+a.replace(c[1],(function(e){return o.push(d[0]),o.push(d[0]+"Index"),"var i"+(r+=1)+"=0; i"+r+" < "+U_(d[1],!0,t,o,n)+".length; i"+r+"++"}))+"{ \n "+d[0]+"= "+U_(d[1],!0,t,o,n)+"[i"+r+"]; \n var "+d[0]+"Index=i"+r+'; \n str = str + "'}else{var p=a.split("("),f=i&&i.hasOwnProperty(p[0])?"this.":"global";f=/\./.test(p[0])?"":f;var m=c[1].split(",");0===c[1].length||/data/.test(m[0])||/window./.test(m[0])||(c[1]="global"===f?t+"."+c[1]:c[1]);var g=/@|\$|#/gm,y=/\]\./gm;if(j_.test(a)&&y.test(a)||g.test(a))/@|\$|#|\]\./gm.test(a)&&(a='"+ '+("global"===f?"":f)+a.replace(c[1],h.replace(N_,(function(e){return G_(e,t,o,n)})))+'+ "');else a='" + '+("global"===f?"":f)+a.replace(h,U_(c[1].replace(/,( |)data.|,/gi,","+t+".").replace(/,( |)data.window/gi,",window"),"global"!==f,t,o,n))+'+"'}}else E_.test(a)?a='"; '+a.replace(E_,'} else { \n str = str + "'):a.match(P_)?a=a.replace(P_,'"; \n } \n str = str + "'):u.test(a)?(a.match(B_)&&(a=H_(a)),a='"+'+W_(a,-1===o.indexOf(a),t,o)+'"]+"'):a=a.match(B_)?'"+'+W_(a=H_(a),-1===o.indexOf(a),t,o)+'"]+"':'"+'+U_(a.replace(/,/gi,"+"+t+"."),-1===o.indexOf(a),t,o,n)+'+"';return a}))}(e,n,t,i);return new Function(n,'var str="'+r+"\";var valueRegEx = (/value=\\'([A-Za-z0-9 _]*)((.)([\\w)(!-;?-\u25a0\\s]+)['])/g);\n    var hrefRegex = (/(?:href)([\\s='\"./]+)([\\w-./?=&\\\\#\"]+)((.)([\\w)(!-;/?-\u25a0\\s]+)['])/g);\n    if(str.match(valueRegEx)){\n        var check = str.match(valueRegEx);\n        var str1 = str;\n        for (var i=0; i < check.length; i++) {\n            var check1 = str.match(valueRegEx)[i].split('value=')[1];\n            var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\"') : check1;\n            change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'\"') : change;\n            str1 = str1.replace(check1, change);\n        }\n        str = str.replace(str, str1);\n    }\n    else if (str.match(/(?:href='')/) === null) {\n        if(str.match(hrefRegex)) {\n            var check = str.match(hrefRegex);\n            var str1 = str;\n            for (var i=0; i < check.length; i++) {\n                var check1 = str.match(hrefRegex)[i].split('href=')[1];\n                var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\"') : check1;\n                change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'\"') : change;\n                str1 = str1.replace(check1, change);\n            }\n            str = str.replace(str, str1);\n        }\n    }\n     return str;").bind(t)}function U_(e,t,i,n,r){return!t||L_.test(e)||-1!==n.indexOf(e.split(".")[0])||r?e:i+"."+e}function W_(e,t,i,n){return t&&!L_.test(e)&&-1===n.indexOf(e.split(".")[0])?i+'["'+e:e}function H_(e){return e=e.match(F_)?e:e.replace(B_,"\\\\")}function G_(e,t,i,n){e=e.trim();if(/\window\./gm.test(e))return e;var r=/'|"/gm;return/@|\$|#/gm.test(e)&&(e=W_(e,-1===i.indexOf(e),t,i)+'"]'),z_.test(e)?function(e,t,i,n){return!t||L_.test(e)||-1!==n.indexOf(e.split(".")[0])||/^\..*/gm.test(e)?e:i+"."+e}(e,!r.test(e)&&-1===i.indexOf(e),t,i):U_(e,!r.test(e)&&-1===i.indexOf(e),t,i,n)}var q_=/^[\n\r.]+<tr|^<tr/,Z_=/^[\n\r.]+<svg|^<path|^<g/,X_={};function Y_(e,t,i){var n=J_.compile(e,t,i);return function(e,t,i,r,o,a,s){var l=n(e,t,i,s),u="BlazorTemplateId";if(Tb()&&!o){var c=r+("-"+Math.random().toString(36).substr(2,5));if(X_[r]||(X_[r]=[]),wb(a))e.BlazorTemplateId=c,X_[r].push(e);else for(var h=0,d=Object.keys(X_[r][a]);h<d.length;h++){var p=d[h];p!==u&&e[p]&&(X_[r][a][p]=e[p]),p===u&&(c=X_[r][a][p])}return"rowTemplate"===i?[vx("tr",{id:c,className:"e-blazor-template"})]:[vx("div",{id:c,className:"e-blazor-template"})]}return"string"===typeof l?Z_.test(l)?vx("svg",{innerHTML:l}).childNodes:vx(q_.test(l)?"table":"div",{innerHTML:l}).childNodes:l}}function $_(e,t,i,n,r){if(Tb()){window.sfBlazor.updateTemplate(t,X_[e],e,i,r),!1!==n&&(X_[e]=[])}}function K_(e,t,i){var n=document.getElementById(e);if(n)for(var r=n.getElementsByClassName("blazor-inner-template"),o=0;o<r.length;o++){var a=" ";a=wb(i)?r[o].getAttribute("data-templateId"):r[i].getAttribute("data-templateId");var s=document.getElementById(a);if(s)for(var l=s.childNodes.length,u=0;u<l;u++)wb(i)?r[o].appendChild(s.childNodes[0]):(r[i].appendChild(s.childNodes[0]),o=r.length)}}var Q_,J_={compile:(new(function(){function e(){}return e.prototype.compile=function(e,t,i){return void 0===t&&(t={}),V_(e,t)},e}())).compile},ew=["script","style","iframe[src]",'link[href*="javascript:"]','object[type="text/x-scriptlet"]','object[data^="data:text/html;base64"]','img[src^="data:text/html;base64"]','[src^="javascript:"]','[dynsrc^="javascript:"]','[lowsrc^="javascript:"]','[type^="application/x-shockwave-flash"]'],tw=[{attribute:"href",selector:'[href*="javascript:"]'},{attribute:"background",selector:'[background^="javascript:"]'},{attribute:"style",selector:'[style*="javascript:"]'},{attribute:"style",selector:'[style*="expression("]'},{attribute:"href",selector:'a[href^="data:text/html;base64"]'}],iw=["onchange","onclick","onmouseover","onmouseout","onkeydown","onload","onerror","onblur","onfocus","onbeforeload","onbeforeunload","onkeyup","onsubmit","onafterprint","onbeforeonload","onbeforeprint","onblur","oncanplay","oncanplaythrough","onchange","onclick","oncontextmenu","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onerror","onfocus","onformchange","onforminput","onhaschange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onoffline","onoine","ononline","onpagehide","onpageshow","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreadystatechange","onredo","onresize","onscroll","onseeked","onseeking","onselect","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","onundo","onunload","onvolumechange","onwaiting","onmouseenter","onmouseleave","onmousewheel","onstart","onpropertychange"];!function(){function e(){}e.beforeSanitize=function(){return{selectors:{tags:ew,attributes:tw}}},e.sanitize=function(e){var t=this.beforeSanitize();return this.serializeValue(t,e)},e.serializeValue=function(e,t){this.removeAttrs=e.selectors.attributes,this.removeTags=e.selectors.tags,this.wrapElement=document.createElement("div"),this.wrapElement.innerHTML=t,this.removeXssTags(),this.removeJsEvents(),this.removeXssAttrs();var i=this.wrapElement.innerHTML;return this.removeElement(),i},e.removeElement=function(){for(var e=this.wrapElement.children,t=0;t<e.length;t++)for(var i=e[t].attributes,n=0;n<i.length;n++)this.wrapElement.children[t].removeAttribute(i[n].localName)},e.removeXssTags=function(){var e=this.wrapElement.querySelectorAll(this.removeTags.join(","));e.length>0&&e.forEach((function(e){Sx(e)}))},e.removeJsEvents=function(){var e=this.wrapElement.querySelectorAll("["+iw.join("],[")+"]");e.length>0&&e.forEach((function(e){iw.forEach((function(t){e.hasAttribute(t)&&e.removeAttribute(t)}))}))},e.removeXssAttrs=function(){var e=this;this.removeAttrs.forEach((function(t,i){var n=e.wrapElement.querySelectorAll(t.selector);n.length>0&&n.forEach((function(e){e.removeAttribute(t.attribute)}))}))}}();function nw(e){var t;switch(e){case"Fabric":case"FabricDark":t=["#4472c4","#ed7d31","#ffc000","#70ad47","#5b9bd5","#c1c1c1","#6f6fe2","#e269ae","#9e480e","#997300"];break;case"Bootstrap4":case"Bootstrap":case"BootstrapDark":t=["#a16ee5","#f7ce69","#55a5c2","#7ddf1e","#ff6ea6","#7953ac","#b99b4f","#407c92","#5ea716","#b91c52"];break;case"HighContrastLight":case"Highcontrast":case"HighContrast":t=["#79ECE4","#E98272","#DFE6B6","#C6E773","#BA98FF","#FA83C3","#00C27A","#43ACEF","#D681EF","#D8BC6E"];break;case"MaterialDark":t=["#9ECB08","#56AEFF","#C57AFF","#61EAA9","#EBBB3E","#F45C5C","#8A77FF","#63C7FF","#FF84B0","#F7C928"];break;case"Tailwind":t=["#5A61F6","#65A30D","#334155","#14B8A6","#8B5CF6","#0369A1","#F97316","#9333EA","#F59E0B","#15803D"];break;case"TailwindDark":t=["#8B5CF6","#22D3EE","#F87171","#4ADE80","#E879F9","#FCD34D","#F97316","#2DD4BF","#F472B6","#10B981"];break;case"Bootstrap5":t=["#262E0B","#668E1F","#AF6E10","#862C0B","#1F2D50","#64680B","#311508","#4C4C81","#0C7DA0","#862C0B"];break;case"Bootstrap5Dark":t=["#5ECB9B","#A860F1","#EBA844","#557EF7","#E9599B","#BFC529","#3BC6CF","#7A68EC","#74B706","#EA6266"];break;default:t=["#00bdae","#404041","#357cd2","#e56590","#f8b883","#70ad47","#dd8abd","#7f84e8","#7bb4eb","#ea7a57"]}return t}function rw(e){var t,i="MaterialDark"===e?"#383838":"FabricDark"===e?"#242424":"#1b1b1b";switch(e){case"HighContrastLight":case"Highcontrast":case"HighContrast":t={axisLabel:"#ffffff",axisTitle:"#ffffff",axisLine:"#ffffff",majorGridLine:"#BFBFBF",minorGridLine:"#969696",majorTickLine:"#BFBFBF",minorTickLine:"#969696",chartTitle:"#ffffff",legendLabel:"#ffffff",background:"#000000",areaBorder:"#ffffff",errorBar:"#ffffff",crosshairLine:"#ffffff",crosshairFill:"#ffffff",crosshairLabel:"#000000",tooltipFill:"#ffffff",tooltipBoldLabel:"#000000",tooltipLightLabel:"#000000",tooltipHeaderLine:"#969696",markerShadow:"#BFBFBF",selectionRectFill:"rgba(255, 217, 57, 0.3)",selectionRectStroke:"#ffffff",selectionCircleStroke:"#FFD939"};break;case"MaterialDark":case"FabricDark":case"BootstrapDark":t={axisLabel:"#DADADA",axisTitle:"#ffffff",axisLine:" #6F6C6C",majorGridLine:"#414040",minorGridLine:"#514F4F",majorTickLine:"#414040",minorTickLine:" #4A4848",chartTitle:"#ffffff",legendLabel:"#DADADA",background:i,areaBorder:" #9A9A9A",errorBar:"#ffffff",crosshairLine:"#F4F4F4",crosshairFill:"#F4F4F4",crosshairLabel:"#282727",tooltipFill:"#F4F4F4",tooltipBoldLabel:"#282727",tooltipLightLabel:"#333232",tooltipHeaderLine:"#9A9A9A",markerShadow:null,selectionRectFill:"rgba(56,169,255, 0.1)",selectionRectStroke:"#38A9FF",selectionCircleStroke:"#282727"};break;case"Bootstrap4":t={axisLabel:"#212529",axisTitle:"#212529",axisLine:"#CED4DA",majorGridLine:"#CED4DA",minorGridLine:"#DEE2E6",majorTickLine:"#ADB5BD",minorTickLine:"#CED4DA",chartTitle:"#212529",legendLabel:"#212529",background:"#FFFFFF",areaBorder:"#DEE2E6",errorBar:"#000000",crosshairLine:"#6C757D",crosshairFill:"#495057",crosshairLabel:"#FFFFFF",tooltipFill:"rgba(0, 0, 0, 0.9)",tooltipBoldLabel:"rgba(255,255,255)",tooltipLightLabel:"rgba(255,255,255, 0.9)",tooltipHeaderLine:"rgba(255,255,255, 0.2)",markerShadow:null,selectionRectFill:"rgba(255,255,255, 0.1)",selectionRectStroke:"rgba(0, 123, 255)",selectionCircleStroke:"#495057"};break;case"Tailwind":t={axisLabel:"#6B728",axisTitle:"#374151",axisLine:" #D1D5DB",majorGridLine:"#E5E7EB",minorGridLine:"#E5E7EB",majorTickLine:"#D1D5DB",minorTickLine:" #D1D5DB",chartTitle:"#374151",legendLabel:"#374151",background:"rgba(255,255,255, 0.0)",areaBorder:" #E5E7EB",errorBar:"#374151",crosshairLine:"#1F2937",crosshairFill:"#111827",crosshairLabel:"#F9FAFB",tooltipFill:"#111827",tooltipBoldLabel:"#D1D5DB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#6B7280",markerShadow:null,selectionRectFill:"rgba(79,70,229, 0.1)",selectionRectStroke:"#4F46E5",selectionCircleStroke:"#6B7280"};break;case"TailwindDark":t={axisLabel:"#9CA3AF",axisTitle:"#9CA3AF",axisLine:" #4B5563",majorGridLine:"#374151",minorGridLine:"#374151",majorTickLine:"#4B5563",minorTickLine:" #4B5563",chartTitle:"#D1D5DB",legendLabel:"#D1D5DB",background:"#1f2937",areaBorder:" #374151",errorBar:"#ffffff",crosshairLine:"#9CA3AF",crosshairFill:"#F9FAFB",crosshairLabel:"#1F2937",tooltipFill:"#F9FAFB",tooltipBoldLabel:"#6B7280",tooltipLightLabel:"#1F2937",tooltipHeaderLine:"#9CA3AF",markerShadow:null,selectionRectFill:"rgba(34,211,238, 0.1)",selectionRectStroke:"#22D3EE",selectionCircleStroke:"#282727"};break;case"Bootstrap5":t={axisLabel:"#495057",axisTitle:"#343A40",axisLine:"#D1D5DB",majorGridLine:"#E5E7EB",minorGridLine:"#E5E7EB",majorTickLine:"#D1D5DB",minorTickLine:" #D1D5DB",chartTitle:"#343A40",legendLabel:"#343A40",background:"#FFFFFF",areaBorder:" #DEE2E6",errorBar:"#1F2937",crosshairLine:"#1F2937",crosshairFill:"#212529",crosshairLabel:"#F9FAFB",tooltipFill:"#212529",tooltipBoldLabel:"#D1D5DB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#6B7280",markerShadow:null,selectionRectFill:"rgba(79,70,229, 0.1)",selectionRectStroke:"#4F46E5",selectionCircleStroke:"#6B7280"};break;case"Bootstrap5Dark":t={axisLabel:"#CED4DA",axisTitle:"#E9ECEF",axisLine:"#495057",majorGridLine:"#343A40",minorGridLine:"#343A40",majorTickLine:"#495057",minorTickLine:" #495057",chartTitle:"#E9ECEF",legendLabel:"#E9ECEF",background:"#212529",areaBorder:" #444C54",errorBar:"#ADB5BD",crosshairLine:"#ADB5BD",crosshairFill:"#E9ECEF",crosshairLabel:"#212529",tooltipFill:"#E9ECEF",tooltipBoldLabel:"#D1D5DB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#6B7280",markerShadow:null,selectionRectFill:"rgba(79,70,229, 0.1)",selectionRectStroke:"#4F46E5",selectionCircleStroke:"#6B7280"};break;default:t={axisLabel:"#686868",axisTitle:"#424242",axisLine:"#b5b5b5",majorGridLine:"#dbdbdb",minorGridLine:"#eaeaea",majorTickLine:"#b5b5b5",minorTickLine:"#d6d6d6",chartTitle:"#424242",legendLabel:"#353535",background:"#FFFFFF",areaBorder:"Gray",errorBar:"#000000",crosshairLine:"#4f4f4f",crosshairFill:"#4f4f4f",crosshairLabel:"#e5e5e5",tooltipFill:"rgba(0, 8, 22, 0.75)",tooltipBoldLabel:"#ffffff",tooltipLightLabel:"#dbdbdb",tooltipHeaderLine:"#ffffff",markerShadow:null,selectionRectFill:"rgba(41, 171, 226, 0.1)",selectionRectStroke:"#29abe2",selectionCircleStroke:"#29abe2"}}return t}!function(e){e.axisLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.axisTitleFont={size:"14px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.chartTitleFont={size:"15px",fontWeight:"500",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.chartSubTitleFont={size:"11px",fontWeight:"500",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.crosshairLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.tooltipLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.legendLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.legendTitleFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.stripLineLabelFont={size:"12px",fontWeight:"Regular",color:"#353535",fontStyle:"Normal",fontFamily:"Segoe UI"},e.stockEventFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"}}(Q_||(Q_={}));var ow=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),aw=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},sw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ow(t,e),aw([Ux("Line")],t.prototype,"type",void 0),aw([Ux(null)],t.prototype,"color",void 0),aw([Ux(1)],t.prototype,"width",void 0),aw([Ux(null)],t.prototype,"length",void 0),aw([Ux("")],t.prototype,"dashArray",void 0),t}(e_),lw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ow(t,e),aw([Ux("Normal")],t.prototype,"fontStyle",void 0),aw([Ux("16px")],t.prototype,"size",void 0),aw([Ux("Normal")],t.prototype,"fontWeight",void 0),aw([Ux("")],t.prototype,"color",void 0),aw([Ux("Center")],t.prototype,"textAlignment",void 0),aw([Ux("Segoe UI")],t.prototype,"fontFamily",void 0),aw([Ux(1)],t.prototype,"opacity",void 0),aw([Ux("Trim")],t.prototype,"textOverflow",void 0),t}(e_),uw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ow(t,e),aw([Ux("")],t.prototype,"color",void 0),aw([Ux(1)],t.prototype,"width",void 0),t}(e_),cw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ow(t,e),aw([Ux(0)],t.prototype,"x",void 0),aw([Ux(0)],t.prototype,"y",void 0),t}(e_),hw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ow(t,e),aw([Wx({},uw)],t.prototype,"border",void 0),aw([Ux("transparent")],t.prototype,"background",void 0),aw([Ux(1)],t.prototype,"opacity",void 0),aw([Ux(null)],t.prototype,"backgroundImage",void 0),aw([Ux(null)],t.prototype,"width",void 0),t}(e_),dw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ow(t,e),aw([Ux(10)],t.prototype,"left",void 0),aw([Ux(10)],t.prototype,"right",void 0),aw([Ux(10)],t.prototype,"top",void 0),aw([Ux(10)],t.prototype,"bottom",void 0),t}(e_),pw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ow(t,e),aw([Ux(0)],t.prototype,"left",void 0),aw([Ux(0)],t.prototype,"right",void 0),aw([Ux(0)],t.prototype,"top",void 0),aw([Ux(0)],t.prototype,"bottom",void 0),t}(e_),fw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ow(t,e),aw([Ux(!0)],t.prototype,"enable",void 0),aw([Ux(1e3)],t.prototype,"duration",void 0),aw([Ux(0)],t.prototype,"delay",void 0),t}(e_),mw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ow(t,e),aw([Ux(0)],t.prototype,"series",void 0),aw([Ux(0)],t.prototype,"point",void 0),t}(e_),gw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ow(t,e),aw([Ux(0)],t.prototype,"topLeft",void 0),aw([Ux(0)],t.prototype,"topRight",void 0),aw([Ux(0)],t.prototype,"bottomLeft",void 0),aw([Ux(0)],t.prototype,"bottomRight",void 0),t}(e_),yw=function(e,t){this.series=e,this.point=t},vw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ow(t,e),aw([Ux(null)],t.prototype,"fill",void 0),aw([Wx({color:"transparent",width:0},uw)],t.prototype,"border",void 0),aw([Ux("Gap")],t.prototype,"mode",void 0),t}(e_),bw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ow(t,e),aw([Ux(!1)],t.prototype,"enable",void 0),aw([Ux(null)],t.prototype,"minY",void 0),aw([Ux(null)],t.prototype,"maxY",void 0),aw([Ux(null)],t.prototype,"fill",void 0),t}(e_),xw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ow(t,e),aw([Ux(!1)],t.prototype,"enable",void 0),aw([Ux(!0)],t.prototype,"enableMarker",void 0),aw([Ux(!1)],t.prototype,"shared",void 0),aw([Ux(null)],t.prototype,"fill",void 0),aw([Ux(null)],t.prototype,"header",void 0),aw([Ux(.75)],t.prototype,"opacity",void 0),aw([Wx(Q_.tooltipLabelFont,lw)],t.prototype,"textStyle",void 0),aw([Ux(null)],t.prototype,"format",void 0),aw([Ux(null)],t.prototype,"template",void 0),aw([Ux(!0)],t.prototype,"enableAnimation",void 0),aw([Ux(300)],t.prototype,"duration",void 0),aw([Ux(1e3)],t.prototype,"fadeOutDuration",void 0),aw([Ux("Move")],t.prototype,"fadeOutMode",void 0),aw([Ux(!1)],t.prototype,"enableTextWrap",void 0),aw([Wx({color:"#cccccc",width:.5},uw)],t.prototype,"border",void 0),t}(e_),_w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ow(t,e),aw([Ux("Years")],t.prototype,"intervalType",void 0),aw([Ux(1)],t.prototype,"interval",void 0),aw([Ux(null)],t.prototype,"text",void 0),aw([Ux(!1)],t.prototype,"selected",void 0),t}(e_),ww=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}ow(t,e),aw([Ux(43)],t.prototype,"height",void 0),aw([Ux("Bottom")],t.prototype,"position",void 0),aw([Hx([],_w)],t.prototype,"periods",void 0)}(e_),function(){function e(e){this.svgLink="http://www.w3.org/2000/svg",this.rootId=e}return e.prototype.getOptionValue=function(e,t){return e[t]},e.prototype.createSvg=function(e){return wb(e.id)&&(e.id=this.rootId+"_svg"),this.svgObj=document.getElementById(e.id),wb(document.getElementById(e.id))&&(this.svgObj=document.createElementNS(this.svgLink,"svg")),this.svgObj=this.setElementAttributes(e,this.svgObj),this.setSVGSize(e.width,e.height),this.svgObj},e.prototype.setSVGSize=function(e,t){var i=document.getElementById(this.rootId),n=wb(i)?null:i.getBoundingClientRect();wb(this.width)||this.width<=0?this.svgObj.setAttribute("width",e?e.toString():n.width.toString()):this.svgObj.setAttribute("width",this.width.toString()),wb(this.height)||this.height<=0?this.svgObj.setAttribute("height",t?t.toString():"450"):this.svgObj.setAttribute("height",this.height.toString())},e.prototype.drawPath=function(e){var t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"path")),t=this.setElementAttributes(e,t)},e.prototype.drawLine=function(e){var t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"line")),t=this.setElementAttributes(e,t)},e.prototype.drawRectangle=function(e){var t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"rect")),t=this.setElementAttributes(e,t)},e.prototype.drawCircle=function(e){var t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"circle")),t=this.setElementAttributes(e,t)},e.prototype.drawPolyline=function(e){var t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"polyline")),t=this.setElementAttributes(e,t)},e.prototype.drawEllipse=function(e){var t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"ellipse")),t=this.setElementAttributes(e,t)},e.prototype.drawPolygon=function(e){var t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"polygon")),t=this.setElementAttributes(e,t)},e.prototype.drawImage=function(e){var t=document.createElementNS(this.svgLink,"image");return t.setAttributeNS(null,"height",e.height.toString()),t.setAttributeNS(null,"width",e.width.toString()),t.setAttributeNS("http://www.w3.org/1999/xlink","href",e.href),t.setAttributeNS(null,"x",e.x.toString()),t.setAttributeNS(null,"y",e.y.toString()),t.setAttributeNS(null,"id",e.id),t.setAttributeNS(null,"visibility",e.visibility),wb(this.getOptionValue(e,"clip-path"))||t.setAttributeNS(null,"clip-path",this.getOptionValue(e,"clip-path")),wb(e.preserveAspectRatio)||t.setAttributeNS(null,"preserveAspectRatio",e.preserveAspectRatio),t},e.prototype.createText=function(e,t){var i=document.createElementNS(this.svgLink,"text");return i=this.setElementAttributes(e,i),wb(t)||(i.textContent=t),i},e.prototype.createTSpan=function(e,t){var i=document.createElementNS(this.svgLink,"tspan");return i=this.setElementAttributes(e,i),wb(t)||(i.textContent=t),i},e.prototype.createTitle=function(e){var t=document.createElementNS(this.svgLink,"title");return t.textContent=e,t},e.prototype.createDefs=function(){return document.createElementNS(this.svgLink,"defs")},e.prototype.createClipPath=function(e){var t=document.createElementNS(this.svgLink,"clipPath");return t=this.setElementAttributes(e,t)},e.prototype.createForeignObject=function(e){var t=document.createElementNS(this.svgLink,"foreignObject");return t=this.setElementAttributes(e,t)},e.prototype.createGroup=function(e){var t=document.createElementNS(this.svgLink,"g");return t=this.setElementAttributes(e,t)},e.prototype.createPattern=function(e,t){var i=document.createElementNS(this.svgLink,t);return i=this.setElementAttributes(e,i)},e.prototype.createRadialGradient=function(e,t,i){var n;if(wb(e[0].colorStop))n=e[0].color.toString();else{var r={id:this.rootId+"_"+t+"radialGradient",cx:i.cx+"%",cy:i.cy+"%",r:i.r+"%",fx:i.fx+"%",fy:i.fy+"%"};this.drawGradient("radialGradient",r,e),n="url(#"+this.rootId+"_"+t+"radialGradient)"}return n},e.prototype.createLinearGradient=function(e,t,i){var n;if(wb(e[0].colorStop))n=e[0].color.toString();else{var r={id:this.rootId+"_"+t+"linearGradient",x1:i.x1+"%",y1:i.y1+"%",x2:i.x2+"%",y2:i.y2+"%"};this.drawGradient("linearGradient",r,e),n="url(#"+this.rootId+"_"+t+"linearGradient)"}return n},e.prototype.drawGradient=function(e,t,i){var n=this.createDefs(),r=document.createElementNS(this.svgLink,e);r=this.setElementAttributes(t,r);for(var o=0;o<i.length;o++){var a=document.createElementNS(this.svgLink,"stop");a.setAttribute("offset",i[o].colorStop),a.setAttribute("stop-color",i[o].color),a.setAttribute("stop-opacity",i[o].opacity?i[o].opacity:"1"),wb(i[o].style)||(a.style.cssText=i[o].style),r.appendChild(a)}return n.appendChild(r),n},e.prototype.drawClipPath=function(e){var t=this.createDefs(),i=this.createClipPath({id:e.id});e.id=e.id+"_Rect";var n=this.drawRectangle(e);return i.appendChild(n),t.appendChild(i),t},e.prototype.drawCircularClipPath=function(e){var t=this.createDefs(),i=this.createClipPath({id:e.id});e.id=e.id+"_Circle";var n=this.drawCircle(e);return i.appendChild(n),t.appendChild(i),t},e.prototype.setElementAttributes=function(e,t){for(var i=Object.keys(e),n=0;n<i.length;n++)"style"===i[n]?t.style.cssText=e[i[n]]:t.setAttribute(i[n],e[i[n]]);return t},e.prototype.createCanvas=function(){return null},e}()),Sw=function(){function e(e){this.rootId=e}return e.prototype.getOptionValue=function(e,t){return e[t]},e.prototype.createCanvas=function(e){var t=document.createElement("canvas");return t.setAttribute("id",this.rootId+"_canvas"),this.ctx=t.getContext("2d"),this.canvasObj=t,this.setCanvasSize(e.width,e.height),this.canvasObj},e.prototype.setCanvasSize=function(e,t){var i=document.getElementById(this.rootId),n=wb(i)?null:i.getBoundingClientRect();wb(this.width)?this.canvasObj.setAttribute("width",e?e.toString():n.width.toString()):this.canvasObj.setAttribute("width",this.width.toString()),wb(this.height)?this.canvasObj.setAttribute("height",t?t.toString():"450"):this.canvasObj.setAttribute("height",this.height.toString())},e.prototype.setAttributes=function(e){this.ctx.lineWidth=this.getOptionValue(e,"stroke-width");var t=this.getOptionValue(e,"stroke-dasharray");if(!wb(t)){var i=t.split(",");this.ctx.setLineDash([parseInt(i[0],10),parseInt(i[1],10)])}this.ctx.strokeStyle=this.getOptionValue(e,"stroke")},e.prototype.drawLine=function(e){this.ctx.save(),this.ctx.beginPath(),this.ctx.lineWidth=this.getOptionValue(e,"stroke-width"),this.ctx.strokeStyle=e.stroke,this.ctx.moveTo(e.x1,e.y1),this.ctx.lineTo(e.x2,e.y2),this.ctx.stroke(),this.ctx.restore()},e.prototype.drawRectangle=function(e,t){var i=this.ctx,n=e.rx;return this.ctx.save(),this.ctx.beginPath(),t&&this.ctx.translate(t[0],t[1]),this.ctx.globalAlpha=this.getOptionValue(e,"opacity"),this.setAttributes(e),this.ctx.rect(e.x,e.y,e.width,e.height),null!==n&&n>=0?this.drawCornerRadius(e):("none"===e.fill&&(e.fill="transparent"),this.ctx.fillStyle=e.fill,this.ctx.fillRect(e.x,e.y,e.width,e.height),this.ctx.stroke()),this.ctx.restore(),this.ctx=i,this.canvasObj},e.prototype.drawCornerRadius=function(e){var t=e.rx,i=e.x,n=e.y,r=e.width,o=e.height;"none"===e.fill&&(e.fill="transparent"),this.ctx.fillStyle=e.fill,r<2*t&&(t=r/2),o<2*t&&(t=o/2),this.ctx.beginPath(),this.ctx.moveTo(i+r-t,n),this.ctx.arcTo(i+r,n,i+r,n+o,t),this.ctx.arcTo(i+r,n+o,i,n+o,t),this.ctx.arcTo(i,n+o,i,n,t),this.ctx.arcTo(i,n,i+r,n,t),this.ctx.closePath(),this.ctx.fill(),this.ctx.stroke()},e.prototype.drawPath=function(e,t){var i=e.d.split(" "),n=this.getOptionValue(e,"stroke-width"),r=this.ctx,o=!0;this.ctx.save(),this.ctx.beginPath(),t&&this.ctx.translate(t[0],t[1]),this.ctx.globalAlpha=e.opacity?e.opacity:this.getOptionValue(e,"fill-opacity"),this.setAttributes(e);for(var a=0;a<i.length;a+=3){var s=parseFloat(i[a+1]),l=parseFloat(i[a+2]);switch(i[a]){case"M":e.innerR||e.cx||this.ctx.moveTo(s,l);break;case"L":e.innerR||this.ctx.lineTo(s,l);break;case"Q":var u=parseFloat(i[a+3]),c=parseFloat(i[a+4]);this.ctx.quadraticCurveTo(s,l,u,c),a+=2;break;case"C":var h=parseFloat(i[a+3]),d=parseFloat(i[a+4]),p=parseFloat(i[a+5]),f=parseFloat(i[a+6]);this.ctx.bezierCurveTo(s,l,h,d,p,f),a+=4;break;case"A":e.innerR?o&&(this.ctx.arc(e.x,e.y,e.radius,e.start,e.end,e.counterClockWise),this.ctx.arc(e.x,e.y,e.innerR,e.end,e.start,!e.counterClockWise),o=!1):e.cx?this.ctx.arc(e.cx,e.cy,e.radius,0,2*Math.PI,e.counterClockWise):(this.ctx.moveTo(e.x,e.y),this.ctx.arc(e.x,e.y,e.radius,e.start,e.end,e.counterClockWise),this.ctx.lineTo(e.x,e.y)),a+=5;break;case"z":case"Z":this.ctx.closePath(),a-=2}}return"none"!==e.fill&&void 0!==e.fill&&(this.ctx.fillStyle=e.fill,this.ctx.fill()),n>0&&this.ctx.stroke(),this.ctx.restore(),this.ctx=r,this.canvasObj},e.prototype.createText=function(e,t,i,n,r,o){var a=this.getOptionValue(e,"font-weight");wb(a)||"regular"!==a.toLowerCase()||(a="normal");var s=this.getOptionValue(e,"font-size"),l=this.getOptionValue(e,"font-family"),u=this.getOptionValue(e,"font-style").toLowerCase()+" "+a+" "+s+" "+l,c=this.getOptionValue(e,"text-anchor"),h=void 0!==e.opacity?e.opacity:1;if("middle"===c&&(c="center"),this.ctx.save(),this.ctx.fillStyle=e.fill,this.ctx.font=u,this.ctx.textAlign=c,this.ctx.globalAlpha=h,e.baseline&&(this.ctx.textBaseline=e.baseline),!o){this.ctx.translate(e.x+0+(i||0),e.y+(n||0)),this.ctx.rotate(e.labelRotation*Math.PI/180)}return this.ctx.fillText(t,o?e.x:0,o?r:0),this.ctx.restore(),this.canvasObj},e.prototype.drawCircle=function(e,t){var i=this.ctx;return this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(e.cx,e.cy,e.r,0,2*Math.PI),this.ctx.fillStyle=e.fill,this.ctx.globalAlpha=e.opacity,this.ctx.fill(),t&&this.ctx.translate(t[0],t[1]),this.setAttributes(e),this.ctx.stroke(),this.ctx.restore(),this.ctx=i,this.canvasObj},e.prototype.drawPolyline=function(e){this.ctx.save(),this.ctx.beginPath();for(var t=e.points.split(" "),i=0;i<t.length-1;i++){var n=t[i].split(","),r=parseFloat(n[0]),o=parseFloat(n[1]);0===i?this.ctx.moveTo(r,o):this.ctx.lineTo(r,o)}this.ctx.lineWidth=this.getOptionValue(e,"stroke-width"),this.ctx.strokeStyle=e.stroke,this.ctx.stroke(),this.ctx.restore()},e.prototype.drawEllipse=function(e,t){var i=this.ctx,n=Math.max(e.rx,e.ry),r=e.rx/n,o=e.ry/n;this.ctx.save(),this.ctx.beginPath(),this.ctx.translate(e.cx,e.cy),t&&this.ctx.translate(t[0],t[1]),this.ctx.save(),this.ctx.scale(r,o),this.ctx.arc(0,0,n,0,2*Math.PI,!1),this.ctx.fillStyle=e.fill,this.ctx.fill(),this.ctx.restore(),this.ctx.lineWidth=this.getOptionValue(e,"stroke-width"),this.ctx.strokeStyle=e.stroke,this.ctx.stroke(),this.ctx.restore(),this.ctx=i},e.prototype.drawImage=function(e){this.ctx.save();var t=new Image;wb(e.href)||(t.src=e.href,this.ctx.drawImage(t,e.x,e.y,e.width,e.height)),this.ctx.restore()},e.prototype.createLinearGradient=function(e){var t;return wb(e[0].colorStop)||(t=this.ctx.createLinearGradient(0,0,0,this.canvasObj.height)),this.setGradientValues(e,t)},e.prototype.createRadialGradient=function(e){var t;return wb(e[0].colorStop)||(t=this.ctx.createRadialGradient(0,0,0,0,0,this.canvasObj.height)),this.setGradientValues(e,t)},e.prototype.setGradientValues=function(e,t){var i;if(wb(e[0].colorStop))i=e[0].color.toString();else{for(var n=0;n<=e.length-1;n++){var r=e[n].color,o=e[n].colorStop.slice(0,-1),a=parseInt(o,10)/100;t.addColorStop(a,r)}i=t.toString()}return i},e.prototype.setElementAttributes=function(e,t){for(var i=Object.keys(e),n=Object.keys(e).map((function(t){return e[t]})),r=0;r<i.length;r++)t.setAttribute(i[r],n[r]);return null},e.prototype.updateCanvasAttributes=function(e){this.setElementAttributes(e,this.canvasObj);var t=this.ctx;if(!wb(this.dataUrl)){var i=new Image;i.onload=function(){t.drawImage(i,0,0)},i.src=this.dataUrl}},e.prototype.clearRect=function(e){this.ctx.restore(),this.ctx.clearRect(e.x,e.y,e.width,e.height)},e.prototype.createGroup=function(){return null},e.prototype.drawClipPath=function(){return null},e.prototype.canvasClip=function(e){this.ctx.save(),this.ctx.fillStyle="transparent",this.ctx.rect(e.x,e.y,e.width,e.height),this.ctx.fill(),this.ctx.clip()},e.prototype.canvasRestore=function(){this.ctx.restore()},e.prototype.drawPolygon=function(){return null},e.prototype.createDefs=function(){return null},e.prototype.createClipPath=function(){return null},e.prototype.createSvg=function(){return null},e}();var kw=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();function Cw(e,t){var i=e||"",n=document.getElementById("chartmeasuretext");if(null===n&&(n=vx("text",{id:"chartmeasuretext"}),document.body.appendChild(n)),"string"===typeof e&&(e.indexOf("<")>-1||e.indexOf(">")>-1)){for(var r=e.split(" "),o=0;o<r.length;o++)-1===r[o].indexOf("<br/>")&&(r[o]=r[o].replace(/[<>]/g,"&"));e=r.join(" ")}return n.innerHTML=i.indexOf("<br>")>-1||i.indexOf("<br/>")>-1?i:e,n.style.position="fixed",n.style.fontSize=t.size,n.style.fontWeight=t.fontWeight,n.style.fontStyle=t.fontStyle,n.style.fontFamily=t.fontFamily,n.style.visibility="hidden",n.style.top="-100",n.style.left="0",n.style.whiteSpace="nowrap",n.style.lineHeight="normal",new Ew(n.clientWidth,n.clientHeight)}function Tw(e,t,i,n,r,o,a,s,l,u,c){var h="",d=i.x,p=i.y,f=i.x+i.width,m=i.y+i.height;return c=c||0,o?(h=(h=h.concat("M "+d+" "+(p+t)+" Q "+d+" "+p+" "+(d+e)+" "+p+"  L "+(f-e)+" "+p+" Q "+f+" "+p+" "+f+" "+(p+t))).concat(" L "+f+" "+(m-t)+" Q "+f+" "+m+" "+(f-e)+" "+m),0!==r&&(h=(h=h.concat(" L "+(n.x+r/2)+" "+m)).concat(" L "+(l+c)+" "+(m+r-c)),h+=" Q "+l+" "+(m+r)+" "+(l-c)+" "+(m+r-c)),h=n.x-r/2>d?h.concat(" L "+(n.x-r/2)+" "+m+" L "+(d+e)+" "+m+" Q "+d+" "+m+" "+d+" "+(m-t)+" z"):0===r?h.concat(" L "+(d+e)+" "+m+" Q "+d+" "+m+" "+d+" "+(m-t)+" z"):h.concat(" L "+d+" "+(m+t)+" z")):a?(h=(h=h.concat("M "+d+" "+(p+t)+" Q "+d+" "+p+" "+(d+e)+" "+p+" L "+(n.x-r/2)+" "+p)).concat(" L "+(l-c)+" "+(n.y+c)),h=(h=(h+=" Q "+l+" "+n.y+" "+(l+c)+" "+(n.y+c)).concat(" L "+(n.x+r/2)+" "+p+" L "+(f-e)+" "+p+" Q "+f+" "+p+" "+f+" "+(p+t))).concat(" L "+f+" "+(m-t)+" Q "+f+" "+m+" "+(f-e)+" "+m+" L "+(d+e)+" "+m+" Q "+d+" "+m+" "+d+" "+(m-t)+" z")):s?(h=(h=(h=h.concat("M "+d+" "+(p+t)+" Q "+d+" "+p+" "+(d+e)+" "+p)).concat(" L "+(f-e)+" "+p+" Q "+f+" "+p+" "+f+" "+(p+t)+" L "+f+" "+(n.y-r/2))).concat(" L "+(f+r-c)+" "+(u-c)),h=(h=(h+=" Q "+(f+r)+" "+u+" "+(f+r-c)+" "+(u+c)).concat(" L "+f+" "+(n.y+r/2)+" L "+f+" "+(m-t)+" Q "+f+" "+m+" "+(f-e)+" "+m)).concat(" L "+(d+e)+" "+m+" Q "+d+" "+m+" "+d+" "+(m-t)+" z")):(h=(h=h.concat("M "+(d+e)+" "+p+" Q "+d+" "+p+" "+d+" "+(p+t)+" L "+d+" "+(n.y-r/2))).concat(" L "+(d-r+c)+" "+(u-c)),h=(h=(h+=" Q "+(d-r)+" "+u+" "+(d-r+c)+" "+(u+c)).concat(" L "+d+" "+(n.y+r/2)+" L "+d+" "+(m-t)+" Q "+d+" "+m+" "+(d+e)+" "+m)).concat(" L "+(f-e)+" "+m+" Q "+f+" "+m+" "+f+" "+(m-t)+" L "+f+" "+(p+t)+" Q "+f+" "+p+" "+(f-e)+" "+p+" z")),h}var Ew=function(e,t){this.width=e,this.height=t},Aw=function(e,t,i,n){this.x=e,this.y=t,this.width=i,this.height=n},Pw=function(e,t){this.isRight=t,this.isBottom=e},Mw=function(e){this.id=e},Lw=function(e){function t(t,i,n,r,o,a,s,l){void 0===a&&(a="");var u=e.call(this,t)||this;return u.transform="",u.baseLine="auto",u.labelRotation=0,u.x=i,u.y=n,u.anchor=r,u.text=o,u.transform=a,u.baseLine=s,u.labelRotation=l,u}return kw(t,e),t}(Mw);function Ow(e){return document.getElementById(e)}function Rw(e){var t=Ow(e);t&&kx(t)}function Iw(e,t,i,n,r,o){var a=new ww(""),s=function(e,t,i,n,r){var o,a="Path",s=t.width,l=t.height,u=e.x,c=e.y,h=e.x+-s/2,d=e.y+-l/2;switch(i){case"Circle":case"Bubble":a="Ellipse",xb(n,{rx:s/2,ry:l/2,cx:u,cy:c});break;case"Cross":xb(n,{d:o="M "+h+" "+c+" L "+(u+s/2)+" "+c+" M "+u+" "+(c+l/2)+" L "+u+" "+(c+-l/2)});break;case"HorizontalLine":xb(n,{d:o="M "+h+" "+c+" L "+(u+s/2)+" "+c});break;case"VerticalLine":xb(n,{d:o="M "+u+" "+(c+l/2)+" L "+u+" "+(c+-l/2)});break;case"Diamond":xb(n,{d:o="M "+h+" "+c+" L "+u+" "+(c+-l/2)+" L "+(u+s/2)+" "+c+" L "+u+" "+(c+l/2)+" L "+h+" "+c+" z"});break;case"Rectangle":xb(n,{d:o="M "+h+" "+(c+-l/2)+" L "+(u+s/2)+" "+(c+-l/2)+" L "+(u+s/2)+" "+(c+l/2)+" L "+h+" "+(c+l/2)+" L "+h+" "+(c+-l/2)+" z"});break;case"Triangle":xb(n,{d:o="M "+h+" "+(c+l/2)+" L "+u+" "+(c+-l/2)+" L "+(u+s/2)+" "+(c+l/2)+" L "+h+" "+(c+l/2)+" z"});break;case"InvertedTriangle":xb(n,{d:o="M "+(u+s/2)+" "+(c-l/2)+" L "+u+" "+(c+l/2)+" L "+(u-s/2)+" "+(c-l/2)+" L "+(u+s/2)+" "+(c-l/2)+" z"});break;case"Pentagon":for(var p=72,f=void 0,m=void 0,g=0;g<=5;g++)f=s/2*Math.cos(Math.PI/180*(g*p)),m=l/2*Math.sin(Math.PI/180*(g*p)),o=0===g?"M "+(u+f)+" "+(c+m)+" ":o.concat("L "+(u+f)+" "+(c+m)+" ");xb(n,{d:o=o.concat("Z")});break;case"Image":a="Image",xb(n,{href:r,height:l,width:s,x:h,y:d})}return{renderOption:n,functionName:a}}(e,i,t,r,n),l=a["draw"+s.functionName](s.renderOption);return l.setAttribute("aria-label",o),l}var Dw=function(e){function t(t,i,n,r,o,a,s){var l=e.call(this,t)||this;return l.opacity=o,l.fill=i,l.stroke=r,l["stroke-width"]=n,l["stroke-dasharray"]=a,l.d=s,l}return kw(t,e),t}(Mw);var zw=function(e,t){this.x=e,this.y=t},Bw=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Fw=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},Nw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Bw(t,e),Fw([Ux(null)],t.prototype,"size",void 0),Fw([Ux("")],t.prototype,"color",void 0),Fw([Ux("Segoe UI")],t.prototype,"fontFamily",void 0),Fw([Ux("Normal")],t.prototype,"fontWeight",void 0),Fw([Ux("Normal")],t.prototype,"fontStyle",void 0),Fw([Ux(1)],t.prototype,"opacity",void 0),t}(e_),jw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Bw(t,e),Fw([Ux("")],t.prototype,"color",void 0),Fw([Ux(1)],t.prototype,"width",void 0),t}(e_),Vw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Bw(t,e),Fw([Ux(0)],t.prototype,"x",void 0),Fw([Ux(0)],t.prototype,"y",void 0),Fw([Ux(0)],t.prototype,"width",void 0),Fw([Ux(0)],t.prototype,"height",void 0),t}(e_),Uw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Bw(t,e),Fw([Ux(0)],t.prototype,"x",void 0),Fw([Ux(0)],t.prototype,"y",void 0),t}(e_),Ww=function(e){function t(t,i){return e.call(this,t,i)||this}return Bw(t,e),t.prototype.preRender=function(){this.allowServerDataBinding=!1,this.initPrivateVariable(),this.isCanvas||this.removeSVG(),this.createTooltipElement()},t.prototype.initPrivateVariable=function(){this.renderer=new ww(this.element.id),this.themeStyle=function(e){var t;switch(e){case"Highcontrast":case"HighContrast":t={tooltipFill:"#ffffff",tooltipBoldLabel:"#000000",tooltipLightLabel:"#000000",tooltipHeaderLine:"#969696"};break;case"MaterialDark":case"FabricDark":case"BootstrapDark":t={tooltipFill:"#F4F4F4",tooltipBoldLabel:"#282727",tooltipLightLabel:"#333232",tooltipHeaderLine:"#9A9A9A"};break;case"Bootstrap4":t={tooltipFill:"rgba(0, 0, 0, 0.9)",tooltipBoldLabel:"rgba(255, 255, 255)",tooltipLightLabel:"rgba(255, 255, 255, 0.9)",tooltipHeaderLine:"rgba(255, 255, 255, 0.2)"};break;case"Tailwind":t={tooltipFill:"#111827",tooltipBoldLabel:"#D1D5DB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#6B7280"};break;case"TailwindDark":t={tooltipFill:"#F9FAFB",tooltipBoldLabel:"#6B7280",tooltipLightLabel:"#1F2937",tooltipHeaderLine:"#9CA3AF"};break;case"Bootstrap5":t={tooltipFill:"#212529",tooltipBoldLabel:"#F9FAFB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#9CA3AF"};break;case"Bootstrap5Dark":t={tooltipFill:"#E9ECEF",tooltipBoldLabel:"#212529",tooltipLightLabel:"#212529",tooltipHeaderLine:"#ADB5BD"};break;default:t={tooltipFill:"rgba(0, 8, 22, 0.75)",tooltipBoldLabel:"#ffffff",tooltipLightLabel:"#dbdbdb",tooltipHeaderLine:"#ffffff"}}return t}(this.theme),this.formattedText=[],this.padding=5,this.isFirst=!0,this.markerPoint=[]},t.prototype.removeSVG=function(){var e=document.getElementById(this.element.id+"_svg"),t=document.getElementById(this.element.id+"parent_template");this.blazorTemplate&&K_(this.element.id+"parent_template_blazorTemplate"),e&&e.parentNode&&kx(e),t&&t.parentNode&&kx(t)},t.prototype.render=function(){if(this.fadeOuted=!1,this.template)this.updateTemplateFn(),this.createTemplate(this.areaBounds,this.location);else{this.renderText(this.isFirst);var e={cancel:!1,name:"tooltipRender",tooltip:this};this.trigger("tooltipRender",e);var t=this.renderTooltipElement(this.areaBounds,this.location);this.drawMarker(t.isBottom,t.isRight,this.markerSize)}this.trigger("loaded",{tooltip:this});var i=document.getElementById("chartmeasuretext");i&&kx(i),this.allowServerDataBinding=!0},t.prototype.createTooltipElement=function(){if(this.textElements=[],!this.template||this.shared){this.enableRTL&&this.element.setAttribute("dir","ltr");var e=this.renderer.createSvg({id:this.element.id+"_svg"});this.element.appendChild(e);var t=document.getElementById(this.element.id+"_group");t||(t=this.renderer.createGroup({id:this.element.id+"_group"})).setAttribute("transform","translate(0,0)"),e.appendChild(t);var i=this.renderer.drawPath({id:this.element.id+"_path","stroke-width":this.border.width,fill:this.fill||this.themeStyle.tooltipFill,opacity:"TailwindDark"!==this.theme&&"Tailwind"!==this.theme&&"Bootstrap5"!==this.theme&&"Bootstrap5Dark"!==this.theme||.75!==this.opacity?this.opacity:1,stroke:this.border.color});t.appendChild(i)}},t.prototype.drawMarker=function(e,t,i){if(this.shapes.length<=0)return null;for(var n,r=0,o=this.renderer.createGroup({id:this.element.id+"_trackball_group"}),a=Ow(this.element.id+"_group"),s=(this.enableRTL?this.elementSize.width-i/2:2*this.marginX+i/2)+(t?this.arrowPadding:0),l=0,u=this.shapes;l<u.length;l++){var c=u[l];"None"!==c&&(n=new Dw(this.element.id+"_Trackball_"+r,this.palette[r],1,"#cccccc",1,null),this.markerPoint[r]&&o.appendChild(Iw(new zw(s,this.markerPoint[r]-this.padding+(e?this.arrowPadding:0)),c,new Ew(i,i),"",n,null)),r++)}a.appendChild(o)},t.prototype.renderTooltipElement=function(e,t){var i,n=Ow(this.element.id),r=new zw(0,0),o=new zw(0,0),a=Ow(this.element.id+"_svg"),s=Ow(this.element.id+"_group"),l=Ow(this.element.id+"_path"),u=!1,c=!1,h=!1,d=0,p=0;if(this.tipRadius=1,""!==this.header&&(this.elementSize.height+=this.marginY),this.content.length>1?(i=this.sharedTooltipLocation(e,this.location.x,this.location.y),u=!0):(i=this.tooltipLocation(e,t,r,o),this.inverted?d=(c=i.x<t.x+this.clipBounds.x)?0:this.arrowPadding:(h=!(u=i.y<t.y+this.clipBounds.y),p=u?0:this.arrowPadding)),""!==this.header){var f=2,m=this.isWrap?this.wrappedText:this.header;if(this.isWrap&&"string"===typeof m&&(m.indexOf("<")>-1||m.indexOf(">")>-1))f=m.split("<br>").length;var g=Cw(this.isWrap?this.wrappedText:this.header,this.textStyle).height+this.marginY*f+(h?this.arrowPadding:0)+(this.isWrap?5:0),y="M "+(3*this.marginX+(c||u||h?0:this.arrowPadding))+" "+g+"L "+(i.width+(c||u||h?0:this.arrowPadding)-2*this.marginX)+" "+g,v=this.renderer.drawPath({id:this.element.id+"_header_path","stroke-width":1,fill:null,opacity:.8,stroke:this.themeStyle.tooltipHeaderLine,d:y});s.appendChild(v)}var b=this.border.width/2,x=new Aw(b+d,b+p,i.width-b,i.height-b);if(s.setAttribute("opacity","1"),!this.enableAnimation||this.shared||this.isFirst?this.updateDiv(n,i.x,i.y):this.animateTooltipDiv(n,i),a.setAttribute("height",(i.height+this.border.width+(this.inverted?0:this.arrowPadding)+5).toString()),a.setAttribute("width",(i.width+this.border.width+(this.inverted?this.arrowPadding:0)+5).toString()),a.setAttribute("opacity","1"),wb(this.tooltipPlacement)||(u=this.tooltipPlacement.indexOf("Top")>-1,h=this.tooltipPlacement.indexOf("Bottom")>-1,c=this.tooltipPlacement.indexOf("Left")>-1),l.setAttribute("d",Tw(this.rx,this.ry,x,r,this.arrowPadding,u,h,c,o.x,o.y,this.tipRadius)),this.enableShadow&&"Bootstrap4"!==this.theme){var _=this.element.id+"_shadow";"Tailwind"===this.theme||"TailwindDark"===this.theme||"Bootstrap5"===this.theme||"Bootstrap5Dark"===this.theme?l.setAttribute("box-shadow","0px 1px 2px rgba(0, 0, 0, 0.06), 0px 1px 3px rgba(0, 0, 0, 0.1)"):l.setAttribute("filter",mx.isIE?"":"url(#"+_+")");var w='<filter id="'+_+'" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="3"/>';w+='<feOffset dx="3" dy="3" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="0.5"/>',w+='</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';var S=this.renderer.createDefs();S.setAttribute("id",this.element.id+"SVG_tooltip_definition"),s.appendChild(S),S.innerHTML=w}return l.setAttribute("stroke",this.border.color),this.changeText(new zw(d,p),h,!c&&!u&&!h),new Pw(h,!c&&!u&&!h)},t.prototype.changeText=function(e,t,i){var n=document.getElementById(this.element.id+"_text");t&&n.setAttribute("transform","translate(0,"+this.arrowPadding+")"),i&&n.setAttribute("transform","translate("+this.arrowPadding+" 0)")},t.prototype.findFormattedText=function(){this.formattedText=[],""!==this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim()&&(this.formattedText=this.formattedText.concat(this.header)),this.formattedText=this.formattedText.concat(this.content)},t.prototype.renderText=function(e){var t,i,n,r,o,a=0,s=0,l=0,u=_b({},this.textStyle,null,!0).properties,c=Ow(this.element.id+"_group"),h="";this.findFormattedText(),this.isWrap=!1;var d="rtl"===document.body.getAttribute("dir")&&!this.enableRTL?"end":"start";this.leftSpace=this.areaBounds.x+this.location.x,this.rightSpace=this.areaBounds.x+this.areaBounds.width-this.leftSpace;var p=this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim(),f=this.header.indexOf("<b>")>-1&&this.header.indexOf("</b>")>-1,m=Cw(this.formattedText[0],u).width+2*this.marginX+this.arrowPadding,g=this.location.x-m<this.location.x,y=this.areaBounds.x+this.areaBounds.width<this.location.x+m,v=""!==p?this.marginY:0,b=!0,x=!0;this.markerPoint=[];var _,w=this.shapes.length>0?10:0,S=this.shapes.length>0?5:0,k="Normal",C=this.themeStyle.tooltipLightLabel,T=22/parseFloat("13px")*parseFloat(u.size),E=[];e&&!this.isCanvas||(Rw(this.element.id+"_text"),Rw(this.element.id+"_header_path"),Rw(this.element.id+"_trackball_group"),Rw(this.element.id+"SVG_tooltip_definition"));for(var A=new Lw(this.element.id+"_text",2*this.marginX,2*this.marginY+2*this.padding+(2===this.marginY?3:0),d,""),P=function(e,t,i,n){var r,o=new ww("");r={id:e.id,x:e.x,y:e.y,fill:i,"font-size":t.size,"font-style":t.fontStyle,"font-family":t.fontFamily,"font-weight":t.fontWeight,"text-anchor":e.anchor,transform:e.transform,opacity:t.opacity,"dominant-baseline":e.baseLine};var a="string"===typeof e.text?e.text:e.text[0],s=o.createText(r,a);return s.style.fontFamily=t.fontFamily,s.style.fontStyle=t.fontStyle,s.style.fontSize=t.size,s.style.fontWeight=t.fontWeight,s.style.color=t.color,n.appendChild(s),s}(A,u,null,c),M=1===this.formattedText.length&&this.formattedText[0].indexOf(" : <b>")>-1,L=""!==this.header,O=L&&f?16:13,R=0,I=this.formattedText.length;R<I;R++)if(n=this.formattedText[R].replace(/<(b|strong)>/g,"<b>").replace(/<\/(b|strong)>/g,"</b>").split(/<br.*?>/g),0===R&&!M&&this.isTextWrap&&(this.leftSpace<m||g)&&(this.rightSpace<m||y)&&(_=Math.round(this.leftSpace>this.rightSpace?this.leftSpace/O:this.rightSpace/O),n=(""!==p?p:this.formattedText[R]).match(new RegExp(".{1,"+_+"}","g")),this.wrappedText=f?"<b>"+n.join("<br>")+"</b>":n.join("<br>"),this.isWrap=n.length>1),""!==n[0]){0===R&&""!==p||this.markerPoint.push((""!==p?this.marginY:0)+A.y+a);for(var D=0,z=n.length;D<z;D++){t=n[D].replace(/<b>/g,"<br><b>").replace(/<\/b>/g,"</b><br>").replace(/:/g,this.enableRTL?"<br>\u200e: <br>":"<br>\u200e:<br>").split("<br>"),this.enableRTL&&t.length>0&&n[D].match(/:/g)&&(t[0]=t[0].trim(),t.reverse()),l=0,x=!0,a+=T;for(var B=0,F=t.length;B<F;B++)r=t[B],this.enableRTL&&""!==r&&this.isRTLText(r)&&(r=r.concat("\u200e")),/\S/.test(r)||""===r||(r=" "),(!x&&" "===r||""!==r.replace(/<b>/g,"").replace(/<\/b>/g,"").trim())&&(l+=" "!==r?4:0,x&&!b?(o={x:2*this.marginX+(w+S),dy:T+(x?v:0),fill:""},v=null):o=b&&x?{x:""===p?2*this.marginX+(w+S):2*this.marginX+(this.isWrap?w+S:0)}:{},x=!1,i=this.renderer.createTSpan(o,""),P.appendChild(i),r.indexOf("<b>")>-1||f&&0===B&&0===R&&(L||this.isWrap)?(k="bold",C=this.themeStyle.tooltipBoldLabel,h="font-weight:"+k,u.fontWeight=k,i.setAttribute("fill",this.textStyle.color||C)):(h="bold"===k?"font-weight:"+k:"",u.fontWeight=k,i.setAttribute("fill",this.textStyle.color||C)),(r.indexOf("</b>")>-1||f&&B===F-1&&0===R&&(L||this.isWrap))&&(k="Normal",C=this.themeStyle.tooltipLightLabel),i.textContent=r=this.getTooltipTextContent(r),l+=Cw(r,u).width,""!==h&&(i.style.fontWeight=h.split("font-weight:")[1],i.style.color=i.getAttribute("fill")),i.style.fontFamily="inherit",i.style.fontStyle="inherit",i.style.fontSize="inherit",b=!1);l-=4,s=Math.max(s,l),E.push(l)}}this.elementSize=new Ew(s+(s>0?2*this.marginX:0),a),this.elementSize.width+=w+S;var N=P.childNodes[0];if(""!==p&&N&&!this.isWrap){u.fontWeight="bold";var j=(this.elementSize.width+2*this.padding)/2-Cw(p,u).width/2;N.setAttribute("x",j.toString())}this.renderContentRTL(P,L,w+S,E)},t.prototype.renderContentRTL=function(e,t,i,n){if(this.enableRTL)for(var r=void 0,o=t?1:0,a=0;a<e.childNodes.length;a++)r=e.childNodes[a],t&&!(a>0)||wb(r.getAttribute("x"))||(r.setAttribute("x",(this.elementSize.width-(i+n[o])).toString()),o++)},t.prototype.getTooltipTextContent=function(e){var t=e.match(/<[a-zA-Z\/](.|\n)*?>/g);if(wb(t))return e;for(var i=this.isRTLText(e),n=0;n<t.length;n++)this.isValidHTMLElement(t[n].replace("<","").replace("/","").replace(">","").trim())&&(e=e.replace(t[n],i?"\u200e":""));return e},t.prototype.isValidHTMLElement=function(e){return"[object HTMLUnknownElement]"!=document.createElement(e).toString()},t.prototype.isRTLText=function(e){return/[\u0590-\u07FF\u200F\u202B\u202E\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(e)},t.prototype.createTemplate=function(e,t){var i={cancel:!1,name:"tooltipRender",tooltip:this};this.trigger("tooltipRender",i);var n=document.getElementById(this.element.id);this.isCanvas&&this.removeSVG();var r=n.firstElementChild;if(r&&kx(r),i.cancel)kx(Ow(this.element.id+"_tooltip"));else{for(var o=vx("div",{id:this.element.id+"parent_template"}),a=this.templateFn(this.data,this.controlInstance,o.id,o.id+"_blazorTemplate","");a&&a.length>0;)Tb()||1===a.length?(o.appendChild(a[0]),a=null):o.appendChild(a[0]);n.appendChild(o);var s=this.isCanvas?o:this.element,l=s.getBoundingClientRect();this.padding=0,this.elementSize=new Ew(l.width,l.height);var u=this.shared?this.sharedTooltipLocation(e,this.location.x,this.location.y):this.tooltipLocation(e,t,new zw(0,0),new zw(0,0));if(!this.enableAnimation||this.shared||this.isFirst?this.updateDiv(s,u.x,u.y):this.animateTooltipDiv(this.element,u),this.blazorTemplate){var c=function(){var i=Ow(h.element.id).getBoundingClientRect();h.elementSize=new Ew(i.width,i.height);var n=h.tooltipLocation(e,t,new zw(0,0),new zw(0,0));h.updateDiv(Ow(h.element.id),n.x,n.y)},h=this;c.bind(h,e,t),$_(this.element.id+"parent_template_blazorTemplate",this.blazorTemplate.name,this.blazorTemplate.parent,void 0,c)}}},t.prototype.sharedTooltipLocation=function(e,t,i){var n=this.elementSize.width+2*this.marginX,r=this.elementSize.height+2*this.marginY,o=new Aw(t+2*this.padding,i-r-this.padding,n,r);return o.y<e.y&&(o.y+=o.height+2*this.padding),o.x+o.width>e.x+e.width&&(o.x-=o.width+4*this.padding),o},t.prototype.getCurrentPosition=function(e,t,i,n){var r=this.tooltipPlacement,o=this.clipBounds.x,a=this.clipBounds.y,s=this.offset,l=this.elementSize.width+2*this.marginX,u=this.elementSize.height+2*this.marginY,c=new zw(t.x,t.y);return"Top"===r||"Bottom"===r?(c=new zw(c.x+o-this.elementSize.width/2-this.padding,c.y+a-this.elementSize.height-2*this.padding-this.arrowPadding-s),i.x=n.x=l/2,"Bottom"===r&&(c.y=t.y+a+s),e.x+e.width<c.x+l?(c.x=e.width>l?e.x+e.width-l+6:e.x,i.x=n.x=e.width>l?e.x+t.x-c.x:t.x):e.x>c.x&&(c.x=e.x,i.x=n.x=t.x)):(c=new zw(c.x+o+s,c.y+a-this.elementSize.height/2-this.padding),i.y=n.y=u/2,"Left"===r&&(c.x=t.x+o-s-(l+this.arrowPadding)),e.y+e.height<c.y+u?(c.y=e.height>u?e.y+e.height-u+6:e.y,i.y=n.y=e.height>u?e.y+t.y-c.y:t.y):e.y>c.y&&(c.y=e.y,i.y=n.y=t.y)),new Aw(c.x,c.y,l,u)},t.prototype.tooltipLocation=function(e,t,i,n){if(!wb(this.tooltipPlacement))return this.getCurrentPosition(e,t,i,n);var r=new zw(t.x,t.y),o=this.elementSize.width+2*this.marginX,a=this.elementSize.height+2*this.marginY,s=this.offset,l=this.clipBounds.x,u=this.clipBounds.y,c=e.x,h=e.y;return this.inverted?(r=new zw(r.x+l+s,r.y+u-this.elementSize.height/2-this.padding),i.y=n.y=a/2,(r.x+o+this.arrowPadding>c+e.width||this.isNegative)&&(r.x=(t.x>e.width+e.x?e.width:t.x)+l-s-(o+this.arrowPadding)),r.x<c&&(r.x=(t.x<0?0:t.x)+l+s),r.y<=h&&(i.y-=h-r.y,n.y-=h-r.y,r.y=h),r.y+a>=h+e.height&&(i.y+=r.y+a-(h+e.height),n.y+=r.y+a-(h+e.height),r.y-=r.y+a-(h+e.height)),i.y+this.arrowPadding/2>a-this.ry&&(i.y=a-this.ry-this.arrowPadding/2,n.y=a,this.tipRadius=0),i.y-this.arrowPadding/2<this.ry&&(i.y=this.ry+this.arrowPadding/2,n.y=0,this.tipRadius=0)):(r=new zw(r.x+l-this.elementSize.width/2-this.padding,r.y+u-this.elementSize.height-2*this.padding-this.arrowPadding-s),i.x=n.x=o/2,(r.y<h||this.isNegative)&&(r.y=(t.y<0?0:t.y)+u+s),r.y+a+this.arrowPadding>h+e.height&&(r.y=Math.min(t.y,h+e.height)+u-this.elementSize.height-2*this.padding-this.arrowPadding-s),n.x=o/2,r.x<c&&(i.x-=c-r.x,n.x-=c-r.x,r.x=c),r.x+o>c+e.width&&(i.x+=r.x+o-(c+e.width),n.x+=r.x+o-(c+e.width),r.x-=r.x+o-(c+e.width)),i.x+this.arrowPadding/2>o-this.rx&&(i.x=o-this.rx-this.arrowPadding/2,n.x=o,this.tipRadius=0),i.x-this.arrowPadding/2<this.rx&&(i.x=this.rx+this.arrowPadding/2,n.x=0,this.tipRadius=0)),new Aw(r.x,r.y,o,a)},t.prototype.animateTooltipDiv=function(e,t){var i,n=this,r=parseFloat(e.style.left),o=parseFloat(e.style.top);new Kx({}).animate(e,{duration:this.duration,progress:function(n){i=n.timeStamp/n.duration,e.style.animation=null,e.style.left=r+i*(t.x-r)+"px",e.style.top=o+i*(t.y-o)+"px"},end:function(i){n.updateDiv(e,t.x,t.y),n.trigger("animationComplete",{tooltip:n})}})},t.prototype.updateDiv=function(e,t,i){e.style.left=t+"px",e.style.top=i+"px"},t.prototype.updateTemplateFn=function(){if(this.template)try{document.querySelectorAll(this.template).length&&(this.templateFn=Y_(document.querySelector(this.template).innerHTML.trim()))}catch(e){this.templateFn=Y_(this.template)}},t.prototype.fadeOut=function(){var e=this,t=this.isCanvas&&!this.template?Ow(this.element.id+"_svg"):Ow(this.element.id);if(t){var i=t.firstChild;if(i.nodeType!=Node.ELEMENT_NODE&&(i=t.firstElementChild),this.isCanvas&&!this.template&&(i=document.getElementById(this.element.id+"_group")?document.getElementById(this.element.id+"_group"):i),!i)return null;var n=parseFloat(i.getAttribute("opacity"));n=wb(n)?1:n,new Kx({}).animate(i,{duration:200,progress:function(t){e.progressAnimation(i,n,t.timeStamp/t.duration)},end:function(){e.fadeOuted=!0,e.endAnimation(i)}})}},t.prototype.progressAnimation=function(e,t,i){e.style.animation="",e.setAttribute("opacity",(t-i).toString())},t.prototype.endAnimation=function(e){e.setAttribute("opacity","0"),this.template&&(e.style.display="none"),this.trigger("animationComplete",{tooltip:this})},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.getModuleName=function(){return"tooltip"},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.element.classList.remove("e-tooltip")},t.prototype.onPropertyChanged=function(e,t){this.blazorTemplate&&K_(this.element.id+"parent_template_blazorTemplate"),this.isFirst=!1,this.render()},Fw([Ux(!1)],t.prototype,"enable",void 0),Fw([Ux(!1)],t.prototype,"shared",void 0),Fw([Ux(!0)],t.prototype,"enableShadow",void 0),Fw([Ux(null)],t.prototype,"fill",void 0),Fw([Ux("")],t.prototype,"header",void 0),Fw([Ux(.75)],t.prototype,"opacity",void 0),Fw([Wx({size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},Nw)],t.prototype,"textStyle",void 0),Fw([Ux(null)],t.prototype,"template",void 0),Fw([Ux(!0)],t.prototype,"enableAnimation",void 0),Fw([Ux(300)],t.prototype,"duration",void 0),Fw([Ux(!1)],t.prototype,"inverted",void 0),Fw([Ux(!1)],t.prototype,"isNegative",void 0),Fw([Wx({color:"#cccccc",width:.5},jw)],t.prototype,"border",void 0),Fw([Ux([])],t.prototype,"content",void 0),Fw([Ux(10)],t.prototype,"markerSize",void 0),Fw([Wx({x:0,y:0},Uw)],t.prototype,"clipBounds",void 0),Fw([Ux([])],t.prototype,"palette",void 0),Fw([Ux([])],t.prototype,"shapes",void 0),Fw([Wx({x:0,y:0},Uw)],t.prototype,"location",void 0),Fw([Ux(0)],t.prototype,"offset",void 0),Fw([Ux(2)],t.prototype,"rx",void 0),Fw([Ux(2)],t.prototype,"ry",void 0),Fw([Ux(5)],t.prototype,"marginX",void 0),Fw([Ux(5)],t.prototype,"marginY",void 0),Fw([Ux(12)],t.prototype,"arrowPadding",void 0),Fw([Ux(null)],t.prototype,"data",void 0),Fw([Ux("Material")],t.prototype,"theme",void 0),Fw([Wx({x:0,y:0,width:0,height:0},Vw)],t.prototype,"areaBounds",void 0),Fw([Ux(null)],t.prototype,"availableSize",void 0),Fw([Ux()],t.prototype,"blazorTemplate",void 0),Fw([Ux(!1)],t.prototype,"isCanvas",void 0),Fw([Ux(!1)],t.prototype,"isTextWrap",void 0),Fw([Ux(null)],t.prototype,"tooltipPlacement",void 0),Fw([Ux(null)],t.prototype,"controlInstance",void 0),Fw([Gx()],t.prototype,"tooltipRender",void 0),Fw([Gx()],t.prototype,"loaded",void 0),Fw([Gx()],t.prototype,"animationComplete",void 0),Fw([Ux(!1)],t.prototype,"enableRTL",void 0),t=Fw([qx],t)}(a_),Hw=function(){function e(e,t){e<t?(this.mStart=e,this.mEnd=t):(this.mStart=t,this.mEnd=e)}return Object.defineProperty(e.prototype,"start",{get:function(){return this.mStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.mEnd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delta",{get:function(){return this.mEnd-this.mStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"median",{get:function(){return this.mStart+(this.mEnd-this.mStart)/2},enumerable:!0,configurable:!0}),e}(),Gw=function(){function e(e){this.isColumn=0,this.chart=e}return e.prototype.calculateNumericNiceInterval=function(e,t,i){var n=yk(i,e),r=t/n;if(!wb(e.desiredIntervals))return r;for(var o=Math.pow(10,Math.floor(US(r,10))),a=0,s=e.intervalDivs;a<s.length;a++){var l=o*s[a];if(n<t/l)break;r=l}return r},e.prototype.getActualRange=function(e,t){this.initializeDoubleRange(e),!e.startFromZero&&this.isColumn>0?(e.actualRange.interval=e.interval||this.calculateNumericNiceInterval(e,e.doubleRange.delta,t),e.actualRange.max=e.doubleRange.end+e.actualRange.interval,e.doubleRange.start-e.actualRange.interval<0&&e.doubleRange.start>0?e.actualRange.min=0:e.actualRange.min=e.doubleRange.start-e.actualRange.interval):(e.actualRange.interval=e.interval||this.calculateNumericNiceInterval(e,e.doubleRange.delta,t),e.actualRange.min=e.doubleRange.start,e.actualRange.max=e.doubleRange.end)},e.prototype.initializeDoubleRange=function(e){null!==e.minimum?this.min=e.minimum:null!==this.min&&this.min!==Number.POSITIVE_INFINITY||(this.min=0),null!==e.maximum?this.max=e.maximum:null!==this.max&&this.max!==Number.NEGATIVE_INFINITY||(this.max=5),this.min===this.max&&(this.max=e.valueType.indexOf("Category")>-1?this.max:this.min+1),e.doubleRange=new Hw(this.min,this.max),e.actualRange={}},e.prototype.calculateRangeAndInterval=function(e,t){this.calculateRange(t),this.getActualRange(t,e),this.applyRangePadding(t,e),this.calculateVisibleLabels(t,this.chart)},e.prototype.calculateRange=function(e){if(this.min=null,this.max=null,!mk(e))for(var t=0,i=e.series;t<i.length;t++){var n=i[t];n.visible&&(this.paddingInterval=0,e.maxPointLength=n.points.length,((n.type.indexOf("Column")>-1||n.type.indexOf("Histogram")>-1)&&"Horizontal"===e.orientation||n.type.indexOf("Bar")>-1&&"Vertical"===e.orientation)&&("Double"!==n.xAxis.valueType&&"DateTime"!==n.xAxis.valueType||"Auto"!==n.xAxis.rangePadding||(this.paddingInterval=.5*lk(n.xAxis,e.series))),"Horizontal"===e.orientation&&(this.chart.requireInvertedAxis?this.yAxisRange(e,n):this.findMinMax(n.xMin-this.paddingInterval,n.xMax+this.paddingInterval)),"Vertical"===e.orientation&&(this.isColumn+="Column"===n.type||"Bar"===n.type||"Column"===n.drawType?1:0,this.chart.requireInvertedAxis?this.findMinMax(n.xMin-this.paddingInterval,n.xMax+this.paddingInterval):this.yAxisRange(e,n)))}},e.prototype.yAxisRange=function(e,t){t.dragSettings.enable&&this.chart.dragY&&(this.chart.dragY>=e.visibleRange.max&&(t.yMax=this.chart.dragY+e.visibleRange.interval),this.chart.dragY<=e.visibleRange.min&&(t.yMin=this.chart.dragY-e.visibleRange.interval)),this.findMinMax(t.yMin,t.yMax)},e.prototype.findMinMax=function(e,t){(null===this.min||this.min>e)&&(this.min=e),(null===this.max||this.max<t)&&(this.max=t),this.max===this.min&&this.max<0&&this.min<0&&(this.max=0)},e.prototype.applyRangePadding=function(e,t){var i=e.actualRange.min,n=e.actualRange.max;if(!mk(e)){var r=e.actualRange.interval,o=e.getRangePadding(this.chart);"Additional"===o||"Round"===o?this.findAdditional(e,i,n,r):"Normal"===o?this.findNormal(e,i,n,r,t):this.updateActualRange(e,i,n,r)}e.actualRange.delta=e.actualRange.max-e.actualRange.min,this.calculateVisibleRange(t,e)},e.prototype.updateActualRange=function(e,t,i,n){e.actualRange={min:null!=e.minimum?e.minimum:t,max:null!=e.maximum?e.maximum:i,interval:null!=e.interval?e.interval:n,delta:e.actualRange.delta}},e.prototype.findAdditional=function(e,t,i,n){var r,o;r=Math.floor(t/n)*n,o=Math.ceil(i/n)*n,"Additional"===e.rangePadding&&(r-=n,o+=n),this.updateActualRange(e,r,o,n)},e.prototype.findNormal=function(e,t,i,n,r){var o,a,s=t;t<0?(s=0,.365*n>=n+(o=t+.05*t)%n&&(o-=n),o%n<0&&(o=o-n-o%n)):(o=t<5/6*i?0:t-.5*(i-t))%n>0&&(o-=o%n),.365*n>=n-(a=i>0?i+.05*(i-s):i-.05*(i-s))%n&&(a+=n),a%n>0&&(a=a+n-a%n),e.doubleRange=new Hw(o,a),0===o&&(n=this.calculateNumericNiceInterval(e,e.doubleRange.delta,r),a=Math.ceil(a/n)*n),this.updateActualRange(e,o,a,n)},e.prototype.calculateVisibleRange=function(e,t){if(t.visibleRange={max:t.actualRange.max,min:t.actualRange.min,delta:t.actualRange.delta,interval:t.actualRange.interval},"Cartesian"===this.chart.chartAreaType){var i=!wb(t.zoomingScrollBar)&&t.zoomingScrollBar.isLazyLoad;(t.zoomFactor<1||t.zoomPosition>0)&&!i&&(t.calculateVisibleRangeOnZooming(e),t.calculateAxisRange(e,this.chart),t.visibleRange.interval=t.enableAutoIntervalOnZooming&&"Category"!==t.valueType?this.calculateNumericNiceInterval(t,t.doubleRange.delta,e):t.visibleRange.interval)}t.triggerRangeRender(this.chart,t.visibleRange.min,t.visibleRange.max,t.visibleRange.interval)},e.prototype.calculateVisibleLabels=function(e,t){e.visibleLabels=[];var i,n=e.visibleRange.min;!("chart"===t.getModuleName()&&"PolarRadar"===t.chartAreaType)&&(e.zoomFactor<1||e.zoomPosition>0||this.paddingInterval)&&(n=e.visibleRange.min-e.visibleRange.min%e.visibleRange.interval);var r,o=this.getFormat(e),a=null!==o.match("{value}"),s=0,l=0;for(e.labelFormat&&e.labelFormat.indexOf("n")>-1&&(l=parseInt(e.labelFormat.substring(1,e.labelFormat.length),10)),e.format=t.intl.getNumberFormat({format:a?"":o,useGrouping:t.useGroupingSeparator}),e.startLabel=e.format(e.visibleRange.min),e.endLabel=e.format(e.visibleRange.max),e.visibleRange.interval&&(e.visibleRange.interval+"").indexOf(".")>=0&&(s=(e.visibleRange.interval+"").split(".")[1].length);n<=e.visibleRange.max&&r!==n;n+=e.visibleRange.interval)r=n,i=_b({},yb("properties",e.labelStyle),null,!0),GS(n,e.visibleRange)&&fk(t,n,this.formatValue(e,a,o,n),i,e);n&&(n+"").indexOf(".")>=0&&(n+"").split(".")[1].length>10&&(n=(n+"").split(".")[1].length>(l||s)?+n.toFixed(l||s):n)<=e.visibleRange.max&&fk(t,n,this.formatValue(e,a,o,n),i,e),e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)},e.prototype.getFormat=function(e){return e.labelFormat?0===e.labelFormat.indexOf("p")&&-1===e.labelFormat.indexOf("{value}")&&e.isStack100?"{value}%":e.labelFormat:e.isStack100?"{value}%":""},e.prototype.formatValue=function(e,t,i,n){return t?i.replace("{value}",e.format(n)):e.format(n)},e}(),qw="legendClick",Zw="load",Xw="legendRender",Yw="textRender",$w="pointRender",Kw="sharedTooltipRender",Qw="seriesRender",Jw="axisLabelRender",eS="axisRangeCalculated",tS="tooltipRender",iS="chartMouseMove",nS="chartMouseClick",rS="chartDoubleClick",oS="pointClick",aS="pointMove",sS="chartMouseLeave",lS="chartMouseDown",uS="chartMouseUp",cS="resized",hS="beforeResize",dS="beforePrint",pS=/~\d+~/g,fS=/\^\d+\^/g,mS="afterExport",gS=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),yS=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},vS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gS(t,e),yS([Ux("0")],t.prototype,"x",void 0),yS([Ux("0")],t.prototype,"y",void 0),yS([Ux(null)],t.prototype,"content",void 0),yS([Ux("Center")],t.prototype,"horizontalAlignment",void 0),yS([Ux("Pixel")],t.prototype,"coordinateUnits",void 0),yS([Ux("Chart")],t.prototype,"region",void 0),yS([Ux("Middle")],t.prototype,"verticalAlignment",void 0),yS([Ux(null)],t.prototype,"xAxisName",void 0),yS([Ux(null)],t.prototype,"yAxisName",void 0),yS([Ux(null)],t.prototype,"description",void 0),t}(e_),bS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gS(t,e),yS([Ux("")],t.prototype,"color",void 0),yS([Ux(1)],t.prototype,"width",void 0),yS([Ux("Rectangle")],t.prototype,"type",void 0),t}(e_),xS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gS(t,e),yS([Ux(null)],t.prototype,"start",void 0),yS([Ux(null)],t.prototype,"end",void 0),yS([Ux("")],t.prototype,"text",void 0),yS([Ux(null)],t.prototype,"maximumTextWidth",void 0),yS([Ux(null)],t.prototype,"customAttributes",void 0),yS([Ux("")],t.prototype,"type",void 0),t}(e_),_S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gS(t,e),yS([Ux(!0)],t.prototype,"visible",void 0),yS([Ux(!1)],t.prototype,"startFromAxis",void 0),yS([Ux(null)],t.prototype,"start",void 0),yS([Ux(null)],t.prototype,"end",void 0),yS([Ux(null)],t.prototype,"size",void 0),yS([Ux("#808080")],t.prototype,"color",void 0),yS([Ux(null)],t.prototype,"dashArray",void 0),yS([Ux("Auto")],t.prototype,"sizeType",void 0),yS([Ux(!1)],t.prototype,"isRepeat",void 0),yS([Ux(null)],t.prototype,"repeatEvery",void 0),yS([Ux(null)],t.prototype,"repeatUntil",void 0),yS([Ux(!1)],t.prototype,"isSegmented",void 0),yS([Ux(null)],t.prototype,"segmentStart",void 0),yS([Ux(null)],t.prototype,"segmentEnd",void 0),yS([Ux(null)],t.prototype,"segmentAxisName",void 0),yS([Wx({color:"transparent",width:1},uw)],t.prototype,"border",void 0),yS([Ux("")],t.prototype,"text",void 0),yS([Ux(null)],t.prototype,"rotation",void 0),yS([Ux("Middle")],t.prototype,"horizontalAlignment",void 0),yS([Ux("Middle")],t.prototype,"verticalAlignment",void 0),yS([Wx(Q_.stripLineLabelFont,lw)],t.prototype,"textStyle",void 0),yS([Ux("Behind")],t.prototype,"zIndex",void 0),yS([Ux(1)],t.prototype,"opacity",void 0),t}(e_),wS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gS(t,e),yS([Ux("Center")],t.prototype,"alignment",void 0),yS([Ux("Wrap")],t.prototype,"overflow",void 0),yS([Wx(Q_.axisLabelFont,lw)],t.prototype,"textStyle",void 0),yS([Wx({color:null,width:1,type:"Rectangle"},bS)],t.prototype,"border",void 0),yS([Hx([],xS)],t.prototype,"categories",void 0),t}(e_),SS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gS(t,e),yS([Ux(null)],t.prototype,"minimum",void 0),yS([Ux(null)],t.prototype,"maximum",void 0),t}(e_),kS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gS(t,e),yS([Ux(!1)],t.prototype,"enable",void 0),yS([Ux(null)],t.prototype,"pointsLength",void 0),yS([Wx({},SS)],t.prototype,"range",void 0),t}(e_),CS=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),TS=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},ES=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.axes=[],t.nearSizes=[],t.farSizes=[],t}return CS(t,e),t.prototype.computeSize=function(e,t){var i=0;e.visible&&e.internalVisibility&&(i+=e.findTickSize(e.crossInAxis)+t+e.findLabelSize(e.crossInAxis,5)+.5*e.lineStyle.width),e.isAxisOpposedPosition?this.farSizes.push(i):this.nearSizes.push(i)},TS([Ux("100%")],t.prototype,"height",void 0),TS([Wx({},uw)],t.prototype,"border",void 0),t}(e_),AS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.axes=[],t.nearSizes=[],t.farSizes=[],t.padding=0,t}return CS(t,e),t.prototype.computeSize=function(e,t){var i=0;e.visible&&e.internalVisibility&&(i+=e.findTickSize(e.crossInAxis)+t+e.findLabelSize(e.crossInAxis,5)+.5*e.lineStyle.width),e.isAxisOpposedPosition?this.farSizes.push(i):this.nearSizes.push(i)},TS([Ux("100%")],t.prototype,"width",void 0),TS([Wx({},uw)],t.prototype,"border",void 0),t}(e_),PS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return CS(t,e),TS([Ux(1)],t.prototype,"width",void 0),TS([Ux("")],t.prototype,"dashArray",void 0),TS([Ux(null)],t.prototype,"color",void 0),t}(e_),MS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return CS(t,e),TS([Ux(.7)],t.prototype,"width",void 0),TS([Ux("")],t.prototype,"dashArray",void 0),TS([Ux(null)],t.prototype,"color",void 0),t}(e_),LS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return CS(t,e),TS([Ux(1)],t.prototype,"width",void 0),TS([Ux("")],t.prototype,"dashArray",void 0),TS([Ux(null)],t.prototype,"color",void 0),t}(e_),OS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return CS(t,e),TS([Ux(1)],t.prototype,"width",void 0),TS([Ux(5)],t.prototype,"height",void 0),TS([Ux(null)],t.prototype,"color",void 0),t}(e_),RS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return CS(t,e),TS([Ux(.7)],t.prototype,"width",void 0),TS([Ux(5)],t.prototype,"height",void 0),TS([Ux(null)],t.prototype,"color",void 0),t}(e_),IS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return CS(t,e),TS([Ux(!1)],t.prototype,"enable",void 0),TS([Ux(null)],t.prototype,"fill",void 0),TS([Wx(Q_.crosshairLabelFont,lw)],t.prototype,"textStyle",void 0),t}(e_),DS=function(e){function t(t,i,n,r){var o=e.call(this,t,i,n,r)||this;return o.visibleLabels=[],o.series=[],o.rect=new Aw(void 0,void 0,0,0),o.axisBottomLine=null,o.intervalDivs=[10,5,2,1],o.isStack100=!1,o.crossAt=null,o.updatedRect=null,o.multiLevelLabelHeight=0,o.isChart=!0,o.isIntervalInDecimal=!0,o.titleCollection=[],o.titleSize=new Ew(0,0),o.internalVisibility=!0,o.isRTLEnabled=!1,o.angle=o.labelRotation,o}return CS(t,e),t.prototype.findTickSize=function(e){return"Inside"===this.tickPosition?0:!e||e.visibleRange&&!this.isInside(e.visibleRange)?this.majorTickLines.height:0},t.prototype.isInside=function(e){return HS(this.crossAt,e)||!this.isAxisOpposedPosition&&this.crossAt>=e.max||this.isAxisOpposedPosition&&this.crossAt<=e.min},t.prototype.findLabelSize=function(e,t){var i,n,r=0,o="Horizontal"===this.orientation;if(this.title&&(this.titleSize=Cw(this.title,this.titleStyle),r=this.titleSize.height+t,this.rect.width||this.rect.height)){var a=o?this.rect.width:this.rect.height;this.titleCollection=Hk(this.title,this.titleStyle,a),r*=this.titleCollection.length}if("Inside"===this.labelPosition)return r+t;var s=r+t+this.titlePadding+this.labelPadding+("Vertical"===this.orientation?this.maxLabelSize.width:this.maxLabelSize.height)+this.multiLevelLabelHeight;if(e&&this.placeNextToAxisLine){var l=e.visibleRange,u="Horizontal"===e.orientation?e.rect.width:e.rect.height;if(!l||!u)return 0;this.isInside(l)&&(s=(i=(n=this.findDifference(e))*((u-((i=n*(u/l.delta))<s?s-i:0))/l.delta))<s?s-i:0)}return s},t.prototype.updateCrossValue=function(){var e=this.crossAt;if(null===e||!this.isInside(this.crossInAxis.visibleRange))return this.updatedRect=this.rect,null;var t=this.crossInAxis.visibleRange;this.isAxisOpposedPosition?this.crossAt<t.min&&(e=t.min):this.crossAt>t.max&&(e=t.max),this.updatedRect=_b({},this.rect,null,!0),"Horizontal"===this.orientation?(e=this.crossInAxis.rect.height-tk(e,this.crossInAxis)*this.crossInAxis.rect.height,this.updatedRect.y=this.crossInAxis.rect.y+e):(e=tk(e,this.crossInAxis)*this.crossInAxis.rect.width,this.updatedRect.x=this.crossInAxis.rect.x+e)},t.prototype.findDifference=function(e){var t=0;return t=this.isAxisOpposedPosition?e.isAxisInverse?e.visibleRange.min:e.visibleRange.max:e.isAxisInverse?e.visibleRange.max:e.visibleRange.min,Math.abs(this.crossAt-t)},t.prototype.calculateVisibleRangeOnZooming=function(e){if(gk(this)){var t=this.actualRange,i=void 0,n=void 0;n=this.isAxisInverse?(i=this.actualRange.max-this.zoomPosition*this.actualRange.delta)-this.zoomFactor*this.actualRange.delta:(i=this.actualRange.min+this.zoomPosition*this.actualRange.delta)+this.zoomFactor*this.actualRange.delta,i<t.min&&(n+=t.min-i,i=t.min),n>t.max&&(i-=n-t.max,n=t.max),this.doubleRange=new Hw(i,n),this.visibleRange={min:this.doubleRange.start,max:this.doubleRange.end,delta:this.doubleRange.delta,interval:this.visibleRange.interval}}},t.prototype.calculateAxisRange=function(e,t){if(t.enableAutoIntervalOnBothAxis){if("Horizontal"===this.orientation&&"X"===t.zoomSettings.mode)for(var i=0;i<this.series.length;i++){for(var n=[],r=0,o=this.series[i].visiblePoints;r<o.length;r++){(h=o[r]).xValue>this.visibleRange.min&&h.xValue<this.visibleRange.max&&n.push(h.yValue)}for(var a=0,s=t.axisCollections;a<s.length;a++){"Vertical"!==(f=s[a]).orientation||wb(f.series[i])||(f.series[i].yMin=Math.min.apply(Math,n),f.series[i].yMax=Math.max.apply(Math,n),f.baseModule.calculateRangeAndInterval(e,f))}}if("Vertical"===this.orientation&&"Y"===t.zoomSettings.mode)for(i=0;i<this.series.length;i++){for(var l=[],u=0,c=this.series[i].visiblePoints;u<c.length;u++){var h;(h=c[u]).yValue>this.visibleRange.min&&h.yValue<this.visibleRange.max&&l.push(h.xValue)}for(var d=0,p=t.axisCollections;d<p.length;d++){var f;"Horizontal"!==(f=p[d]).orientation||wb(f.series[i])||(f.series[i].xMin=Math.min.apply(Math,l),f.series[i].xMax=Math.max.apply(Math,l),f.baseModule.calculateRangeAndInterval(e,f))}}}},t.prototype.triggerRangeRender=function(e,t,i,n){var r={cancel:!1,name:eS,axis:this,minimum:t,maximum:i,interval:n};e.trigger(eS,r),r.cancel||(this.visibleRange={min:r.minimum,max:r.maximum,interval:r.interval,delta:r.maximum-r.minimum})},t.prototype.getRangePadding=function(e){var t=this.rangePadding;if("Auto"!==t)return t;switch(this.orientation){case"Horizontal":t=e.requireInvertedAxis?this.isStack100||this.baseModule.chart.stockChart?"Round":"Normal":"None";break;case"Vertical":t=e.requireInvertedAxis?"None":this.isStack100||this.baseModule.chart.stockChart?"Round":"Normal"}return t},t.prototype.getMaxLabelWidth=function(e){var t,i,n=0,r=!1;this.angle=this.labelRotation,this.maxLabelSize=new Ew(0,0);for(var o,a=this.labelIntersectAction,s=0,l=this.visibleLabels.length;s<l;s++){(i=NS((o=this.visibleLabels[s]).originalText))?(o.size=Cw(o.originalText.replace(/<br>/g," "),this.labelStyle),o.breakLabelSize=Cw(this.enableTrim?o.text.join("<br>"):o.originalText,this.labelStyle)):o.size=Cw(o.text,this.labelStyle);var u=i?o.breakLabelSize.width:o.size.width;u>this.maxLabelSize.width&&(this.maxLabelSize.width=u,this.rotatedLabel=o.text);var c=i?o.breakLabelSize.height:o.size.height;if(c>this.maxLabelSize.height&&(this.maxLabelSize.height=c),i&&(o.text=this.enableTrim?o.text:o.originalText.split("<br>")),"None"!==a&&"Hide"!==a&&"Trim"!==a&&("None"!==a||this.angle%360===0)&&"Horizontal"===this.orientation&&this.rect.width>0&&!r){var h=i?o.breakLabelSize.width:o.size.width;switch(t=tk(o.value,this)*this.rect.width+this.rect.x,t-=h/2,"Shift"===this.edgeLabelPlacement&&(0===s&&t<this.rect.x&&(t=this.rect.x),s===this.visibleLabels.length-1&&t+h>this.rect.x+this.rect.width&&(t=this.rect.x+this.rect.width-h)),a){case"MultipleRows":s>0&&this.findMultiRows(s,t,o,i);break;case"Rotate45":case"Rotate90":s>0&&(this.isAxisInverse?t+h>=n:t<=n)&&(this.angle="Rotate45"===a?45:90,r=!0);break;default:if(i){for(var d=void 0,p=[],f=void 0,m=0;m<o.text.length;m++)if((d=qk(o.text[m],this.rect.width/this.visibleLabels.length,this.labelStyle)).length>1)for(var g=0;g<d.length;g++)f=d[g],p.push(f);else p.push(d[0]);o.text=p}else o.text=qk(o.text,this.rect.width/this.visibleLabels.length,this.labelStyle);var y=o.size.height*o.text.length;y>this.maxLabelSize.height&&(this.maxLabelSize.height=y)}n=this.isAxisInverse?t:t+h}}if(0!==this.angle&&"Horizontal"===this.orientation){this.rotatedLabel=wb(this.rotatedLabel)?"":this.rotatedLabel;var v=-360===this.angle||0===this.angle||-180===this.angle||180===this.angle||360===this.angle;"Outside"===this.labelPosition&&!v&&NS(this.rotatedLabel)?this.maxLabelSize=new Ew(this.maxLabelSize.height,this.maxLabelSize.width):this.maxLabelSize=function(e,t,i,n){var r,o,a,s,l,u=new ww(n.element.id),c=[],h={id:"rotate_text",x:n.initialClipRect.x,y:n.initialClipRect.y,"font-size":e.size,"font-style":e.fontStyle,"font-family":e.fontFamily,"font-weight":e.fontWeight,transform:"rotate("+i+", 0, 0)","text-anchor":"middle"};r=NS(t)?(c=t.split("<br>"))[0]:t;var d=u.createText(h,r);n.delayRedraw||n.redraw||n.element.appendChild(n.svgObject);if("string"!==typeof c&&c.length>1)for(var p=1,f=c.length;p<f;p++)o=Cw(c[p],e).height,a=h.y+p*o,s=c[p],l=u.createTSpan({x:h.x,id:h.id,y:a},s),d.appendChild(l);n.svgObject.appendChild(d);var m=d.getBoundingClientRect();kx(d),n.delayRedraw||n.redraw||kx(n.svgObject);return new Ew(m.right-m.left,m.bottom-m.top)}(this.labelStyle,this.rotatedLabel,this.angle,e)}e.multiLevelLabelModule&&this.multiLevelLabels.length>0&&e.multiLevelLabelModule.getMultilevelLabelsHeight(this)},t.prototype.findMultiRows=function(e,t,i,n){for(var r,o,a,s=[],l=e-1;l>=0;l--)r=this.visibleLabels[l],a=n?r.breakLabelSize.width:r.size.width,o=tk(r.value,this)*this.rect.width+this.rect.x,(this.isAxisInverse?t+i.size.width>o-.5*a:t<o+.5*a)?(s.push(r.index),i.index=i.index>r.index?i.index:r.index+1):i.index=s.indexOf(r.index)>-1?i.index:r.index;var u=(n?i.breakLabelSize.height:i.size.height)*i.index+5*(i.index-1);u>this.maxLabelSize.height&&(this.maxLabelSize.height=u)},t.prototype.getModule=function(e){"Double"===this.valueType?this.baseModule=new Gw(e):this.baseModule=e[sk(this.valueType)+"Module"]},t.prototype.setIsInversedAndOpposedPosition=function(e){void 0===e&&(e=!1),this.isAxisOpposedPosition=this.opposedPosition||!e&&this.isRTLEnabled&&"Vertical"==this.orientation,this.isAxisInverse=this.isInversed||this.isRTLEnabled&&"Horizontal"==this.orientation},TS([Wx(Q_.axisLabelFont,lw)],t.prototype,"labelStyle",void 0),TS([Wx({},IS)],t.prototype,"crosshairTooltip",void 0),TS([Ux("")],t.prototype,"title",void 0),TS([Wx(Q_.axisTitleFont,lw)],t.prototype,"titleStyle",void 0),TS([Ux("")],t.prototype,"labelFormat",void 0),TS([Ux("")],t.prototype,"skeleton",void 0),TS([Ux("DateTime")],t.prototype,"skeletonType",void 0),TS([Ux("Center")],t.prototype,"lineBreakAlignment",void 0),TS([Ux(0)],t.prototype,"plotOffset",void 0),TS([Ux(null)],t.prototype,"plotOffsetLeft",void 0),TS([Ux(null)],t.prototype,"plotOffsetTop",void 0),TS([Ux(null)],t.prototype,"plotOffsetRight",void 0),TS([Ux(null)],t.prototype,"plotOffsetBottom",void 0),TS([Ux(!1)],t.prototype,"isIndexed",void 0),TS([Ux(10)],t.prototype,"logBase",void 0),TS([Ux(0)],t.prototype,"columnIndex",void 0),TS([Ux(0)],t.prototype,"rowIndex",void 0),TS([Ux(1)],t.prototype,"span",void 0),TS([Ux(null)],t.prototype,"desiredIntervals",void 0),TS([Ux(3)],t.prototype,"maximumLabels",void 0),TS([Ux(1)],t.prototype,"zoomFactor",void 0),TS([Ux(0)],t.prototype,"zoomPosition",void 0),TS([Ux(!0)],t.prototype,"enableScrollbarOnZooming",void 0),TS([Ux(!1)],t.prototype,"opposedPosition",void 0),TS([Ux(!0)],t.prototype,"enableAutoIntervalOnZooming",void 0),TS([Ux("Auto")],t.prototype,"rangePadding",void 0),TS([Ux("Double")],t.prototype,"valueType",void 0),TS([Ux("None")],t.prototype,"edgeLabelPlacement",void 0),TS([Ux("Auto")],t.prototype,"intervalType",void 0),TS([Ux("BetweenTicks")],t.prototype,"labelPlacement",void 0),TS([Ux("Outside")],t.prototype,"tickPosition",void 0),TS([Ux("Outside")],t.prototype,"labelPosition",void 0),TS([Ux("")],t.prototype,"name",void 0),TS([Ux(!0)],t.prototype,"visible",void 0),TS([Ux(0)],t.prototype,"minorTicksPerInterval",void 0),TS([Ux(0)],t.prototype,"labelRotation",void 0),TS([Ux(null)],t.prototype,"crossesAt",void 0),TS([Ux(!0)],t.prototype,"placeNextToAxisLine",void 0),TS([Ux(null)],t.prototype,"crossesInAxis",void 0),TS([Ux(null)],t.prototype,"minimum",void 0),TS([Ux(null)],t.prototype,"maximum",void 0),TS([Ux(null)],t.prototype,"interval",void 0),TS([Ux(34)],t.prototype,"maximumLabelWidth",void 0),TS([Ux(!1)],t.prototype,"enableTrim",void 0),TS([Ux(5)],t.prototype,"labelPadding",void 0),TS([Ux(5)],t.prototype,"titlePadding",void 0),TS([Wx({},OS)],t.prototype,"majorTickLines",void 0),TS([Wx({},RS)],t.prototype,"minorTickLines",void 0),TS([Wx({},PS)],t.prototype,"majorGridLines",void 0),TS([Wx({},MS)],t.prototype,"minorGridLines",void 0),TS([Wx({},LS)],t.prototype,"lineStyle",void 0),TS([Ux("Trim")],t.prototype,"labelIntersectAction",void 0),TS([Ux(!1)],t.prototype,"isInversed",void 0),TS([Ux(100)],t.prototype,"coefficient",void 0),TS([Ux(0)],t.prototype,"startAngle",void 0),TS([Ux(!0)],t.prototype,"startFromZero",void 0),TS([Ux(null)],t.prototype,"description",void 0),TS([Ux(2)],t.prototype,"tabIndex",void 0),TS([Hx([],_S)],t.prototype,"stripLines",void 0),TS([Hx([],wS)],t.prototype,"multiLevelLabels",void 0),TS([Wx({color:null,width:0,type:"Rectangle"},bS)],t.prototype,"border",void 0),TS([Wx({},kS)],t.prototype,"scrollbarSettings",void 0),t}(e_),zS=function(e,t,i,n,r,o,a){void 0===r&&(r=new Ew(0,0)),void 0===o&&(o=new Ew(0,0)),void 0===a&&(a=1),this.text=e,this.originalText=n,this.value=t,this.labelStyle=i,this.size=r,this.breakLabelSize=o,this.index=a},BS=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();function FS(e,t,i){var n=_b([],e,null);return n.sort((function(e,n){for(var r=0,o=0,a=0;a<t.length;a++)r+=e[t[a]],o+=n[t[a]];return!i&&r<o||i&&r>o?-1:r===o?0:1})),n}function NS(e){return-1!==e.indexOf("<br>")}function jS(e){for(var t,i=_b([],e.points,null,!0),n=[],r=0,o=0;o<i.length;o++)wb((t=i[o]).x)||""===t.x||(t.index=r++,n.push(t));return n}function VS(e){if(!e)return null;var t="string"===typeof e?xk(e):e;t&&kx(t)}function US(e,t){return Math.log(e)/Math.log(t)}function WS(e,t,i,n,r,o,a,s){var l=document.getElementById(r),u=Cw(e,{fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"Regular"}),c=u.width+5;(t=t+c>n?t-(c+15):t,i=s?i-u.height/2:i+15,l)?(l.innerHTML=e,l.style.top=i.toString()+"px",l.style.left=(t+15).toString()+"px"):(l=vx("div",{innerHTML:e,id:r,styles:"top:"+i.toString()+"px;left:"+(t+15).toString()+'px;background-color: rgb(255, 255, 255) !important; color:black !important; position:absolute;border:1px solid rgb(112, 112, 112); padding-left : 3px; padding-right : 2px;padding-bottom : 2px; padding-top : 2px; font-size:12px; font-family: "Segoe UI"'}),o.appendChild(l),parseInt(l.style.left.replace("px",""),10)<0&&(l.style.left="0px"));a&&setTimeout((function(){VS(r)}),1500)}function HS(e,t){return e<t.max&&e>t.min}function GS(e,t){return e<=t.max&&e>=t.min}function qS(e,t){return"Logarithmic"===t.valueType?US(e,t.logBase):e}function ZS(e,t,i,n){var r=qS(t.xValue,n.xAxis),o=e?qS(e.xValue,n.xAxis):r,a=i?qS(i.xValue,n.xAxis):r,s=Math.floor(n.xAxis.visibleRange.min),l=Math.ceil(n.xAxis.visibleRange.max);return o>=s&&o<=l||r>=s&&r<=l||a>=s&&a<=l||s>=o&&s<=a}function XS(e){for(var t=0,i=0,n=e;i<n.length;i++){t+=n[i]}return t}function YS(e,t){return e.x+=t.left,e.y+=t.top,e.width-=t.left+t.right,e.height-=t.top+t.bottom,e}function $S(e,t,i){var n=e*Math.PI/180;return new Jk(Math.cos(n)*t+i.x,Math.sin(n)*t+i.y)}function KS(e){return e*(Math.PI/180)}function QS(e,t,i,n){for(var r=[],o=0;o<4;o++){var a=e[o],s=a.x-t,l=a.y-i,u=s*Math.cos(KS(n))-l*Math.sin(KS(n)),c=s*Math.sin(KS(n))+l*Math.cos(KS(n));a.x=u+t,a.y=c+i,r.push(new Jk(a.x,a.y))}return r}function JS(e,t){var i,n,r,o,a,s,l,u,c=[e,t];for(o=0;o<c.length;o++){var h=c[o];for(a=0;a<h.length;a++){var d=(a+1)%h.length,p=h[a],f=h[d],m=new Jk(f.y-p.y,p.x-f.x);for(i=n=void 0,s=0;s<e.length;s++)r=m.x*e[s].x+m.y*e[s].y,(wb(i)||r<i)&&(i=r),(wb(n)||r>n)&&(n=r);for(l=u=void 0,s=0;s<t.length;s++)r=m.x*t[s].x+m.y*t[s].y,(wb(l)||r<l)&&(l=r),(wb(u)||r>u)&&(u=r);if(n<l||u<i)return!1}}return!0}function ek(e,t){for(var i=[],n=0;n<=t-1;n++)i.push(e[n]);return i}function tk(e,t){var i=t.visibleRange,n=(e-i.min)/i.delta;return(t.isChart?t.isAxisInverse:t.isInversed)?1-n:n}function ik(e,t,i,n,r,o){e="Logarithmic"===i.valueType?US(e>1?e:1,i.logBase):e,t="Logarithmic"===n.valueType?US(t>1?t:1,n.logBase):t,e+="Category"===i.valueType&&"BetweenTicks"===i.labelPlacement&&"Radar"!==o.type?.5:0;var a=o.chart.radius*tk(t,n),s=function(e,t){t=t<0?t+360:t;var i=Math.PI*(1.5-2*e);return i+=t*Math.PI/180,{x:Math.cos(i),y:Math.sin(i)}}(rk(e,i),o.chart.primaryXAxis.startAngle);return{x:o.clipRect.width/2+o.clipRect.x+a*s.x,y:o.clipRect.height/2+o.clipRect.y+a*s.y}}function nk(e,t){void 0===t&&(t=!1);var i=["NaN","NaN"];return e.indexOf("_Point_")>-1?i=e.split("_Series_")[1].split("_Point_"):e.indexOf("_shape_")>-1&&(!t||t&&-1===e.indexOf("_legend_"))?(i=e.split("_shape_"))[0]="0":e.indexOf("_text_")>-1&&(!t||t&&-1===e.indexOf("_legend_"))&&((i=e.split("_text_"))[0]="0"),new yw(parseInt(i[0],10),parseInt(i[1],10))}function rk(e,t){var i,n,r=t.visibleRange;return"Category"!==t.valueType?(i=r.max-("DateTime"===t.valueType?t.dateTimeInterval:r.interval)-r.min,n=t.visibleLabels.length-1,i=0===i?1:i):(i=1===t.visibleLabels.length?1:t.visibleLabels[t.visibleLabels.length-1].value-t.visibleLabels[0].value,n=t.visibleLabels.length),t.isAxisInverse?(e-r.min)/i*(1-1/n):1-(e-r.min)/i*(1-1/n)}function ok(e,t,i,n,r){return void 0===n&&(n=0),void 0===r&&(r=0),e>=i.x-n&&e<=i.x+i.width+n&&t>=i.y-r&&t<=i.y+i.height+r}function ak(e){var t=e.clipRect;e.chart.requireInvertedAxis?(t.x=e.yAxis.rect.x,t.y=e.xAxis.rect.y,t.width=e.yAxis.rect.width,t.height=e.xAxis.rect.height):(t.x=e.xAxis.rect.x,t.y=e.yAxis.rect.y,t.width=e.xAxis.rect.width,t.height=e.yAxis.rect.height)}function sk(e){return e.substr(0,1).toLowerCase()+e.substr(1)}function lk(e,t){for(var i,n,r,o=Number.MAX_VALUE,a=0;a<t.length;a++){var s=t[a];if(i=[],s.visible&&(e.name===s.xAxisName||"primaryXAxis"===e.name&&null===s.xAxisName||e.name===s.chart.primaryXAxis.name&&!s.xAxisName))if((i=s.points.map((function(e){return e.xValue}))).sort((function(e,t){return e-t})),1===i.length)r="DateTime"===e.valueType&&s.xMin===s.xMax?s.xMin-2592e6:s.xMin,0!==(n=i[0]-(wb(r)?e.visibleRange.min:r))&&(o=Math.min(o,n));else for(var l=0;l<i.length;l++){var u=i[l];l>0&&u&&0!==(n=u-i[l-1])&&(o=Math.min(o,n))}}return o===Number.MAX_VALUE&&(o=1),o}function uk(e){var t;if("Linear"===e)t=ck;return t}function ck(e,t,i,n){return-i*Math.cos(e/n*(Math.PI/2))+i+t}function hk(e,t,i,n,r,o,a){var s=o.x,l=o.y,u=0;e.style.visibility="hidden",new Kx({}).animate(e,{duration:i,delay:t,progress:function(t){t.timeStamp>t.delay&&(t.element.style.visibility="visible",u=(t.timeStamp-t.delay)/t.duration,e.setAttribute("transform","translate("+s+" "+l+") scale("+u+") translate("+-s+" "+-l+")"))},end:function(){e.style.visibility="","Scatter"!==n.type&&"Bubble"!==n.type||a||r!==n.points.length-1||n.chart.trigger("animationComplete",{series:n.chart.isBlazor?{}:n})}})}function dk(e,t,i,n,r){if(!i||!n&&!e)return null;var o=300;r&&(o=r);var a,s,l,u=n||e.getAttribute("d"),c=u.split(/(?=[LMCZAQ])/),h=t.split(/(?=[LMCZAQ])/),d=[],p=[];e.setAttribute("d",u),new Kx({}).animate(vx("div"),{duration:o,progress:function(t){a="",c.map((function(e,i){if(d=e.split(" "),p=h[i]?h[i].split(" "):d,"Z"===d[0]?a+="Z ":a+=d[0]+" "+ck(t.timeStamp,+d[1],+p[1]-+d[1],t.duration)+" "+ck(t.timeStamp,+d[2],+p[2]-+d[2],t.duration)+" ","C"===d[0]||"Q"===d[0])for(s=3,l="Q"===d[0]?4:6;s<l;)a+=ck(t.timeStamp,+d[s],+p[s]-+d[s],t.duration)+" "+ck(t.timeStamp,+d[++s],+p[s]-+d[s],t.duration)+" ",++s;"A"===d[0]&&(a+="0 0 1 "+ck(t.timeStamp,+d[6],+p[6]-+d[6],t.duration)+" "+ck(t.timeStamp,+d[7],+p[7]-+d[7],t.duration)+" ")})),e.setAttribute("d",a)},end:function(){e.setAttribute("d",t)}})}function pk(e,t,i,n){void 0===n&&(n="drawClipPath");var r=jk(e,t.id,t,i);if(r){var o=i.createDefs();return o.appendChild(r),o}return i[n](t)}function fk(e,t,i,n,r){var o={cancel:!1,name:Jw,axis:r,text:i,value:t,labelStyle:n};if(e.trigger(Jw,o),!o.cancel){var a=-1!==o.text.indexOf("<br>"),s=r.enableTrim?a?function(e,t,i){for(var n=[],r=t.split("<br>"),o=0;o<r.length;o++){var a=Cw(t=r[o],i).width;if(a>e){for(var s=t.length-1;s>=0;--s)if((a=Cw(t=t.substring(0,s)+"...",i).width)<=e){n.push(t);break}}else n.push(t)}return n}(r.maximumLabelWidth,o.text,r.labelStyle):Fk(r.maximumLabelWidth,o.text,r.labelStyle):o.text;r.visibleLabels.push(new zS(s,o.value,o.labelStyle,o.text))}}function mk(e){return null!=e.minimum&&null!=e.maximum}function gk(e){return e.zoomFactor<1&&e.zoomPosition>=0}function yk(e,t){var i="Horizontal"===t.orientation?e.width:e.height;if(wb(t.desiredIntervals)){var n=("Horizontal"===t.orientation?.533:1)*t.maximumLabels;return n=Math.max(i*(n/100),1)}return t.desiredIntervals}function vk(e,t,i,n,r){new Kx({}).animate(e,{duration:i,delay:t,name:n,progress:function(e){e.element.style.visibility="visible"},end:function(e){r?kx(e.element):e.element.style.visibility="visible"}})}function bk(e,t,i,n,r,o,a,s,l,u){var c=a||new ww(""),h=function(e,t,i,n,r,o,a){var s,l,u,c="Path",h=o,d=h&&"Circle"===i?t.width-2:t.width,p=h&&"Circle"===i?t.height-2:t.height,f=h?a.targetWidth:0,m=e.x,g=e.y,y=e.y+-p/2,v=e.x+-d/2,b=72;switch(i){case"Bubble":case"Circle":c="Ellipse",xb(n,{rx:d/2,ry:p/2,cx:m,cy:g});break;case"Cross":xb(n,{d:s="M "+v+" "+g+" L "+(m+d/2)+" "+g+" M "+m+" "+(g+p/2)+" L "+m+" "+(g+-p/2),stroke:n.fill});break;case"Multiply":xb(n,{d:s="M "+(m-f)+" "+(g-f)+" L "+(m+f)+" "+(g+f)+" M "+(m-f)+" "+(g+f)+" L "+(m+f)+" "+(g-f),stroke:n.fill});break;case"HorizontalLine":xb(n,{d:s="M "+v+" "+g+" L "+(m+d/2)+" "+g});break;case"VerticalLine":xb(n,{d:s="M "+m+" "+(g+p/2)+" L "+m+" "+(g+-p/2)});break;case"Diamond":xb(n,{d:s="M "+v+" "+g+" L "+m+" "+(g+-p/2)+" L "+(m+d/2)+" "+g+" L "+m+" "+(g+p/2)+" L "+v+" "+g+" z"});break;case"ActualRect":xb(n,{d:s="M "+v+" "+(g+-p/8)+" L "+(m+f)+" "+(g+-p/8)+" L "+(m+f)+" "+(g+p/8)+" L "+v+" "+(g+p/8)+" L "+v+" "+(g+-p/8)+" z"});break;case"TargetRect":xb(n,{d:s="M "+(v+f)+" "+(g+-p/2)+" L "+(m+f/2)+" "+(g+-p/2)+" L "+(m+f/2)+" "+(g+p/2)+" L "+(v+f)+" "+(g+p/2)+" L "+(v+f)+" "+(g+-p/2)+" z"});break;case"Rectangle":case"Hilo":case"HiloOpenClose":case"Candle":case"Waterfall":case"BoxAndWhisker":case"StepArea":case"StackingStepArea":case"Square":case"Flag":xb(n,{d:s="M "+v+" "+(g+-p/2)+" L "+(m+d/2)+" "+(g+-p/2)+" L "+(m+d/2)+" "+(g+p/2)+" L "+v+" "+(g+p/2)+" L "+v+" "+(g+-p/2)+" z"});break;case"Pyramid":case"Triangle":xb(n,{d:s="M "+v+" "+(g+p/2)+" L "+m+" "+(g+-p/2)+" L "+(m+d/2)+" "+(g+p/2)+" L "+v+" "+(g+p/2)+" z"});break;case"Funnel":case"InvertedTriangle":xb(n,{d:s="M "+(m+d/2)+" "+(g-p/2)+" L "+m+" "+(g+p/2)+" L "+(m-d/2)+" "+(g-p/2)+" L "+(m+d/2)+" "+(g-p/2)+" z"});break;case"Pentagon":for(var x=0;x<=5;x++)l=d/2*Math.cos(Math.PI/180*(x*b)),u=p/2*Math.sin(Math.PI/180*(x*b)),s=0===x?"M "+(m+l)+" "+(g+u)+" ":s.concat("L "+(m+l)+" "+(g+u)+" ");xb(n,{d:s=s.concat("Z")});break;case"Image":c="Image",xb(n,{href:r,height:p,width:d,x:v,y:y})}return n=function(e,t,i,n){var r=10,o="",a=2,s=t.height,l=t.width,u=e.x,c=e.y;switch(i){case"MultiColoredLine":case"Line":case"StackingLine":case"StackingLine100":xb(n,{d:o="M "+(u+-l/2)+" "+c+" L "+(u+l/2)+" "+c});break;case"StepLine":n.fill="transparent",xb(n,{d:o="M "+(u+-l/2-r/4)+" "+(c+s/2)+" L "+(u+-l/2+l/10)+" "+(c+s/2)+" L "+(u+-l/2+l/10)+" "+c+" L "+(u+-l/10)+" "+c+" L "+(u+-l/10)+" "+(c+s/2)+" L "+(u+l/5)+" "+(c+s/2)+" L "+(u+l/5)+" "+(c+-s/2)+" L "+(u+l/2)+" "+(c+-s/2)+"L "+(u+l/2)+" "+(c+s/2)+" L"+(u+l/2+r/4)+" "+(c+s/2)});break;case"UpArrow":n.fill=n.stroke,n.stroke="transparent",xb(n,{d:o="M "+(u+-l/2)+" "+(c+s/2)+" L "+u+" "+(c-s/2)+" L "+(u+l/2)+" "+(c+s/2)+"L "+(u+l/2-a)+" "+(c+s/2)+" L "+u+" "+(c-s/2+2*a)+"L"+(u-l/2+a)+" "+(c+s/2)+" Z"});break;case"DownArrow":xb(n,{d:o="M "+(u-l/2)+" "+(c-s/2)+" L "+u+" "+(c+s/2)+" L "+(u+l/2)+" "+(c-s/2)+"L "+(u+l/2-a)+" "+(c-s/2)+" L "+u+" "+(c+s/2-2*a)+"L"+(u-l/2+a)+" "+(c-s/2)+" Z"});break;case"RightArrow":xb(n,{d:o="M "+(u+-l/2)+" "+(c-s/2)+" L "+(u+l/2)+" "+c+" L "+(u+-l/2)+" "+(c+s/2)+" L "+(u+-l/2)+" "+(c+s/2-a)+" L "+(u+l/2-2*a)+" "+c+" L"+(u+-l/2)+" "+(c-s/2+a)+" Z"});break;case"LeftArrow":n.fill=n.stroke,n.stroke="transparent",xb(n,{d:o="M "+(u+l/2)+" "+(c-s/2)+" L "+(u+-l/2)+" "+c+" L "+(u+l/2)+" "+(c+s/2)+" L "+(u+l/2)+" "+(c+s/2-a)+" L "+(u+-l/2+2*a)+" "+c+" L"+(u+l/2)+" "+(c-s/2+a)+" Z"});break;case"Column":case"Pareto":case"StackingColumn":case"StackingColumn100":case"RangeColumn":case"Histogram":xb(n,{d:o="M "+(u-l/5*3)+" "+(c-s/5)+" L "+(u+-l/10*3)+" "+(c-s/5)+" L "+(u+-l/10*3)+" "+(c+s/2)+" L "+(u-l/5*3)+" "+(c+s/2)+" Z M "+(u+-l/10-l/20)+" "+(c-s/4-r/2)+" L "+(u+l/10+l/20)+" "+(c-s/4-r/2)+" L "+(u+l/10+l/20)+" "+(c+s/2)+" L "+(u+-l/10-l/20)+" "+(c+s/2)+" Z M "+(u+l/10*3)+" "+c+" L "+(u+l/5*3)+" "+c+" L "+(u+l/5*3)+" "+(c+s/2)+" L "+(u+l/10*3)+" "+(c+s/2)+" Z"});break;case"Bar":case"StackingBar":case"StackingBar100":xb(n,{d:o="M "+(u+-l/2+-r/4)+" "+(c-s/5*3)+" L "+(u+l/10*3)+" "+(c-s/5*3)+" L "+(u+l/10*3)+" "+(c-s/10*3)+" L "+(u-l/2+-r/4)+" "+(c-s/10*3)+" Z M "+(u+-l/2+-r/4)+" "+(c-s/5+r/20)+" L "+(u+l/2+r/4)+" "+(c-s/5+r/20)+" L "+(u+l/2+r/4)+" "+(c+s/10+r/20)+" L "+(u-l/2+-r/4)+" "+(c+s/10+r/20)+" Z M "+(u-l/2+-r/4)+" "+(c+s/5+r/10)+" L "+(u+-l/4)+" "+(c+s/5+r/10)+" L "+(u+-l/4)+" "+(c+s/2+r/10)+" L "+(u-l/2+-r/4)+" "+(c+s/2+r/10)+" Z"});break;case"Spline":n.fill="transparent",xb(n,{d:o="M "+(u-l/2)+" "+(c+s/5)+" Q "+u+" "+(c-s)+" "+u+" "+(c+s/5)+" M "+u+" "+(c+s/5)+" Q "+(u+l/2)+" "+(c+s/2)+" "+(u+l/2)+" "+(c-s/2)});break;case"Area":case"MultiColoredArea":case"RangeArea":case"StackingArea":case"StackingArea100":xb(n,{d:o="M "+(u-l/2-r/4)+" "+(c+s/2)+" L "+(u+-l/4+-r/8)+" "+(c-s/2)+" L "+u+" "+(c+s/4)+" L "+(u+l/4+r/8)+" "+(c+-s/2+s/4)+" L "+(u+s/2+r/4)+" "+(c+s/2)+" Z"});break;case"SplineArea":case"SplineRangeArea":xb(n,{d:o="M "+(u-l/2)+" "+(c+s/5)+" Q "+u+" "+(c-s)+" "+u+" "+(c+s/5)+" Z M "+u+" "+(c+s/5)+" Q "+(u+l/2)+" "+(c+s/2)+" "+(u+l/2)+" "+(c-s/2)+"  Z"});break;case"Pie":case"Doughnut":n.stroke="transparent",o=function(e,t,i,n,r,o){var a=$S(270,i,new Jk(e,t)),s=$S(270,i,new Jk(e+r/10,t));return"M "+e+" "+t+" L "+(e+i)+" "+t+" A "+i+" "+i+" 0 1 1 "+a.x+" "+a.y+" Z M "+(e+r/10)+" "+(t-n/10)+" L"+(e+i)+" "+(t-n/10)+" A "+i+" "+i+" 0 0 0 "+s.x+" "+s.y+" Z"}(u,c,Math.min(s,l)/2,s,l),xb(n,{d:o})}return{renderOption:n}}(e,new Ew(d,p),i,n).renderOption,{renderOption:n,functionName:c}}(e,i,t,r,n,l,u);return c["draw"+h.functionName](h.renderOption,s?new Int32Array([s.x,s.y]):null)}function xk(e){return document.getElementById(e)}function _k(e,t,i,n,r,o,a,s,l,u){var c=e.getBoundingClientRect();t.accumulationDataLabelModule.calculateLabelSize(i,e,o,n,r,a,s,l,u,c,!0)}function wk(e,t,i,n,r,o){var a=document.getElementById(t.element.id+"_Series_"+(void 0===n.index?n.category:n.index)+"_DataLabelCollections");a&&(0===i.index&&(t.dataLabelCollections=[]),t.dataLabelModule.calculateTemplateLabelSize(a,e,i,n,n.marker.dataLabel,r,n.clipRect,o,!0))}function Sk(e,t,i,n,r,o,a,s,l,u,c,h,d,p,f){var m,g=function(e){var t=null;try{document.querySelectorAll(e).length&&(t=Y_(document.querySelector(e).innerHTML.trim()))}catch(i){t=Y_(e)}return t}(i);try{var y=window.Blazor?a?r:{point:r}:{chart:n,series:o,point:r},v=g?g(y,n,a?a+"_template":"template",a||e.id.replace(/[^a-zA-Z0-9]/g,"")):[];if(v.length)for(var b=(m=Array.prototype.slice.call(v)).length,x=0;x<b;x++)e.appendChild(m[x]);var _=void 0;"accumulationchart"===n.getModuleName()?(_=_k.bind(this,e,n,u,c,l,c[t],h,d,p,f),n.isReact&&n.renderReactTemplates(_)):"chart"===n.getModuleName()&&(_=r&&o?wk.bind(this,e,n,r,o,s,f):_,n.isReact&&n.renderReactTemplates(_))}catch(w){return e}return e}function kk(e){return"font-size:"+e.size+"; font-style:"+e.fontStyle+"; font-weight:"+e.fontWeight+"; font-family:"+e.fontFamily+";opacity:"+e.opacity+"; color:"+e.color+";"}function Ck(e,t,i){void 0===t&&(t=!1),i||document.body.appendChild(e);var n=e.getBoundingClientRect();return t?kx(e):i||VS(e.id),n}function Tk(e,t,i,n,r){e="Logarithmic"===i.valueType?US(e>0?e:Math.pow(i.logBase,i.visibleRange.min),i.logBase):e,t="Logarithmic"===n.valueType?US(t>0?t:Math.pow(n.logBase,n.visibleRange.min),n.logBase):t,e=tk(e,i),t=tk(t,n);var o=r?i.rect.height:i.rect.width,a=r?n.rect.width:n.rect.height;return new Jk(r?t*a:e*o,r?(1-e)*o:(1-t)*a)}function Ek(e,t,i,n,r,o,a,s,l,u,c,h,d){if(void 0===r&&(r=!1),void 0===o&&(o="x"),void 0===a&&(a="y"),void 0===u&&(u=!1),void 0===c&&(c=!1),void 0===h&&(h=null),e)return null;var p=t.querySelector("#"+i.id),f=p||xk(i.id),m=i,g=d||300;if(n&&r&&f)if(s=s||("DIV"===f.tagName?new Jk(+f.style[o].split("px")[0],+f.style[a].split("px")[0]):new Jk(+f.getAttribute(o),+f.getAttribute(a))),l&&"undefined"!==l)dk(i,i.getAttribute("d"),n,l,g);else if(c&&h)!function(e,t,i,n,r){var o=function(t){e.setAttribute("x",t.x+""),e.setAttribute("y",t.y+""),e.setAttribute("width",t.width+""),e.setAttribute("height",t.height+"")};new Kx({}).animate(vx("div"),{duration:i,delay:t,progress:function(e){o(new Aw(ck(e.timeStamp,r.x,n.x-r.x,e.duration),ck(e.timeStamp,r.y,n.y-r.y,e.duration),ck(e.timeStamp,r.width,n.width-r.width,e.duration),ck(e.timeStamp,r.height,n.height-r.height,e.duration)))},end:function(){o(n)}})}(m,0,g,new Aw(+f.getAttribute("x"),+f.getAttribute("y"),+f.getAttribute("width"),+f.getAttribute("height")),h);else{var y="DIV"===m.tagName?new Jk(+m.style[o].split("px")[0],+m.style[a].split("px")[0]):new Jk(+m.getAttribute(o),+m.getAttribute(a));!function(e,t,i,n,r,o){void 0===r&&(r="x");void 0===o&&(o="y");var a="DIV"===e.tagName,s=function(t,i){a?(e.style[r]=t+"px",e.style[o]=i+"px"):(e.setAttribute(r,t+""),e.setAttribute(o,i+""))};s(i.x,i.y),new Kx({}).animate(vx("div"),{duration:t,progress:function(e){s(ck(e.timeStamp,i.x,n.x-i.x,e.duration),ck(e.timeStamp,i.y,n.y-i.y,e.duration))},end:function(){s(n.x,n.y)}})}(m,g,s,y,o,a)}else n&&r&&!f&&u&&vk(m,0,600,"FadeIn");p?t.replaceChild(m,f):t.appendChild(m)}function Ak(e,t,i){var n=t.yAxis.labelFormat,r=[],o=null!==n.match("{value}");switch(t.seriesType){case"XY":"PolarRadar"===t.chart.chartAreaType?-1!==t.drawType.indexOf("Stacking")?("Logarithmic"===t.yAxis.valueType&&qS(t.stackedValues.endValues[e.index],t.yAxis)||GS(t.stackedValues.endValues[e.index],t.yAxis.visibleRange))&&r.push(e.text||e.yValue.toString()):("Logarithmic"===t.yAxis.valueType&&qS(e.yValue,t.yAxis)||GS(e.yValue,t.yAxis.visibleRange))&&r.push(e.text||e.yValue.toString()):r.push(e.text||e.yValue.toString());break;case"HighLow":r.push(e.text||Math.max(e.high,e.low).toString()),r.push(e.text||Math.min(e.high,e.low).toString());break;case"HighLowOpenClose":r.push(e.text||Math.max(e.high,e.low).toString()),r.push(e.text||Math.min(e.high,e.low).toString()),r.push(e.text||Math.max(e.open,e.close).toString()),r.push(e.text||Math.min(e.open,e.close).toString());break;case"BoxPlot":r.push(e.text||e.median.toString()),r.push(e.text||e.maximum.toString()),r.push(e.text||e.minimum.toString()),r.push(e.text||e.upperQuartile.toString()),r.push(e.text||e.lowerQuartile.toString());for(var a=0,s=e.outliers;a<s.length;a++){var l=s[a];r.push(e.text||l.toString())}}if(n&&!e.text){t.yAxis.format=i.intl.getNumberFormat({format:o?"":n,useGrouping:i.useGroupingSeparator});for(var u=0;u<r.length;u++)r[u]=o?n.replace("{value}",t.yAxis.format(parseFloat(r[u]))):t.yAxis.format(parseFloat(r[u]))}return r}function Pk(e){window.clearInterval(e)}function Mk(e,t,i){var n=new Aw(e.x+i.x,e.y+i.y,e.width,e.height),r=t.some((function(e){return n.x<e.x+e.width&&n.x+n.width>e.x&&n.y<e.y+e.height&&n.height+n.y>e.y}));return r}function Lk(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.height+e.y>t.y}function Ok(e,t,i){return new Aw(e.x-t.width/2-i.left,e.y-t.height/2-i.top,t.width+i.left+i.right,t.height+i.top+i.bottom)}function Rk(e){return"#"+Ik(e.r)+Ik(e.g)+Ik(e.b)}function Ik(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function Dk(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?new tC(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)):new tC(255,255,255)}function zk(e){e="transparent"===e?"white":e,document.body.appendChild(vx("text",{id:"chartmeasuretext"}));var t=document.getElementById("chartmeasuretext");t.style.color=e,e=window.getComputedStyle(t).color,kx(t);var i=/^(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/.exec(e);return Rk(new tC(parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10)))}function Bk(e,t){(e=(e=zk(e)).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;for(var i,n="#",r=0;r<3;r++)i=parseInt(e.substr(2*r,2),16),n+=("00"+(i=Math.round(Math.min(Math.max(0,i+i*t),255))).toString(16)).substr(i.toString(16).length);return n}function Fk(e,t,i){var n=t,r=Cw(t,i).width;if(r>e)for(var o=t.length-1;o>=0;--o)if((r=Cw(n=t.substring(0,o)+"...",i).width)<=e)return n;return n}function Nk(e,t){return null!==e&&void 0!==e?-1!==e.indexOf("%")?t/100*parseInt(e,10):parseInt(e,10):null}function jk(e,t,i,n){if(!e)return null;var r=xk(t);return r&&i&&n.setElementAttributes(i,"clipPath"===r.tagName?r.childNodes[0]:r),r}function Vk(e,t,i,n,r,o,a,s,l,u,c,h,d,p){void 0===o&&(o=!1),void 0===l&&(l=!1);var f,m,g,y,v;f={id:t.id,x:t.x,y:t.y,fill:n||"black","font-size":i.size,"font-style":i.fontStyle,"font-family":i.fontFamily,"font-weight":i.fontWeight,"text-anchor":t.anchor,labelRotation:t.labelRotation,transform:t.transform,opacity:i.opacity,"dominant-baseline":t.baseLine};var b="string"===typeof t.text?t.text:o?t.text[t.text.length-1]:t.text[0],x=c?c.x:0,_=c?c.y:0,w=e.createText(f,b,x,_);if(w.style.fontFamily=i.fontFamily,w.style.fontStyle=i.fontStyle,w.style.fontSize=i.size,w.style.fontWeight=i.fontWeight,w.style.color=i.color,w.style.textAnchor=t.anchor,"string"!==typeof t.text&&t.text.length>1)for(var S=1,k=t.text.length;S<k;S++)g=Cw(t.text[S],i).height,y=t.y+(o?-S*g:S*g),v=o?t.text[t.text.length-(S+1)]:t.text[S],p?m=e.createText(f,v,null,null,y,!0):(m=e.createTSpan({x:t.x,id:t.id,y:y},v),w.appendChild(m));return d||Ek(e instanceof Sw,r,w,a,s,"x","y",null,null,l,!1,null,u),w}function Uk(e){var t=e.element.clientWidth||e.element.offsetWidth,i=e.element.clientHeight;e.stockChart&&(t=e.stockChart.availableSize.width,i=e.stockChart.availableSize.height);var n,r=450;if("rangeNavigator"===e.getModuleName()){var o=e,a=o.tooltip.enable?35:0,s=o.periodSelectorSettings.periods.length?o.periodSelectorSettings.height:0;n=o.margin.top+o.margin.bottom+a;var l=Cw("tempString",o.labelStyle).height;r=(e.series.length?mx.isDevice?80:120:(o.enableGrouping?55+l:40)+n)+s,o.disableRangeSelector&&(r=s)}e.availableSize=new Ew(Nk(e.width,t)||t||600,Nk(e.height,i||r)||i||r)}function Wk(e){e.canvasRender=new Sw(e.element.id),e.renderer=e.enableCanvas?e.canvasRender:new ww(e.element.id),Uk(e),e.stockChart&&"chart"===e.getModuleName()?e.svgObject=e.stockChart.chartObject:e.stockChart&&"rangeNavigator"===e.getModuleName()?e.svgObject=e.stockChart.selectorObject:e.enableCanvas?e.svgObject=e.renderer.createCanvas({id:e.element.id+"_canvas",width:e.availableSize.width,height:e.availableSize.height}):e.svgObject=e.renderer.createSvg({id:e.element.id+"_svg",width:e.availableSize.width,height:e.availableSize.height}),e.enableCanvas&&(e.renderer.ctx.direction=e.enableRtl?"rtl":"ltr")}function Hk(e,t,i){var n=[];switch(t.textOverflow){case"Wrap":n=qk(e,i,t);break;case"Trim":n.push(Fk(i,e,t));break;default:n.push(e)}return n}function Gk(e,t){return"Near"===t.textAlignment?e.x:"Center"===t.textAlignment?e.x+e.width/2:e.x+e.width}function qk(e,t,i){for(var n,r=e.split(" "),o="",a=[],s=0,l=r.length;s<l;s++)n=r[s],Cw(o.concat(n),i).width<t?o=o.concat((""===o?"":" ")+n):""!==o?(a.push(Fk(t,o,i)),o=n):(a.push(Fk(t,n,i)),n=""),o&&s===l-1&&a.push(Fk(t,o,i));return a}function Zk(e,t){for(var i=e.replace(t," "),n=e.match(t),r=" ",o=" ",a=0,s={0:"\u2080",1:"\u2081",2:"\u2082",3:"\u2083",4:"\u2084",5:"\u2085",6:"\u2086",7:"\u2087",8:"\u2088",9:"\u2089"},l={0:"\u2070",1:"\xb9",2:"\xb2",3:"\xb3",4:"\u2074",5:"\u2075",6:"\u2076",7:"\u2077",8:"\u2078",9:"\u2079"},u=0;u<=i.length-1;u++)if(" "===i[u]){r=t===pS?n[a].replace(/~/g,""):n[a].replace(/\^/g,"");for(var c=0;c<r.length;c++)o+=t===pS?s[r[c]]:l[r[c]];a++}else o+=i[u];return o.trim()}function Xk(e){for(var t=0;t<e.annotations.length;t++)K_((e.element.id+"_Annotation_"+t).replace(/[^a-zA-Z0-9]/g,""));K_(e.element.id+"_tooltipparent_template_blazorTemplate"),K_(e.element.id+"_DataLabel")}var Yk=function(e,t){this.startValues=e,this.endValues=t},$k=function(e){function t(t,i,n,r,o,a,s,l,u){var c=e.call(this,t,i,n.width,n.color,r,u)||this;return c.y=o.y,c.x=o.x,c.height=o.height,c.width=o.width,c.rx=a||0,c.ry=s||0,c.transform=l||"",c.stroke=0!==n.width&&""!==c.stroke?n.color:"transparent",c}return BS(t,e),t}(Dw),Kk=function(e,t,i,n,r,o,a,s){this.height=e,this.width=t,this.href=i,this.x=n,this.y=r,this.id=o,this.visibility=a,this.preserveAspectRatio=s},Qk=function(e){function t(t,i,n,r,o,a,s){var l=e.call(this,t,i,n.width,n.color,r)||this;return l.cy=a,l.cx=o,l.r=s,l}return BS(t,e),t}(Dw),Jk=function(e,t){this.x=e,this.y=t},eC=function(e,t,i,n){this.left=e,this.right=t,this.top=i,this.bottom=n},tC=function(e,t,i){this.r=e,this.g=t,this.b=i},iC=function(e,t,i){void 0===i&&(i=0),this.point=e,this.series=t,this.lierIndex=i};function nC(e,t){var i,n="";return Number(t)===e.start?n=e.colors[0]:Number(t)===e.end?n=e.colors[e.colors.length-1]:(i=function(e,t){var i,n,r=t.start,o=t.end,a=0,s=o-r;if(a=(e-r)/s,t.colors.length<=2)i="#"===t.colors[0].charAt(0)?t.colors[0]:zk(t.colors[0]),n="#"===t.colors[t.colors.length-1].charAt(0)?t.colors[t.colors.length-1]:zk(t.colors[t.colors.length-1]);else{i="#"===t.colors[0].charAt(0)?t.colors[0]:zk(t.colors[0]),n="#"===t.colors[t.colors.length-1].charAt(0)?t.colors[t.colors.length-1]:zk(t.colors[t.colors.length-1]);for(var l=s/(t.colors.length-1),u=t.colors.length-1,c=[],h={},d=1;d<u;d++)h={b:r+d*l,color:t.colors[d]},c.push(h);for(var p=0;p<c.length;p++)r<=e&&e<=c[p].b&&0===p?(n="#"===c[p].color.charAt(0)?c[p].color:zk(c[p].color),a=e<=c[p].b?1-Math.abs((e-c[p].b)/l):(e-c[p].b)/l):c[p].b<=e&&e<=o&&p===c.length-1&&(i="#"===c[p].color.charAt(0)?c[p].color:zk(c[p].color),a=e<c[p].b?1-Math.abs((e-c[p].b)/l):(e-c[p].b)/l),p!==c.length-1&&p<c.length&&c[p].b<=e&&e<=c[p+1].b&&(i="#"===c[p].color.charAt(0)?c[p].color:zk(c[p].color),n="#"===c[p+1].color.charAt(0)?c[p+1].color:zk(c[p+1].color),a=Math.abs(e-c[p+1].b)/l)}return function(e,t,i){var n=i.split("#")[1],r=t.split("#")[1],o=rC(e,parseInt(r.substr(0,2),16),parseInt(n.substr(0,2),16)),a=rC(e,parseInt(r.substr(2,2),16),parseInt(n.substr(2,2),16)),s=rC(e,parseInt(r.substr(4,2),16),parseInt(n.substr(4,2),16));return new tC(o,a,s)}(a,i,n)}(Number(t),e),n=Rk(i)),n}function rC(e,t,i){var n=i-t;return Math.round(t+n*e)}function oC(e,t){switch(e){case"Near":return t?"end":"start";case"Far":return t?"start":"end";default:return"middle"}}var aC,sC,lC,uC,cC,hC,dC=function(){function e(e){return this.subQuery=null,this.isChild=!1,this.distincts=[],this.queries=[],this.key="",this.fKey="","string"===typeof e?this.fromTable=e:e&&e instanceof Array&&(this.lookups=e),this.expands=[],this.sortedColumns=[],this.groupedColumns=[],this.subQuery=null,this.isChild=!1,this.params=[],this.lazyLoad=[],this}return e.prototype.setKey=function(e){return this.key=e,this},e.prototype.using=function(e){return this.dataManager=e,this},e.prototype.execute=function(e,t,i,n){return(e=e||this.dataManager)?e.executeQuery(this,t,i,n):TC.throwError('Query - execute() : dataManager needs to be is set using "using" function or should be passed as argument')},e.prototype.executeLocal=function(e){return(e=e||this.dataManager)?e.executeLocal(this):TC.throwError('Query - executeLocal() : dataManager needs to be is set using "using" function or should be passed as argument')},e.prototype.clone=function(){var t=new e;return t.queries=this.queries.slice(0),t.key=this.key,t.isChild=this.isChild,t.dataManager=this.dataManager,t.fromTable=this.fromTable,t.params=this.params.slice(0),t.expands=this.expands.slice(0),t.sortedColumns=this.sortedColumns.slice(0),t.groupedColumns=this.groupedColumns.slice(0),t.subQuerySelector=this.subQuerySelector,t.subQuery=this.subQuery,t.fKey=this.fKey,t.isCountRequired=this.isCountRequired,t.distincts=this.distincts.slice(0),t.lazyLoad=this.lazyLoad.slice(0),t},e.prototype.from=function(e){return this.fromTable=e,this},e.prototype.addParams=function(e,t){return"function"===typeof t?this.params.push({key:e,fn:t}):this.params.push({key:e,value:t}),this},e.prototype.distinct=function(e){return this.distincts="string"===typeof e?[].slice.call([e],0):e.slice(0),this},e.prototype.expand=function(e){return this.expands="string"===typeof e?[].slice.call([e],0):e.slice(0),this},e.prototype.where=function(e,t,i,n,r){t=t?t.toLowerCase():null;var o=null;return"string"===typeof e?o=new pC(e,t,i,n,r):e instanceof pC&&(o=e),this.queries.push({fn:"onWhere",e:o}),this},e.prototype.search=function(e,t,i,n,r){"string"===typeof t&&(t=[t]),i&&"none"!==i||(i="contains");var o=TC.fnOperators[i];return this.queries.push({fn:"onSearch",e:{fieldNames:t,operator:i,searchKey:e,ignoreCase:n,ignoreAccent:r,comparer:o}}),this},e.prototype.sortBy=function(e,t,i){return this.sortByForeignKey(e,t,i)},e.prototype.sortByForeignKey=function(t,i,n,r){var o,a,s=wb(r)?"ascending":r;if("string"===typeof t&&TC.endsWith(t.toLowerCase()," desc")&&(t=t.replace(/ desc$/i,""),i="descending"),i&&"string"!==typeof i||(s=i?i.toLowerCase():"ascending",i=TC.fnSort(i)),n){o=e.filterQueries(this.queries,"onSortBy");for(var l=0;l<o.length;l++)if("string"===typeof(a=o[l].e.fieldName)){if(a===t)return this}else if(a instanceof Array)for(var u=0;u<a.length;u++)if(a[u]===t||t.toLowerCase()===a[u]+" desc")return this}return this.queries.push({fn:"onSortBy",e:{fieldName:t,comparer:i,direction:s}}),this},e.prototype.sortByDesc=function(e){return this.sortBy(e,"descending")},e.prototype.group=function(e,t,i){return this.sortBy(e,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:e,comparer:t||null,format:i||null}}),this},e.prototype.page=function(e,t){return this.queries.push({fn:"onPage",e:{pageIndex:e,pageSize:t}}),this},e.prototype.range=function(e,t){return this.queries.push({fn:"onRange",e:{start:e,end:t}}),this},e.prototype.take=function(e){return this.queries.push({fn:"onTake",e:{nos:e}}),this},e.prototype.skip=function(e){return this.queries.push({fn:"onSkip",e:{nos:e}}),this},e.prototype.select=function(e){return"string"===typeof e&&(e=[].slice.call([e],0)),this.queries.push({fn:"onSelect",e:{fieldNames:e}}),this},e.prototype.hierarchy=function(e,t){return this.subQuerySelector=t,this.subQuery=e,this},e.prototype.foreignKey=function(e){return this.fKey=e,this},e.prototype.requiresCount=function(){return this.isCountRequired=!0,this},e.prototype.aggregate=function(e,t){return this.queries.push({fn:"onAggregates",e:{field:t,type:e}}),this},e.filterQueries=function(e,t){return e.filter((function(e){return e.fn===t}))},e.filterQueryLists=function(e,t){for(var i=e.filter((function(e){return-1!==t.indexOf(e.fn)})),n={},r=0;r<i.length;r++)n[i[r].fn]||(n[i[r].fn]=i[r].e);return n},e}(),pC=function(){function e(t,i,n,r,o){return void 0===r&&(r=!1),this.ignoreAccent=!1,this.isComplex=!1,"string"===typeof t?(this.field=t,this.operator=i.toLowerCase(),this.value=n,this.ignoreCase=r,this.ignoreAccent=o,this.isComplex=!1,this.comparer=TC.fnOperators.processOperator(this.operator)):(t instanceof e&&n instanceof e||n instanceof Array)&&(this.isComplex=!0,this.condition=i.toLowerCase(),this.predicates=[t],n instanceof Array?[].push.apply(this.predicates,n):this.predicates.push(n)),this}return e.and=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.combinePredicates([].slice.call(t,0),"and")},e.prototype.and=function(t,i,n,r,o){return e.combine(this,t,i,n,"and",r,o)},e.or=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.combinePredicates([].slice.call(t,0),"or")},e.prototype.or=function(t,i,n,r,o){return e.combine(this,t,i,n,"or",r,o)},e.fromJson=function(e){if(e instanceof Array){for(var t=[],i=0,n=e.length;i<n;i++)t.push(this.fromJSONData(e[i]));return t}var r=e;return this.fromJSONData(r)},e.prototype.validate=function(e){var t,i,n=this.predicates?this.predicates:[];if(!this.isComplex&&this.comparer)return this.comparer.call(this,TC.getObject(this.field,e),this.value,this.ignoreCase,this.ignoreAccent);t="and"===this.condition;for(var r=0;r<n.length;r++)if(i=n[r].validate(e),t){if(!i)return!1}else if(i)return!0;return t},e.prototype.toJson=function(){var e,t;if(this.isComplex){e=[],t=this.predicates;for(var i=0;i<t.length;i++)e.push(t[i].toJson())}return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,ignoreAccent:this.ignoreAccent,condition:this.condition,predicates:e}},e.combinePredicates=function(t,i){if(1===t.length){if(!(t[0]instanceof Array))return t[0];t=t[0]}return new e(t[0],i,t.slice(1))},e.combine=function(t,i,n,r,o,a,s){return i instanceof e?e[o](t,i):"string"===typeof i?e[o](t,new e(i,n,r,a,s)):TC.throwError("Predicate - "+o+" : invalid arguments")},e.fromJSONData=function(t){for(var i=t.predicates||[],n=i.length,r=[],o=0;o<n;o++)r.push(this.fromJSONData(i[o]));return t.isComplex?new e(r[0],t.condition,r.slice(1)):new e(t.field,t.operator,t.value,t.ignoreCase,t.ignoreAccent)},e}(),fC=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),mC={GroupGuid:"{271bbba0-1ee7}"},gC=function(){function e(t){this.options={from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates",expand:"expand"},this.type=e,this.dataSource=t,this.pvt={}}return e.prototype.processResponse=function(e,t,i,n){return e},e}(),yC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fC(t,e),t.prototype.processQuery=function(e,t){for(var i,n,r,o=e.dataSource.json.slice(0),a=o.length,s=!0,l={},u=0,c=[],h=0;h<t.lazyLoad.length;h++)u++,l[t.lazyLoad[h].key]=t.lazyLoad[h].value;var d={};for(h=0;h<t.queries.length;h++)"onPage"!==(n=t.queries[h]).fn&&"onGroup"!==n.fn||!t.lazyLoad.length?(i=this[n.fn].call(this,o,n.e,t),"onAggregates"===n.fn?d[n.e.field+" - "+n.e.type]=i:o=void 0!==i?i:o,"onPage"!==n.fn&&"onSkip"!==n.fn&&"onTake"!==n.fn&&"onRange"!==n.fn||(s=!1),s&&(a=o.length)):("onGroup"===n.fn&&c.push(n.e),"onPage"===n.fn&&(r=n.e));if(u){var p={query:t,lazyLoad:l,result:o,group:c,page:r},f=this.lazyLoadGroup(p);o=f.result,a=f.count}return t.isCountRequired&&(o={result:o,count:a,aggregates:d}),o},t.prototype.lazyLoadGroup=function(e){var t=0,i=this.getAggregate(e.query),n=e.result;if(wb(e.lazyLoad.onDemandGroupInfo)){a=e.group[0].fieldName;t=(n=TC.group(n,a,i,null,null,e.group[0].comparer,!0)).length;s=n;e.page&&(n=this.onPage(n,e.page,e.query)),this.formGroupResult(n,s)}else{for(var r=e.lazyLoad.onDemandGroupInfo,o=r.where.length-1;o>=0;o--)n=this.onWhere(n,r.where[o]);if(e.group.length!==r.level){var a=e.group[r.level].fieldName;n=TC.group(n,a,i,null,null,e.group[0].comparer,!0)}t=n.length;var s=n;n=(n=n.slice(r.skip)).slice(0,r.take),e.group.length!==r.level&&this.formGroupResult(n,s)}return{result:n,count:t}},t.prototype.formGroupResult=function(e,t){if(e.length&&t.length){var i="GroupGuid";e[i]=t[i],e.childLevels=t.childLevels,e.level=t.level,e.records=t.records}return e},t.prototype.getAggregate=function(e){var t=dC.filterQueries(e.queries,"onAggregates"),i=[];if(t.length)for(var n=void 0,r=0;r<t.length;r++)n=t[r].e,i.push({type:n.type,field:TC.getValue(n.field,e)});return i},t.prototype.batchRequest=function(e,t,i){var n,r=t.deletedRecords.length;for(n=0;n<t.addedRecords.length;n++)this.insert(e,t.addedRecords[n]);for(n=0;n<t.changedRecords.length;n++)this.update(e,i.key,t.changedRecords[n]);for(n=0;n<r;n++)this.remove(e,i.key,t.deletedRecords[n]);return t},t.prototype.onWhere=function(e,t){return e&&e.length?e.filter((function(e){if(t)return t.validate(e)})):e},t.prototype.onAggregates=function(e,t){var i=TC.aggregates[t.type];return e&&i&&0!==e.length?i(e,t.field):null},t.prototype.onSearch=function(e,t){return e&&e.length?(0===t.fieldNames.length&&TC.getFieldList(e[0],t.fieldNames),e.filter((function(e){for(var i=0;i<t.fieldNames.length;i++)if(t.comparer.call(e,TC.getObject(t.fieldNames[i],e),t.searchKey,t.ignoreCase,t.ignoreAccent))return!0;return!1}))):e},t.prototype.onSortBy=function(e,t,i){if(!e||!e.length)return e;var n,r=TC.getValue(t.fieldName,i);if(!r)return e.sort(t.comparer);if(r instanceof Array){for(var o=(r=r.slice(0)).length-1;o>=0;o--)r[o]&&(n=t.comparer,TC.endsWith(r[o]," desc")&&(n=TC.fnSort("descending"),r[o]=r[o].replace(" desc","")),e=TC.sort(e,r[o],n));return e}return TC.sort(e,r,t.comparer)},t.prototype.onGroup=function(e,t,i){if(!e||!e.length)return e;var n=this.getAggregate(i);return TC.group(e,TC.getValue(t.fieldName,i),n,null,null,t.comparer)},t.prototype.onPage=function(e,t,i){var n=TC.getValue(t.pageSize,i),r=(TC.getValue(t.pageIndex,i)-1)*n,o=r+n;return e&&e.length?e.slice(r,o):e},t.prototype.onRange=function(e,t){return e&&e.length?e.slice(TC.getValue(t.start),TC.getValue(t.end)):e},t.prototype.onTake=function(e,t){return e&&e.length?e.slice(0,TC.getValue(t.nos)):e},t.prototype.onSkip=function(e,t){return e&&e.length?e.slice(TC.getValue(t.nos)):e},t.prototype.onSelect=function(e,t){return e&&e.length?TC.select(e,TC.getValue(t.fieldNames)):e},t.prototype.insert=function(e,t,i,n,r){return wb(r)?e.dataSource.json.push(t):e.dataSource.json.splice(r,0,t)},t.prototype.remove=function(e,t,i,n){var r,o=e.dataSource.json;for("object"!==typeof i||i instanceof Date||(i=TC.getObject(t,i)),r=0;r<o.length&&TC.getObject(t,o[r])!==i;r++);return r!==o.length?o.splice(r,1):null},t.prototype.update=function(e,t,i,n){var r,o,a=e.dataSource.json;for(wb(t)||(o=yb(t,i)),r=0;r<a.length&&(wb(t)||yb(t,a[r])!==o);r++);return r<a.length?xb(a[r],i):null},t}(gC),vC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fC(t,e),t.prototype.processQuery=function(e,t,i){var n,r,o=this.getQueryRequest(t),a=dC.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),s=t.params,l=e.dataSource.url,u=null,c=this.options,h={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};"onPage"in a?(n=a.onPage,r=((r=TC.getValue(n.pageIndex,t))-1)*(u=TC.getValue(n.pageSize,t))):"onRange"in a&&(r=(n=a.onRange).start,u=n.end-n.start);for(var d=0;d<o.sorts.length;d++)n=TC.getValue(o.sorts[d].e.fieldName,t),h.sorts.push(TC.callAdaptorFunction(this,"onEachSort",{name:n,direction:o.sorts[d].e.direction},t));i&&(n=this.getFiltersFrom(i,t))&&h.filters.push(TC.callAdaptorFunction(this,"onEachWhere",n.toJson(),t));for(d=0;d<o.filters.length;d++){var p=TC.callAdaptorFunction(this,"onEachWhere",o.filters[d].e.toJson(),t);this.getModuleName&&"ODataV4Adaptor"===this.getModuleName()&&!wb(o.filters[d].e.key)&&o.filters.length>1&&(p="("+p+")"),h.filters.push(p);for(var f=0,m="object"===typeof h.filters[d]?Object.keys(h.filters[d]):[];f<m.length;f++){var g=m[f];TC.isNull(h[g])&&delete h[g]}}for(d=0;d<o.searches.length;d++)n=o.searches[d].e,h.searches.push(TC.callAdaptorFunction(this,"onEachSearch",{fields:n.fieldNames,operator:n.operator,key:n.searchKey,ignoreCase:n.ignoreCase},t));for(d=0;d<o.groups.length;d++)h.groups.push(TC.getValue(o.groups[d].e.fieldName,t));for(d=0;d<o.aggregates.length;d++)n=o.aggregates[d].e,h.aggregates.push({type:n.type,field:TC.getValue(n.field,t)});var y={};if(this.getRequestQuery(c,t,a,h,y),TC.callAdaptorFunction(this,"addParams",{dm:e,query:t,params:s,reqParams:y}),t.lazyLoad.length)for(d=0;d<t.lazyLoad.length;d++)y[t.lazyLoad[d].key]=t.lazyLoad[d].value;for(var v=0,b=Object.keys(y);v<b.length;v++){g=b[v];(TC.isNull(y[g])||""===y[g]||0===y[g].length)&&delete y[g]}c.skip in y&&c.take in y||null===u||(y[c.skip]=TC.callAdaptorFunction(this,"onSkip",r,t),y[c.take]=TC.callAdaptorFunction(this,"onTake",u,t));var x=this.pvt;return this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(y,TC.parse.jsonDateReplacer),url:l,pvtData:x,type:"POST",contentType:"application/json; charset=utf-8"}:(n=this.convertToQueryString(y,t,e),{type:"GET",url:(n=(-1!==e.dataSource.url.indexOf("?")?"&":"/")+n).length?l.replace(/\/*$/,n):l,pvtData:x})},t.prototype.getRequestQuery=function(e,t,i,n,r){var o=r;o[e.from]=t.fromTable,e.apply&&t.distincts.length&&(o[e.apply]="onDistinct"in this?TC.callAdaptorFunction(this,"onDistinct",t.distincts):""),!t.distincts.length&&e.expand&&(o[e.expand]="onExpand"in this&&"onSelect"in i?TC.callAdaptorFunction(this,"onExpand",{selects:TC.getValue(i.onSelect.fieldNames,t),expands:t.expands},t):t.expands),o[e.select]="onSelect"in i&&!t.distincts.length?TC.callAdaptorFunction(this,"onSelect",TC.getValue(i.onSelect.fieldNames,t),t):"",o[e.count]=t.isCountRequired?TC.callAdaptorFunction(this,"onCount",t.isCountRequired,t):"",o[e.search]=n.searches.length?TC.callAdaptorFunction(this,"onSearch",n.searches,t):"",o[e.skip]="onSkip"in i?TC.callAdaptorFunction(this,"onSkip",TC.getValue(i.onSkip.nos,t),t):"",o[e.take]="onTake"in i?TC.callAdaptorFunction(this,"onTake",TC.getValue(i.onTake.nos,t),t):"",o[e.where]=n.filters.length||n.searches.length?TC.callAdaptorFunction(this,"onWhere",n.filters,t):"",o[e.sortBy]=n.sorts.length?TC.callAdaptorFunction(this,"onSortBy",n.sorts,t):"",o[e.group]=n.groups.length?TC.callAdaptorFunction(this,"onGroup",n.groups,t):"",o[e.aggregates]=n.aggregates.length?TC.callAdaptorFunction(this,"onAggregates",n.aggregates,t):"",o.param=[]},t.prototype.convertToQueryString=function(e,t,i){return""},t.prototype.processResponse=function(e,t,i,n,r,o){if(n&&n.getResponseHeader("Content-Type")&&-1!==n.getResponseHeader("Content-Type").indexOf("application/json")){var a=TC.timeZoneHandling;t&&!t.timeZoneHandling&&(TC.timeZoneHandling=!1),e=TC.parse.parseJson(e),TC.timeZoneHandling=a}var s=r,l=s.pvtData||{},u=e?e.groupDs:[];if(n&&n.getResponseHeader("Content-Type")&&-1!==n.getResponseHeader("Content-Type").indexOf("xml"))return i.isCountRequired?{result:[],count:0}:[];var c=JSON.parse(s.data);if(c&&"batch"===c.action&&e&&e.addedRecords)return o.addedRecords=e.addedRecords,o;e&&e.d&&(e=e.d);var h={};e&&"count"in e&&(h.count=e.count),h.result=e&&e.result?e.result:e;var d=!1;if(Array.isArray(e.result)&&e.result.length){if(wb(e.result[0].key)||(h.result=this.formRemoteGroupedData(h.result,1,l.groups.length-1)),i&&i.lazyLoad.length&&l.groups.length)for(var p=0;p<i.lazyLoad.length;p++)if("onDemandGroupInfo"===i.lazyLoad[p].key){var f=i.lazyLoad[p].value.level;l.groups.length===f&&(d=!0)}}return d||this.getAggregateResult(l,e,h,u,i),TC.isNull(h.count)?h.result:{result:h.result,count:h.count,aggregates:h.aggregates}},t.prototype.formRemoteGroupedData=function(e,t,i){for(var n=0;n<e.length;n++)e[n].items.length&&Object.keys(e[n].items[0]).indexOf("key")>-1&&this.formRemoteGroupedData(e[n].items,t+1,i-1);var r="GroupGuid";return e[r]=mC[r],e.level=t,e.childLevels=i,e.records=e[0].items.length?this.getGroupedRecords(e,!wb(e[0].items.records)):[],e},t.prototype.getGroupedRecords=function(e,t){for(var i=[],n=0;n<e.length;n++)if(t)i=i.concat(e[n].items.records);else for(var r=0;r<e[n].items.length;r++)i.push(e[n].items[r]);return i},t.prototype.onGroup=function(e){return this.pvt.groups=e,e},t.prototype.onAggregates=function(e){this.pvt.aggregates=e},t.prototype.batchRequest=function(e,t,i,n,r){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.removeUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(_b({},{changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:i[undefined],key:i[undefined]},TC.getAddParams(this,e,n)))}},t.prototype.beforeSend=function(e,t){},t.prototype.insert=function(e,t,i,n){return{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(_b({},{value:t,table:i,action:"insert"},TC.getAddParams(this,e,n)))}},t.prototype.remove=function(e,t,i,n,r){return{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(_b({},{key:i,keyColumn:t,table:n,action:"remove"},TC.getAddParams(this,e,r)))}},t.prototype.update=function(e,t,i,n,r){return{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(_b({},{value:i,action:"update",keyColumn:t,key:TC.getObject(t,i),table:n},TC.getAddParams(this,e,r)))}},t.prototype.getFiltersFrom=function(e,t){var i,n=t.fKey,r=n,o=t.key,a=[];"object"!==typeof e[0]&&(r=null);for(var s=0;s<e.length;s++)i="object"===typeof e[0]?TC.getObject(o||r,e[s]):e[s],a.push(new pC(n,"equal",i));return pC.or(a)},t.prototype.getAggregateResult=function(e,t,i,n,r){var o=t;if(t&&t.result&&(o=t.result),e&&e.aggregates&&e.aggregates.length){var a=e.aggregates,s=void 0,l=o,u={};t.aggregate&&(l=t.aggregate);for(var c=0;c<a.length;c++)(s=TC.aggregates[a[c].type])&&(u[a[c].field+" - "+a[c].type]=s(l,a[c].field));i.aggregates=u}var h=Array.isArray(t.result)&&t.result.length&&!wb(t.result[0].key);if(e&&e.groups&&e.groups.length&&!h){var d=e.groups;for(c=0;c<d.length;c++){wb(n)||(n=TC.group(n,d[c]));var p=dC.filterQueries(r.queries,"onGroup")[c].e;o=TC.group(o,d[c],e.aggregates,null,n,p.comparer)}i.result=o}return i},t.prototype.getQueryRequest=function(e){var t={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};return t.sorts=dC.filterQueries(e.queries,"onSortBy"),t.groups=dC.filterQueries(e.queries,"onGroup"),t.filters=dC.filterQueries(e.queries,"onWhere"),t.searches=dC.filterQueries(e.queries,"onSearch"),t.aggregates=dC.filterQueries(e.queries,"onAggregates"),t},t.prototype.addParams=function(e){var t=e.reqParams;e.params.length&&(t.params={});for(var i=0,n=e.params;i<n.length;i++){var r=n[i];if(t[r.key])throw new Error("Query() - addParams: Custom Param is conflicting other request arguments");t[r.key]=r.value,r.fn&&(t[r.key]=r.fn.call(e.query,r.key,e.query,e.dm)),t.params[r.key]=t[r.key]}},t}(gC),bC=function(e){function t(t){var i=e.call(this)||this;return i.options=_b({},i.options,{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PUT"}),_b(i.options,t||{}),i}return fC(t,e),t.prototype.getModuleName=function(){return"ODataAdaptor"},t.prototype.onPredicate=function(e,i,n){var r,o,a="",s=e.value,l=typeof s,u=e.field?t.getField(e.field):null;if(s instanceof Date&&(s="datetime'"+TC.parse.replacer(s)+"'"),"string"===l&&(s=s.replace("'","''"),s="'"+(s=encodeURIComponent(s))+"'",n&&(u="cast("+u+", 'Edm.String')"),TC.parse.isGuid(s)&&(o="guid"),e.ignoreCase&&(o||(u="tolower("+u+")"),s=s.toLowerCase())),r=TC.odBiOperator[e.operator])return a+=u,a+=r,o&&(a+=o),a+s;if("substringof"===(r=wb(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?TC.odUniOperator[e.operator]:TC.odv4UniOperator[e.operator])){var c=s;s=u,u=c}return a+=r+"(",a+=u+",",o&&(a+=o),a+=s+")"},t.prototype.addParams=function(t){e.prototype.addParams.call(this,t),delete t.reqParams.params},t.prototype.onComplexPredicate=function(e,t,i){for(var n=[],r=0;r<e.predicates.length;r++)n.push("("+this.onEachWhere(e.predicates[r],t,i)+")");return n.join(" "+e.condition+" ")},t.prototype.onEachWhere=function(e,t,i){return e.isComplex?this.onComplexPredicate(e,t,i):this.onPredicate(e,t,i)},t.prototype.onWhere=function(e){return this.pvt.search&&e.push(this.onEachWhere(this.pvt.search,null,!0)),e.join(" and ")},t.prototype.onEachSearch=function(e){e.fields&&0===e.fields.length&&TC.throwError("Query() - Search : oData search requires list of field names to search");for(var t=this.pvt.search||[],i=0;i<e.fields.length;i++)t.push(new pC(e.fields[i],e.operator,e.key,e.ignoreCase));this.pvt.search=t},t.prototype.onSearch=function(e){return this.pvt.search=pC.or(this.pvt.search),""},t.prototype.onEachSort=function(e){var i=[];if(e.name instanceof Array)for(var n=0;n<e.name.length;n++)i.push(t.getField(e.name[n])+("descending"===e.direction?" desc":""));else i.push(t.getField(e.name)+("descending"===e.direction?" desc":""));return i.join(",")},t.prototype.onSortBy=function(e){return e.reverse().join(",")},t.prototype.onGroup=function(e){return this.pvt.groups=e,[]},t.prototype.onSelect=function(e){for(var i=0;i<e.length;i++)e[i]=t.getField(e[i]);return e.join(",")},t.prototype.onAggregates=function(e){return this.pvt.aggregates=e,""},t.prototype.onCount=function(e){return!0===e?"allpages":""},t.prototype.beforeSend=function(e,t,i){TC.endsWith(i.url,this.options.batch)&&"post"===i.type.toLowerCase()?(t.setRequestHeader("Accept",this.options.multipartAccept),t.setRequestHeader("DataServiceVersion","2.0"),t.overrideMimeType("text/plain; charset=x-user-defined")):t.setRequestHeader("Accept",this.options.accept),t.setRequestHeader("DataServiceVersion","2.0"),t.setRequestHeader("MaxDataServiceVersion","2.0")},t.prototype.processResponse=function(e,t,i,n,r,o){var a="odata.metadata";if(r&&"GET"===r.type&&!this.rootUrl&&e[a]){var s=e[a].split("/$metadata#");this.rootUrl=s[0],this.resourceTableName=s[1]}if(!wb(e.d)){var l=i&&i.isCountRequired?e.d.results:e.d,u="__metadata";if(!wb(l))for(var c=0;c<l.length;c++)wb(l[c][u])||delete l[c][u]}var h=r&&r.pvtData,d=this.processBatchResponse(e,i,n,r,o);if(d)return d;var p=n&&r.getResponseHeader("DataServiceVersion"),f=null,m=p&&parseInt(p,10)||2;if(i&&i.isCountRequired){(e.__count||e["odata.count"])&&(f=e.__count||e["odata.count"]),e.d&&(e=e.d),(e.__count||e["odata.count"])&&(f=e.__count||e["odata.count"])}3===m&&e.value&&(e=e.value),e.d&&(e=e.d),m<3&&e.results&&(e=e.results);var g={};return g.count=f,g.result=e,this.getAggregateResult(h,e,g,null,i),TC.isNull(f)?g.result:{result:g.result,count:g.count,aggregates:g.aggregates}},t.prototype.convertToQueryString=function(e,t,i){var n=[],r=e.table||"";delete e.table,i.dataSource.requiresFormat&&(e.$format="json");for(var o=0,a=Object.keys(e);o<a.length;o++){var s=a[o];n.push(s+"="+e[s])}return n=n.join("&"),i.dataSource.url&&-1!==i.dataSource.url.indexOf("?")&&!r?n:n.length?r+"?"+n:r||""},t.prototype.localTimeReplacer=function(e,t){for(var i=0,n=wb(t)?[]:Object.keys(t);i<n.length;i++){var r=n[i];t[r]instanceof Date&&(t[r]=TC.dateParse.toLocalTime(t[r]))}return t},t.prototype.insert=function(e,t,i){return{url:(e.dataSource.insertUrl||e.dataSource.url).replace(/\/*$/,i?"/"+i:""),data:JSON.stringify(t,this.options.localTime?this.localTimeReplacer:null)}},t.prototype.remove=function(e,t,i,n){var r;return r="string"!==typeof i||TC.parse.isGuid(i)?"("+i+")":"('"+i+"')",{type:"DELETE",url:(e.dataSource.removeUrl||e.dataSource.url).replace(/\/*$/,n?"/"+n:"")+r}},t.prototype.update=function(e,t,i,n,r,o){var a;return"PATCH"!==this.options.updateType||wb(o)||(i=this.compareAndRemove(i,o,t)),a="string"!==typeof i[t]||TC.parse.isGuid(i[t])?"("+i[t]+")":"('"+i[t]+"')",{type:this.options.updateType,url:(e.dataSource.updateUrl||e.dataSource.url).replace(/\/*$/,n?"/"+n:"")+a,data:JSON.stringify(i,this.options.localTime?this.localTimeReplacer:null),accept:this.options.accept}},t.prototype.batchRequest=function(e,t,i,n,r){var o=i.guid=TC.getGuid(this.options.batchPre),a=this.rootUrl?this.rootUrl+"/"+this.options.batch:e.dataSource.url.replace(/\/*$/,"/"+this.options.batch);i.url=this.resourceTableName?this.resourceTableName:i.url;var s={url:i.url,key:i.key,cid:1,cSet:TC.getGuid(this.options.changeSet)},l="--"+o+"\n";return l+="Content-Type: multipart/mixed; boundary="+s.cSet.replace("--","")+"\n",this.pvt.changeSet=0,l+=this.generateInsertRequest(t.addedRecords,s,e),l+=this.generateUpdateRequest(t.changedRecords,s,e,r?r.changedRecords:[]),l+=this.generateDeleteRequest(t.deletedRecords,s,e),l+=s.cSet+"--\n",{type:"POST",url:a,dataType:"json",contentType:"multipart/mixed; charset=UTF-8;boundary="+o,data:l+="--"+o+"--"}},t.prototype.generateDeleteRequest=function(e,t,i){if(!e)return"";var n={method:"DELETE ",url:function(e,t,i){var n=TC.getObject(i,e[t]);return"number"===typeof n||TC.parse.isGuid(n)?"("+n+")":n instanceof Date?"("+e[t][i].toJSON()+")":"('"+n+"')"},data:function(e,t){return""}};return this.generateBodyContent(e,t,n,i)+"\n"},t.prototype.generateInsertRequest=function(e,t,i){if(!e)return"";var n={method:"POST ",url:function(e,t,i){return""},data:function(e,t){return JSON.stringify(e[t])+"\n\n"}};return this.generateBodyContent(e,t,n,i)},t.prototype.generateUpdateRequest=function(e,t,i,n){var r=this;if(!e)return"";e.forEach((function(e){return e=r.compareAndRemove(e,n.filter((function(i){return TC.getObject(t.key,i)===TC.getObject(t.key,e)}))[0],t.key)}));var o={method:this.options.updateType+" ",url:function(e,t,i){return"number"===typeof e[t][i]||TC.parse.isGuid(e[t][i])?"("+e[t][i]+")":e[t][i]instanceof Date?"("+e[t][i].toJSON()+")":"('"+e[t][i]+"')"},data:function(e,t){return JSON.stringify(e[t])+"\n\n"}};return this.generateBodyContent(e,t,o,i)},t.getField=function(e){return e.replace(/\./g,"/")},t.prototype.generateBodyContent=function(e,t,i,n){for(var r="",o=0;o<e.length;o++)r+="\n"+t.cSet+"\n",r+=this.options.changeSetContent+"\n\n",r+=i.method,"POST "===i.method?r+=(n.dataSource.insertUrl||n.dataSource.crudUrl||t.url)+i.url(e,o,t.key)+" HTTP/1.1\n":"PUT "===i.method||"PATCH "===i.method?r+=(n.dataSource.updateUrl||n.dataSource.crudUrl||t.url)+i.url(e,o,t.key)+" HTTP/1.1\n":"DELETE "===i.method&&(r+=(n.dataSource.removeUrl||n.dataSource.crudUrl||t.url)+i.url(e,o,t.key)+" HTTP/1.1\n"),r+="Accept: "+this.options.accept+"\n",r+="Content-Id: "+this.pvt.changeSet+++"\n",r+=this.options.batchChangeSetContentType+"\n",wb(e[o]["@odata.etag"])?r+="\n":(r+="If-Match: "+e[o]["@odata.etag"]+"\n\n",delete e[o]["@odata.etag"]),r+=i.data(e,o);return r},t.prototype.processBatchResponse=function(e,t,i,n,r){if(i&&i.getResponseHeader("Content-Type")&&-1!==i.getResponseHeader("Content-Type").indexOf("xml"))return t.isCountRequired?{result:[],count:0}:[];if(n&&this.options.batch&&TC.endsWith(n.url,this.options.batch)&&"post"===n.type.toLowerCase()){var o=i.getResponseHeader("Content-Type"),a=void 0,s=void 0,l=e+"";if(o=o.substring(o.indexOf("=batchresponse")+1),(l=l.split(o)).length<2)return{};l=l[1];var u=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(l);u&&l.replace(u[0],"");for(var c=u?u[1]:"",h=(l=l.split(c)).length;h>-1;h--)/\bContent-ID:/i.test(l[h])&&/\bHTTP.+201/.test(l[h])&&(a=parseInt(/\bContent-ID: (\d+)/i.exec(l[h])[1],10),r.addedRecords[a]&&(s=TC.parse.parseJson(/^\{.+\}/m.exec(l[h])[0]),_b({},r.addedRecords[a],this.processResponse(s))));return r}return null},t.prototype.compareAndRemove=function(e,t,i){var n=this;return wb(t)||Object.keys(e).forEach((function(r){r!==i&&"@odata.etag"!==r&&(TC.isPlainObject(e[r])?(n.compareAndRemove(e[r],t[r]),0===Object.keys(e[r]).filter((function(e){return"@odata.etag"!==e})).length&&delete e[r]):(e[r]===t[r]||e[r]&&t[r]&&e[r].valueOf()===t[r].valueOf())&&delete e[r])})),e},t}(vC),xC=(function(e){function t(t){var i=e.call(this,t)||this;return i.options=_b({},i.options,{requestType:"get",accept:"application/json, text/javascript, */*; q=0.01",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$count",search:"$search",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PATCH",localTime:!1,apply:"$apply"}),_b(i.options,t||{}),i}fC(t,e),t.prototype.getModuleName=function(){return"ODataV4Adaptor"},t.prototype.onCount=function(e){return!0===e?"true":""},t.prototype.onPredicate=function(t,i,n){var r="",o=t.value,a=o instanceof Date;if(i instanceof dC)for(var s=this.getQueryRequest(i),l=0;l<s.filters.length;l++)s.filters[l].e.key===t.value&&(n=!0);return r=e.prototype.onPredicate.call(this,t,i,n),a&&(r=r.replace(/datetime'(.*)'$/,"$1")),TC.parse.isGuid(o)&&(r=r.replace("guid","").replace(/'/g,"")),r},t.prototype.onEachSearch=function(e){var t=this.pvt.searches||[];t.push(e.key),this.pvt.searches=t},t.prototype.onSearch=function(e){return this.pvt.searches.join(" OR ")},t.prototype.onExpand=function(e){var t={},i={},n=e.expands.slice(),r=[];return e.selects.filter((function(e){return e.indexOf(".")>-1})).forEach((function(e){var i=e.split(".");if(i[0]in t||(t[i[0]]=[]),2==i.length)t[i[0]].length&&-1!==Object.keys(t).indexOf(i[0])?t[i[0]][0]=t[i[0]][0]+","+i[1]:t[i[0]].push("$select="+i[1]);else{for(var n="$select="+i[i.length-1],r="",o="",a=1;a<i.length-1;a++)r=r+"$expand="+i[a]+"(",o+=")";t[i[0]].push(r+n+o)}})),Object.keys(t).forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n.forEach((function(e){i[e]=e in t?e+"("+t[e].join(";")+")":e})),Object.keys(i).forEach((function(e){return r.push(i[e])})),r.join(",")},t.prototype.onDistinct=function(e){return"groupby(("+e.map((function(e){return bC.getField(e)})).join(",")+"))"},t.prototype.onSelect=function(t){return e.prototype.onSelect.call(this,t.filter((function(e){return-1===e.indexOf(".")})))},t.prototype.beforeSend=function(e,t,i){"POST"!==i.type&&"PUT"!==i.type&&"PATCH"!==i.type||t.setRequestHeader("Prefer","return=representation"),t.setRequestHeader("Accept",this.options.accept)},t.prototype.processResponse=function(t,i,n,r,o,a){var s="@odata.context";if(o&&"GET"===o.type&&!this.rootUrl&&t[s]){var l=t[s].split("/$metadata#");this.rootUrl=l[0],this.resourceTableName=l[1]}var u=o&&o.pvtData,c=e.prototype.processBatchResponse.call(this,t,n,r,o,a);if(c)return c;var h=null,d="@odata.count";n&&n.isCountRequired&&d in t&&(h=t[d]),t=wb(t.value)?t:t.value;var p={};return p.count=h,p.result=t,this.getAggregateResult(u,t,p,null,n),TC.isNull(h)?p.result:{result:p.result,count:h,aggregates:p.aggregates}}}(bC),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}fC(t,e),t.prototype.getModuleName=function(){return"WebApiAdaptor"},t.prototype.insert=function(e,t,i){return{type:"POST",url:e.dataSource.url,data:JSON.stringify(t)}},t.prototype.remove=function(e,t,i,n){return{type:"DELETE",url:e.dataSource.url+"/"+i,data:JSON.stringify(i)}},t.prototype.update=function(e,t,i,n){return{type:"PUT",url:e.dataSource.url,data:JSON.stringify(i)}},t.prototype.batchRequest=function(e,t,i){var n=this,r=i.guid=TC.getGuid(this.options.batchPre),o=e.dataSource.url.replace(/\/*$/,"/"+this.options.batch);i.url=this.resourceTableName?this.resourceTableName:i.url;for(var a=[],s=function(n,o){t.addedRecords.forEach((function(o,s){var l=function(e,t,i){return""};a.push("--"+r),a.push("Content-Type: application/http; msgtype=request",""),a.push("POST /api/"+(e.dataSource.insertUrl||e.dataSource.crudUrl||i.url)+l(t.addedRecords,n,i.key)+" HTTP/1.1"),a.push("Content-Type: application/json; charset=utf-8"),a.push("Host: "+location.host),a.push("",o?JSON.stringify(o):"")}))},l=0,u=t.addedRecords.length;l<u;l++)s(l);var c=function(o,s){t.changedRecords.forEach((function(s,l){n.options.updateType;var u=function(e,t,i){return""};a.push("--"+r),a.push("Content-Type: application/http; msgtype=request",""),a.push("PUT /api/"+(e.dataSource.updateUrl||e.dataSource.crudUrl||i.url)+u(t.changedRecords,o,i.key)+" HTTP/1.1"),a.push("Content-Type: application/json; charset=utf-8"),a.push("Host: "+location.host),a.push("",s?JSON.stringify(s):"")}))};for(l=0,u=t.changedRecords.length;l<u;l++)c(l);var h=function(n,o){t.deletedRecords.forEach((function(o,s){var l=function(e,t,i){var n=TC.getObject(i,e[t]);return"number"===typeof n||TC.parse.isGuid(n)?"/"+n:n instanceof Date?"/"+e[t][i].toJSON():"/'"+n+"'"};a.push("--"+r),a.push("Content-Type: application/http; msgtype=request",""),a.push("DELETE /api/"+(e.dataSource.removeUrl||e.dataSource.crudUrl||i.url)+l(t.deletedRecords,n,i.key)+" HTTP/1.1"),a.push("Content-Type: application/json; charset=utf-8"),a.push("Host: "+location.host),a.push("",o?JSON.stringify(o):"")}))};for(l=0,u=t.deletedRecords.length;l<u;l++)h(l);return a.push("--"+r+"--",""),{type:"POST",url:o,contentType:"multipart/mixed; boundary="+r,data:a.join("\r\n")}},t.prototype.beforeSend=function(e,t,i){t.setRequestHeader("Accept","application/json, text/javascript, */*; q=0.01")},t.prototype.processResponse=function(e,t,i,n,r,o){var a=r&&r.pvtData,s=null,l={};if(r&&"post"!==r.type.toLowerCase()){var u=n&&r.getResponseHeader("DataServiceVersion"),c=u&&parseInt(u,10)||2;i&&i.isCountRequired&&(TC.isNull(e.Count)||(s=e.Count)),c<3&&e.Items&&(e=e.Items),l.count=s,l.result=e,this.getAggregateResult(a,e,l,null,i)}return l.result=l.result||e,TC.isNull(s)?l.result:{result:l.result,count:l.count,aggregates:l.aggregates}}}(bC),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}fC(t,e),t.prototype.processQuery=function(e,t,i){var n=(new vC).processQuery(e,t,i),r=TC.parse.parseJson(n.data),o={};if(r.param)for(var a=0;a<r.param.length;a++){var s=r.param[a],l=Object.keys(s)[0];o[l]=s[l]}o.value=r;return{data:JSON.stringify(o),url:n.url,pvtData:n.pvtData,type:"POST",contentType:"application/json; charset=utf-8"}}}(vC),function(e){function t(){var t=e.call(this)||this;return vb("beforeSend",vC.prototype.beforeSend,t),t}return fC(t,e),t.prototype.insert=function(e,t,i,n,r){return this.pvt.position=r,this.updateType="add",{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(_b({},{value:t,table:i,action:"insert"},TC.getAddParams(this,e,n)))}},t.prototype.remove=function(t,i,n,r,o){return e.prototype.remove.call(this,t,i,n),{type:"POST",url:t.dataSource.removeUrl||t.dataSource.crudUrl||t.dataSource.url,data:JSON.stringify(_b({},{key:n,keyColumn:i,table:r,action:"remove"},TC.getAddParams(this,t,o)))}},t.prototype.update=function(e,t,i,n,r){return this.updateType="update",this.updateKey=t,{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(_b({},{value:i,action:"update",keyColumn:t,key:i[t],table:n},TC.getAddParams(this,e,r)))}},t.prototype.processResponse=function(t,i,n,r,o,a,s){var l;if(t="batch"===(o?JSON.parse(o.data):t).action?TC.parse.parseJson(t):t,"add"===this.updateType&&e.prototype.insert.call(this,i,t,null,null,this.pvt.position),"update"===this.updateType&&e.prototype.update.call(this,i,this.updateKey,t),this.updateType=void 0,t.added)for(l=0;l<t.added.length;l++)e.prototype.insert.call(this,i,t.added[l]);if(t.changed)for(l=0;l<t.changed.length;l++)e.prototype.update.call(this,i,s.key,t.changed[l]);if(t.deleted)for(l=0;l<t.deleted.length;l++)e.prototype.remove.call(this,i,s.key,t.deleted[l]);return t},t.prototype.batchRequest=function(e,t,i,n,r){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(_b({},{changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:i.url,key:i.key},TC.getAddParams(this,e,n)))}},t.prototype.addParams=function(e){(new vC).addParams(e)},t}(yC)),_C=function(e){function t(t){var i=e.call(this)||this;return i.options=_b({},i.options,{getData:new Function,addRecord:new Function,updateRecord:new Function,deleteRecord:new Function,batchUpdate:new Function}),_b(i.options,t||{}),i}return fC(t,e),t.prototype.getModuleName=function(){return"CustomDataAdaptor"},t}(vC),wC=(function(e){function t(t){var i=e.call(this)||this;return i.opt=t,i.schema=i.opt.response,i.query=i.opt.query,i.getVariables=i.opt.getVariables?i.opt.getVariables:function(){},i.getQuery=function(){return i.query},i}fC(t,e),t.prototype.getModuleName=function(){return"GraphQLAdaptor"},t.prototype.processQuery=function(t,i){var n=e.prototype.processQuery.apply(this,arguments),r=JSON.parse(n.data),o=["skip","take","sorted","table","select","where","search","requiresCounts","aggregates","params"],a={},s="searchwhereparams";o.filter((function(e){a[e]=s.indexOf(e)>-1?JSON.stringify(r[e]):r[e]}));var l=this.getVariables()||{};l.datamanager=a;var u=JSON.stringify({query:this.getQuery(),variables:l});return n.data=u,n},t.prototype.processResponse=function(e,t,i,n,r){var o,a,s=e,l=yb(this.schema.result,s.data);this.schema.count&&(o=yb(this.schema.count,s.data)),this.schema.aggregates&&(a=wb(a=yb(this.schema.aggregates,s.data))?a:TC.parse.parseJson(a));var u=r.pvtData||{},c={result:l,aggregates:a},h=c;return u&&u.groups&&u.groups.length&&this.getAggregateResult(u,h,c,null,i),wb(o)?c.result:{result:c.result,count:o,aggregates:a}},t.prototype.insert=function(){var t=e.prototype.insert.apply(this,arguments);return this.generateCrudData(t,"insert")},t.prototype.update=function(){var t=e.prototype.update.apply(this,arguments);return this.generateCrudData(t,"update")},t.prototype.remove=function(){var t=e.prototype.remove.apply(this,arguments);return this.generateCrudData(t,"remove")},t.prototype.batchRequest=function(t,i,n,r,o){var a=e.prototype.batchRequest.apply(this,arguments),s=JSON.parse(a.data);return s.key=n.key,a.data=JSON.stringify(s),this.generateCrudData(a,"batch")},t.prototype.generateCrudData=function(e,t){var i=JSON.parse(e.data);return e.data=JSON.stringify({query:this.opt.getMutation(t),variables:i}),e}}(vC),function(e){function t(t,i,n){var r=e.call(this)||this;r.isCrudAction=!1,r.isInsertAction=!1,wb(t)||(r.cacheAdaptor=t),r.pageSize=n,r.guidId=TC.getGuid("cacheAdaptor");window.localStorage.setItem(r.guidId,JSON.stringify({keys:[],results:[]}));var o=r.guidId;return wb(i)||setInterval((function(){var e;e=TC.parse.parseJson(window.localStorage.getItem(o));for(var t=[],n=0;n<e.results.length;n++){var r=+new Date,a=+new Date(e.results[n].timeStamp);e.results[n].timeStamp=r-a,r-a>i&&t.push(n)}for(n=0;n<t.length;n++)e.results.splice(t[n],1),e.keys.splice(t[n],1);window.localStorage.removeItem(o),window.localStorage.setItem(o,JSON.stringify(e))}),i),r}return fC(t,e),t.prototype.generateKey=function(e,t){var i=this.getQueryRequest(t),n=dC.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),r=e,o="onPage";o in n&&(r+=n[o].pageIndex),i.sorts.forEach((function(e){r+=e.e.direction+e.e.fieldName})),i.groups.forEach((function(e){r+=e.e.fieldName})),i.searches.forEach((function(e){r+=e.e.searchKey}));for(var a=0;a<i.filters.length;a++){var s=i.filters[a];if(s.e.isComplex){var l=t.clone();l.queries=[];for(var u=0;u<s.e.predicates.length;u++)l.queries.push({fn:"onWhere",e:s.e.predicates[u],filter:t.queries.filter});r+=s.e.condition+this.generateKey(e,l)}else r+=s.e.field+s.e.operator+s.e.value}return r},t.prototype.processQuery=function(e,t,i){var n,r=this.generateKey(e.dataSource.url,t),o=(n=TC.parse.parseJson(window.localStorage.getItem(this.guidId)))?n.results[n.keys.indexOf(r)]:null;return null==o||this.isCrudAction||this.isInsertAction?(this.isCrudAction=null,this.isInsertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):o},t.prototype.processResponse=function(e,t,i,n,r,o){if(this.isInsertAction||r&&this.cacheAdaptor.options.batch&&TC.endsWith(r.url,this.cacheAdaptor.options.batch)&&"post"===r.type.toLowerCase())return this.cacheAdaptor.processResponse(e,t,i,n,r,o);e=this.cacheAdaptor.processResponse.apply(this.cacheAdaptor,[].slice.call(arguments,0));var a=i?this.generateKey(t.dataSource.url,i):t.dataSource.url,s={},l=(s=TC.parse.parseJson(window.localStorage.getItem(this.guidId))).keys.indexOf(a);for(-1!==l&&(s.results.splice(l,1),s.keys.splice(l,1)),s.results[s.keys.push(a)-1]={keys:a,result:e.result,timeStamp:new Date,count:e.count};s.results.length>this.pageSize;)s.results.splice(0,1),s.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(s)),e},t.prototype.beforeSend=function(e,t,i){!wb(this.cacheAdaptor.options.batch)&&TC.endsWith(i.url,this.cacheAdaptor.options.batch)&&"post"===i.type.toLowerCase()&&t.setRequestHeader("Accept",this.cacheAdaptor.options.multipartAccept),e.dataSource.crossDomain||t.setRequestHeader("Accept",this.cacheAdaptor.options.accept)},t.prototype.update=function(e,t,i,n){return this.isCrudAction=!0,this.cacheAdaptor.update(e,t,i,n)},t.prototype.insert=function(e,t,i){return this.isInsertAction=!0,this.cacheAdaptor.insert(e,t,i)},t.prototype.remove=function(e,t,i,n){return this.isCrudAction=!0,this.cacheAdaptor.remove(e,t,i,n)},t.prototype.batchRequest=function(e,t,i){return this.cacheAdaptor.batchRequest(e,t,i)},t}(vC)),SC=function(){function e(e,t,i){var n,r=this;return this.dateParse=!0,this.timeZoneHandling=!0,this.requests=[],e||this.dataSource||(e=[]),i=i||e.adaptor,e&&!1===e.timeZoneHandling&&(this.timeZoneHandling=e.timeZoneHandling),e instanceof Array?n={json:e,offline:!0}:"object"===typeof e?(e.json||(e.json=[]),n={url:e.url,insertUrl:e.insertUrl,removeUrl:e.removeUrl,updateUrl:e.updateUrl,crudUrl:e.crudUrl,batchUrl:e.batchUrl,json:e.json,headers:e.headers,accept:e.accept,data:e.data,timeTillExpiration:e.timeTillExpiration,cachingPageSize:e.cachingPageSize,enableCaching:e.enableCaching,requestType:e.requestType,key:e.key,crossDomain:e.crossDomain,jsonp:e.jsonp,dataType:e.dataType,offline:void 0!==e.offline?e.offline:!(e.adaptor instanceof xC||e.adaptor instanceof _C)&&!e.url,requiresFormat:e.requiresFormat}):TC.throwError("DataManager: Invalid arguments"),void 0!==n.requiresFormat||TC.isCors()||(n.requiresFormat=!!wb(n.crossDomain)||n.crossDomain),void 0===n.dataType&&(n.dataType="json"),this.dataSource=n,this.defaultQuery=t,n.url&&n.offline&&!n.json.length?(this.isDataAvailable=!1,this.adaptor=i||new bC,this.dataSource.offline=!1,this.ready=this.executeQuery(t||new dC),this.ready.then((function(e){r.dataSource.offline=!0,r.isDataAvailable=!0,n.json=e.result,r.adaptor=new yC}))):this.adaptor=n.offline?new yC:new bC,!n.jsonp&&this.adaptor instanceof bC&&(n.jsonp="callback"),this.adaptor=i||this.adaptor,n.enableCaching&&(this.adaptor=new wC(this.adaptor,n.timeTillExpiration,n.cachingPageSize)),this}return e.prototype.setDefaultQuery=function(e){return this.defaultQuery=e,this},e.prototype.executeLocal=function(t){this.defaultQuery||t instanceof dC||TC.throwError("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||TC.throwError("DataManager - executeLocal() : Json data is required to execute"),t=t||this.defaultQuery;var i=this.adaptor.processQuery(this,t);if(t.subQuery){var n=t.subQuery.fromTable,r=t.subQuery.lookups,o=t.isCountRequired?i.result:i;r&&r instanceof Array&&TC.buildHierarchy(t.subQuery.fKey,n,o,r,t.subQuery.key);for(var a=0;a<o.length;a++)o[a][n]instanceof Array&&(o[a]=_b({},{},o[a]),o[a][n]=this.adaptor.processResponse(t.subQuery.using(new e(o[a][n].slice(0))).executeLocal(),this,t))}return this.adaptor.processResponse(i,this,t)},e.prototype.executeQuery=function(t,i,n,r){var o=this;"function"===typeof t&&(r=n,n=i,i=t,t=null),t||(t=this.defaultQuery),t instanceof dC||TC.throwError("DataManager - executeQuery() : A query is required to execute");var a=new kC,s={query:t};if(!this.dataSource.offline&&void 0!==this.dataSource.url&&""!==this.dataSource.url||!wb(this.adaptor.makeRequest)||this.isCustomDataAdaptor(this.adaptor)){var l=this.adaptor.processQuery(this,t);wb(this.adaptor.makeRequest)?!wb(l.url)||this.isCustomDataAdaptor(this.adaptor)?this.makeRequest(l,a,s,t):(s=e.getDeferedArgs(t,l,s),a.resolve(s)):this.adaptor.makeRequest(l,a,s,t)}else e.nextTick((function(){var i=o.executeLocal(t);s=e.getDeferedArgs(t,i,s),a.resolve(s)}));return(i||n)&&a.promise.then(i,n),r&&a.promise.then(r,r),a.promise},e.getDeferedArgs=function(e,t,i){return e.isCountRequired?(i.result=t.result,i.count=t.count,i.aggregates=t.aggregates):i.result=t,i},e.nextTick=function(e){(window.setImmediate||window.setTimeout)(e,0)},e.prototype.extendRequest=function(e,t,i){return _b({},{type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,processData:!1,onSuccess:t,onFailure:i},e)},e.prototype.makeRequest=function(e,t,i,n){var r=this,o=!!n.subQuerySelector,a=function(e){i.error=e,t.reject(i)},s=function(e,n,r,o,a,s,l){i.xhr=r,i.count=n?parseInt(n.toString(),10):0,i.result=e,i.request=o,i.aggregates=s,i.actual=a,i.virtualSelectRecords=l,t.resolve(i)},l=function(e,t){var l=new kC,u={parent:i};n.subQuery.isChild=!0;var c=r.adaptor.processQuery(r,n.subQuery,e?r.adaptor.processResponse(e):t),h=r.makeRequest(c,l,u,n.subQuery);return o||l.then((function(t){e&&(TC.buildHierarchy(n.subQuery.fKey,n.subQuery.fromTable,e,t,n.subQuery.key),s(e,t.count,t.xhr))}),a),h},u=this.extendRequest(e,(function(e,t){if(r.isGraphQLAdaptor(r.adaptor)&&!wb(e.errors))return a(e.errors);r.isCustomDataAdaptor(r.adaptor)&&(t=_b({},r.ajaxReqOption,t)),-1===t.httpRequest.getResponseHeader("Content-Type").indexOf("xml")&&r.dateParse&&(e=TC.parse.parseJson(e));var i=r.adaptor.processResponse(e,r,n,t.httpRequest,t),u=0,c=null,h=e.virtualSelectRecords;n.isCountRequired&&(u=i.count,c=i.aggregates,i=i.result),n.subQuery?o||l(i,t):s(i,u,t.httpRequest,t.type,e,c,h)}),a);if(this.isCustomDataAdaptor(this.adaptor)){this.ajaxReqOption=u;var c=u;this.adaptor.options.getData({data:c.data,onSuccess:c.onSuccess,onFailure:c.onFailure})}else{var h=new ox(u);h.beforeSend=function(){r.beforeSend(h.httpRequest,h)},(u=h.send()).catch((function(e){return!0})),this.requests.push(h)}if(o){var d=n.subQuerySelector.call(this,{query:n.subQuery,parent:n});d&&d.length?Promise.all([u,l(null,d)]).then((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e[0],a=r.adaptor.processResponse(i[0],r,n,r.requests[0].httpRequest,r.requests[0]),l=0;n.isCountRequired&&(l=a.count,a=a.result);var u=r.adaptor.processResponse(i[1],r,n.subQuery,r.requests[1].httpRequest,r.requests[1]);l=0,n.subQuery.isCountRequired&&(l=u.count,u=u.result),TC.buildHierarchy(n.subQuery.fKey,n.subQuery.fromTable,a,u,n.subQuery.key),o=!1,s(a,l,r.requests[0].httpRequest)})):o=!1}return u},e.prototype.beforeSend=function(e,t){this.adaptor.beforeSend(this,e,t);for(var i,n=this.dataSource.headers,r=0;n&&r<n.length;r++){i=[];for(var o=0,a=Object.keys(n[r]);o<a.length;o++){var s=a[o];i.push(s),e.setRequestHeader(s,n[r][s])}}},e.prototype.saveChanges=function(e,t,i,n,r){var o=this;i instanceof dC&&(n=i,i=null);var a={url:i,key:t||this.dataSource.key},s=this.adaptor.batchRequest(this,e,a,n||new dC,r);if(this.dataSource.offline)return s;if(wb(this.adaptor.doAjaxRequest)){if(this.isCustomDataAdaptor(this.adaptor))return this.doAjaxRequest(s,this.adaptor.options.batchUpdate);var l=new kC,u=new ox(s);return u.beforeSend=function(){o.beforeSend(u.httpRequest,u)},u.onSuccess=function(t,i){o.isGraphQLAdaptor(o.adaptor)&&(wb(t.errors)||u.onFailure(JSON.stringify(t.errors))),l.resolve(o.adaptor.processResponse(t,o,null,i.httpRequest,i,e,a))},u.onFailure=function(e){l.reject([{error:e}])},u.send().catch((function(e){return!0})),l.promise}return this.adaptor.doAjaxRequest(s)},e.prototype.insert=function(e,t,i,n){t instanceof dC&&(i=t,t=null);var r=this.adaptor.insert(this,e,t,i,n);return this.dataSource.offline?r:wb(this.adaptor.doAjaxRequest)?this.doAjaxRequest(r,this.adaptor.options.addRecord):this.adaptor.doAjaxRequest(r)},e.prototype.remove=function(e,t,i,n){"object"===typeof t&&(t=TC.getObject(e,t)),i instanceof dC&&(n=i,i=null);var r=this.adaptor.remove(this,e,t,i,n);if(this.dataSource.offline)return r;if(wb(this.adaptor.doAjaxRequest)){var o=this.adaptor.options.deleteRecord;return this.doAjaxRequest(r,o)}return this.adaptor.doAjaxRequest(r)},e.prototype.update=function(e,t,i,n,r){i instanceof dC&&(n=i,i=null);var o=this.adaptor.update(this,e,t,i,n,r);if(this.dataSource.offline)return o;if(wb(this.adaptor.doAjaxRequest)){var a=this.adaptor.options.updateRecord;return this.doAjaxRequest(o,a)}return this.adaptor.doAjaxRequest(o)},e.prototype.isCustomDataAdaptor=function(e){return this.adaptor.getModuleName&&"CustomDataAdaptor"===this.adaptor.getModuleName()},e.prototype.isGraphQLAdaptor=function(e){return this.adaptor.getModuleName&&"GraphQLAdaptor"===this.adaptor.getModuleName()},e.prototype.successFunc=function(e,t){if(this.isGraphQLAdaptor(this.adaptor)){var i=JSON.parse(e);wb(i.errors)||this.failureFunc(JSON.stringify(i.errors))}this.isCustomDataAdaptor(this.adaptor)&&(t=_b({},this.ajaxReqOption,t));try{TC.parse.parseJson(e)}catch(n){e=[]}e=this.adaptor.processResponse(TC.parse.parseJson(e),this,null,t.httpRequest,t),this.ajaxDeffered.resolve(e)},e.prototype.failureFunc=function(e){this.ajaxDeffered.reject([{error:e}])},e.prototype.doAjaxRequest=function(e,t){var i=this;if(e=_b({},{type:"POST",contentType:"application/json; charset=utf-8",processData:!1},e),this.ajaxDeffered=new kC,this.isCustomDataAdaptor(this.adaptor))this.ajaxReqOption=e,t.call(this,{data:e.data,onSuccess:this.successFunc.bind(this),onFailure:this.failureFunc.bind(this)});else{var n=new ox(e);n.beforeSend=function(){i.beforeSend(n.httpRequest,n)},n.onSuccess=this.successFunc.bind(this),n.onFailure=this.failureFunc.bind(this),n.send().catch((function(e){return!0}))}return this.ajaxDeffered.promise},e}(),kC=function(){var e=this;this.promise=new Promise((function(t,i){e.resolve=t,e.reject=i})),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)},CC={GroupGuid:"{271bbba0-1ee7}"},TC=function(){function e(){}return e.getValue=function(e,t){return"function"===typeof e?e.call(t||{}):e},e.endsWith=function(e,t){return e.slice&&e.slice(-t.length)===t},e.startsWith=function(e,t){return e.slice(0,t.length)===t},e.fnSort=function(t){return"ascending"===(t=t?e.toLowerCase(t):"ascending")?this.fnAscending:this.fnDescending},e.fnAscending=function(e,t){return wb(e)&&wb(t)||null===t||void 0===t?-1:"string"===typeof e?e.localeCompare(t):null===e||void 0===e?1:e-t},e.fnDescending=function(e,t){return wb(e)&&wb(t)?-1:null===t||void 0===t?1:"string"===typeof e?-1*e.localeCompare(t):null===e||void 0===e?-1:t-e},e.extractFields=function(e,t){for(var i={},n=0;n<t.length;n++)i=this.setValue(t[n],this.getObject(t[n],e),i);return i},e.select=function(e,t){for(var i=[],n=0;n<e.length;n++)i.push(this.extractFields(e[n],t));return i},e.group=function(t,i,n,r,o,a,s){r=r||1;var l=t,u="GroupGuid";if(l.GroupGuid===CC[u]){for(var c=function(e){if(wb(o))l[e].items=h.group(l[e].items,i,n,l.level+1,null,a,s),l[e].count=l[e].items.length;else{var t,r=o.filter((function(t){return t.key===l[e].key}));t=o.indexOf(r[0]),l[e].items=h.group(l[e].items,i,n,l.level+1,o[t].items,a,s),l[e].count=o[t].count}},h=this,d=0;d<l.length;d++)c(d);return l.childLevels+=1,l}var p={},f=[];f.GroupGuid=CC[u],f.level=r,f.childLevels=0,f.records=l;for(var m=function(e){var t=g.getVal(l,e,i);if(wb(a)||(t=a(t,i)),!p[t]&&(p[t]={key:t,count:0,items:[],aggregates:{},field:i},f.push(p[t]),!wb(o))){var r=o.filter((function(e){return e.key===p[t].key}));p[t].count=r[0].count}p[t].count=wb(o)?p[t].count+=1:p[t].count,(!s||s&&n.length)&&p[t].items.push(l[e])},g=this,y=0;y<l.length;y++)m(y);if(n&&n.length){var v=function(t){for(var i={},r=void 0,a=n,s=0;s<n.length;s++)if(r=e.aggregates[n[s].type],wb(o))r&&(i[a[s].field+" - "+a[s].type]=r(f[t].items,a[s].field));else{var l=o.filter((function(e){return e.key===f[t].key}));r&&(i[a[s].field+" - "+a[s].type]=r(l[0].items,a[s].field))}f[t].aggregates=i};for(y=0;y<f.length;y++)v(y)}if(s&&f.length&&n.length)for(y=0;y<f.length;y++)f[y].items=[];return l.length&&f||l},e.buildHierarchy=function(e,t,i,n,r){var o,a={};for(n.result&&(n=n.result),n.GroupGuid&&this.throwError("DataManager: Do not have support Grouping in hierarchy"),o=0;o<n.length;o++){(a[s=this.getObject(e,n[o])]||(a[s]=[])).push(n[o])}for(o=0;o<i.length;o++){var s=this.getObject(r||e,i[o]);i[o][t]=a[s]}},e.getFieldList=function(e,t,i){if(void 0===i&&(i=""),void 0===t||null===t)return this.getFieldList(e,[],i);for(var n=e,r=0,o=Object.keys(e);r<o.length;r++){var a=o[r];"object"!==typeof n[a]||n[a]instanceof Array?t.push(i+a):this.getFieldList(n[a],t,i+a+".")}return t},e.getObject=function(e,t){if(!e)return t;if(t){if(-1===e.indexOf("."))return t[e];for(var i=t,n=e.split("."),r=0;r<n.length&&null!=i;r++)i=i[n[r]];return i}},e.setValue=function(e,t,i){var n,r,o=e.toString().split("."),a=i||{},s=a,l=o.length;for(n=0;n<l;n++)r=o[n],n+1===l?s[r]=void 0===t?void 0:t:wb(s[r])&&(s[r]={}),s=s[r];return a},e.sort=function(e,t,i){if(e.length<=1)return e;var n=parseInt((e.length/2).toString(),10),r=e.slice(0,n),o=e.slice(n);return r=this.sort(r,t,i),o=this.sort(o,t,i),this.merge(r,o,t,i)},e.ignoreDiacritics=function(t){return"string"!==typeof t?t:t.split("").map((function(t){return t in e.diacritics?e.diacritics[t]:t})).join("")},e.merge=function(e,t,i,n){for(var r,o=[];e.length>0||t.length>0;)r=e.length>0&&t.length>0?n?n(this.getVal(e,0,i),this.getVal(t,0,i),e[0],t[0])<=0?e:t:e[0][i]<e[0][i]?e:t:e.length>0?e:t,o.push(r.shift());return o},e.getVal=function(e,t,i){return i?this.getObject(i,e[t]):e[t]},e.toLowerCase=function(e){return e?"string"===typeof e?e.toLowerCase():e.toString():0===e||!1===e?e.toString():""},e.callAdaptorFunction=function(e,t,i,n){if(t in e){var r=e[t](i,n);wb(r)||(i=r)}return i},e.getAddParams=function(t,i,n){var r={};return e.callAdaptorFunction(t,"addParams",{dm:i,query:n,params:n.params,reqParams:r}),r},e.isPlainObject=function(e){return!!e&&e.constructor===Object},e.isCors=function(){var e=null;try{e=new window.XMLHttpRequest}catch(t){}return!!e&&"withCredentials"in e},e.getGuid=function(e){var t;return(e||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,(function(e,i){if("crypto"in window&&"getRandomValues"in crypto){var n=new Uint8Array(1);window.crypto.getRandomValues(n),t=n[0]%16|0}else t=16*Math.random()|0;return"0123456789abcdef"[19===i?3&t|8:t]}))},e.isNull=function(e){return void 0===e||null===e},e.getItemFromComparer=function(t,i,n){var r,o,a,s=0,l="string"===typeof e.getVal(t,0,i);if(t.length)for(;wb(r)&&s<t.length;)r=e.getVal(t,s,i),a=t[s++];for(;s<t.length;s++)wb(o=e.getVal(t,s,i))||(l&&(r=+r,o=+o),n(r,o)>0&&(r=o,a=t[s]));return a},e.distinct=function(t,i,n){n=!wb(n)&&n;var r,o=[],a={};return t.forEach((function(s,l){(r="object"===typeof t[l]?e.getVal(t,l,i):t[l])in a||(o.push(n?t[l]:r),a[r]=1)})),o},e.processData=function(e,t){var i=this.prepareQuery(e),n=new SC(t);e.requiresCounts&&i.requiresCount();var r=n.executeLocal(i),o={result:e.requiresCounts?r.result:r,count:r.count,aggregates:JSON.stringify(r.aggregates)};return e.requiresCounts?o:r},e.prepareQuery=function(t){var i=this,n=new dC;(t.select&&n.select(t.select),t.where)&&e.parse.parseJson(t.where).filter((function(e){if(wb(e.condition))n.where(e.field,e.operator,e.value,e.ignoreCase,e.ignoreAccent);else{var t=[];e.field?t.push(new pC(e.field,e.operator,e.value,e.ignoreCase,e.ignoreAccent)):t=t.concat(i.getPredicate(e.predicates)),"or"==e.condition?n.where(pC.or(t)):"and"==e.condition&&n.where(pC.and(t))}}));t.search&&e.parse.parseJson(t.search).filter((function(e){return n.search(e.key,e.fields,e.operator,e.ignoreCase,e.ignoreAccent)}));return t.aggregates&&t.aggregates.filter((function(e){return n.aggregate(e.type,e.field)})),t.sorted&&t.sorted.filter((function(e){return n.sortBy(e.name,e.direction)})),t.skip&&n.skip(t.skip),t.take&&n.take(t.take),t.group&&t.group.filter((function(e){return n.group(e)})),n},e.getPredicate=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];if(n.field)t.push(new pC(n.field,n.operator,n.value,n.ignoreCase,n.ignoreAccent));else{for(var r=[],o=this.getPredicate(n.predicates),a=0,s=Object.keys(o);a<s.length;a++){var l=s[a];r.push(o[l])}t.push("or"==n.condition?pC.or(r):pC.and(r))}}return t},e.serverTimezoneOffset=null,e.timeZoneHandling=!0,e.throwError=function(e){try{throw new Error(e)}catch(t){throw t.message+"\n"+t.stack}},e.aggregates={sum:function(t,i){for(var n,r=0,o="number"!==typeof e.getVal(t,0,i),a=0;a<t.length;a++)n=e.getVal(t,a,i),isNaN(n)||null===n||(o&&(n=+n),r+=n);return r},average:function(t,i){return e.aggregates.sum(t,i)/t.length},min:function(t,i){var n;return"function"===typeof i&&(n=i,i=null),e.getObject(i,e.getItemFromComparer(t,i,n||e.fnAscending))},max:function(t,i){var n;return"function"===typeof i&&(n=i,i=null),e.getObject(i,e.getItemFromComparer(t,i,n||e.fnDescending))},truecount:function(e,t){return new SC(e).executeLocal((new dC).where(t,"equal",!0,!0)).length},falsecount:function(e,t){return new SC(e).executeLocal((new dC).where(t,"equal",!1,!0)).length},count:function(e,t){return e.length}},e.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},e.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},e.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof"},e.odv4UniOperator={"$=":"endswith","^=":"startswith","*=":"contains",endswith:"endswith",startswith:"startswith",contains:"contains"},e.diacritics={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"},e.fnOperators={equal:function(t,i,n,r){return r&&(t=e.ignoreDiacritics(t),i=e.ignoreDiacritics(i)),n?e.toLowerCase(t)===e.toLowerCase(i):t===i},notequal:function(t,i,n,r){return r&&(t=e.ignoreDiacritics(t),i=e.ignoreDiacritics(i)),!e.fnOperators.equal(t,i,n)},lessthan:function(t,i,n){return n?e.toLowerCase(t)<e.toLowerCase(i):(wb(t)&&(t=void 0),t<i)},greaterthan:function(t,i,n){return n?e.toLowerCase(t)>e.toLowerCase(i):t>i},lessthanorequal:function(t,i,n){return n?e.toLowerCase(t)<=e.toLowerCase(i):(wb(t)&&(t=void 0),t<=i)},greaterthanorequal:function(t,i,n){return n?e.toLowerCase(t)>=e.toLowerCase(i):t>=i},contains:function(t,i,n,r){return r&&(t=e.ignoreDiacritics(t),i=e.ignoreDiacritics(i)),n?!wb(t)&&!wb(i)&&-1!==e.toLowerCase(t).indexOf(e.toLowerCase(i)):!wb(t)&&!wb(i)&&-1!==t.toString().indexOf(i)},notnull:function(e){return null!==e},isnull:function(e){return null===e},startswith:function(t,i,n,r){return r&&(t=e.ignoreDiacritics(t),i=e.ignoreDiacritics(i)),n?t&&i&&e.startsWith(e.toLowerCase(t),e.toLowerCase(i)):t&&i&&e.startsWith(t,i)},endswith:function(t,i,n,r){return r&&(t=e.ignoreDiacritics(t),i=e.ignoreDiacritics(i)),n?t&&i&&e.endsWith(e.toLowerCase(t),e.toLowerCase(i)):t&&i&&e.endsWith(t,i)},processSymbols:function(t){var i=e.operatorSymbols[t];return i?e.fnOperators[i]:e.throwError("Query - Process Operator : Invalid operator")},processOperator:function(t){var i=e.fnOperators[t];return i||e.fnOperators.processSymbols(t)}},e.parse={parseJson:function(t){return"string"===typeof t?t=JSON.parse(t,e.parse.jsonReviver):t instanceof Array?e.parse.iterateAndReviveArray(t):"object"===typeof t&&null!==t&&e.parse.iterateAndReviveJson(t),t},iterateAndReviveArray:function(t){for(var i=0;i<t.length;i++)"object"===typeof t[i]&&null!==t[i]?e.parse.iterateAndReviveJson(t[i]):"string"!==typeof t[i]||/^[\s]*\[|^[\s]*\{(.)+:|\"/g.test(t[i])?t[i]=e.parse.parseJson(t[i]):t[i]=e.parse.jsonReviver("",t[i])},iterateAndReviveJson:function(t){for(var i,n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];e.startsWith(o,"__")||("object"===typeof(i=t[o])?i instanceof Array?e.parse.iterateAndReviveArray(i):i&&e.parse.iterateAndReviveJson(i):t[o]=e.parse.jsonReviver(t[o],i))}},jsonReviver:function(t,i){if("string"===typeof i){var n=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(i),r=e.timeZoneHandling?e.serverTimezoneOffset:null;if(n)return e.dateParse.toTimeZone(new Date(parseInt(n[1],10)),r,!0);if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(i)){var o=i.indexOf("Z")>-1||i.indexOf("z")>-1,a=i.split(/[^0-9.]/);if(o)i=e.dateParse.toTimeZone(new Date(parseInt(a[0],10),parseInt(a[1],10)-1,parseInt(a[2],10),parseInt(a[3],10),parseInt(a[4],10),parseInt(a[5],10)),e.serverTimezoneOffset,!1);else{var s=new Date(parseInt(a[0],10),parseInt(a[1],10)-1,parseInt(a[2],10),parseInt(a[3],10),parseInt(a[4],10),parseInt(a[5],10)),l=parseInt(a[6],10),u=parseInt(a[7],10);if(isNaN(l)&&isNaN(u))return s;i.indexOf("+")>-1?s.setHours(s.getHours()-l,s.getMinutes()-u):s.setHours(s.getHours()+l,s.getMinutes()+u),i=e.dateParse.toTimeZone(s,e.serverTimezoneOffset,!1)}null==e.serverTimezoneOffset&&(i=e.dateParse.addSelfOffset(i))}}return i},isJson:function(t){return"string"===typeof t[0]?t:e.parse.parseJson(t)},isGuid:function(e){return null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(e)},replacer:function(t,i){return e.isPlainObject(t)?e.parse.jsonReplacer(t,i):t instanceof Array?e.parse.arrayReplacer(t):t instanceof Date?e.parse.jsonReplacer({val:t},i).val:t},jsonReplacer:function(t,i){for(var n,r=0,o=Object.keys(t);r<o.length;r++){var a=o[r];if((n=t[a])instanceof Date){var s=n;null==e.serverTimezoneOffset?t[a]=e.dateParse.toTimeZone(s,null).toJSON():(s=new Date(+s+36e5*e.serverTimezoneOffset),t[a]=e.dateParse.toTimeZone(e.dateParse.addSelfOffset(s),null).toJSON())}}return t},arrayReplacer:function(t){for(var i=0;i<t.length;i++)e.isPlainObject(t[i])?t[i]=e.parse.jsonReplacer(t[i]):t[i]instanceof Date&&(t[i]=e.parse.jsonReplacer({date:t[i]}).date);return t},jsonDateReplacer:function(t,i){if("value"===t&&i){if("string"===typeof i){var n=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(i);if(n)i=e.dateParse.toTimeZone(new Date(parseInt(n[1],10)),null,!0);else if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(i)){var r=i.split(/[^0-9]/);i=e.dateParse.toTimeZone(new Date(parseInt(r[0],10),parseInt(r[1],10)-1,parseInt(r[2],10),parseInt(r[3],10),parseInt(r[4],10),parseInt(r[5],10)),null,!0)}}if(i instanceof Date)return i=e.dateParse.addSelfOffset(i),null===e.serverTimezoneOffset?e.dateParse.toTimeZone(e.dateParse.addSelfOffset(i),null).toJSON():(i=e.dateParse.toTimeZone(i,i.getTimezoneOffset()/60*2-e.serverTimezoneOffset,!1)).toJSON()}return i}},e.dateParse={addSelfOffset:function(e){return new Date(+e-6e4*e.getTimezoneOffset())},toUTC:function(e){return new Date(+e+6e4*e.getTimezoneOffset())},toTimeZone:function(t,i,n){if(null===i)return t;var r=n?e.dateParse.toUTC(t):t;return new Date(+r-36e5*i)},toLocalTime:function(e){var t=e,i=-t.getTimezoneOffset(),n=i>=0?"+":"-",r=function(e){var t=Math.floor(Math.abs(e));return(t<10?"0":"")+t};return t.getFullYear()+"-"+r(t.getMonth()+1)+"-"+r(t.getDate())+"T"+r(t.getHours())+":"+r(t.getMinutes())+":"+r(t.getSeconds())+n+r(i/60)+":"+r(i%60)}},e}(),EC=function(){function e(e){this.chart=e,this.padding=5}return e.prototype.measureAxis=function(e){var t=this.chart,i=t.chartArea.width?Nk(t.chartArea.width,t.availableSize.width):null;this.crossAt(t),this.seriesClipRect=new Aw(e.x,e.y,e.width,e.height),this.initialClipRect=e,this.leftSize=0,this.rightSize=0,this.topSize=0,this.bottomSize=0,this.measureRowAxis(t,this.initialClipRect),this.initialClipRect=YS(this.initialClipRect,new eC(this.leftSize,this.rightSize,0,0)),this.measureColumnAxis(t,this.initialClipRect),this.initialClipRect=YS(this.initialClipRect,new eC(0,0,this.topSize,this.bottomSize)),this.chart.delayRedraw||this.calculateAxisSize(this.initialClipRect),this.leftSize=0,this.rightSize=0,this.topSize=0,this.bottomSize=0,this.measureRowAxis(t,this.initialClipRect),this.seriesClipRect=YS(this.seriesClipRect,new eC(this.leftSize,this.rightSize,0,0)),this.measureColumnAxis(t,this.initialClipRect),this.seriesClipRect=YS(this.seriesClipRect,new eC(0,0,this.topSize,this.bottomSize)),i&&this.calculateFixedChartArea(t,i),this.chart.delayRedraw||(t.refreshAxis(),this.calculateAxisSize(this.seriesClipRect))},e.prototype.calculateFixedChartArea=function(e,t){this.seriesClipRect.width=t,this.seriesClipRect.x=e.availableSize.width-e.margin.right-t-("Right"===e.legendSettings.position?e.legendModule.legendBounds.width:0);for(var i=0,n=e.rows;i<n.length;i++){var r=n[i];this.seriesClipRect.x-=XS(r.farSizes)}},e.prototype.measureRowAxis=function(e,t){var i;this.calculateRowSize(t);for(var n=0,r=e.rows;n<r.length;n++){(i=r[n]).nearSizes=[],i.farSizes=[],this.arrangeAxis(i),this.measureDefinition(i,e,new Ew(e.availableSize.width,i.computedHeight)),this.leftSize<XS(i.nearSizes)&&(this.leftSize=XS(i.nearSizes)),this.rightSize<XS(i.farSizes)&&(this.rightSize=XS(i.farSizes))}},e.prototype.measureColumnAxis=function(e,t){var i;this.calculateColumnSize(t);for(var n=0,r=e.columns;n<r.length;n++){(i=r[n]).farSizes=[],i.nearSizes=[],this.arrangeAxis(i),this.measureDefinition(i,e,new Ew(i.computedWidth,e.availableSize.height)),this.bottomSize<XS(i.nearSizes)&&(this.bottomSize=XS(i.nearSizes)),this.topSize<XS(i.farSizes)&&(this.topSize=XS(i.farSizes))}},e.prototype.measureDefinition=function(e,t,i){for(var n=0,r=e.axes;n<r.length;n++){var o=r[n];o.scrollBarHeight=t.scrollBarModule&&t.zoomModule&&t.zoomSettings.enableScrollbar&&o.enableScrollbarOnZooming&&t.zoomModule.isZoomed&&(o.zoomFactor<1||o.zoomPosition>0)?16:0,o.scrollBarHeight=t.scrollBarModule&&(t.zoomModule&&t.zoomSettings.enableScrollbar&&o.enableScrollbarOnZooming&&t.zoomModule.isZoomed&&(o.zoomFactor<1||o.zoomPosition>0)||o.scrollbarSettings.enable)?16:0,o.getModule(t),o.baseModule.calculateRangeAndInterval(i,o),e.computeSize(o,o.scrollBarHeight)}e.farSizes.length>0&&(e.farSizes[e.farSizes.length-1]-=10),e.nearSizes.length>0&&(e.nearSizes[e.nearSizes.length-1]-=10)},e.prototype.calculateAxisSize=function(e){var t,i,n,r,o,a,s,l=this.chart,u=0,c=0,h=0;this.calculateRowSize(e);for(var d=0,p=l.rows.length;d<p;d++){u=0,c=0;for(var f=0,m=(t=l.rows[d]).axes.length;f<m;f++){if(s=(r=t.axes[f]).plotOffset,0===r.rect.height){r.rect.height=t.computedHeight,h=0;for(var g=d+1,y=d+r.span;g<y;g++)h+=(n=l.rows[g]).computedHeight;r.rect.y=t.computedTop-h+(r.plotOffsetTop?r.plotOffsetTop:s),r.rect.height=r.rect.height+h-this.getAxisOffsetValue(r.plotOffsetTop,r.plotOffsetBottom,r.plotOffset),r.rect.width=0}r.isAxisOpposedPosition?(o=e.x+e.width+XS(ek(t.farSizes,c)),r.rect.x=r.rect.x>=o?r.rect.x:o,c++):(o=e.x-XS(ek(t.nearSizes,u)),r.rect.x=r.rect.x<=o?r.rect.x:o,u++)}}this.calculateColumnSize(e);for(d=0,p=l.columns.length;d<p;d++){u=0,c=0;f=0;for(var v=(i=l.columns[d]).axes.length;f<v;f++){if(s=(r=i.axes[f]).plotOffset,0===r.rect.width){g=d;for(var b=d+r.span;g<b;g++)n=l.columns[g],r.rect.width+=n.computedWidth;r.rect.x=i.computedLeft+(r.plotOffsetLeft?r.plotOffsetLeft:s),r.rect.width-=this.getAxisOffsetValue(r.plotOffsetLeft,r.plotOffsetRight,r.plotOffset),r.rect.height=0}r.isAxisOpposedPosition?(a=e.y-XS(ek(i.farSizes,c)),r.rect.y=r.rect.y<=a?r.rect.y:a,c++):(a=e.y+e.height+XS(ek(i.nearSizes,u)),r.rect.y=r.rect.y>=a?r.rect.y:a,u++)}}},e.prototype.measure=function(){for(var e,t,i,n,r,o=this.chart,a=0,s=o.axisCollections;a<s.length;a++){var l=s[a];if("Vertical"===l.orientation){o.verticalAxes.push(l),n=this.getActualRow(l),e=o.rows[n],this.pushAxis(e,l),r=n+l.span>o.rows.length?o.rows.length:n+l.span;for(var u=n+1;u<r;u++)(i=o.rows[u]).axes[e.axes.length-1]=l,o.rows[u]=i;o.rows[n]=e}else{o.horizontalAxes.push(l),n=this.getActualColumn(l),t=o.columns[n],this.pushAxis(t,l),r=n+l.span>o.columns.length?o.columns.length:n+l.span;for(u=n+1;u<r;u++)(i=o.columns[u]).axes[t.axes.length-1]=l,o.columns[u]=i;o.columns[n]=t}l.isRTLEnabled=o.enableRtl,l.setIsInversedAndOpposedPosition()}},e.prototype.getAxisOffsetValue=function(e,t,i){return e?e+(t||i):t?t+i:2*i},e.prototype.crossAt=function(e){for(var t=0,i=e.axisCollections;t<i.length;t++){var n=i[t];if(null!==n.crossesAt)if(n.crossesInAxis)for(var r=2,o=e.axisCollections.length;r<o;r++)n.crossesInAxis!==e.axisCollections[r].name||(n.crossInAxis=e.axisCollections[r],n.crossAt=this.updateCrossAt(n.crossInAxis,n.crossesAt));else e.requireInvertedAxis?n.crossInAxis="Horizontal"===n.orientation?e.primaryXAxis:e.primaryYAxis:n.crossInAxis="Horizontal"===n.orientation?e.primaryYAxis:e.primaryXAxis,n.crossAt=this.updateCrossAt(n.crossInAxis,n.crossesAt)}},e.prototype.updateCrossAt=function(e,t){switch(e.valueType){case"DateTime":var i={skeleton:"full",type:"dateTime"},n=this.chart.intl.getDateParser(i),r=this.chart.intl.getDateFormat(i);return Date.parse(n(r(new Date(TC.parse.parseJson({val:t}).val))));case"Category":return parseFloat(t)?parseFloat(t):e.labels.indexOf(t);case"Logarithmic":return US(t,e.logBase);default:return t}},e.prototype.pushAxis=function(e,t){for(var i=0,n=e.axes.length;i<=n;i++)if(!e.axes[i]){e.axes[i]=t;break}},e.prototype.arrangeAxis=function(e){for(var t=[],i=0,n=e.axes.length;i<=n;i++)e.axes[i]&&t.push(e.axes[i]);e.axes=t},e.prototype.getActualColumn=function(e){var t=this.chart.columns.length,i=e.columnIndex;return i>=t?t-1:i<0?0:i},e.prototype.getActualRow=function(e){var t=this.chart.rows.length,i=e.rowIndex;return i>=t?t-1:i<0?0:i},e.prototype.calculateRowSize=function(e){for(var t,i=this.chart,n=e.y+e.height,r=0,o=Math.max(0,e.height),a=0,s=i.rows.length;a<s;a++)r=-1!==(t=i.rows[a]).height.indexOf("%")?Math.min(o,e.height*parseInt(t.height,10)/100):Math.min(o,parseInt(t.height,10)),r=a!==s-1?r:o,t.computedHeight=r,n-=r,t.computedTop=n,o-=r},e.prototype.calculateColumnSize=function(e){for(var t,i=this.chart,n=e.x,r=0,o=Math.max(0,e.width),a=0,s=i.columns.length;a<s;a++)r=-1!==(t=i.columns[a]).width.indexOf("%")?Math.min(o,e.width*parseInt(t.width,10)/100):Math.min(o,parseInt(t.width,10)),r=a!==s-1?r:o,t.computedWidth=r,t.computedLeft=n,n+=r,o-=r},e.prototype.renderAxes=function(){for(var e,t,i,n=this.chart,r=n.renderer.createGroup({id:n.element.id+"AxisInsideCollection"}),o=n.renderer.createGroup({id:n.element.id+"AxisOutsideCollection"}),a=0,s=n.axisCollections.length;a<s;a++)e=n.axisCollections[a],this.element=n.renderer.createGroup({id:n.element.id+"AxisGroup"+a+"Inside"}),t=n.renderer.createGroup({id:n.element.id+"AxisGroup"+a+"Outside"}),i=this.findAxisPosition(e),"Horizontal"===e.orientation?(e.updateCrossValue(),e.visible&&e.internalVisibility&&e.lineStyle.width>0&&this.drawAxisLine(e,a,e.plotOffset,0,i?t:this.element,e.updatedRect),(e.majorGridLines.width>0||e.majorTickLines.width>0)&&this.drawXAxisGridLine(e,a,i||"Inside"===e.tickPosition?t:this.element,e.updatedRect),e.visible&&e.internalVisibility&&(this.drawXAxisLabels(e,a,i||"Inside"===e.labelPosition?t:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect),this.drawXAxisBorder(e,a,i||"Inside"===e.labelPosition?t:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect),this.drawXAxisTitle(e,a,i?t:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect))):(e.updateCrossValue(),e.visible&&e.internalVisibility&&e.lineStyle.width>0&&this.drawAxisLine(e,a,0,e.plotOffset,i?t:this.element,e.updatedRect),(e.majorGridLines.width>0||e.majorTickLines.width>0)&&this.drawYAxisGridLine(e,a,i||"Inside"===e.tickPosition?t:this.element,e.updatedRect),e.visible&&e.internalVisibility&&(this.drawYAxisLabels(e,a,i||"Inside"===e.labelPosition?t:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect),this.drawYAxisBorder(e,a,i||"Inside"===e.labelPosition?t:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect),this.drawYAxisTitle(e,a,i?t:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect))),this.chart.enableCanvas||(r.appendChild(this.element),t&&t.childNodes.length>0&&o.appendChild(t)),n.scrollBarModule&&(n.zoomSettings.enableScrollbar&&e.enableScrollbarOnZooming||e.scrollbarSettings.enable)&&this.renderScrollbar(n,e);this.element=n.renderer.createGroup({id:n.element.id+"DefinitionLine"});var l=0;for(s=n.rows.length;l<s;l++){var u=n.rows[l];u.border.color&&this.drawBottomLine(u,l,!0)}for(l=0,s=n.columns.length;l<s;l++){var c=n.columns[l];c.border.color&&this.drawBottomLine(c,l,!1)}return this.chart.enableCanvas||r.appendChild(this.element),Ek(n.enableCanvas,n.svgObject,r,n.redraw),o},e.prototype.renderScrollbar=function(e,t){(!wb(e.zoomModule)&&e.zoomModule.isZoomed&&(t.zoomFactor<1||t.zoomPosition>0)||t.scrollbarSettings.enable&&(t.zoomFactor<=1||t.zoomPosition>=0))&&(!t.zoomingScrollBar.isScrollUI||e.visibleSeries[0].type.indexOf("Bar")>=0)?(e.scrollElement||(e.scrollElement=jk(e.redraw,e.element.id+"_scrollElement")||vx("div",{id:e.element.id+"_scrollElement"})),Ek(!1,e.scrollElement,t.zoomingScrollBar.render(!0),!0)):1===t.zoomFactor&&0===t.zoomPosition&&t.zoomingScrollBar.svgObject&&!t.scrollbarSettings.enable&&t.zoomingScrollBar.destroy(),t.zoomingScrollBar.isScrollUI&&(t.zoomingScrollBar.isScrollUI=!1)},e.prototype.findAxisPosition=function(e){return null!==e.crossAt&&e.isInside(e.crossInAxis.visibleRange)},e.prototype.drawBottomLine=function(e,t,i){var n,r,o,a,s,l,u=this.chart;i?(a=s=(e=e).computedTop+e.computedHeight,o=(r=this.seriesClipRect.x)+this.seriesClipRect.width,l="Row"):(r=o=(e=e).computedLeft,s=(a=this.seriesClipRect.y)+this.seriesClipRect.height,l="Column"),n={id:u.element.id+"_AxisBottom_"+l+t,x1:r,y1:a,x2:o,y2:s,"stroke-width":e.border.width,stroke:e.border.color},this.htmlObject=u.renderer.drawLine(n),this.element.appendChild(this.htmlObject)},e.prototype.drawAxisLine=function(e,t,i,n,r,o){var a,s=this.chart,l=xk(s.element.id+"AxisLine_"+t),u=l?l.getAttribute("d"):"";l=null,a={id:s.element.id+"AxisLine_"+t,d:"M "+(o.x-i)+" "+(o.y-n)+" L "+(o.x+o.width+i)+" "+(o.y+o.height+n),"stroke-dasharray":e.lineStyle.dashArray,"stroke-width":e.lineStyle.width,stroke:e.lineStyle.color||s.themeStyle.axisLine},this.htmlObject=s.renderer.drawPath(a),Ek(s.enableCanvas,r,this.htmlObject,s.redraw,!0,"x","y",null,u)},e.prototype.drawYAxisGridLine=function(e,t,i,n){var r,o,a="Logarithmic"===e.valueType,s=e.valueType.indexOf("Category")>-1,l=0,u="",c="",h=e.isAxisOpposedPosition,d=h?e.majorTickLines.height:-e.majorTickLines.height,p=h?.5*e.lineStyle.width:.5*-e.lineStyle.width,f="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?.5:0,m=wb(e.crossesAt)?h?e.scrollBarHeight:-e.scrollBarHeight:0,g="Inside"===e.tickPosition,y=g?n.x-d-p:n.x+d+p+m,v=e.visibleLabels.length,b=this.chart.themeStyle;e.valueType.indexOf("Category")>-1&&"BetweenTicks"===e.labelPlacement&&v>0&&(v+=1);for(var x=e.minorGridLines,_=e.minorTickLines,w=0;w<v;w++)(l=-1*(l=tk(r=e.visibleLabels[w]?e.visibleLabels[w].value-f:e.visibleLabels[w-1].value+e.visibleRange.interval-f,e)*n.height)+(n.y+n.height))>=n.y&&n.y+n.height>=l&&((HS(r,e.visibleRange)||this.isBorder(e,w,l))&&(u="M "+this.seriesClipRect.x+" "+l+" L "+(this.seriesClipRect.x+this.seriesClipRect.width)+" "+l,this.renderGridLine(e,t,u,e.majorGridLines,"_MajorGridLine_",w,this.element,b.majorGridLine,e.majorGridLines.dashArray)),c="M "+(n.x+p+(g?m:0))+" "+l+" L "+y+" "+l,this.renderGridLine(e,t,c,e.majorTickLines,"_MajorTickLine_",w,i,b.majorTickLine),(x.width>0||_.width>0)&&e.minorTicksPerInterval>0&&(0!==w||!gk(e)||a||s||this.renderMinorGridOnZooming(e,r,n,w,t,b,i),o=this.drawAxisMinorLine(e,r,n,w),this.renderGridLine(e,t,o[0],x,"_MinorGridLine_",w,this.element,b.minorGridLine,x.dashArray),this.renderGridLine(e,t,o[1],_,"_MinorTickLine_",w,i,b.minorTickLine),w===v-1&&gk(e)&&a&&!s&&this.renderMinorGridOnZooming(e,r+e.visibleRange.interval,n,w,t,b,i)))},e.prototype.isBorder=function(e,t,i){var n=this.chart.chartArea.border,r=this.seriesClipRect,o=e.orientation,a="Horizontal"===o?r.x:r.y,s="Horizontal"===o?r.width:r.height,l="Horizontal"===o?0:e.visibleLabels.length-1,u="Horizontal"===o?e.visibleLabels.length-1:0;return e.plotOffset>0||((i===a||i===a+s)&&(n.width<=0||"transparent"===n.color)||(i!==a&&t===l||i!==a+s&&t===u))},e.prototype.drawYAxisLabels=function(e,t,i,n){var r,o,a,s,l=this.chart,u=0,c=0,h=e.labelPadding,d="Inside"===e.labelPosition,p=e.isAxisOpposedPosition,f=(e.labelPosition===e.tickPosition?e.majorTickLines.height:0)+h+.5*e.lineStyle.width,m=e.angle%360;f=p?f:-f;var g,y,v,b,x,_,w,S=l.renderer.createGroup({id:l.element.id+"AxisLabels"+t}),k=wb(e.crossesAt)?e.scrollBarHeight*(p?1:-1):0,C=e.isAxisInverse,T=C?n.y:n.y+n.height,E=!p&&!d||p&&d;b=d?E?f:-f:E?f+k:-f+k;for(var A=0,P=e.visibleLabels.length;A<P;A++){switch(r=e.visibleLabels[A],o=(s=NS(e.visibleLabels[A].originalText))?e.visibleLabels[A].breakLabelSize:e.visibleLabels[A].size,c=tk(e.visibleLabels[A].value,e)*n.height+(l.stockChart?7:0),c=Math.floor(-1*c+(n.y+n.height)),g=o.height/8*e.visibleLabels[A].text.length/2,y=o.height/4*3+3,x=n.height/e.visibleLabels.length,_=("Trim"===e.labelIntersectAction||"Wrap"===e.labelIntersectAction)&&0!==m&&o.width>x?x:o.width,c=s?"Inside"===e.labelPosition?c-o.height/2-g+y:c-g:"Inside"===e.labelPosition?c+y:c,v=e.majorGridLines.width>e.majorTickLines.width?e.majorGridLines.width:e.majorTickLines.width,"Far"===e.labelStyle.textAlignment?c=c-v-10:"Near"===e.labelStyle.textAlignment?c=c+v+10:"Center"===e.labelStyle.textAlignment&&(c=c),w=d?b+o.width/2:b-o.width/2,u=p?n.x-w:n.x+w,w=b,a=new Lw(l.element.id+t+"_AxisLabel_"+A,u,c,"middle",r.text,"","middle"),e.edgeLabelPlacement){case"None":break;case"Hide":((0===A||C&&A===P-1)&&a.y>n.y||(A===P-1||C&&0===A)&&a.y-.5*o.height<n.y)&&(a.text="");break;case"Shift":(0===A||C&&A===P-1)&&a.y>n.y?a.y=c=n.y+n.height:(A===P-1||C&&0===A)&&a.y-.5*o.height<n.y&&(a.y=c=n.y+.5*o.height)}var M=a.y,L=a.y-_;s&&(M=a.y-_/2,L=a.y+_/2),(90!==m&&270!==m||"Hide"!==e.labelIntersectAction||0===A||!(C?L<=T:M>=T))&&(T=C?M:L,a.transform="rotate("+m+","+u+","+c+")",Vk(l.renderer,a,r.labelStyle,r.labelStyle.color||l.themeStyle.axisLabel,S,!1,l.redraw,!0,!0,null,null,0,null,l.enableCanvas))}this.chart.enableCanvas||(l.delayRedraw?e.visible&&e.internalVisibility&&this.createZoomingLabel(this.chart,S,e,t,n):Ek(l.enableCanvas,i,S,l.redraw))},e.prototype.getAxisLabelXvalue=function(e,t,i){var n=t.lineBreakAlignment,r="Inside"===t.labelPosition,o=t.isAxisOpposedPosition;return o&&r||!o&&!r?"Right"===n?e:"Center"===n?e-i/2:e-i:"Left"===n?e:"Center"===n?e+i/2:e+i},e.prototype.drawYAxisBorder=function(e,t,i,n){if(e.border.width>0){var r=void 0,o=void 0,a="Outside"===e.labelPosition?e.scrollBarHeight:0,s=e.isAxisOpposedPosition;a*=s?1:-1;for(var l=n.height/e.visibleRange.delta*("DateTime"===e.valueType?e.dateTimeInterval:e.visibleRange.interval),u=void 0,c=e.maxLabelSize.width+10+(e.tickPosition===e.labelPosition?e.majorTickLines.height:0),h="",d="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?-.5:0,p=s&&"Inside"===e.labelPosition||!s&&"Outside"===e.labelPosition?n.x-c+a:n.x+c+a,f=0,m=e.visibleLabels.length;f<m;f++)switch(o=tk(e.visibleLabels[f].value+d,e),o=(e.isAxisInverse?1-o:o)*n.height,"Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?(r=-1*o+(n.y+n.height),u=-1*o-l+(n.y+n.height)):(r=-1*o+l/2+(n.y+n.height),u=-1*o-l/2+(n.y+n.height)),e.border.type){case"Rectangle":case"WithoutTopBorder":r>n.y+n.height?h+="M "+p+" "+(n.y+n.height)+" L "+p+" "+u+" ":Math.floor(n.y)>u?h+="M "+(n.x+a)+" "+r+" L "+p+" "+r+" L "+p+" "+n.y+" ":(h+="M "+(n.x+a)+" "+r+" L "+p+" "+r+" L "+p+" "+u+" ",f===e.visibleLabels.length-1&&(h+="M "+(n.x+a)+" "+u+" L "+p+" "+u+" "));break;case"WithoutTopandBottomBorder":r>n.y+n.height||u<Math.floor(n.y)||(h+="M "+(n.x+a)+" "+r+" L "+p+" "+r+" M "+p+" "+u+" L "+(n.x+a)+" "+u)}""!==(h+="Rectangle"===e.border.type?"M "+(n.x+a)+" "+n.y+" L "+(n.x+a)+" "+(n.y+n.height)+" ":"")&&this.createAxisBorderElement(e,t,h,i)}e.multiLevelLabels.length>0&&this.chart.multiLevelLabelModule&&this.chart.multiLevelLabelModule.renderYAxisMultiLevelLabels(e,t,i,n)},e.prototype.drawYAxisTitle=function(e,t,i,n){if(e.title){var r=this.chart,o=e.isAxisOpposedPosition,a=o?90:-90,s=("Inside"===e.tickPosition?0:e.majorTickLines.height+e.titlePadding)+("Inside"===e.labelPosition?0:e.maxLabelSize.width+e.multiLevelLabelHeight+this.padding);s=o?s+e.scrollBarHeight:-s-e.scrollBarHeight;var l=n.x+s,u=n.y+.5*n.height,c=e.titleSize.height*(e.titleCollection.length-1),h=new Lw(r.element.id+"_AxisTitle_"+t,l,u-e.labelPadding-c,"middle",e.titleCollection,"rotate("+a+","+l+","+u+")",null,a),d=Vk(r.renderer,h,e.titleStyle,e.titleStyle.color||r.themeStyle.axisTitle,i,null,null,null,null,null,null,0,null,r.enableCanvas);d.setAttribute("tabindex",e.tabIndex.toString()),d.setAttribute("aria-label",e.description||e.title)}},e.prototype.drawXAxisGridLine=function(e,t,i,n){var r,o,a="Logarithmic"===e.valueType,s=e.valueType.indexOf("Category")>-1,l=0,u="",c="",h=e.isAxisOpposedPosition,d=h?-e.majorTickLines.height:e.majorTickLines.height,p=h?.5*-e.lineStyle.width:.5*e.lineStyle.width,f=wb(e.crossesAt)?h?-e.scrollBarHeight:e.scrollBarHeight:0,m=e.valueType.indexOf("Category")>-1&&"BetweenTicks"===e.labelPlacement?.5:0,g=e.visibleLabels.length,y="Inside"===e.tickPosition,v=y?n.y-d-p:n.y+d+p+f,b=this.chart.themeStyle;e.valueType.indexOf("Category")>-1&&g>0&&"BetweenTicks"===e.labelPlacement&&(g+=1);for(var x=0;x<g;x++)(l=tk(r="DateTimeCategory"!==e.valueType?e.visibleLabels[x]?e.visibleLabels[x].value-m:e.visibleLabels[x-1].value+e.visibleRange.interval-m:e.visibleLabels[x]?e.visibleLabels[x].value-m:e.visibleRange.max,e)*n.width+n.x)>=n.x&&n.x+n.width>=l&&((HS(r,e.visibleRange)||this.isBorder(e,x,l))&&(u="M "+l+" "+(this.seriesClipRect.y+this.seriesClipRect.height)+" L "+l+" "+this.seriesClipRect.y,this.renderGridLine(e,t,u,e.majorGridLines,"_MajorGridLine_",x,this.element,b.majorGridLine,e.majorGridLines.dashArray)),c="M "+l+" "+(n.y+p+(y?f:0))+" L "+l+" "+v,this.renderGridLine(e,t,c,e.majorTickLines,"_MajorTickLine_",x,i,b.majorTickLine),e.minorTicksPerInterval>0&&(e.minorGridLines.width>0||e.minorTickLines.width>0)&&(0!==x||!gk(e)||a||s||this.renderMinorGridOnZooming(e,r,n,x,t,b,i),o=this.drawAxisMinorLine(e,r,n,x),this.renderGridLine(e,t,o[0],e.minorGridLines,"_MinorGridLine_",x,this.element,b.minorGridLine,e.minorGridLines.dashArray),this.renderGridLine(e,t,o[1],e.minorTickLines,"_MinorTickLine_",x,i,b.minorTickLine),x===g-1&&gk(e)&&a&&!s&&this.renderMinorGridOnZooming(e,r+e.visibleRange.interval,n,x,t,b,i)))},e.prototype.renderMinorGridOnZooming=function(e,t,i,n,r,o,a){var s=this.drawAxisMinorLine(e,t,i,n,!0);this.renderGridLine(e,r,s[0],e.minorGridLines,"_MinorGridLine_",-1,this.element,o.minorGridLine,e.minorGridLines.dashArray),this.renderGridLine(e,r,s[1],e.minorTickLines,"_MinorTickLine_",-1,a,o.minorTickLine)},e.prototype.drawAxisMinorLine=function(e,t,i,n,r){var o,a=t,s=0,l=0,u=e.visibleRange,c="Inside"===e.tickPosition,h=[],d=e.isAxisOpposedPosition?-e.minorTickLines.height:e.minorTickLines.height,p=1,f=1,m=c?i.y-d:i.y+d,g=c?i.x+d:i.x-d,y="",v="",b=e.isAxisInverse;if("Logarithmic"===e.valueType&&(f=(o=Math.pow(e.logBase,a-u.interval))+(p=(Math.pow(e.logBase,a)-o)/(e.minorTicksPerInterval+1))),"Horizontal"===e.orientation)for(var x=0;x<e.minorTicksPerInterval;x++)a=this.findLogNumeric(e,f,a,n,r),f+=p,HS(a,u)&&(l=(a-u.min)/(u.max-u.min),l=Math.ceil((b?1-l:l)*i.width),s=Math.floor(l+i.x),y=y.concat("M "+s+" "+this.seriesClipRect.y+"L "+s+" "+(this.seriesClipRect.y+this.seriesClipRect.height)),s=Math.floor(l+i.x),v=v.concat("M "+s+" "+i.y+"L "+s+" "+(m+e.scrollBarHeight)));else for(x=0;x<e.minorTicksPerInterval;x++)HS(a=this.findLogNumeric(e,f,a,n,r),u)&&(l=(a-u.min)/(u.max-u.min),l=-1*Math.ceil((b?1-l:l)*i.height),s=Math.floor(l+i.y+i.height),y=y.concat("M "+this.seriesClipRect.x+" "+s+"L "+(this.seriesClipRect.x+this.seriesClipRect.width)+" "+s+" "),s=Math.floor(l+i.y+i.height),v=v.concat("M "+i.x+" "+s+"L "+(g-e.scrollBarHeight)+" "+s+" ")),f+=p;return h.push(y),h.push(v),h},e.prototype.findLogNumeric=function(e,t,i,n,r){var o,a=e.visibleRange;if("Logarithmic"===e.valueType)i=US(t,e.logBase);else if("DateTime"===e.valueType)o=e.dateTimeInterval/(e.minorTicksPerInterval+1),i=r?i-o:i+o;else if("DateTimeCategory"===e.valueType){var s="BetweenTicks"===e.labelPlacement?.5:0;i+=((e.visibleLabels[n+1]?e.visibleLabels[n+1].value-s:e.visibleRange.max)-(e.visibleLabels[n]?e.visibleLabels[n].value-s:e.visibleRange.min))/(e.minorTicksPerInterval+1)}else o=a.interval/(e.minorTicksPerInterval+1),i=r?i-o:i+o;return i},e.prototype.drawXAxisLabels=function(e,t,i,n){var r,o,a,s,l,u,c,h,d,p=this.chart,f=0,m=0,g=e.labelPadding,y=p.renderer.createGroup({id:p.element.id+"AxisLabels"+t}),v="Inside"===e.labelPosition,b=e.isAxisOpposedPosition,x=e.labelPosition===e.tickPosition?e.majorTickLines.height:0,_=x+g+.5*e.lineStyle.width,w=e.angle%360,S=0===w||-180===w||180===w,k=e.isAxisInverse,C=k?n.x+n.width:n.x,T=0,E=e.visibleLabels.length,A=e.scrollbarSettings.enable||!v&&wb(e.crossesAt)&&(e.zoomFactor<1||e.zoomPosition>0)?e.scrollBarHeight:0,P=[],M=!1;_+=90===w||270===w||-90===w||-270===w?v?5:-5:0;for(var L=!b&&!v||b&&v,O=L?360>=w&&w>=180||-1>=w&&w>=-180:1<=w&&w<=180||-181>=w&&w>=-360,R=0,I=E;R<I;R++){d=NS((h=e.visibleLabels[R]).originalText),f=tk(h.value,e)*n.width+n.x,o=h.size,c=n.width/E,u=d?h.breakLabelSize.width:o.width,T=("Trim"===e.labelIntersectAction||"Wrap"===e.labelIntersectAction)&&0===w&&u>c?c:u,r=o.height/4,f-=d||0!==w?0:T/2,0!==w&&(f-=d?"Left"===e.lineBreakAlignment?h.breakLabelSize.width/2:"Right"===e.lineBreakAlignment?-h.breakLabelSize.width/2:0:-90===w||270===w?-r:90===w||-270===w?r:0),"Far"===e.labelStyle.textAlignment?f=f+T-10:"Near"===e.labelStyle.textAlignment?f=f-T+10:"Center"===e.labelStyle.textAlignment&&(f=f),d&&"Center"!==e.lineBreakAlignment&&0===w&&(f+="Left"===e.lineBreakAlignment?-T/2:T/2);var D=d?S?o.height:h.breakLabelSize.width/2:0;if(_=d?x+g+.5*e.lineStyle.width:_,v&&w?m=d?b?n.y+_+D:n.y-_-D:b?n.y+_+r:n.y-_-r:(a=d?L?_+A+(w?D:3*r):-(_+A+D):L?_+A+(w?1:3)*r:-(_+A+(w?r:h.index>1?2*r:0)),m=n.y+a*h.index),s=d?this.getAnchor(e):p.enableRtl?O?"":"end":p.isRtlEnabled||O?"end":"",l=new Lw(p.element.id+t+"_AxisLabel_"+R,f,m,s),e.edgeLabelPlacement&&0===w)switch(e.edgeLabelPlacement){case"None":break;case"Hide":if((0===R||k&&R===I-1)&&l.x<n.x||(R===I-1||k&&0===R)&&l.x+T>n.x+n.width)continue;break;case"Shift":(0===R||k&&R===I-1)&&l.x<n.x?(c-=n.x-l.x,l.x=f=n.x):(R===I-1||k&&0===R)&&l.x+T>n.x+n.width&&(o.width>c&&"Trim"===e.labelIntersectAction?c-=l.x+T-(n.x+n.width):c=T,l.x=f=n.x+n.width-c)}l.text=this.getLabelText(h,e,c);var z=void 0,B=void 0;if(d&&0===w?"Right"===e.lineBreakAlignment?(z=l.x-T,B=l.x):"Center"===e.lineBreakAlignment?(z=l.x-T/2,B=l.x+T/2):(z=l.x,B=l.x+T):(z=l.x,B=l.x+T),0!==w||"Hide"!==e.labelIntersectAction||0===R||!(k?B>=C:z<=C)){if(C=d?"Right"===e.lineBreakAlignment?k?l.x-T:l.x:"Center"===e.lineBreakAlignment?k?l.x-T/2:l.x+T/2:k?l.x:l.x+T:k?l.x:l.x+T,0!==w){var F=void 0,N=void 0;if(d){var j=0,V=0;F=h.breakLabelSize.height,V=h.breakLabelSize.height-4,"Center"===e.lineBreakAlignment?j=-h.breakLabelSize.width/2:"Right"===e.lineBreakAlignment&&(j=-h.breakLabelSize.width),L&&(V=h.breakLabelSize.height/(l.text.length+1)),N=new Aw(l.x+j,l.y-V,h.breakLabelSize.width,F)}else F=m-(l.y-(h.size.height/2+10)),N=new Aw(l.x,l.y-(h.size.height/2-5),h.size.width,F);var U=this.getRectanglePoints(N),W=d?N.x+N.width/2:f,H=d?N.y+N.height/2:m-F/2;l.transform=d?"rotate("+w+","+W+","+H+")":"rotate("+w+","+f+","+m+")",P.push(QS(U,W,H,w)),M=!1;for(var G=R;G>0;G--)if(P[R]&&P[G-1]&&JS(P[R],P[G-1])){M=!0,P[R]=null;break}}Vk(p.renderer,l,h.labelStyle,h.labelStyle.color||p.themeStyle.axisLabel,y,e.isAxisOpposedPosition!==("Inside"===e.labelPosition),p.redraw,!0,null,null,null,h.size,M,p.enableCanvas)}}this.chart.enableCanvas||(p.delayRedraw?e.visible&&e.internalVisibility&&this.createZoomingLabel(this.chart,y,e,t,n):i.appendChild(y))},e.prototype.getAnchor=function(e){return"Center"===e.lineBreakAlignment?"middle":this.chart.enableRtl?"Left"===e.lineBreakAlignment?"end":"start":"Left"===e.lineBreakAlignment?"start":"end"},e.prototype.getRectanglePoints=function(e){return[new Jk(e.x,e.y),new Jk(e.x+e.width,e.y),new Jk(e.x+e.width,e.y+e.height),new Jk(e.x,e.y+e.height)]},e.prototype.getLabelText=function(e,t,i){if(NS(e.originalText)){for(var n=[],r=void 0,o=0;o<e.text.length;o++)r=this.findAxisLabel(t,e.text[o],i),n.push(r);return n}return this.findAxisLabel(t,e.text,i)},e.prototype.drawXAxisBorder=function(e,t,i,n){if(e.border.width>0){for(var r="Outside"===e.labelPosition?e.scrollBarHeight:0,o=e.isAxisOpposedPosition,a=void 0,s=n.y+(o?-1:1)*r,l=void 0,u=n.width/e.visibleRange.delta*("DateTime"===e.valueType?e.dateTimeInterval:e.visibleRange.interval),c=void 0,h=e.maxLabelSize.height+(e.tickPosition===e.labelPosition?e.majorTickLines.height:0),d="",p="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?-.5:0,f=o&&"Inside"===e.labelPosition||!o&&"Outside"===e.labelPosition?n.y+h+10+r:n.y-h-10-r,m=0,g=e.visibleLabels.length;m<g;m++)switch(l=tk(e.visibleLabels[m].value+p,e),l=(e.isAxisInverse?1-l:l)*n.width,"Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?(a=l+n.x,c=l+u+n.x):(a=l-.5*u+n.x,c=l+.5*u+n.x),e.border.type){case"Rectangle":case"WithoutTopBorder":a<n.x?d+="M "+n.x+" "+f+" L "+c+" "+f+" ":Math.floor(c)>n.width+n.x&&1!==e.visibleLabels.length?d+="M "+a+" "+s+" L "+a+" "+f+" L "+(n.width+n.x)+" "+f+" ":(d+="M "+a+" "+s+" L "+a+" "+f+" L "+c+" "+f+" ",0===m&&(d+="M "+a+" "+s+" L "+a+" "+f+" M "+a+" "+f+" L "+n.x+" "+f),m===e.visibleLabels.length-1&&(d+="M "+c+" "+s+" L "+c+" "+f+" M "+c+" "+f+" L "+(n.width+n.x)+" "+f));break;case"WithoutTopandBottomBorder":a<n.x||Math.floor(c)>n.width+n.x||(d+="M "+a+" "+s+" L "+a+" "+f+" M "+c+" "+s+" L "+c+" "+f)}""!==(d+="Rectangle"===e.border.type?"M  "+n.x+" "+s+"L "+(n.x+n.width)+" "+s:"")&&this.createAxisBorderElement(e,t,d,i)}this.chart.multiLevelLabelModule&&e.multiLevelLabels.length>0&&this.chart.multiLevelLabelModule.renderXAxisMultiLevelLabels(e,t,i,n)},e.prototype.createAxisBorderElement=function(e,t,i,n){var r=xk(this.chart.element.id+"_BorderLine_"+t),o=r?r.getAttribute("d"):"",a=this.chart.renderer.drawPath(new Dw(this.chart.element.id+"_BorderLine_"+t,"transparent",e.border.width,e.border.color||this.chart.themeStyle.axisLine,1,"",i));a.style.pointerEvents="none",Ek(this.chart.enableCanvas,n,a,this.chart.redraw,!0,"x","y",null,o,!0)},e.prototype.findAxisLabel=function(e,t,i){return"Trim"===e.labelIntersectAction?e.angle%360!==0||e.enableTrim?t:Fk(i,t,e.labelStyle):t},e.prototype.drawXAxisTitle=function(e,t,i,n){if(e.title){var r=this.chart,o=Cw(e.title,e.titleStyle),a=wb(e.crossesAt)?e.scrollBarHeight:0,s=("Inside"===e.tickPosition?0:e.majorTickLines.height+e.titlePadding)+("Inside"===e.labelPosition?0:e.maxLabelSize.height+e.multiLevelLabelHeight+e.labelPadding),l=e.titleSize.height*(e.titleCollection.length-1);s=e.isAxisOpposedPosition?-(s+o.height/4+a+l):s+3*o.height/4+a;var u=new Lw(r.element.id+"_AxisTitle_"+t,n.x+.5*n.width,n.y+s,"middle",e.titleCollection),c=Vk(r.renderer,u,e.titleStyle,e.titleStyle.color||r.themeStyle.axisTitle,i,null,null,null,null,null,null,0,null,r.enableCanvas);c.setAttribute("aria-label",e.description||e.title),c.setAttribute("tabindex",e.tabIndex.toString())}},e.prototype.renderGridLine=function(e,t,i,n,r,o,a,s,l){void 0===l&&(l=null);var u,c,h=this.chart;n.width>0&&e.visible&&e.internalVisibility&&i&&(u=(c=xk(h.element.id+r+t+"_"+o))?c.getAttribute("d"):null,c=null,this.htmlObject=h.renderer.drawPath(new Dw(h.element.id+r+t+"_"+o,"transparent",n.width,n.color||s,null,l,i)),Ek(h.enableCanvas,a,this.htmlObject,h.redraw,!0,"x","y",null,u,!0))},e.prototype.findParentNode=function(e,t,i){return document.getElementById(e+"AxisGroup"+i+"Inside").contains(document.getElementById(t.id))?document.getElementById(e+"AxisGroup"+i+"Inside"):document.getElementById(e+"AxisGroup"+i+"Outside")},e.prototype.createZoomingLabel=function(e,t,i,n,r){var o=this.findParentNode(e.element.id,t,n);t.setAttribute("opacity","0.3");var a=e.renderer.createGroup({id:e.element.id+"AxisLabels_Zoom"+n});a=function(e,t,i,n,r,o){for(var a,s,l,u,c,h=t.isAxisOpposedPosition,d=r?"start":"auto",p=e.availableSize.width,f=t.scrollbarSettings.enable||t.zoomingScrollBar&&t.zoomingScrollBar.svgObject?t.scrollBarHeight:0,m=0;m<2;m++)a=Cw(m?t.endLabel:t.startLabel,t.labelStyle),r?(u=m?new Jk(o.x-f,o.y+3):new Jk(t.rect.x-f,o.y+o.height-3),s=o.x+(h?o.width+5+f:-(a.width+5+5+f)),l=o.y+(m?0:o.height-a.height-5),s+=s<0||p<s+a.width+5?h?-a.width/2:a.width/2:0,c=Tw(3,3,new Aw(s,l,a.width+5,a.height+5),u,5,!1,!1,!h,u.x,u.y+(m?-3:3))):(u=new Jk(m?o.x+o.width-3:o.x+3,o.y+o.height+f),s=o.x+(m?o.width-a.width-5:0),l=h?o.y-a.height-10-f:o.y+o.height+5+f,c=Tw(3,3,new Aw(s,l,a.width+5,a.height+5),u,5,h,!h,!1,u.x+(m?3:-3),u.y)),s+=2.5,l=l+a.height/4*3+2.5,i.appendChild(e.renderer.drawPath(new Dw(e.element.id+"_Zoom_"+n+"_AxisLabel_Shape_"+m,e.themeStyle.crosshairFill,2,e.themeStyle.crosshairFill,1,null,c))),Vk(e.renderer,new Lw(e.element.id+"_Zoom_"+n+"_AxisLabel_"+m,s,l,d,m?t.endLabel:t.startLabel),{color:e.themeStyle.crosshairLabel,fontFamily:"Segoe UI",fontWeight:"Regular",size:"11px"},e.themeStyle.crosshairLabel,i);return i}(e,i,a,n,"Vertical"===i.orientation,r),o.replaceChild(t,document.getElementById(t.id)),xk(e.element.id+"AxisLabels_Zoom"+n)?o.replaceChild(a,document.getElementById(a.id)):o.appendChild(a)},e}(),AC=function(){function e(e){this.currentPoints=[],this.previousPoints=[],this.insideRegion=!1,this.commonXvalues=[],this.chart=e,this.lierIndex=0}return e.prototype.getData=function(){for(var e,t,i,n,r=this.chart,o=null,a=null,s=r.visibleSeries.length-1;s>=0;s--){if(e="Scatter"===(a=r.visibleSeries[s]).type||"Scatter"===a.drawType||a.marker.visible?(a.marker.height+5)/2:0,t="Scatter"===a.type||"Scatter"===a.drawType||a.marker.visible?(a.marker.width+5)/2:0,i=r.mouseX,n=r.mouseY,a.dragSettings.enable&&a.isRectSeries)if("Bar"===a.type&&r.isTransposed||!r.isTransposed&&"Bar"!==a.type){var l=a.marker.height/2;n=a.yAxis.isAxisInverse?n-l:n+l}else{var u=a.marker.width/2;i=a.yAxis.isAxisInverse?i+u:i-u}if(a.visible&&ok(i,n,a.clipRect,e,t)&&(o=this.getRectPoint(a,a.clipRect,i,n)),o)return new iC(o,a)}return new iC(o,a)},e.prototype.isSelected=function(e){return(e.selectionMode.indexOf("Drag")>-1||e.selectionMode.indexOf("Lasso")>-1)&&e.selectionModule&&null!==e.selectionModule.rectPoints},e.prototype.getRectPoint=function(e,t,i,n){var r,o,a,s,l,u,c=0;if(this.chart.isScrolling)return null;for(var h=0,d=e.points;h<d.length;h++){var p=d[h];if(p.regionData||p.regions&&p.regions.length){if(p.regionData&&"PolarRadar"===this.chart.chartAreaType&&e.drawType.indexOf("Column")>-1&&(r=i-(e.clipRect.width/2+e.clipRect.x),o=n-(e.clipRect.height/2+e.clipRect.y),c=2*Math.PI*(p.regionData.currentXPosition<0?1+p.regionData.currentXPosition:p.regionData.currentXPosition),a=(a=(Math.atan2(o,r)+.5*Math.PI-c)%(2*Math.PI))<0?2*Math.PI+a:a,a+=2*Math.PI*e.chart.primaryXAxis.startAngle,s=p.regionData.startAngle,s=(s-=c)<0?2*Math.PI+s:s,l=p.regionData.endAngle,l=(l-=c)<0?2*Math.PI+l:l,u=Math.sqrt(Math.pow(Math.abs(r),2)+Math.pow(Math.abs(o),2)),a>=s&&a<=l&&(u>=p.regionData.innerRadius&&u<=p.regionData.radius||u<=p.regionData.innerRadius&&u>=p.regionData.radius)&&u<=e.chart.radius))return p;if((e.dragSettings.enable&&e.isRectSeries||e.isRectSeries&&e.marker.visible)&&this.isPointInThresholdRegion(i,n,p,t,e))return this.insideRegion=!0,p;if(!this.insideRegion&&this.checkRegionContainsPoint(p.regions,t,i,n))return p;if(this.insideRegion&&this.checkRegionContainsPoint(p.regions,t,i,n))return p}}return null},e.prototype.checkRegionContainsPoint=function(e,t,i,n){var r=this;return e.some((function(e,o){return r.lierIndex=o,ok(i,n,new Aw(("Cartesian"===r.chart.chartAreaType?t.x:0)+e.x,("Cartesian"===r.chart.chartAreaType?t.y:0)+e.y,e.width,e.height))}))},e.prototype.isPointInThresholdRegion=function(e,t,i,n,r){var o,a=this,s="Bar"===r.type,l=r.yAxis.isAxisInverse,u=r.chart.isTransposed,c=10,h=0,d=0,p=o=20;return l&&u?s?(h=i.regions[0].height-c,o=i.regions[0].width):(d=-10,p=i.regions[0].height):l||i.yValue<0?s?(d=-10,p=i.regions[0].height):(h=i.regions[0].height-c,o=i.regions[0].width):u?s?(h=-10,o=i.regions[0].width):(d=i.regions[0].width-c,p=i.regions[0].height):s?(d=i.regions[0].width-c,p=i.regions[0].height):(h=-10,o=i.regions[0].width),i.regions.some((function(i){return ok(e,t,new Aw(("Cartesian"===a.chart.chartAreaType?n.x:0)+i.x+d,("Cartesian"===a.chart.chartAreaType?n.y:0)+i.y+h,o,p))}))},e.prototype.getClosest=function(e,t,i){var n,r,o=i||e.xData,a=o.length;if(t>=e.xMin-.5&&t<=e.xMax+.5)for(var s=0;s<a;s++)r=o[s],(null==n||Math.abs(r-t)<Math.abs(n-t))&&(n=r);return-1!==e.xData.indexOf(n)?n:null},e.prototype.binarySearch=function(e,t){for(var i,n=0,r=t.length,o=-1,a=!1;0==a&&n<=r;)t[i=Math.floor((n+r)/2)].xValue==e?(a=!0,o=i):t[i].xValue>e?r=i-1:n=i+1;return-1!==o?t[o]:null},e.prototype.getClosestX=function(e,t,i){var n,r=t.clipRect;n=e.requireInvertedAxis?function(e,t,i){return(i.isAxisInverse?e/t:1-e/t)*i.visibleRange.delta+i.visibleRange.min}(e.mouseY-r.y,r.height,t.xAxis):function(e,t,i){return(i.isAxisInverse?1-e/t:e/t)*i.visibleRange.delta+i.visibleRange.min}(e.mouseX-r.x,r.width,t.xAxis);var o=this.getClosest(t,n,i),a=o||0===o?this.binarySearch(o,FS(t.points,["xValue"])):null;return a&&a.visible?new iC(a,t):null},e.prototype.mergeXvalues=function(e){if(e.length&&(!this.commonXvalues.length||this.commonXvalues.length!==e[0].xData.length)){this.commonXvalues=e[0].xData;for(var t=1;t<e.length;t++)this.commonXvalues=this.getDistinctValues(this.commonXvalues,e[t].xData)}return this.commonXvalues},e.prototype.getDistinctValues=function(e,t){void 0===t&&(t=[]);var i,n={},r=[];for(i=0;i<e.length;i++){n[o=e[i]]||(n[o]=!0,r.push(o))}for(i=0;i<t.length;i++){var o;n[o=t[i]]||(n[o]=!0,r.push(o))}return r},e}(),PC=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),MC=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},LC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return PC(t,e),MC([Ux(!1)],t.prototype,"visible",void 0),MC([Ux(!0)],t.prototype,"showZero",void 0),MC([Ux(null)],t.prototype,"name",void 0),MC([Ux("transparent")],t.prototype,"fill",void 0),MC([Ux(1)],t.prototype,"opacity",void 0),MC([Ux(0)],t.prototype,"angle",void 0),MC([Ux(!1)],t.prototype,"enableRotation",void 0),MC([Ux("Auto")],t.prototype,"position",void 0),MC([Ux(5)],t.prototype,"rx",void 0),MC([Ux(5)],t.prototype,"ry",void 0),MC([Ux("Center")],t.prototype,"alignment",void 0),MC([Wx({width:null,color:null},uw)],t.prototype,"border",void 0),MC([Wx({left:5,right:5,top:5,bottom:5},dw)],t.prototype,"margin",void 0),MC([Wx({size:"11px",color:"",fontStyle:"Normal",fontWeight:"Normal",fontFamily:"Segoe UI"},lw)],t.prototype,"font",void 0),MC([Ux(null)],t.prototype,"template",void 0),MC([Ux("Hide")],t.prototype,"labelIntersectAction",void 0),t}(e_),OC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return PC(t,e),MC([Ux(!1)],t.prototype,"visible",void 0),MC([Ux("Circle")],t.prototype,"shape",void 0),MC([Ux("")],t.prototype,"imageUrl",void 0),MC([Ux(5)],t.prototype,"height",void 0),MC([Ux(5)],t.prototype,"width",void 0),MC([Wx({width:2,color:null},uw)],t.prototype,"border",void 0),MC([Wx({x:0,y:0},cw)],t.prototype,"offset",void 0),MC([Ux(null)],t.prototype,"fill",void 0),MC([Ux(1)],t.prototype,"opacity",void 0),MC([Wx({},LC)],t.prototype,"dataLabel",void 0),t}(e_),RC=function(){this.symbolLocations=null,this.regions=null,this.percentage=null,this.regionData=null,this.isSelect=!1,this.marker={visible:!1},this.isPointInRange=!0},IC=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clipRect=new Aw(0,0,0,0),t}return PC(t,e),t.prototype.setDataSource=function(e,t){e&&(this.points=e.points),t.trendLineModule.initDataSource(this),t.visibleSeriesCount++},MC([Ux("")],t.prototype,"name",void 0),MC([Ux("0")],t.prototype,"dashArray",void 0),MC([Ux(!0)],t.prototype,"visible",void 0),MC([Ux("Linear")],t.prototype,"type",void 0),MC([Ux(2)],t.prototype,"period",void 0),MC([Ux(2)],t.prototype,"polynomialOrder",void 0),MC([Ux(0)],t.prototype,"backwardForecast",void 0),MC([Ux(0)],t.prototype,"forwardForecast",void 0),MC([Wx({},fw)],t.prototype,"animation",void 0),MC([Wx({},OC)],t.prototype,"marker",void 0),MC([Ux(!0)],t.prototype,"enableTooltip",void 0),MC([Ux(null)],t.prototype,"intercept",void 0),MC([Ux("")],t.prototype,"fill",void 0),MC([Ux(1)],t.prototype,"width",void 0),MC([Ux("SeriesType")],t.prototype,"legendShape",void 0),t}(e_),DC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return PC(t,e),MC([Ux(1)],t.prototype,"width",void 0),MC([Ux(10)],t.prototype,"length",void 0),MC([Ux(null)],t.prototype,"color",void 0),MC([Ux(1)],t.prototype,"opacity",void 0),t}(e_),zC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return PC(t,e),MC([Ux(null)],t.prototype,"value",void 0),MC([Ux(null)],t.prototype,"color",void 0),MC([Ux("0")],t.prototype,"dashArray",void 0),t}(e_),BC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return PC(t,e),MC([Ux(!1)],t.prototype,"visible",void 0),MC([Ux("Fixed")],t.prototype,"type",void 0),MC([Ux("Both")],t.prototype,"direction",void 0),MC([Ux("Vertical")],t.prototype,"mode",void 0),MC([Ux(null)],t.prototype,"color",void 0),MC([Ux(1)],t.prototype,"verticalError",void 0),MC([Ux(1)],t.prototype,"width",void 0),MC([Ux(1)],t.prototype,"horizontalError",void 0),MC([Ux(3)],t.prototype,"verticalPositiveError",void 0),MC([Ux(3)],t.prototype,"verticalNegativeError",void 0),MC([Ux(1)],t.prototype,"horizontalPositiveError",void 0),MC([Ux(1)],t.prototype,"horizontalNegativeError",void 0),MC([Wx(null,DC)],t.prototype,"errorBarCap",void 0),t}(e_),FC=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isAdvancedColor=void 0,t.currentViewData=[],t.clipRect=new Aw(0,0,0,0),t.seriesType="XY",t.isRectTypeSeries=!1,t}return PC(t,e),t.prototype.processJsonData=function(){var e=0,t=new RC,i=this instanceof NC&&"Histogram"===this.type?"x":this.xName,n=this instanceof NC&&this.marker.dataLabel.name?this.marker.dataLabel.name:"";this instanceof NC&&("Waterfall"!==this.type&&"Histogram"!==this.type||(this.currentViewData=this.chart[sk(this.type)+"SeriesModule"].processInternalData(_b([],this.currentViewData,null,!0),this)),"Pareto"===this.category&&(this.currentViewData=FS(_b([],this.currentViewData,null,!0),[this.yName],!0),"Line"===this.type&&(this.currentViewData=this.chart.paretoSeriesModule.performCumulativeCalculation(this.currentViewData,this))),this.isRectTypeSeries=this.type.indexOf("Column")>-1||this.type.indexOf("Bar")>-1||this.type.indexOf("Histogram")>-1);var r=(this.currentViewData||[]).length;if(this.points=[],this.xMin=1/0,this.xMax=-1/0,this.yMin=1/0,this.yMax=-1/0,this.sizeMax=-1/0,this.getSeriesType(),"Category"===this.xAxis.valueType)for(;e<r;)t=this.dataPoint(e,n,i),this.pushCategoryData(t,e,t.x),this.pushData(t,e),this.setEmptyPoint(t,e),e++;else if(this.xAxis.valueType.indexOf("DateTime")>-1)for(var o={skeleton:"full",type:"dateTime"},a=this.chart.intl.getDateParser(o),s=this.chart.intl.getDateFormat(o);e<r;)wb((t=this.dataPoint(e,n,i)).x)||""===t.x?t.visible=!1:(t.x=new Date(TC.parse.parseJson({val:t.x}).val),"DateTime"===this.xAxis.valueType?t.xValue=Date.parse(t.x.toString()):this.chart.isBlazor?this.pushCategoryData(t,e,Date.parse(t.x.toString()).toString()):this.pushCategoryData(t,e,Date.parse(a(s(t.x))).toString()),this.pushData(t,e),this.setEmptyPoint(t,e)),e++;else for(;e<r;)(t=this.dataPoint(e,n,i)).xValue=t.x,this.pushData(t,e),this.setEmptyPoint(t,e),e++;if(this instanceof NC)if(this.type.indexOf("Spline")>-1||this.drawType.indexOf("Spline")>-1&&"PolarRadar"===this.chart.chartAreaType){var l=this.type.indexOf("Area")>-1||this.drawType.indexOf("Area")>-1,u=this.type.indexOf("Range")>-1;this.chart["spline"+(l?u?"RangeArea":"Area":"")+"SeriesModule"].findSplinePoint(this)}else this.type.indexOf("Histogram")>-1&&(this.xAxis.maximum||this.xAxis.minimum)&&this.chart.histogramSeriesModule.calculateBinValues(this)},t.prototype.pushData=function(e,t){e.index=t,e.yValue=e.y,this.xMin=Math.min(this.xMin,e.xValue),this.xMax=Math.max(this.xMax,e.xValue),this.xData.push(e.xValue)},t.prototype.dataPoint=function(e,t,i){this.points[e]=new RC;var n=this.points[e],r=this.currentViewData[e],o=this.enableComplexProperty?yb:this.getObjectValue;return n.x=o(i,r),n.high=o(this.high,r),n.low=o(this.low,r),n.open=o(this.open,r),n.close=o(this.close,r),n.volume=o(this.volume,r),n.interior=o(this.pointColorMapping,r),this instanceof NC&&(n.y=o(this.yName,r),n.size=o(this.size,r),n.text=o(t,r),n.tooltip=o(this.tooltipMappingName,r),this.isAdvancedColorSupported()&&(this.rangeColorName=this.colorName.length>0?this.colorName:this.yName,n.colorValue=o(this.rangeColorName,r),n.interior=this.getPointFillColor(n.interior,n.colorValue))),n},t.prototype.isAdvancedColorSupported=function(){return wb(this.isAdvancedColor)&&(this.chart.rangeColorSettings&&this.chart.rangeColorSettings.length>0&&1===this.chart.visibleSeries.length&&("Column"===this.chart.series[0].type||"Bar"===this.chart.series[0].type||"Scatter"===this.chart.series[0].type||"Bubble"===this.chart.series[0].type)?this.isAdvancedColor=!0:this.isAdvancedColor=!1),this.isAdvancedColor},t.prototype.getPointFillColor=function(e,t){var i=e;if(t&&this.chart.rangeColorSettings&&this.chart.rangeColorSettings.length>0)for(var n=0,r=this.chart.rangeColorSettings;n<r.length;n++){var o=r[n];t>=o.start&&t<=o.end&&(i=o.colors.length>1?nC(o,t):o.colors[0])}return i},t.prototype.getObjectValue=function(e,t){return t[e]},t.prototype.setEmptyPoint=function(e,t){if(!this.findVisibility(e))return e.visible=!0,null;switch(e.isEmpty=!0,this instanceof NC&&e.isPointInRange?this.emptyPointSettings.mode:"Drop"){case"Zero":e.visible=!0,this instanceof NC&&this.seriesType.indexOf("HighLow")>-1?(e.high=e.low=0,this.seriesType.indexOf("HighLowOpenClose")>-1&&(e.open=e.close=0)):e.y=e.yValue=this.yData[t]=0;break;case"Average":this instanceof NC&&(this.seriesType.indexOf("HighLow")>-1?(e.high=wb(e.high)||isNaN(+e.high)?this.getAverage(this.high,t):e.high,e.low=wb(e.low)||isNaN(+e.low)?this.getAverage(this.low,t):e.low,this.seriesType.indexOf("HighLowOpenClose")>-1&&(e.open=wb(e.open)||isNaN(+e.open)?this.getAverage(this.open,t):e.open,e.close=wb(e.close)||isNaN(+e.close)?this.getAverage(this.close,t):e.close)):e.y=e.yValue=this.yData[t]=this.getAverage(this.yName,t)),e.visible=!0;break;case"Drop":case"Gap":this.yData[t]=null,e.visible=!1}},t.prototype.findVisibility=function(e){var t,i=this instanceof NC?this.seriesType:"HighLowOpenClose",n=this.yAxis.minimum,r=this.yAxis.maximum;switch(i){case"XY":return"PolarRadar"===this.chart.chartAreaType&&(!wb(n)&&e.yValue<n||!wb(r)&&e.yValue>r)?(e.isPointInRange=!1,!0):(this.setXYMinMax(e.yValue),this.yData.push(e.yValue),this instanceof NC&&"Bubble"===this.type&&(this.sizeMax=Math.max(this.sizeMax,wb(e.size)||isNaN(+e.size)?this.sizeMax:e.size)),wb(e.x)||wb(e.y)||isNaN(+e.y));case"HighLow":return this.setHiloMinMax(e.high,e.low),wb(e.x)||wb(e.low)||isNaN(+e.low)||wb(e.high)||isNaN(+e.high);case"HighLowOpenClose":return this.setHiloMinMax(e.high,e.low),wb(e.x)||wb(e.low)||isNaN(+e.low)||wb(e.open)||isNaN(+e.open)||wb(e.close)||isNaN(+e.close)||wb(e.high)||isNaN(+e.high);case"BoxPlot":return t=(e.y||[null]).filter((function(e){return!wb(e)&&!isNaN(e)})).sort((function(e,t){return e-t})),e.y=t,this.yMin=Math.min(this.yMin,Math.min.apply(Math,t)),this.yMax=Math.max(this.yMax,Math.max.apply(Math,t)),!t.length}},t.prototype.setXYMinMax=function(e){var t,i="Logarithmic"===this.yAxis.valueType||"Logarithmic"===this.xAxis.valueType,n=e<0;t=this.isRectTypeSeries&&!mk(this.yAxis)?i||n?e:0:e,this.yMin=i?Math.min(this.yMin,wb(t)||isNaN(t)||0===t||"0"===t.toString()||""===t.toString()?this.yMin:t):Math.min(this.yMin,wb(t)||isNaN(t)?this.yMin:t),this.yMax=Math.max(this.yMax,wb(e)||isNaN(e)?this.yMax:e)},t.prototype.setHiloMinMax=function(e,t){this.yMin=Math.min(this.yMin,Math.min(wb(t)||isNaN(t)?this.yMin:t,wb(e)||isNaN(e)?this.yMin:e)),this.yMax=Math.max(this.yMax,Math.max(wb(t)||isNaN(t)?this.yMax:t,wb(e)||isNaN(e)?this.yMax:e))},t.prototype.getSeriesType=function(){var e;if(this instanceof NC){var t="PolarRadar"===this.chart.chartAreaType?this.drawType:this.type;if(t)switch(t){case"RangeColumn":case"RangeArea":case"SplineRangeArea":case"Hilo":e="HighLow";break;case"HiloOpenClose":case"Candle":e="HighLowOpenClose";break;case"BoxAndWhisker":e="BoxPlot";break;default:e="XY"}}this.seriesType=e},t.prototype.pushCategoryData=function(e,t,i){if(!this.chart.tooltip.shared&&!this.visible)return null;this.xAxis.isIndexed?(this.xAxis.labels[t]?this.xAxis.labels[t]+=", "+i:this.xAxis.labels.push(i),e.xValue=t):(void 0===this.xAxis.indexLabels[i]&&(this.xAxis.indexLabels[i]=this.xAxis.labels.length,this.xAxis.labels.push(i)),e.xValue=this.xAxis.indexLabels[i])},t.prototype.getAverage=function(e,t,i){return void 0===i&&(i=this.currentViewData),((i[t-1]&&i[t-1][e]||0)+(i[t+1]&&i[t+1][e]||0))/2},t.prototype.refreshDataManager=function(e){var t,i=this;this.chart=e;(t=e.isAngular?Object.keys(this.dataSource).length?this.dataSource:e.dataSource:this.dataSource||e.dataSource)instanceof SC||!wb(this.query)?this.dataModule.getData(this.dataModule.generateQuery().requiresCount()).then((function(e){return i.dataManagerSuccess(e)})):this.dataManagerSuccess({result:t,count:t.length},!1)},t.prototype.dataManagerSuccess=function(e,t){if(void 0===t&&(t=!0),this.currentViewData=e.count?e.result:[],this.chart.allowServerDataBinding=!1,this instanceof NC){this.chart.stockChart&&(this.chart.stockChart.series[this.index].localData=this.currentViewData);var i={name:Qw,series:this,data:this.currentViewData,fill:this.interior};this.chart.trigger(Qw,i),this.interior=i.fill,this.currentViewData=i.data}!this.chart.stockChart||this instanceof NC||(this.currentViewData=this.chart.stockChart.findCurrentData(this.chart.stockChart.series[0].localData,this.chart.stockChart.series[0].xName)),this.processJsonData(),this.recordsCount=e.count,this.refreshChart(t),this.currentViewData=null},t.prototype.refreshChart=function(e){var t=this.chart;if(this instanceof NC&&(t.visibleSeriesCount+=e?1:0),t.refreshTechnicalIndicator(this),this instanceof NC&&"TrendLine"!==this.category)for(var i=0,n=this.trendlines;i<n.length;i++){n[i].setDataSource(this,t)}t.visibleSeries.length===t.visibleSeriesCount&&(t.refreshBound(),t.trigger("loaded",{chart:t.isBlazor?{}:t}),this.chart.stockChart&&this.chart.stockChart.initialRender&&(this.chart.stockChart.initialRender=!1,this.chart.stockChart.stockChartDataManagerSuccess())),this instanceof NC&&(t.visibleSeriesCount+=e?0:1)},MC([Ux("")],t.prototype,"xName",void 0),MC([Ux("")],t.prototype,"colorName",void 0),MC([Ux("")],t.prototype,"high",void 0),MC([Ux("")],t.prototype,"low",void 0),MC([Ux("")],t.prototype,"open",void 0),MC([Ux("")],t.prototype,"close",void 0),MC([Ux("")],t.prototype,"volume",void 0),MC([Ux("")],t.prototype,"pointColorMapping",void 0),MC([Ux(!0)],t.prototype,"visible",void 0),MC([Ux(null)],t.prototype,"xAxisName",void 0),MC([Ux(null)],t.prototype,"yAxisName",void 0),MC([Wx(null,fw)],t.prototype,"animation",void 0),MC([Ux(null)],t.prototype,"fill",void 0),MC([Ux(1)],t.prototype,"width",void 0),MC([Ux("0")],t.prototype,"dashArray",void 0),MC([Ux("")],t.prototype,"dataSource",void 0),MC([Ux()],t.prototype,"query",void 0),MC([Hx([],zC)],t.prototype,"segments",void 0),MC([Ux("X")],t.prototype,"segmentAxis",void 0),MC([Ux(!1)],t.prototype,"enableComplexProperty",void 0),t}(e_),NC=function(e){function t(t,i,n,r){var o=e.call(this,t,i,n,r)||this;return o.visibleSeriesCount=0,o.category="Series",o.isRectSeries=!1,o.drawPoints=[],o.lowDrawPoints=[],o.delayedAnimation=!1,o.rangeColorName=o.colorName.length>0?o.colorName:o.yName,o}return PC(t,e),t.prototype.refreshAxisLabel=function(){if("Category"!==this.xAxis.valueType)return null;this.xAxis.labels=[],this.xAxis.indexLabels={};for(var e=0,t=this.xAxis.series;e<t.length;e++){var i=t[e];if(i.visible&&"TrendLine"!==i.category){i.xMin=1/0,i.xMax=-1/0;for(var n=0,r=i.points;n<r.length;n++){var o=r[n];i.pushCategoryData(o,o.index,o.x),i.xMin=Math.min(i.xMin,o.xValue),i.xMax=Math.max(i.xMax,o.xValue)}}}},t.prototype.findSeriesCollection=function(e,t,i){for(var n=[],r=0,o=t.axes;r<o.length;r++)for(var a=0,s=o[r].series;a<s.length;a++)for(var l=s[a],u=0,c=e.axes;u<c.length;u++)for(var h=0,d=c[u].series;h<d.length;h++){var p=d[h];p===l&&p.visible&&this.rectSeriesInChart(p,i)&&n.push(p)}return n},t.prototype.rectSeriesInChart=function(e,t){var i=e.type.toLowerCase();return-1!==i.indexOf("column")||-1!==i.indexOf("bar")||-1!==i.indexOf("histogram")||-1!==i.indexOf("hiloopenclose")||-1!==i.indexOf("candle")||-1!==i.indexOf("pareto")||-1!==i.indexOf("hilo")||-1!==e.drawType.indexOf("Column")||-1!==i.indexOf("waterfall")||-1!==i.indexOf("boxandwhisker")||t},t.prototype.calculateStackedValue=function(e,t){for(var i=0,n=t.columns;i<n.length;i++)for(var r=n[i],o=0,a=t.rows;o<a.length;o++){var s=a[o];this.calculateStackingValues(this.findSeriesCollection(r,s,!0),e)}},t.prototype.calculateStackingValues=function(e,t){var i,n,r,o,a,s=[],l=[],u=[],c=[];t&&(c=this.findFrequencies(e));for(var h=[],d=[],p=[],f=0,m=e;f<m.length;f++){var g=m[f];if(-1!==g.type.indexOf("Stacking")||-1!==g.drawType.indexOf("Stacking")&&"PolarRadar"===g.chart.chartAreaType){l[r=-1!==g.type.indexOf("StackingArea")?"StackingArea100":-1!==g.type.indexOf("StackingLine")?"StackingLine100":g.stackingGroup]||(l[r]=[],u[r]=[]),s=g.yData,i=[],n=[],h.push(g);for(var y=0,v=(p=jS(g)).length;y<v;y++)o=0,a=+s[y],void 0===l[r][p[y].xValue]&&(l[r][p[y].xValue]=0),void 0===u[r][p[y].xValue]&&(u[r][p[y].xValue]=0),t?(a=a/c[r][p[y].xValue]*100,a=isNaN(a)?0:a,p[y].percentage=+a.toFixed(2)):d[y]=d[y]?d[y]+Math.abs(a):Math.abs(a),a>=0?(o=l[r][p[y].xValue],l[r][p[y].xValue]+=a):(o=u[r][p[y].xValue],u[r][p[y].xValue]+=a),i.push(o),n.push(a+o),t&&n[y]>100&&(n[y]=100);g.stackedValues=new Yk(i,n);var b="Logarithmic"===g.yAxis.valueType,x=-1!==g.type.indexOf("Column")||-1!==g.type.indexOf("Bar");g.yMin=b&&x&&g.yMin<1?g.yMin:Math.min.apply(0,i),g.yMax=Math.max.apply(0,n),g.yMin>Math.min.apply(0,n)&&(g.yMin=t?-100:b&&x&&g.yMin<1?g.yMin:Math.min.apply(0,n)),g.yMax<Math.max.apply(0,i)&&(g.yMax=0)}}this.findPercentageOfStacking(h,d,t)},t.prototype.findPercentageOfStacking=function(e,t,i){for(var n=0,r=e;n<r.length;n++){var o=r[n];if(i)return null;for(var a=0,s=jS(o);a<s.length;a++){var l=s[a];l.percentage=Math.abs(+(l.y/t[l.index]*100).toFixed(2))}}},t.prototype.findFrequencies=function(e){for(var t,i=[],n=[],r=0,o=e;r<o.length;r++){var a=o[r];if(a.yAxis.isStack100=-1!==a.type.indexOf("100"),n=jS(a),-1!==a.type.indexOf("Stacking")){i[t=-1!==a.type.indexOf("StackingArea")?"StackingArea100":-1!==a.type.indexOf("StackingLine")?"StackingLine100":a.stackingGroup]||(i[t]=[]);for(var s=0,l=n.length;s<l;s++)void 0===i[t][n[s].xValue]&&(i[t][n[s].xValue]=0),a.yData[s]>0?i[t][n[s].xValue]+=a.yData[s]:i[t][n[s].xValue]-=a.yData[s]}}return i},t.prototype.renderSeries=function(e){var t=sk(this.type);e[(t=t.replace("100",""))+"SeriesModule"]&&("Indicator"!==this.category&&"TrendLine"!==this.category&&this.createSeriesElements(e),this.visiblePoints=jS(this),e[t+"SeriesModule"].render(this,this.xAxis,this.yAxis,e.requireInvertedAxis),"Indicator"!==this.category&&(this.errorBar.visible&&this.chart.errorBarModule.render(this),this.marker.dataLabel.visible&&e.dataLabelModule.render(this,this.chart,this.marker.dataLabel),this.appendSeriesElement(e.seriesElements,e)),this.chart.enableCanvas||this.performAnimation(e,t,this.errorBar,this.marker,this.marker.dataLabel))},t.prototype.createSeriesElements=function(e){if("Indicator"!==this.category){var t=e.element.id,i=this.marker.border.width+8+5,n="Scatter"===this.type||"Bubble"===this.type?e.svgRenderer:e.renderer,r=void 0===this.index?this.category:this.index,o=void 0,a=void 0,s=void 0;if("Scatter"===this.type?(o=e.primaryYAxis.maximum||e.primaryXAxis.maximum?0:(this.marker.height+i)/2,a=e.primaryYAxis.maximum||e.primaryXAxis.maximum?0:(this.marker.width+i)/2):(o=0,a=0),"PolarRadar"===e.chartAreaType){var l="Scatter"===this.drawType?Math.max(this.marker.width,this.marker.height):0;s=new Qk(t+"_ChartSeriesClipRect_"+r,"transparent",{width:1,color:"Gray"},1,this.clipRect.width/2+this.clipRect.x,this.clipRect.height/2+this.clipRect.y,e.radius+l),this.clipRectElement=pk(e.redraw,s,n,"drawCircularClipPath")}else s=new $k(t+"_ChartSeriesClipRect_"+r,"transparent",{width:1,color:"Gray"},1,{x:-a,y:-o,width:this.clipRect.width+2*a,height:this.clipRect.height+2*o}),this.clipRectElement=pk(e.redraw,s,n);var u="Cartesian"===e.chartAreaType?"translate("+this.clipRect.x+","+this.clipRect.y+")":"";this.symbolElement=null,this.seriesElement=n.createGroup({id:t+"SeriesGroup"+r,transform:u,"clip-path":"url(#"+t+"_ChartSeriesClipRect_"+r+")"}),this.chart.enableCanvas&&"Scatter"!==this.type&&"Bubble"!==this.type||this.seriesElement.appendChild(this.clipRectElement)}},t.prototype.appendSeriesElement=function(e,t){var i=this.marker,n=i.dataLabel,r=t.redraw;"TrendLine"!==this.category&&(Ek(t.enableCanvas,t.seriesElements,this.seriesElement,r),this.errorBar.visible&&("PolarRadar"===t.chartAreaType?Ek(t.enableCanvas,t.seriesElements,this.seriesElement,r):Ek(t.enableCanvas,t.seriesElements,this.errorBarElement,r)),"Scatter"!==this.type&&"Bubble"!==this.type||Ek(!1,t.seriesElements,this.seriesElement,r));i.visible&&("Cartesian"===t.chartAreaType||"Scatter"!==this.drawType&&"PolarRadar"===t.chartAreaType)&&"Scatter"!==this.type&&"Bubble"!==this.type&&"Candle"!==this.type&&"Hilo"!==this.type&&"HiloOpenClose"!==this.type&&this.symbolElement&&Ek(t.enableCanvas,t.seriesElements,this.symbolElement,r),n.visible&&this.textElement&&(Ek(t.enableCanvas,t.dataLabelElements,this.shapeElement,r),Ek(t.enableCanvas,t.dataLabelElements,this.textElement,r)),!t.enableCanvas&&t.dataLabelElements.hasChildNodes()&&t.seriesElements.appendChild(t.dataLabelElements)},t.prototype.performAnimation=function(e,t,i,n,r){this.animation.enable&&e.animateSeries&&(e[t+"SeriesModule"].doAnimation(this),i.visible&&e.errorBarModule.doErrorBarAnimation(this),n.visible&&e.markerRender.doMarkerAnimation(this),r.visible&&"edge"!==mx.info.name&&!mx.isIE&&e.dataLabelModule.doDataLabelAnimation(this))},t.prototype.setPointColor=function(e,t){return t=e.interior||t,e.isEmpty&&this.emptyPointSettings.fill||t},t.prototype.setBorderColor=function(e,t){return t.width=e.isEmpty&&this.emptyPointSettings.border.width||t.width,t.color=e.isEmpty&&this.emptyPointSettings.border.color||t.color,t},MC([Ux("")],t.prototype,"name",void 0),MC([Ux("")],t.prototype,"yName",void 0),MC([Ux("Line")],t.prototype,"drawType",void 0),MC([Ux(!0)],t.prototype,"isClosed",void 0),MC([Ux("#2ecd71")],t.prototype,"bearFillColor",void 0),MC([Ux("#e74c3d")],t.prototype,"bullFillColor",void 0),MC([Ux(!1)],t.prototype,"enableSolidCandles",void 0),MC([Ux("")],t.prototype,"size",void 0),MC([Ux(null)],t.prototype,"binInterval",void 0),MC([Ux(!1)],t.prototype,"showNormalDistribution",void 0),MC([Ux("")],t.prototype,"stackingGroup",void 0),MC([Wx({color:"transparent",width:0},uw)],t.prototype,"border",void 0),MC([Ux(1)],t.prototype,"opacity",void 0),MC([Ux(0)],t.prototype,"zOrder",void 0),MC([Ux("")],t.prototype,"groupName",void 0),MC([Ux("Line")],t.prototype,"type",void 0),MC([Wx(null,BC)],t.prototype,"errorBar",void 0),MC([Wx(null,OC)],t.prototype,"marker",void 0),MC([Wx({},bw)],t.prototype,"dragSettings",void 0),MC([Hx([],IC)],t.prototype,"trendlines",void 0),MC([Ux(!0)],t.prototype,"enableTooltip",void 0),MC([Ux("")],t.prototype,"tooltipFormat",void 0),MC([Ux("")],t.prototype,"tooltipMappingName",void 0),MC([Ux("SeriesType")],t.prototype,"legendShape",void 0),MC([Ux("")],t.prototype,"legendImageUrl",void 0),MC([Ux(null)],t.prototype,"selectionStyle",void 0),MC([Ux(null)],t.prototype,"unSelectedStyle",void 0),MC([Ux(null)],t.prototype,"nonHighlightStyle",void 0),MC([Ux(1)],t.prototype,"minRadius",void 0),MC([Ux(3)],t.prototype,"maxRadius",void 0),MC([Ux("Natural")],t.prototype,"splineType",void 0),MC([Ux(.5)],t.prototype,"cardinalSplineTension",void 0),MC([Wx(null,vw)],t.prototype,"emptyPointSettings",void 0),MC([Ux(!0)],t.prototype,"showMean",void 0),MC([Ux("Normal")],t.prototype,"boxPlotMode",void 0),MC([Ux(null)],t.prototype,"columnWidth",void 0),MC([Ux(null)],t.prototype,"columnWidthInPixel",void 0),MC([Ux(0)],t.prototype,"columnSpacing",void 0),MC([Ux("#C64E4A")],t.prototype,"negativeFillColor",void 0),MC([Ux("#4E81BC")],t.prototype,"summaryFillColor",void 0),MC([Ux()],t.prototype,"intermediateSumIndexes",void 0),MC([Ux()],t.prototype,"sumIndexes",void 0),MC([Wx({color:"black",width:2},sw)],t.prototype,"connector",void 0),MC([Wx(null,gw)],t.prototype,"cornerRadius",void 0),t}(FC),jC=function(){function e(e,t){this.initDataManager(e,t)}return e.prototype.initDataManager=function(e,t){this.dataManager=e instanceof SC?e:new SC(e),this.query=t instanceof dC?t:new dC},e.prototype.generateQuery=function(){return this.query.clone()},e.prototype.getData=function(e){var t=this;if(this.dataManager.ready){var i=new kC;return this.dataManager.ready.then((function(){t.dataManager.executeQuery(e).then((function(e){i.resolve(e)}))})).catch((function(e){i.reject(e)})),i.promise}return this.dataManager.executeQuery(e)},e}(),VC=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),UC=function(e){function t(t){var i=e.call(this,t)||this;return i.elementId=t.element.id,i.commonXvalues=[],i}return VC(t,e),t.prototype.addEventListener=function(){this.chart.isDestroyed||(this.chart.on(mx.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(mx.touchEndEvent,this.mouseUpHandler,this))},t.prototype.removeEventListener=function(){this.chart.isDestroyed||(this.chart.off(mx.touchMoveEvent,this.mouseMoveHandler),this.chart.off(mx.touchEndEvent,this.mouseUpHandler))},t.prototype.mouseUpHandler=function(){var e=this.chart;!e.isTouch||e.crosshair.enable||this.isSelected(e)||this.markerMove(!0)},t.prototype.mouseMoveHandler=function(){var e=this.chart;e.crosshair.enable&&!e.tooltip.enable||e.isTouch&&!e.startMove||this.isSelected(e)||this.markerMove(!1)},t.prototype.markerMove=function(e){var t,i,n,r,o=this,a=this.chart;if(this.currentPoints=[],a.tooltip.shared&&a.tooltip.enable){if(!ok(a.mouseX,a.mouseY,a.chartAxisLayoutPanel.seriesClipRect))return null;if(a.tooltip.enable)for(var s="PolarRadar"===a.chartAreaType?this.getData():null,l=this.mergeXvalues(this.chart.visibleSeries),u=0,c=a.visibleSeries;u<c.length;u++){var h=c[u];h.enableTooltip&&"Indicator"!==h.category&&("Cartesian"===a.chartAreaType&&h.visible?t=this.getClosestX(a,h,l):"PolarRadar"===a.chartAreaType&&h.visible&&null!==s.point&&(t=new iC(h.points[s.point.index],h)),t&&(this.currentPoints.push(t),t=null))}}else t=this.getData(),r=t.series,i=this.previousPoints[0],n=r&&("Bubble"===r.type||"Scatter"===r.drawType||"Scatter"===r.type||"Candle"!==r.type&&"Hilo"!==r.type&&"HiloOpenClose"!==r.type&&r.marker.visible&&0!==r.marker.width&&0!==r.marker.height),t.lierIndex=this.lierIndex,t.point&&n&&(!i||i.point!==t.point||i&&i.lierIndex>3&&i.lierIndex!==this.lierIndex)&&this.currentPoints.push(t),t.point&&n&&a.isPointMouseDown&&this.currentPoints.push(t);var d=this.previousPoints.length;if(this.currentPoints.length>0&&(0===d||a.isPointMouseDown||d>0&&this.previousPoints[0].point!==this.currentPoints[0].point)){this.previousPoints.length>0&&this.removeHighlightedMarker();for(var p=function(e){(e&&e.point||"Candle"!==r.type&&"Hilo"!==r.type&&"HiloOpenClose"!==r.type)&&(Pk(f.markerExplode),f.isRemove=!0,e.point.symbolLocations.map((function(t,i){e.series.isRectSeries&&!e.point.marker.visible||o.drawTrackBall(e.series,e.point,t,i)})))},f=this,m=0,g=this.currentPoints;m<g.length;m++){p(g[m])}this.previousPoints=_b([],this.currentPoints,null,!0)}a.tooltip.enable||!(0===this.currentPoints.length&&this.isRemove||e&&this.isRemove)&&ok(a.mouseX,a.mouseY,a.chartAxisLayoutPanel.seriesClipRect)||(this.isRemove=!1,this.markerExplode=+setTimeout((function(){o.removeHighlightedMarker()}),2e3)),this.currentPoints=[]},t.prototype.drawTrackBall=function(e,t,i,n){var r=t.marker,o=e.marker,a=r.shape||o.shape;if("None"===a)return null;var s,l=e.symbolElement||e.seriesElement;this.chart.highlightModule&&"None"!==this.chart.highlightMode&&(s=this.chart.highlightModule.generateStyle(e)),this.chart.selectionModule&&"None"!==this.chart.selectionMode&&(s=this.chart.selectionModule.generateStyle(e));for(var u=this.elementId+"_Series_"+e.index+"_Point_"+t.index+"_Trackball"+(n||""),c=new Ew((r.width||o.width)+5,(r.height||o.height)+5),h=r.border||e.border,d="BoxAndWhisker"===e.type||"Bubble"===e.type||"Scatter"===e.type,p=h.color&&"transparent"!==h.color?h.color:r.fill||t.interior||(d?t.color:e.interior),f=Dk(zk(p)),m=r.border?r.border.width:o.border.width,g=e.chart.themeStyle.markerShadow||"rgba("+f.r+","+f.g+","+f.b+",0.2)",y=0;y<2;y++){var v=new Dw(u+"_"+y,y?r.fill||t.color||(d?e.interior:"#ffffff"):"transparent",m+(y?0:8),y?p:g,r.opacity||o.opacity,null,null),b=bk(i,a,c,r.imageUrl,v,0,this.chart.svgRenderer,e.clipRect);b.setAttribute("class","EJ2-Trackball");var x=-1!==l.id.indexOf("Symbol")?"_Symbol":"",_=document.getElementById(this.elementId+"_Series_"+e.index+"_Point_"+t.index+x);""===s||wb(s)||wb(_)||!_.hasAttribute("class")||s!==_.getAttribute("class")||b.classList.add(s),b.setAttribute("clip-path",l.getAttribute("clip-path")),b.setAttribute("transform",l.getAttribute("transform")),this.chart.svgObject.appendChild(b)}},t.prototype.removeHighlightedMarker=function(){for(var e=document.getElementsByClassName("EJ2-Trackball"),t=0,i=e.length;t<i;t++)kx(e[0]);this.previousPoints=[]},t}(AC),WC=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),HC=function(e){function t(t){var i=e.call(this,t)||this;return i.addEventListener(),i}return WC(t,e),t.prototype.render=function(e){var t=this,i=e.chart.redraw;this.createElement(e,i);for(var n=function(n){n.visible&&n.symbolLocations&&n.symbolLocations.length&&n.symbolLocations.map((function(r,o){"None"!==e.marker.shape&&t.renderMarker(e,n,r,o,i)}))},r=0,o=e.points;r<o.length;r++){n(o[r])}},t.prototype.renderMarker=function(e,t,i,n,r){var o,a,s,l,u=void 0===e.index?e.category:e.index,c=e.marker,h={color:c.border.color,width:c.border.width},d=c.border.color;i.x=i.x+c.offset.x,i.y=i.y-c.offset.y;var p,f="BoxAndWhisker"===e.type,m=c.fill||(f?t.interior||e.interior:"#ffffff"),g=f?function(e,t){for(var i,n=0,r=e.length;n<r;n++)e[n].id.indexOf(t)>-1&&(i=e[n]);return i}(e.seriesElement.childNodes,"Series_"+e.index+"_Point_"+t.index):e.symbolElement;h.color=d||e.setPointColor(t,e.interior);var y=this.elementId+"_Series_"+u+"_Point_"+t.index+"_Symbol"+(n||""),v={cancel:!1,name:$w,series:e,point:t,fill:t.isEmpty&&e.emptyPointSettings.fill||m,border:{color:"BoxAndWhisker"===e.type?wb(d)||"transparent"===d?Bk(m,-.6):d:h.color,width:h.width},height:c.height,width:c.width,shape:c.shape};if(v.border=e.setBorderColor(t,{width:v.border.width,color:v.border.color}),e.isRectSeries&&"BoxAndWhisker"!==e.type||(this.chart.trigger($w,v),t.color=v.fill),t.color=v.fill,v.cancel)i=null,t.marker={visible:!1};else{var b=void 0;b="RangeArea"===e.type||"RangeColumn"===e.type||"RangeColumn"===e.drawType||"SplineRangeArea"===e.type?n?t.low:t.high:f?t.outliers[n]:t.y;var x=v.point.marker.fill||v.fill,_=void 0;_=wb(v.point.marker.border)?{color:v.border.color,width:v.border.width}:{color:v.point.marker.border.color||v.border.color,width:v.point.marker.border.width||v.border.width};var w=v.point.marker.width||v.width,S=v.point.marker.height||v.height,k=v.point.marker.opacity||c.opacity,C=v.point.marker.shape||v.shape,T=v.point.marker.imageUrl||c.imageUrl;l=new Dw(y,x,_.width,_.color,k,null),(void 0!==g&&null!==g||this.chart.enableCanvas)&&(r&&xk(l.id)&&(s="Circle"===C?"c":"",o={x:+(p=xk(l.id)).getAttribute(s+"x"),y:+p.getAttribute(s+"y")},a=p.getAttribute("d")),p=bk(i,C,new Ew(w,S),T,l,(t.x.toString(),b.toString()),this.chart.renderer,e.clipRect),Ek(this.chart.enableCanvas,g,p,r,!0,s+"x",s+"y",o,a,!1,!1,null,e.chart.duration)),t.marker={border:_,fill:x,height:S,visible:!0,shape:C,width:w,imageUrl:T}}},t.prototype.createElement=function(e,t){var i,n,r=e.marker,o=r.border.width+8+5,a=e.chart.svgRenderer,s=void 0===e.index?e.category:e.index,l="Cartesian"===e.chart.chartAreaType?"translate("+e.clipRect.x+","+e.clipRect.y+")":"";if(r.visible){var u=(r.height+o)/2,c=(r.width+o)/2;if(i="Cartesian"===e.chart.chartAreaType?pk(t,n=new $k(this.elementId+"_ChartMarkerClipRect_"+s,"transparent",{width:1,color:"Gray"},1,{x:-c,y:-u,width:e.clipRect.width+2*c,height:e.clipRect.height+2*u}),a):pk(t,n=new Qk(this.elementId+"_ChartMarkerClipRect_"+s,"transparent",{width:1,color:"Gray"},1,e.clipRect.width/2+e.clipRect.x,e.clipRect.height/2+e.clipRect.y,e.chart.radius+Math.max(u,c)),a,"drawCircularClipPath"),n={id:this.elementId+"SymbolGroup"+s,transform:l,"clip-path":"url(#"+this.elementId+"_ChartMarkerClipRect_"+s+")"},e.symbolElement=a.createGroup(n),e.symbolElement.appendChild(i),this.chart.enableCanvas)document.getElementById(this.chart.element.id+"_tooltip_svg").appendChild(e.symbolElement)}},t.prototype.getRangeLowPoint=function(e,t){var i=e.x,n=e.y;return t.chart.requireInvertedAxis?(n+=e.height/2,i+=t.yAxis.isAxisInverse?e.width:0):(n+=t.yAxis.isAxisInverse?0:e.height,i+=e.width/2),{x:i,y:n}},t.prototype.doMarkerAnimation=function(e){if("Scatter"!==e.type&&"Bubble"!==e.type&&"Candle"!==e.type&&"Hilo"!==e.type&&"HiloOpenClose"!==e.type&&("PolarRadar"!==e.chart.chartAreaType||"Scatter"!==e.drawType))for(var t=e.symbolElement.childNodes,i=e.animation.delay+e.animation.duration,n=e.chart.animated?e.chart.duration:200,r=1,o="RangeArea"===e.type||"RangeColumn"===e.type||"SplineRangeArea"===e.type?2:1,a=0;a<e.points.length;a++)if(e.points[a].symbolLocations){if(!e.points[a].symbolLocations.length||!t[r])continue;if(hk(t[r],i,n,e,a,e.points[a].symbolLocations[0],!1),2===o){var s=this.getRangeLowPoint(e.points[a].regions[0],e);hk(t[r+1],i,n,e,a,s,!1)}r+=o}},t}(UC),GC=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),qC=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},ZC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return GC(t,e),qC([Ux(0)],t.prototype,"x",void 0),qC([Ux(0)],t.prototype,"y",void 0),t}(e_),XC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return GC(t,e),qC([Ux(!0)],t.prototype,"visible",void 0),qC([Ux(null)],t.prototype,"height",void 0),qC([Ux(null)],t.prototype,"width",void 0),qC([Wx({x:0,y:0},ZC)],t.prototype,"location",void 0),qC([Ux("Auto")],t.prototype,"position",void 0),qC([Ux("Series")],t.prototype,"mode",void 0),qC([Ux(8)],t.prototype,"padding",void 0),qC([Ux("Center")],t.prototype,"alignment",void 0),qC([Wx(Q_.legendLabelFont,lw)],t.prototype,"textStyle",void 0),qC([Ux(10)],t.prototype,"shapeHeight",void 0),qC([Ux(10)],t.prototype,"shapeWidth",void 0),qC([Wx({},uw)],t.prototype,"border",void 0),qC([Wx({left:0,right:0,top:0,bottom:0},dw)],t.prototype,"margin",void 0),qC([Wx({left:0,right:0,top:0,bottom:0},pw)],t.prototype,"containerPadding",void 0),qC([Ux(5)],t.prototype,"shapePadding",void 0),qC([Ux("transparent")],t.prototype,"background",void 0),qC([Ux(1)],t.prototype,"opacity",void 0),qC([Ux(!0)],t.prototype,"toggleVisibility",void 0),qC([Ux(null)],t.prototype,"description",void 0),qC([Ux(3)],t.prototype,"tabIndex",void 0),qC([Ux(null)],t.prototype,"title",void 0),qC([Wx(Q_.legendTitleFont,lw)],t.prototype,"titleStyle",void 0),qC([Ux("Top")],t.prototype,"titlePosition",void 0),qC([Ux(100)],t.prototype,"maximumTitleWidth",void 0),qC([Ux(!0)],t.prototype,"enablePages",void 0),qC([Ux(!1)],t.prototype,"isInversed",void 0),qC([Ux(!1)],t.prototype,"reverse",void 0),t}(e_),YC=function(){function e(e){this.pageXCollections=[],this.legendTitleCollections=[],this.legendRegions=[],this.pagingRegions=[],this.chart=e,this.legend=e.legendSettings,this.legendID=e.element.id+"_chart_legend",this.isChartControl="chart"===e.getModuleName(),this.isBulletChartControl="bulletChart"===e.getModuleName(),this.isStockChartControl="stockChart"===e.getModuleName(),this.bulletChart=this.chart,this.fivePixel=5,this.rowCount=0,this.pageButtonSize=8,this.maxColumns=0,this.maxWidth=0,this.currentPage=1,this.backwardArrowOpacity=0,this.forwardArrowOpacity=1,this.arrowWidth=2*(this.fivePixel+this.pageButtonSize+this.fivePixel),this.arrowHeight=this.arrowWidth,this.isTop=!1,this.isTitle=!1,this.currentPageNumber=1}return e.prototype.calculateLegendBounds=function(e,t,i){var n=this.legend,r=this.isBulletChartControl?"40%":"20%";this.getPosition(n.position,t),this.legendBounds=new Aw(e.x,e.y,0,0),this.isVertical="Left"===this.position||"Right"===this.position,this.isVertical?(this.legendBounds.height=Nk(n.height,t.height-(e.y-this.chart.margin.top))||e.height,this.legendBounds.width=Nk(n.width||r,t.width)):(this.legendBounds.width=Nk(n.width,t.width)||e.width,this.legendBounds.height=Nk(n.height||r,t.height)),this.library.getLegendBounds(t,this.legendBounds,n),this.isBulletChartControl||(this.legendBounds.width+=this.legend.containerPadding.left+this.legend.containerPadding.right,this.legendBounds.height+=this.legend.containerPadding.top+this.legend.containerPadding.bottom),this.getLocation(this.position,n.alignment,this.legendBounds,e,t,i)},e.prototype.getPosition=function(e,t){var i=this.chart,n=this.chart;this.isChartControl||this.isBulletChartControl||this.isStockChartControl?this.position="Auto"!==e?e:"Bottom":("Auto"===e&&((i||n).visibleSeries&&"Funnel"===(i||n).visibleSeries[0].type||"Pyramid"===(i||n).visibleSeries[0].type)&&(e="Top"),this.position="Auto"!==e?e:t.width>t.height?"Right":"Bottom")},e.prototype.setBounds=function(e,t,i,n){var r=i.title&&"Top"===i.titlePosition?this.legendTitleSize.height+this.fivePixel:0;this.isVertical&&this.isPaging&&!i.enablePages&&!this.isBulletChartControl&&(r=i.title&&"Top"===i.titlePosition?this.legendTitleSize.height+this.fivePixel:0,r+=this.pageButtonSize+this.fivePixel),e=Math.min(e,n.width),t=Math.min(t,n.height),"Gradient"===i.mode?(n.width=i.width?n.width:this.isVertical?e:.75*n.width,n.height=i.height?n.height:this.isVertical?.75*n.height:t):(n.width=i.width?n.width:e,n.height=i.height?n.height:t),this.isBulletChartControl||this.isTop&&"None"!==i.titleStyle.textOverflow&&(this.calculateLegendTitle(i,n),n.height+="Wrap"===i.titleStyle.textOverflow&&this.legendTitleCollections.length>1?this.legendTitleSize.height-this.legendTitleSize.height/this.legendTitleCollections.length:0),this.rowCount=Math.max(1,Math.ceil((n.height-i.padding-r)/(this.maxItemHeight+i.padding)))},e.prototype.getLocation=function(e,t,i,n,r,o){var a=this.legend.border.width,s=this.isBulletChartControl,l=this.bulletChart,u="Inside"===l.labelPosition,c="Inside"===l.tickPosition,h="Vertical"===l.orientation,d=s&&""!==l.categoryField?o.width+this.chart.border.width+3*a:0,p=this.chart.margin.bottom,f=i.height+a+this.legend.margin.top+this.legend.margin.bottom,m=i.width+a+this.legend.margin.left+this.legend.margin.right;"Bottom"===e?(i.x=this.alignLegend(i.x,r.width,i.width,t),i.y=n.y+(n.height-f)+a+this.legend.margin.top,i.y+=!s||l.opposedPosition||u||c||h?h&&""!==l.categoryField?o.height+2*a:0:l.majorTickLines.height+p+this.legend.border.width+2*a,YS(n,new eC(0,0,0,f))):"Top"===e?(i.x=this.alignLegend(i.x,r.width,i.width,t),i.y=n.y+a+this.legend.margin.top,i.y-=!s||!l.opposedPosition||u||c||h?0:l.majorTickLines.height+this.chart.margin.top,YS(n,new eC(0,0,f-=s?2*-a:0,0))):"Right"===e?(i.x=n.x+(n.width-i.width)-this.legend.margin.right,i.y=n.y+this.alignLegend(0,r.height-(n.y+p),i.height,t),m+=s&&l.opposedPosition&&!u&&!c&&h?this.chart.margin.left+this.chart.margin.right+l.majorTickLines.height:0,YS(n,new eC(0,m,0,0))):"Left"===e?(i.x=i.x+this.legend.margin.left,i.y=n.y+this.alignLegend(0,r.height-(n.y+p),i.height,t),m+=!s||l.opposedPosition||u||c||!h?"Vertical"!==l.orientation&&""!==l.categoryField?d:0:i.x-this.chart.margin.left+a+l.majorTickLines.height,YS(n,new eC(m,0,0,0))):(i.x=this.legend.location.x,i.y=this.legend.location.y,YS(n,new eC(0,0,0,0)))},e.prototype.alignLegend=function(e,t,i,n){switch(n){case"Far":e=t-i-e;break;case"Center":e=(t-i)/2}return e},e.prototype.renderLegend=function(e,t,i,n){var r,o=0,a=(new Aw(0,0,0,0),new Aw(0,0,0,0)),s=this.findFirstLegendPosition(this.legendCollections),l=t.padding,u=t.enablePages,c=t.titlePosition,h=this.isPaging&&!t.enablePages&&this.isVertical?this.pageButtonSize:0,d=e.renderer.createGroup({id:this.legendID+"_g"}),p=this.createLegendElements(e,i,d,t,this.legendID,n);this.legendRegions=[];for(var f=0,m=0;m<this.legendCollections.length;m++)if(""!==this.legendCollections[m].text){f=Math.max(this.legendCollections[m].textSize.height,f);break}if(this.maxItemHeight=Math.max(f,t.shapeHeight),u||!this.isPaging||this.isVertical?!this.isTitle||this.isPaging||this.isVertical||(o=c===(this.isRtlEnable?"Right":"Left")?this.fivePixel+this.legendTitleSize.width:0):(o=this.isTitle&&"Left"===c?this.legendTitleSize.width:0,o+=this.pageButtonSize+2*this.fivePixel),r=this.isTitle&&(this.isTop||this.isVertical)?this.legendTitleSize.height:0,"Gradient"===e.legendSettings.mode&&this.legendCollections.length>1)this.getLinearLegend(i,e,t,p),this.totalPages=1;else if(s!==this.legendCollections.length){var g=void 0,y=0,v=this.legendCollections[s],b=this.isBulletChartControl?0:o+l+t.shapeWidth/2+t.containerPadding.left,x=this.isBulletChartControl?i.x+o+l+t.shapeWidth/2:this.isRtlEnable?i.x+("accumulationchart"===this.chart.getModuleName()&&this.isVertical?this.maxWidth:i.width)-b:i.x+b,_=new Jk(x,this.isBulletChartControl?i.y+r+h+l+this.maxItemHeight/2:i.y+r+h+l+this.maxItemHeight/2+t.containerPadding.top),w=e.isRtlEnabled||e.enableRtl?"end":"start",S=new Lw("",_.x,_.y,w),k=t.shapePadding+l+t.shapeWidth;this.totalPages=this.totalPages=this.isChartControl||this.isBulletChartControl||this.isStockChartControl?this.totalPages:0,this.pageXCollections=[],this.legendCollections[s].location=_;var C=void 0;if(!t.enablePages&&this.isPaging){var T=_.x-this.fivePixel,E=_.y-this.fivePixel,A=this.isTitle&&!this.isVertical&&"Left"===c?this.legendTitleSize.width+this.fivePixel:0,P=this.isVertical?this.pageButtonSize+Math.abs(E-i.y):0,M=this.isTitle&&!this.isVertical&&"Right"===c?this.legendTitleSize.width+this.fivePixel:0;M+=this.isVertical?0:this.fivePixel+this.pageButtonSize+this.fivePixel,a=new Aw(T,E,i.width-M-A,i.height-P)}else a=i;for(var L=0,O=this.legendCollections;L<O.length;L++){var R=O[L];C=this.isReverse?this.legendCollections.length-1-y:y,"accumulationchart"===this.chart.getModuleName()&&(R.fill=(this.chart||this.chart||this.chart).visibleSeries[0].points[R.pointIndex].color),"stockChart"===this.chart.getModuleName()&&(R.type=this.chart.visibleSeries[y].type),this.accessbilityText=this.isBulletChartControl?"Legend of bullet chart"+R.text:"Click to show or hide the "+R.text+" series",R.render&&""!==R.text&&((g=e.renderer.createGroup({id:this.legendID+this.generateId(R,"_g_",C)}))&&(g.setAttribute("tabindex",t.tabIndex.toString()),g.setAttribute("aria-label",t.description||this.accessbilityText)),this.library.getRenderPoint(R,_,k,v,a,y,s),this.renderSymbol(R,g,C),this.renderText(e,R,g,S,y,C),g&&(g.style.cssText="outline: none; cursor: "+(!t.toggleVisibility&&("None"===e.selectionMode||"None"===e.highlightMode||"None"===e.selectionMode)||this.isBulletChartControl?"auto":"pointer")),p&&p.appendChild(g),v=R),y++}this.isPaging?this.renderPagingElements(e,i,S,d):this.totalPages=1}Ek(e.enableCanvas,e.svgObject,d,n)},e.prototype.getLinearLegend=function(e,t,i,n){var r="http://www.w3.org/2000/svg",o=this.legendCollections[0],a=this.legendCollections[1],s=this.chart.renderer.createDefs(),l=document.createElementNS(r,"linearGradient"),u=[],c=[];i.title&&(this.isVertical?(e.y+=this.legendTitleSize.height,e.height-=this.legendTitleSize.height):"Left"===i.titlePosition?(e.x+=this.legendTitleSize.width,e.width-=this.legendTitleSize.width):"Right"===i.titlePosition?e.width-=this.legendTitleSize.width:"Top"===i.titlePosition&&(e.y+=this.legendTitleSize.height,e.height-=this.legendTitleSize.height));for(var h=0,d=this.chart.rangeColorSettings;h<d.length;h++){var p=d[h];if(c.indexOf(p.start)<0&&c.push(p.start),p.colors.length>2){var f=p.end-p.start,m=p.colors.length-1;if(f>0){f/=m;for(var g=1;g<m;g++){var y=p.start+f*g;c.push(y)}}else for(g=1;g<m;g++)c.push(p.start)}c.indexOf(p.end)<0&&c.push(p.end);for(var v=0,b=p.colors;v<b.length;v++){var x=b[v];u.indexOf(x)<0&&u.push(x)}p.colors.length>0&&p.colors.length<2&&u.push(p.colors[0])}var _=this.isRtlEnable&&!this.isVertical?"100%":"0%",w=this.isVertical||this.isRtlEnable?"0%":"100%",S=this.isVertical?"100%":"0%";l.setAttribute("id",this.generateId(o,"linearGradient",0)),l.setAttribute("x1",_),l.setAttribute("y1","0%"),l.setAttribute("x2",w),l.setAttribute("y2",S);for(var k=c[c.length-1]-c[0],C=0;C<u.length;C++){var T=c[C]-c[0];T/=k;var E=document.createElementNS(r,"stop");E.setAttribute("offset",T.toString()),E.setAttribute("stop-color",u[C]),E.setAttribute("stop-opacity",1..toString()),l.appendChild(E)}var A,P,M,L,O=o.text.toString(),R=a.text.toString(),I=Cw(O,i.textStyle),D=Cw(R,i.textStyle),z=I.width>D.width?I.width:D.width,B=I.height>D.height?I.height:D.height,F=2*z+4*i.padding,N=e.width,j=e.height,V=e.x+z+2*i.padding,U=e.y+i.padding;if(this.isVertical){if(F=2*B+4*i.padding,N=e.width-2*i.padding,j=e.height-F,V=e.x+i.padding,U=e.y+B+2*i.padding,A=e.y+i.padding+B,P=U+j+B,L=M=e.x+.5*e.width-.5*z,N>30){var W=N-30;N=30,V+=W/2}}else if(N=e.width-F,j=e.height-2*i.padding,M=e.x+(this.isRtlEnable?N+3*i.padding+z:i.padding+(z-I.width)),L=e.x+(this.isRtlEnable?i.padding+(z-D.width):N+3*i.padding+z),P=A=e.y+.5*e.height+.25*B,j>30){var H=j-30;j=30,U+=H/2}var G=t.enableRtl?"end":"",q=new Lw("",M,A,G,O);q.id=this.legendID+this.generateId(o,"_text_",1);var Z=o.visible?i.textStyle.color||t.themeStyle.legendLabel:"#D3D3D3",X=!this.isStockChartControl&&this.chart.enableCanvas;Vk(t.renderer,q,i.textStyle,Z,n,!1,!1,!1,!1,null,this.currentPageNumber&&X?new Aw(0,-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),0,0):null),(q=new Lw("",L,P,G,R)).id=this.legendID+this.generateId(o,"_text_",2),Vk(t.renderer,q,i.textStyle,Z,n,!1,!1,!1,!1,null,this.currentPageNumber&&X?new Aw(0,-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),0,0):null);var Y=t.renderer.drawRectangle({width:N,height:j,x:V,y:U,fill:"url(#"+this.generateId(o,"linearGradient",0)+")"});s.appendChild(l),n.appendChild(s),n.appendChild(Y)},e.prototype.findFirstLegendPosition=function(e){for(var t=0,i=0,n=e;i<n.length;i++){var r=n[i];if(r.render&&""!==r.text)break;t++}return t},e.prototype.calculateLegendTitle=function(e,t){if(e.title){this.isTop="Top"===e.titlePosition;var i="Trim"===e.titleStyle.textOverflow?2*e.padding:0;this.isTop||this.isVertical?this.legendTitleCollections=Hk(e.title,e.titleStyle,t.width-i):this.legendTitleCollections[0]=Fk(e.maximumTitleWidth,e.title,e.titleStyle);var n=this.isTop?e.title:this.legendTitleCollections[0];this.legendTitleSize=Cw(n,e.titleStyle),this.legendTitleSize.height*=this.legendTitleCollections.length}else this.legendTitleSize=new Ew(0,0)},e.prototype.renderLegendTitle=function(e,t,i,n){var r=t.padding,o=t.titleStyle.textAlignment;this.isTop="Top"===t.titlePosition;var a=oC(t.titleStyle.textAlignment,e.enableRtl),s=Gk(i,t.titleStyle);a=this.isTop||this.isVertical?a:e.enableRtl?"end":"",s="Near"===o?s+r:"Far"===o?s-r:s,s=this.isTop||this.isVertical?s:i.x+("Left"===t.titlePosition?5:i.width-this.legendTitleSize.width-5);var l=i.height/2+this.legendTitleSize.height/4,u=i.y+(this.isTop||this.isVertical?this.legendTitleSize.height/this.legendTitleCollections.length:l),c=new Lw(this.legendID+"_title",s,u,a,this.legendTitleCollections);Vk(e.renderer,c,t.titleStyle,t.titleStyle.color,n)},e.prototype.createLegendElements=function(e,t,i,n,r,o){var a=n.padding,s=new $k(r+"_element",n.background,n.border,n.opacity,t),l=e.renderer.createGroup({id:r+"_collections"}),u=!this.isStockChartControl&&e.enableCanvas,c=e.renderer.createClipPath({id:r+"_clipPath"});return s.width=this.isRtlEnable&&"accumulationchart"===this.chart.getModuleName()&&this.isVertical?this.maxWidth:t.width,i?i.appendChild(e.renderer.drawRectangle(s)):e.renderer.drawRectangle(s),n.title&&this.renderLegendTitle(e,n,t,i),u||i.appendChild(l),this.legendTranslateGroup=e.renderer.createGroup({id:r+"_translate_g"}),u||l.appendChild(this.legendTranslateGroup),s.y+=a+(this.isTop?this.legendTitleSize.height:0),s.id+="_clipPath_rect",s.width=this.isChartControl||"bulletChart"===e.getModuleName()||this.isStockChartControl||!this.isVertical?t.width:this.maxWidth-a+n.containerPadding.left+n.containerPadding.right,u?this.pagingClipRect=s:(this.clipRect=e.renderer.drawRectangle(s),c.appendChild(this.clipRect)),Ek(u,e.svgObject,c,o),u||(l.style.cssText="clip-path:url(#"+c.id+")"),this.legendTranslateGroup},e.prototype.renderSymbol=function(e,t,i){var n,r,o=this.isBulletChartControl?this.chart:null,a=e.visible?e.fill:"#D3D3D3",s=("chart"===this.chart.getModuleName()||"stockChart"===this.chart.getModuleName())&&"SeriesType"===e.shape&&e.type.toLowerCase().indexOf("line")>-1&&-1===e.type.toLowerCase().indexOf("area"),l=("chart"===this.chart.getModuleName()||"stockChart"===this.chart.getModuleName())&&("Scatter"===e.type||"Bubble"===e.type),u=!this.isStockChartControl&&this.chart.enableCanvas,c="SeriesType"===e.shape?e.type:e.shape,h=s?"Series"===this.legend.mode?this.chart.visibleSeries[i].width:this.chart.visibleSeries[0].width:this.isBulletChartControl&&"Multiply"===e.shape?4:1;if(c="Scatter"===c?e.markerShape:c,l&&i<this.chart.visibleSeries.length){var d=this.chart.visibleSeries[i].border;n=d.color?d.color:a,h=d.width?d.width:1}var p=new Dw(this.legendID+this.generateId(e,"_shape_",i),a,h,l?n:a,1,"",""),f=Cw(e.text,this.legend.textStyle),m=this.legend.isInversed&&!this.isRtlEnable?e.location.x+f.width+this.legend.shapePadding:e.location.x,g=e.location.y;u?(r=-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),bk({x:m,y:g},c,new Ew(this.legend.shapeWidth,this.legend.shapeHeight),"",p,this.accessbilityText,this.chart.renderer,this.currentPageNumber?new Aw(0,r,0,0):null,this.isBulletChartControl,o),this.legendRegions.push({rect:new Aw(e.location.x,e.location.y,this.legend.shapeWidth,this.legend.shapeHeight+r),index:i})):t.appendChild(bk({x:m,y:g},c,new Ew(this.legend.shapeWidth,this.legend.shapeHeight),e.url,p,this.accessbilityText,this.chart.renderer,null,this.isBulletChartControl,o)),("Line"===c&&e.markerVisibility&&"Image"!==e.markerShape||"Doughnut"===e.type&&"Doughnut"===c)&&(p.id=this.legendID+this.generateId(e,"_shape_marker_",i),c="Doughnut"===e.type?"Circle":e.markerShape,p.fill="Doughnut"===e.type?"#FFFFFF":p.fill,u?bk({x:m,y:g},c,new Ew(this.legend.shapeWidth/2,this.legend.shapeHeight/2),"",p,this.accessbilityText,this.chart.renderer,this.currentPageNumber?new Aw(0,-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),0,0):null,this.isBulletChartControl,o):t.appendChild(bk({x:m,y:g},c,new Ew(this.legend.shapeWidth/2,this.legend.shapeHeight/2),"",p,this.accessbilityText,null,null,this.isBulletChartControl,o)))},e.prototype.renderText=function(e,t,i,n,r,o){var a=e.legendSettings,s=t.visible?a.textStyle.color||e.themeStyle.legendLabel:"#D3D3D3",l=!this.isStockChartControl&&this.chart.enableCanvas;n.id=this.legendID+this.generateId(t,"_text_",o),n.text=t.text,a.isInversed&&!this.isRtlEnable?n.x=t.location.x-a.shapeWidth/2:this.isRtlEnable?n.x=t.location.x-(Cw(t.text,a.textStyle).width+a.shapeWidth/2+a.shapePadding):n.x=t.location.x+a.shapeWidth/2+a.shapePadding,n.y=t.location.y+this.maxItemHeight/4;var u=Vk(e.renderer,n,a.textStyle,s,i,!1,!1,!1,!1,null,this.currentPageNumber&&l?new Aw(0,-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),0,0):null);if(u&&u.setAttribute("aria-label",a.description||this.accessbilityText),l){var c=Cw(n.text,a.textStyle);this.legendRegions[r].rect.y=n.y<this.legendRegions[r].rect.y?n.y:this.legendRegions[r].rect.y,this.legendRegions[r].rect.width+=c.width,this.legendRegions[r].rect.height=c.height,this.legendRegions[r].rect.y-=.5*c.height,this.legendRegions[r].rect.x-=this.isRtlEnable?this.legendRegions[r].rect.width:0}},e.prototype.renderPagingElements=function(e,t,i,n){var r,o=e.renderer.createGroup({id:this.legendID+"_navigation"}),a=!this.isStockChartControl&&e.enableCanvas,s=this.isBulletChartControl?0:this.legendTitleSize.height,l=this.chart.theme.indexOf("Dark")>-1?"#FFFFFF":"#545454",u=e.legendSettings,c=this.legendID+(this.isRtlEnable?"_pagedown":"_pageup"),h=this.legendID+(this.isRtlEnable?"_pageup":"_pagedown"),d=new Dw(c,"transparent",5,l,1,"",""),p=this.pageButtonSize,f=u.enablePages||!this.isPaging||this.isVertical||this.isBulletChartControl?this.rowCount-1:1,m=this.isTitle&&"Left"===u.titlePosition?this.legendTitleSize.width:0;this.pagingRegions=[],this.backwardArrowOpacity=1!==this.currentPage?1:0,this.forwardArrowOpacity=this.currentPage===this.totalPages?0:1,a||n.appendChild(o),this.isChartControl||this.isBulletChartControl||this.isStockChartControl||!this.isVertical?this.totalPages=Math.ceil(this.totalPages/Math.max(1,this.rowCount-1)):this.totalPages=Math.ceil(this.totalPages/this.maxColumns),o&&(o.style.cursor="pointer"),this.clipPathHeight=f*(this.maxItemHeight+u.padding),a?(this.pagingClipRect.height=this.legendBounds.height-this.clipPathHeight-(this.pagingClipRect.y-this.legendBounds.y)-u.border.width,this.pagingClipRect.y=this.pagingClipRect.y+this.clipPathHeight,this.pagingClipRect.x+=u.border.width,this.pagingClipRect.width-=u.border.width+u.border.width/2,this.chart.renderer.clearRect(new Aw(this.pagingClipRect.x,this.pagingClipRect.y,this.pagingClipRect.width,this.pagingClipRect.height))):this.clipRect.setAttribute("height",this.clipPathHeight.toString());var g=t.x+p/2,y=t.y+this.clipPathHeight+(s+t.height-this.clipPathHeight)/2;!this.isPaging||u.enablePages||this.isVertical||this.isBulletChartControl||(g=t.x+this.fivePixel+this.pageButtonSize+m,y=u.title&&this.isTop?t.y+8+s+p/1+.5:t.y+8+p+.5);var v=Cw(this.totalPages+"/"+this.totalPages,u.textStyle),b=this.isRtlEnable?u.border.width+p/2:t.width-(2*(p+8)+8+v.width);a?bk({x:g,y:y},"LeftArrow",new Ew(p,p),"",d,0,this.chart.renderer,new Aw(b,0,0,0)):!this.isVertical||u.enablePages||this.isBulletChartControl?(d.opacity=this.isBulletChartControl?d.opacity:u.enablePages?1:this.isRtlEnable?this.forwardArrowOpacity:this.backwardArrowOpacity,o.appendChild(bk({x:g,y:y},"LeftArrow",new Ew(p,p),"",d))):(g=t.x+t.width/2,y=t.y+p/2+8+s,d.opacity=this.backwardArrowOpacity,o.appendChild(bk({x:g,y:y},"UpArrow",new Ew(p,p),"",d))),this.pagingRegions.push(new Aw(this.isRtlEnable?g:g+t.width-(2*(p+8)+8+v.width)-.5*p,y-.5*p,p,p)),i.x=g+p/2+8,i.y=y+v.height/4,i.id=this.legendID+"_pagenumber",i.text=this.isRtlEnable?this.totalPages+"/1":"1/"+this.totalPages;var x=this.chart.theme.indexOf("Dark")>-1?"#FFFFFF":u.textStyle.color;a&&this.totalNoOfPages&&(i.text=this.isRtlEnable?this.totalNoOfPages+"/"+this.currentPageNumber:this.currentPageNumber+"/"+this.totalNoOfPages),(u.enablePages||this.isBulletChartControl)&&(r=Vk(e.renderer,i,u.textStyle,x,o,!1,!1,!1,!1,null,new Aw(b,0,0,0))),g=i.x+8+p/2+v.width,!this.isPaging||u.enablePages||this.isVertical||(g=t.x+t.width-this.fivePixel-this.pageButtonSize-(u.title&&"Right"===u.titlePosition?this.legendTitleSize.width+this.fivePixel:0)),d.id=h,d.opacity=u.enablePages?1:this.isRtlEnable?this.backwardArrowOpacity:this.forwardArrowOpacity,a?bk({x:g,y:y},"RightArrow",new Ew(p,p),"",d,0,this.chart.renderer,new Aw(b,0,0,0)):!this.isVertical||u.enablePages||this.isBulletChartControl?o.appendChild(bk({x:g,y:y},"RightArrow",new Ew(p,p),"",d)):(g=t.x+t.width/2,y=t.y+t.height-p/2-8,o.appendChild(bk({x:g,y:y},"DownArrow",new Ew(p,p),"",d))),this.pagingRegions.push(new Aw(this.isRtlEnable?g:g+(t.width-(2*(p+8)+8+v.width)-.5*p),y-.5*p,p,p)),a||!u.enablePages&&!this.isBulletChartControl?(1===this.currentPageNumber&&this.calTotalPage&&(u.enablePages||this.isBulletChartControl)&&(this.totalNoOfPages=this.totalPages,this.calTotalPage=!1),u.enablePages||this.isBulletChartControl||this.translatePage(null,this.currentPage-1,this.currentPage,u)):o.setAttribute("transform","translate("+b+", 0)"),(u.enablePages||this.isBulletChartControl)&&this.translatePage(r,this.currentPage-1,this.currentPage,u)},e.prototype.translatePage=function(e,t,i,n){var r=this.clipPathHeight*t,o="translate(0,-"+r+")";if(!this.isChartControl&&!this.isBulletChartControl&&!this.isStockChartControl&&this.isVertical){var a=this.pageXCollections[t*this.maxColumns];r=(r=this.isRtlEnable?this.legendBounds.x+this.maxWidth-a:a-this.legendBounds.x)<0?0:r,o=(this.isRtlEnable?"translate(":"translate(-")+r+",0)"}return this.chart.enableCanvas||this.legendTranslateGroup.setAttribute("transform",o),this.chart.enableCanvas||!n.enablePages&&!this.isBulletChartControl||(e.textContent=this.isRtlEnable?this.totalPages+"/"+i:i+"/"+this.totalPages),this.currentPage=i,r},e.prototype.changePage=function(e,t){var i=this.chart.legendSettings,n=document.getElementById(this.legendID+"_pageup"),r=document.getElementById(this.legendID+"_pagedown"),o=i.enablePages||this.isBulletChartControl?document.getElementById(this.legendID+"_pagenumber"):null,a=i.enablePages||this.isBulletChartControl?parseInt(o.textContent.split("/")[this.isRtlEnable?1:0],10):this.currentPage;t&&a>1?this.translatePage(o,a-2,a-1,i):!t&&a<this.totalPages&&this.translatePage(o,a,a+1,i),!this.isPaging||i.enablePages||this.isBulletChartControl||(this.currentPage===this.totalPages?this.hideArrow(r):this.showArrow(r),1===this.currentPage?this.hideArrow(n):this.showArrow(n))},e.prototype.hideArrow=function(e){e.setAttribute("opacity","0")},e.prototype.showArrow=function(e){e.setAttribute("opacity","1")},e.prototype.generateId=function(e,t,i){return this.isChartControl||this.isStockChartControl?t+i:t+e.pointIndex},e.prototype.move=function(e){var t=this,i=this.chart.mouseX,n=this.chart.mouseY;if(e.target.textContent.indexOf("...")>-1){var r=e.target.id.split(this.legendID+"_text_");if(2===r.length){var o=parseInt(r[1],10),a=this.chart.element;isNaN(o)||(this.chart.isTouch&&VS(this.chart.element.id+"_EJ2_Legend_Tooltip"),this.isChartControl?WS(this.chart.series[o].name,i,n,a.offsetWidth,a.id+"_EJ2_Legend_Tooltip",xk(this.chart.element.id+"_Secondary_Element")):WS(this.chart.visibleSeries[0].points[o].x.toString(),i+10,n+10,a.offsetWidth,a.id+"_EJ2_Legend_Tooltip",xk(this.chart.element.id+"_Secondary_Element")))}}else VS(this.chart.element.id+"_EJ2_Legend_Tooltip");this.chart.isTouch&&(clearTimeout(this.clearTooltip),this.clearTooltip=+setTimeout((function(){VS(t.chart.element.id+"_EJ2_Legend_Tooltip")}),1e3))},e}(),$C=function(e,t,i,n,r,o,a,s,l,u){this.location={x:0,y:0},this.text=e,this.fill=t,this.shape=i,this.url=o,this.visible=n,this.type=r,this.markerVisibility=s,this.markerShape=a,this.pointIndex=l,this.seriesIndex=u},KC=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),QC=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},JC=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clipRect=new Aw(0,0,0,0),t}return KC(t,e),t.prototype.setDataSource=function(e,t){e&&(this.xData=e.xData,this.yData=e.yData,this.points=e.points),t[sk(this.type)+"IndicatorModule"].initDataSource(this,t),t.visibleSeriesCount+=this.targetSeries.length},QC([Ux("Sma")],t.prototype,"type",void 0),QC([Ux(14)],t.prototype,"period",void 0),QC([Ux(14)],t.prototype,"kPeriod",void 0),QC([Ux(3)],t.prototype,"dPeriod",void 0),QC([Ux(80)],t.prototype,"overBought",void 0),QC([Ux(20)],t.prototype,"overSold",void 0),QC([Ux(2)],t.prototype,"standardDeviation",void 0),QC([Ux("Close")],t.prototype,"field",void 0),QC([Ux(12)],t.prototype,"slowPeriod",void 0),QC([Ux(26)],t.prototype,"fastPeriod",void 0),QC([Ux(!0)],t.prototype,"showZones",void 0),QC([Wx({color:"#ff9933",width:2},sw)],t.prototype,"macdLine",void 0),QC([Ux("Both")],t.prototype,"macdType",void 0),QC([Ux("#2ecd71")],t.prototype,"macdPositiveColor",void 0),QC([Ux("#e74c3d")],t.prototype,"macdNegativeColor",void 0),QC([Ux("rgba(211,211,211,0.25)")],t.prototype,"bandColor",void 0),QC([Wx({color:"#ffb735",width:1},sw)],t.prototype,"upperLine",void 0),QC([Wx({color:"#f2ec2f",width:1},sw)],t.prototype,"lowerLine",void 0),QC([Wx({color:"#f2ec2f",width:1},sw)],t.prototype,"periodLine",void 0),QC([Ux("")],t.prototype,"seriesName",void 0),t}(FC);!function(e){e[e.Portrait=0]="Portrait",e[e.Landscape=1]="Landscape"}(aC||(aC={})),function(e){e[e.RotateAngle0=0]="RotateAngle0",e[e.RotateAngle90=1]="RotateAngle90",e[e.RotateAngle180=2]="RotateAngle180",e[e.RotateAngle270=3]="RotateAngle270"}(sC||(sC={})),function(e){e[e.None=0]="None",e[e.Numeric=1]="Numeric",e[e.LowerLatin=2]="LowerLatin",e[e.LowerRoman=3]="LowerRoman",e[e.UpperLatin=4]="UpperLatin",e[e.UpperRoman=5]="UpperRoman"}(lC||(lC={})),function(e){e[e.None=0]="None",e[e.Bottom=1]="Bottom",e[e.Top=2]="Top",e[e.Left=3]="Left",e[e.Right=4]="Right",e[e.Fill=5]="Fill"}(uC||(uC={})),function(e){e[e.None=0]="None",e[e.TopLeft=1]="TopLeft",e[e.TopCenter=2]="TopCenter",e[e.TopRight=3]="TopRight",e[e.MiddleLeft=4]="MiddleLeft",e[e.MiddleCenter=5]="MiddleCenter",e[e.MiddleRight=6]="MiddleRight",e[e.BottomLeft=7]="BottomLeft",e[e.BottomCenter=8]="BottomCenter",e[e.BottomRight=9]="BottomRight"}(cC||(cC={})),function(e){e[e.None=0]="None",e[e.Top=1]="Top",e[e.Bottom=2]="Bottom",e[e.Left=3]="Left",e[e.Right=4]="Right"}(hC||(hC={}));var eT=function(){function e(e){this.streamWriter=e}return Object.defineProperty(e.prototype,"document",{get:function(){return this.pdfDocument},set:function(e){this.pdfDocument=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.streamWriter.buffer.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this.streamWriter.buffer.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stream",{get:function(){return this.streamWriter},enumerable:!0,configurable:!0}),e.prototype.write=function(e){var t=e;this.streamWriter.write(t)},e}();function tT(e){return"[object String]"===Object.prototype.toString.call(e)?"$s"+e:"$o"+e.toString()}var iT,nT=function(){function e(e){this.table={},this.nElements=0,this.toStr=e||tT}return e.prototype.getValue=function(e){var t=this.table["$"+this.toStr(e)];if("undefined"!==typeof t)return t.value},e.prototype.setValue=function(e,t){var i="$"+this.toStr(e);this.table[i];this.nElements++,this.table[i]={key:e,value:t}},e.prototype.remove=function(e){var t="$"+this.toStr(e),i=this.table[t];return delete this.table[t],this.nElements--,i.value},e.prototype.keys=function(){for(var e=[],t=Object.keys(this.table),i=0;i<t.length;i++){var n=this.table[t[i]];e.push(n.key)}return e},e.prototype.values=function(){for(var e=[],t=Object.keys(this.table),i=0;i<t.length;i++){var n=this.table[t[i]];e.push(n.value)}return e},e.prototype.containsKey=function(e){return!("undefined"===typeof this.getValue(e))},e.prototype.clear=function(){this.table={},this.nElements=0},e.prototype.size=function(){return this.nElements},e}();!function(e){e[e.None=0]="None",e[e.Registered=1]="Registered"}(iT||(iT={}));var rT=function(){function e(){this.objectCollections=[],this.mainObjectCollection=new nT,this.primitiveObjectCollection=new nT}return Object.defineProperty(e.prototype,"count",{get:function(){return this.objectCollections.length},enumerable:!0,configurable:!0}),e.prototype.items=function(e){return this.objectCollections[e]},Object.defineProperty(e.prototype,"outIsNew",{get:function(){return this.isNew},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=new oT(e);this.objectCollections.push(t),this.primitiveObjectCollection.containsKey(e)||this.primitiveObjectCollection.setValue(e,this.objectCollections.length-1),e.position=this.index=this.objectCollections.length-1,e.status=iT.Registered},e.prototype.lookFor=function(e){var t=-1;if(-1!==e.position)return e.position;if(this.primitiveObjectCollection.containsKey(e)&&this.count===this.primitiveObjectCollection.size())t=this.primitiveObjectCollection.getValue(e);else for(var i=this.count-1;i>=0;i--){if(this.objectCollections[i].object===e){t=i;break}}return t},e.prototype.getReference=function(e,t){return this.index=this.lookFor(e),this.isNew=!1,{reference:this.objectCollections[this.index].reference,wasNew:t}},e.prototype.trySetReference=function(e,t,i){return!0,this.index=this.lookFor(e),this.objectCollections[this.index].setReference(t),!0},e.prototype.destroy=function(){for(var e=0,t=this.objectCollections;e<t.length;e++){var i=t[e];void 0!==i&&(i.pdfObject.position=-1,i.pdfObject.isSaving=void 0,i.pdfObject.objectCollectionIndex=void 0,i.pdfObject.position=void 0)}this.objectCollections=[],this.mainObjectCollection=new nT,this.primitiveObjectCollection=new nT},e}(),oT=function(){function e(e,t){this.pdfObject=e,this.pdfReference=t}return Object.defineProperty(e.prototype,"object",{get:function(){return this.pdfObject},set:function(e){this.pdfObject=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reference",{get:function(){return this.pdfReference},enumerable:!0,configurable:!0}),e.prototype.setReference=function(e){this.pdfReference=e},e}(),aT=function(){function e(e){this.emitBOM=!0,this.encodingType="Ansi",this.initBOM(e)}return Object.defineProperty(e.prototype,"includeBom",{get:function(){return this.emitBOM},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.encodingType},set:function(e){this.encodingType=e},enumerable:!0,configurable:!0}),e.prototype.initBOM=function(e){this.emitBOM=void 0===e||null===e||e},e.prototype.getByteCount=function(e){return sT(e,"string"),""===e?this.utf8Len(e.charCodeAt(0)):(null!==this.type&&void 0!==this.type||(this.type="Ansi"),this.getByteCountInternal(e,0,e.length))},e.prototype.utf8Len=function(e){return e<=127?1:e<=2047?2:e<=65535?3:e<=2097151?4:0},e.prototype.isHighSurrogate=function(e){return e>=55296&&e<=56319},e.prototype.toCodepoint=function(e,t){return((e=(1023&e)<<10)|1023&t)+65536},e.prototype.getByteCountInternal=function(e,t,i){var n=0;if("Utf8"===this.encodingType||"Unicode"===this.encodingType){for(var r="Utf8"===this.encodingType,o=0;o<i;o++){var a=e.charCodeAt(r?t:t++);if(this.isHighSurrogate(a))if(r){var s=a,l=e.charCodeAt(++t);n+=this.utf8Len(this.toCodepoint(s,l))}else n+=4,++o;else n+=r?this.utf8Len(a):2;r&&t++}return n}return n=i},e.prototype.getBytes=function(e,t,i){if(sT(e,"string"),sT(t,"charIndex"),sT(i,"charCount"),t<0||i<0)throw new RangeError("Argument Out Of Range Exception: charIndex or charCount is less than zero");if(e.length-t<i)throw new RangeError("Argument Out Of Range Exception: charIndex and charCount do not denote a valid range in string");if(""===e)return new ArrayBuffer(0);null!==this.type&&void 0!==this.type||(this.type="Ansi");var n=this.getByteCountInternal(e,t,i);switch(this.type){case"Utf8":return this.getBytesOfUtf8Encoding(n,e,t,i);case"Unicode":return this.getBytesOfUnicodeEncoding(n,e,t,i);default:return this.getBytesOfAnsiEncoding(n,e,t,i)}},e.prototype.getString=function(e,t,i){if(sT(e,"bytes"),sT(t,"index"),sT(i,"count"),t<0||i<0)throw new RangeError("Argument Out Of Range Exception: index or count is less than zero");if(e.byteLength-t<i)throw new RangeError("Argument Out Of Range Exception: index and count do not denote a valid range in bytes");if(0===e.byteLength||0===i)return"";null!==this.type&&void 0!==this.type||(this.type="Ansi");var n="",r=new Uint8Array(e);switch(this.type){case"Utf8":return this.getStringOfUtf8Encoding(r,t,i);case"Unicode":var o=new Uint16Array(e);return n=this.getStringofUnicodeEncoding(o,t,i);default:for(var a=t,s=0;s<i;s++){var l=r[a];n+=String.fromCharCode(l),a++}return n}},e.prototype.getBytesOfAnsiEncoding=function(e,t,i,n){for(var r=new ArrayBuffer(e),o=new Uint8Array(r),a=0,s=0;s<n;s++){var l=t.charCodeAt(i++);o[a]=l<2048?l:63,a++}return r},e.prototype.getBytesOfUtf8Encoding=function(e,t,i,n){for(var r=new ArrayBuffer(e),o=new Uint8Array(r),a=i,s=0,l=0;l<n;l++){var u=t.charCodeAt(a);u<=127?o[s]=u:u<2048?(o[s]=192|u>>6,o[++s]=128|63&u):u<55296||u>=57344?(o[s]=224|u>>12,o[++s]=128|u>>6&63,o[++s]=128|63&u):(o[s]=239,o[++s]=191,o[++s]=189),++s,++a}return r},e.prototype.getBytesOfUnicodeEncoding=function(e,t,i,n){for(var r=new ArrayBuffer(e),o=new Uint16Array(r),a=0;a<n;a++){var s=t.charCodeAt(a);o[a]=s}return r},e.prototype.getStringOfUtf8Encoding=function(e,t,i){for(var n=0,r=t,o="";n<i;n++){for(var a=e[r++];r>e.length;)return o;a>127&&(a>191&&a<224&&r<i?a=(31&a)<<6|63&e[r]:a>223&&a<240&&r<e.byteLength?a=(15&a)<<12|(63&e[r])<<6|63&e[++r]:a>239&&a<248&&r<e.byteLength&&(a=(7&a)<<18|(63&e[r])<<12|(63&e[++r])<<6|63&e[++r]),++r),o+=String.fromCharCode(a)}return o},e.prototype.getStringofUnicodeEncoding=function(e,t,i){if(i>e.length)throw new RangeError("ArgumentOutOfRange_Count");for(var n=new Uint16Array(i),r=0;r<i&&r<e.length;r++)n[r]=e[t++];return String.fromCharCode.apply(null,n)},e.prototype.destroy=function(){this.emitBOM=void 0,this.encodingType=void 0},e}();function sT(e,t){if(null===e||void 0===e)throw new Error("ArgumentException: "+t+" cannot be null or undefined")}var lT,uT=function(){function e(){}return e.save=function(e,t){if(null===e||void 0===e||""===e)throw new Error("ArgumentException: fileName cannot be undefined, null or empty");var i=e.substring(e.lastIndexOf(".")+1,e.length),n=this.getMimeType(i);if(""!==n&&(t=new Blob([t],{type:n})),this.isMicrosoftBrowser)navigator.msSaveBlob(t,e);else{var r=document.createElementNS("http://www.w3.org/1999/xhtml","a");this.saveInternal(e,i,t,r,"download"in r)}},e.saveInternal=function(e,t,i,n,r){if(r){n.download=e;var o=window.URL.createObjectURL(i);n.href=o;var a=document.createEvent("MouseEvent");a.initEvent("click",!0,!0),n.dispatchEvent(a),setTimeout((function(){window.URL.revokeObjectURL(o),o=void 0}))}else if("docx"!==t&&"xlsx"!==t){var s=window.URL.createObjectURL(i);window.open(s,"_blank")||(window.location.href=s)}else{var l=new FileReader;l.onloadend=function(){window.open(l.result,"_blank")||(window.location.href=l.result)},l.readAsDataURL(i)}},e.getMimeType=function(e){var t="";switch(e){case"html":t="text/html";break;case"pdf":t="application/pdf";break;case"docx":t="application/vnd.openxmlformats-officedocument.wordprocessingml.document";break;case"xlsx":t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break;case"txt":t="text/plain"}return t},e}(),cT=function(){function e(e){this.bufferBlob=new Blob([""]),this.bufferText="",this.init(e),uT.isMicrosoftBrowser=!!navigator.msSaveBlob}return Object.defineProperty(e.prototype,"buffer",{get:function(){return this.flush(),this.bufferBlob},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"encoding",{get:function(){return this.enc},enumerable:!0,configurable:!0}),e.prototype.init=function(e){null===e||void 0===e?(this.enc=new aT(!1),this.enc.type="Utf8"):(this.enc=e,this.setBomByte())},e.prototype.setBomByte=function(){if(this.encoding.includeBom)switch(this.encoding.type){case"Unicode":var e=new ArrayBuffer(2),t=new Uint8Array(e);t[0]=255,t[1]=254,this.bufferBlob=new Blob([e]);break;case"Utf8":var i=new ArrayBuffer(3),n=new Uint8Array(i);n[0]=239,n[1]=187,n[2]=191,this.bufferBlob=new Blob([i]);break;default:this.bufferBlob=new Blob([""])}},e.prototype.save=function(e){""!==this.bufferText&&this.flush(),uT.save(e,this.buffer)},e.prototype.write=function(e){if(void 0===this.encoding)throw new Error("Object Disposed Exception: current writer is disposed");sT(e,"string"),this.bufferText+=e,this.bufferText.length>=10240&&this.flush()},e.prototype.flush=function(){if(void 0!==this.bufferText&&null!==this.bufferText&&0!==this.bufferText.length){var e=this.encoding.getBytes(this.bufferText,0,this.bufferText.length);this.bufferText="",this.bufferBlob=new Blob([this.bufferBlob,e])}},e.prototype.writeLine=function(e){if(void 0===this.encoding)throw new Error("Object Disposed Exception: current writer is disposed");sT(e,"string"),this.bufferText=this.bufferText+e+"\r\n",this.bufferText.length>=10240&&this.flush()},e.prototype.destroy=function(){this.bufferBlob=void 0,this.bufferText=void 0,this.enc instanceof aT&&this.enc.destroy(),this.enc=void 0},e}(),hT=function(){function e(e){this.isStreamCopied=!1,e instanceof cP&&(this.document=e)}return Object.defineProperty(e.prototype,"pdfObjects",{get:function(){return this.objects},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"crossTable",{get:function(){return this.pdfCrossTable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentSavingObj",{get:function(){return this.currentSavingObject},set:function(e){this.currentSavingObject=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"catalog",{get:function(){return this.pdfCatalog},set:function(e){this.pdfCatalog=e},enumerable:!0,configurable:!0}),e.prototype.setMainObjectCollection=function(e){this.objects=e},e.prototype.setCrossTable=function(e){this.pdfCrossTable=e},e.prototype.setCatalog=function(e){this.pdfCatalog=e},e.prototype.save=function(e){var t=this,i=new aT(!0),n=new cT(i);if("undefined"===typeof e){var r=new aT(!0),o=new cT(r);return new Promise((function(e,i){var n={};n.blobData=new Blob([t.document.docSave(o,!0)],{type:"application/pdf"}),e(n)}))}this.document.docSave(n,e,!0)},e.prototype.clone=function(){return this.document},e}(),dT=function(){function e(e){this.stringStartMark="/",this.internalValue="",this.isSaving6=!1,this.position6=-1,this.internalValue=this.normalizeValue(e)}return Object.defineProperty(e.prototype,"status",{get:function(){return this.status6},set:function(e){this.status6=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSaving",{get:function(){return this.isSaving6},set:function(e){this.isSaving6=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"objectCollectionIndex",{get:function(){return this.index6},set:function(e){this.index6=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.position6},set:function(e){this.position6=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clonedObject",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.internalValue},set:function(e){var t=e;null!==e&&e.length>0?(t=e,this.internalValue=this.normalizeValue(t)):this.internalValue=t},enumerable:!0,configurable:!0}),e.prototype.save=function(e){e.write(this.toString())},e.prototype.toString=function(){return this.stringStartMark+this.escapeString(this.value)},e.prototype.clone=function(t){var i=new e;return i.value=this.internalValue,i},e.prototype.escapeString=function(t){for(var i="",n=0,r=t.length;n<r;n++){var o=t[n];e.delimiters.indexOf(o);i+=o}return i},e.prototype.normalizeValue=function(e,t){return e},e.delimiters="()<>[]{}/%}",e.replacements=[" ","\t","\n","\r"],e}(),pT=function(){function e(){this.forTest="test",this.forTest=e.obj}return e.obj="obj",e.endObj="endobj",e.r="R",e.whiteSpace=" ",e.slash="/",e.newLine="\r\n",e.stream="stream",e.endStream="endstream",e.xref="xref",e.f="f",e.n="n",e.trailer="trailer",e.startxref="startxref",e.eof="%%EOF",e.header="%PDF-1.5",e.beginText="BT",e.endText="ET",e.beginPath="m",e.appendLineSegment="l",e.stroke="S",e.fill="f",e.fillEvenOdd="f*",e.fillStroke="B",e.fillStrokeEvenOdd="B*",e.appendbeziercurve="c",e.appendRectangle="re",e.saveState="q",e.restoreState="Q",e.paintXObject="Do",e.modifyCtm="cm",e.modifyTM="Tm",e.setLineWidth="w",e.setLineCapStyle="J",e.setLineJoinStyle="j",e.setDashPattern="d",e.setFlatnessTolerance="i",e.closePath="h",e.closeStrokePath="s",e.closeFillStrokePath="b",e.setCharacterSpace="Tc",e.setWordSpace="Tw",e.setHorizontalScaling="Tz",e.setTextLeading="TL",e.setFont="Tf",e.setRenderingMode="Tr",e.setTextRise="Ts",e.setTextScaling="Tz",e.setCoords="Td",e.goToNextLine="T*",e.setText="Tj",e.setTextWithFormatting="TJ",e.setTextOnNewLine="'",e.selectcolorspaceforstroking="CS",e.selectcolorspacefornonstroking="cs",e.setrbgcolorforstroking="RG",e.setrbgcolorfornonstroking="rg",e.setcmykcolorforstroking="K",e.setcmykcolorfornonstroking="k",e.setgraycolorforstroking="G",e.setgraycolorfornonstroking="g",e.clipPath="W",e.clipPathEvenOdd="W*",e.endPath="n",e.setGraphicsState="gs",e.comment="%",e.evenOdd="*",e.setMiterLimit="M",e.setColorAndPattern="scn",e.setColorAndPatternStroking="SCN",e}(),fT=function(){this.pages="Pages",this.kids="Kids",this.count="Count",this.resources="Resources",this.type="Type",this.size="Size",this.mediaBox="MediaBox",this.parent="Parent",this.root="Root",this.decodeParms="DecodeParms",this.filter="Filter",this.font="Font",this.type1="Type1",this.baseFont="BaseFont",this.encoding="Encoding",this.subtype="Subtype",this.contents="Contents",this.procset="ProcSet",this.colorSpace="ColorSpace",this.extGState="ExtGState",this.pattern="Pattern",this.xObject="XObject",this.length="Length",this.width="Width",this.height="Height",this.bitsPerComponent="BitsPerComponent",this.image="Image",this.dctdecode="DCTDecode",this.columns="Columns",this.blackIs1="BlackIs1",this.k="K",this.s="S",this.predictor="Predictor",this.deviceRgb="DeviceRGB",this.next="Next",this.action="Action",this.link="Link",this.a="A",this.annot="Annot",this.p="P",this.c="C",this.rect="Rect",this.uri="URI",this.annots="Annots",this.ca="ca",this.CA="CA",this.xyz="XYZ",this.fit="Fit",this.dest="Dest",this.BM="BM",this.flatedecode="FlateDecode",this.rotate="Rotate",this.bBox="BBox",this.form="Form",this.w="W",this.cIDFontType2="CIDFontType2",this.cIDToGIDMap="CIDToGIDMap",this.identity="Identity",this.dw="DW",this.fontDescriptor="FontDescriptor",this.cIDSystemInfo="CIDSystemInfo",this.fontName="FontName",this.flags="Flags",this.fontBBox="FontBBox",this.missingWidth="MissingWidth",this.stemV="StemV",this.italicAngle="ItalicAngle",this.capHeight="CapHeight",this.ascent="Ascent",this.descent="Descent",this.leading="Leading",this.avgWidth="AvgWidth",this.fontFile2="FontFile2",this.maxWidth="MaxWidth",this.xHeight="XHeight",this.stemH="StemH",this.registry="Registry",this.ordering="Ordering",this.supplement="Supplement",this.type0="Type0",this.identityH="Identity-H",this.toUnicode="ToUnicode",this.descendantFonts="DescendantFonts",this.background="Background",this.shading="Shading",this.matrix="Matrix",this.antiAlias="AntiAlias",this.function="Function",this.extend="Extend",this.shadingType="ShadingType",this.coords="Coords",this.domain="Domain",this.range="Range",this.functionType="FunctionType",this.bitsPerSample="BitsPerSample",this.patternType="PatternType",this.paintType="PaintType",this.tilingType="TilingType",this.xStep="XStep",this.yStep="YStep"},mT=function(){function e(e){if(this.position7=-1,this.primitiveItems=new nT,this.prefix="<<",this.suffix=">>",this.resources=[],this.object=null,this.archive=!0,this.isFont=!1,"undefined"===typeof e)this.primitiveItems=new nT,this.encrypt=!0,this.dictionaryProperties=new fT;else{this.primitiveItems=new nT;for(var t=e.items.keys(),i=e.items.values(),n=0;n<e.items.size();n++)this.primitiveItems.setValue(t[n],i[n]);this.status=e.status,this.freezeChanges(this),this.encrypt=!0,this.dictionaryProperties=new fT}}return Object.defineProperty(e.prototype,"items",{get:function(){return this.primitiveItems},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.status7},set:function(e){this.status7=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSaving",{get:function(){return this.isSaving7},set:function(e){this.isSaving7=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"objectCollectionIndex",{get:function(){return this.index7},set:function(e){this.index7=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clonedObject",{get:function(){return this.object},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.position7},set:function(e){this.position7=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Count",{get:function(){return this.primitiveItems.size()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dictionary",{get:function(){return this},enumerable:!0,configurable:!0}),e.prototype.getArchive=function(){return this.archive},e.prototype.setArchive=function(e){this.archive=e},e.prototype.setEncrypt=function(e){this.encrypt=e,this.modify()},e.prototype.getEncrypt=function(){return this.encrypt},e.prototype.freezeChanges=function(e){this.bChanged=!1},e.prototype.clone=function(t){return new e},e.prototype.modify=function(){this.bChanged=!0},e.prototype.remove=function(e){"string"!==typeof e?(this.primitiveItems.remove(e.value),this.modify()):this.remove(new dT(e))},e.prototype.containsKey=function(e){return this.primitiveItems.containsKey(e.toString())},e.prototype.onBeginSave=function(){this.beginSave.sender.beginSave()},e.prototype.onFontDictionaryBeginSave=function(){this.fontDictionaryBeginSave.sender.fontDictionaryBeginSave()},e.prototype.onDescendantFontBeginSave=function(){this.descendantFontBeginSave.sender.descendantFontBeginSave()},e.prototype.onTemplateBeginSave=function(){this.pageBeginDrawTemplate.sender.pageBeginSave()},e.prototype.onBeginAnnotationSave=function(){this.annotationBeginSave.sender.beginSave()},e.prototype.onSectionBeginSave=function(e){var t=this.sectionBeginSave;t.sender.beginSave(t.state,e)},e.prototype.save=function(e,t){"undefined"===typeof t?this.save(e,!0):(e.write(this.prefix),"undefined"!==typeof this.beginSave&&this.onBeginSave(),"undefined"!==typeof this.descendantFontBeginSave&&this.onDescendantFontBeginSave(),"undefined"!==typeof this.fontDictionaryBeginSave&&this.onFontDictionaryBeginSave(),"undefined"!==typeof this.annotationBeginSave&&this.onBeginAnnotationSave(),"undefined"!==typeof this.sectionBeginSave&&this.onSectionBeginSave(e),"undefined"!==typeof this.pageBeginDrawTemplate&&this.onTemplateBeginSave(),this.Count>0&&this.saveItems(e),e.write(this.suffix),e.write(pT.newLine))},e.prototype.saveItems=function(e){e.write(pT.newLine);for(var t=this.primitiveItems.keys(),i=this.primitiveItems.values(),n=0;n<t.length;n++){var r=t[n];new dT(r).save(e),e.write(pT.whiteSpace),i[n].save(e),e.write(pT.newLine)}},e}(),gT=function(e){this.sender=e},yT=function(e){this.sender=e},vT=function(e){this.sender=e},bT=function(e,t){this.sender=e,this.state=t},xT=function(e){this.sender=e},_T=function(){function e(e){this.position5=-1,this.value=e}return Object.defineProperty(e.prototype,"intValue",{get:function(){return this.value},set:function(e){this.value=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInteger",{get:function(){return this.integer},set:function(e){this.integer=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.status5},set:function(e){this.status5=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSaving",{get:function(){return this.isSaving5},set:function(e){this.isSaving5=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"objectCollectionIndex",{get:function(){return this.index5},set:function(e){this.index5=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.position5},set:function(e){this.position5=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clonedObject",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.save=function(e){e.write(this.intValue.toString())},e.prototype.clone=function(t){return new e(this.value)},e.floatToString=function(e){var t=e.toFixed(2);return"0.00"===t&&(t=".00"),t},e.min=function(e,t,i){var n=Math.min(e,t);return Math.min(i,n)},e}(),wT=function(){function e(t){if(this.startMark="[",this.endMark="]",this.position9=-1,this.clonedObject9=null,this.isFont=!1,"undefined"===typeof t)this.internalElements=[];else if("undefined"===typeof t||t instanceof e){var i=t;this.internalElements=[];for(r=0;r<i.elements.length;r++)this.internalElements.push(i.elements[r])}else for(var n=t,r=0;r<n.length;r++){var o=new _T(n[r]);this.add(o)}}return e.prototype.items=function(e){return this.internalElements[e]},Object.defineProperty(e.prototype,"count",{get:function(){return this.internalElements.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.status9},set:function(e){this.status9=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSaving",{get:function(){return this.isSaving9},set:function(e){this.isSaving9=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clonedObject",{get:function(){return this.clonedObject9},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.position9},set:function(e){this.position9=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"objectCollectionIndex",{get:function(){return this.index9},set:function(e){this.index9=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CrossTable",{get:function(){return this.pdfCrossTable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"elements",{get:function(){return this.internalElements},enumerable:!0,configurable:!0}),e.prototype.add=function(e){"undefined"===typeof this.internalElements&&(this.internalElements=[]),this.internalElements.push(e),this.markedChange()},e.prototype.markedChange=function(){this.bChanged=!0},e.prototype.contains=function(e){for(var t=0;t<this.internalElements.length;t++){var i=this.internalElements[t],n=e;if(null!=i&&"undefined"!==typeof i&&null!=n&&"undefined"!==typeof n&&i.value===n.value)return!0}return!1},e.prototype.getItems=function(e){return this.internalElements[e]},e.prototype.save=function(e){e.write(this.startMark);for(var t=0,i=this.count;t<i;t++)this.getItems(t).save(e),t+1!==i&&e.write(pT.whiteSpace);e.write(this.endMark)},e.prototype.clone=function(t){this.clonedObject9=null;for(var i=new e,n=0;n<this.internalElements.length;n++){var r=this.internalElements[n];i.add(r.clone(t))}return i.pdfCrossTable=t,this.clonedObject9=i,i},e.fromRectangle=function(t){return new e([t.x,t.y,t.width,t.height])},e.prototype.insert=function(e,t){if(e<this.internalElements.length&&e>0){for(var i=[],n=0;n<e;n++)i.push(this.internalElements[n]);i.push(t);for(n=e;n<this.internalElements.length;n++)i.push(this.internalElements[n]);this.internalElements=i}else this.internalElements.push(t);this.markChanged()},e.prototype.indexOf=function(e){return this.internalElements.indexOf(e)},e.prototype.remove=function(e){var t=this.internalElements.indexOf(e);this.internalElements[t]=null,this.markChanged()},e.prototype.removeAt=function(e){if(this.internalElements.length>e){for(var t=[],i=0;i<e;i++)t.push(this.internalElements[i]);for(i=e+1;i<this.internalElements.length;i++)t.push(this.internalElements[i]);this.internalElements=t}this.markChanged()},e.prototype.clear=function(){this.internalElements=[],this.markChanged()},e.prototype.markChanged=function(){this.bChanged=!0},e}(),ST=new Int16Array(286),kT=new Uint8Array(286),CT=new Int16Array(30),TT=new Uint8Array(30),ET=function(){function e(t){this.pendingBuffer=new Uint8Array(65536),this.pendingBufLength=0,this.pendingBufCache=0,this.pendingBufBitsInCache=0,this.bufferPosition=0,this.extraBits=0,this.currentHash=0,this.matchStart=0,this.matchLength=0,this.matchPrevAvail=!1,this.blockStart=0,this.stringStart=0,this.lookAhead=0,this.totalBytesIn=0,this.inputOffset=0,this.inputEnd=0,this.windowSize=32768,this.windowMask=this.windowSize-1,this.hashSize=32768,this.hashMask=this.hashSize-1,this.hashShift=Math.floor(17/3),this.maxDist=this.windowSize-262,this.checkSum=1,this.noWrap=!1,e.isHuffmanTreeInitiated||(e.initHuffmanTree(),e.isHuffmanTreeInitiated=!0),this.treeLiteral=new AT(this,286,257,15),this.treeDistances=new AT(this,30,1,15),this.treeCodeLengths=new AT(this,19,4,7),this.arrDistances=new Uint16Array(16384),this.arrLiterals=new Uint8Array(16384),this.stream=[],this.dataWindow=new Uint8Array(2*this.windowSize),this.hashHead=new Int16Array(this.hashSize),this.hashPrevious=new Int16Array(this.windowSize),this.blockStart=this.stringStart=1,this.noWrap=t,t||this.writeZLibHeader()}return Object.defineProperty(e.prototype,"compressedData",{get:function(){return this.stream},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getCompressedString",{get:function(){var e="";if(void 0!==this.stream)for(var t=0;t<this.stream.length;t++)e+=String.fromCharCode.apply(null,this.stream[t]);return e},enumerable:!0,configurable:!0}),e.prototype.write=function(e,t,i){if(void 0===e||null===e)throw new Error("ArgumentException: data cannot null or undefined");var n=t+i;if(0>t||t>n||n>e.length)throw new Error("ArgumentOutOfRangeException: Offset or length is incorrect");if("string"===typeof e){var r=new aT(!1);r.type="Utf8",n=t+(e=new Uint8Array(r.getBytes(e,0,e.length))).length}for(this.inputBuffer=e,this.inputOffset=t,this.inputEnd=n,this.noWrap||(this.checkSum=PT.checksumUpdate(this.checkSum,this.inputBuffer,this.inputOffset,n));this.inputEnd!==this.inputOffset||0!==this.pendingBufLength;)this.pendingBufferFlush(),this.compressData(!1)},e.prototype.writeZLibHeader=function(){var e=30720;e|=64,e+=31-e%31,this.pendingBufferWriteShortBytes(e)},e.prototype.pendingBufferWriteShortBytes=function(e){this.pendingBuffer[this.pendingBufLength++]=e>>8,this.pendingBuffer[this.pendingBufLength++]=e},e.prototype.compressData=function(e){var t;do{this.fillWindow();var i=e&&this.inputEnd===this.inputOffset;t=this.compressSlow(i,e)}while(0===this.pendingBufLength&&t);return t},e.prototype.compressSlow=function(e,t){if(this.lookAhead<262&&!e)return!1;for(;this.lookAhead>=262||e;){if(0===this.lookAhead)return this.lookAheadCompleted(t);this.stringStart>=2*this.windowSize-262&&this.slideWindow();var i=this.matchStart,n=this.matchLength;if(this.lookAhead>=3&&this.discardMatch(),n>=3&&this.matchLength<=n?n=this.matchPreviousBest(i,n):this.matchPreviousAvailable(),this.bufferPosition>=16384)return this.huffmanIsFull(t)}return!0},e.prototype.discardMatch=function(){var e=this.insertString();0!==e&&this.stringStart-e<=this.maxDist&&this.findLongestMatch(e)&&this.matchLength<=5&&3===this.matchLength&&this.stringStart-this.matchStart>4096&&(this.matchLength=2)},e.prototype.matchPreviousAvailable=function(){this.matchPrevAvail&&this.huffmanTallyLit(255&this.dataWindow[this.stringStart-1]),this.matchPrevAvail=!0,this.stringStart++,this.lookAhead--},e.prototype.matchPreviousBest=function(e,t){this.huffmanTallyDist(this.stringStart-1-e,t),t-=2;do{this.stringStart++,this.lookAhead--,this.lookAhead>=3&&this.insertString()}while(--t>0);return this.stringStart++,this.lookAhead--,this.matchPrevAvail=!1,this.matchLength=2,t},e.prototype.lookAheadCompleted=function(e){return this.matchPrevAvail&&this.huffmanTallyLit(255&this.dataWindow[this.stringStart-1]),this.matchPrevAvail=!1,this.huffmanFlushBlock(this.dataWindow,this.blockStart,this.stringStart-this.blockStart,e),this.blockStart=this.stringStart,!1},e.prototype.huffmanIsFull=function(e){var t=this.stringStart-this.blockStart;this.matchPrevAvail&&t--;var i=e&&0===this.lookAhead&&!this.matchPrevAvail;return this.huffmanFlushBlock(this.dataWindow,this.blockStart,t,i),this.blockStart+=t,!i},e.prototype.fillWindow=function(){for(this.stringStart>=this.windowSize+this.maxDist&&this.slideWindow();this.lookAhead<262&&this.inputOffset<this.inputEnd;){var e=2*this.windowSize-this.lookAhead-this.stringStart;e>this.inputEnd-this.inputOffset&&(e=this.inputEnd-this.inputOffset),this.dataWindow.set(this.inputBuffer.subarray(this.inputOffset,this.inputOffset+e),this.stringStart+this.lookAhead),this.inputOffset+=e,this.totalBytesIn+=e,this.lookAhead+=e}this.lookAhead>=3&&this.updateHash()},e.prototype.slideWindow=function(){this.dataWindow.set(this.dataWindow.subarray(this.windowSize,this.windowSize+this.windowSize),0),this.matchStart-=this.windowSize,this.stringStart-=this.windowSize,this.blockStart-=this.windowSize;for(var e=0;e<this.hashSize;++e){var t=65535&this.hashHead[e];this.hashHead[e]=t>=this.windowSize?t-this.windowSize:0}for(e=0;e<this.windowSize;e++){t=65535&this.hashPrevious[e];this.hashPrevious[e]=t>=this.windowSize?t-this.windowSize:0}},e.prototype.insertString=function(){var e,t=(this.currentHash<<this.hashShift^this.dataWindow[this.stringStart+2])&this.hashMask;return this.hashPrevious[this.stringStart&this.windowMask]=e=this.hashHead[t],this.hashHead[t]=this.stringStart,this.currentHash=t,65535&e},e.prototype.findLongestMatch=function(e){var t,i=4096,n=258,r=this.stringStart,o=this.stringStart+this.matchLength,a=Math.max(this.matchLength,2),s=Math.max(this.stringStart-this.maxDist,0),l=this.stringStart+258-1,u=this.dataWindow[o-1],c=this.dataWindow[o],h=this.dataWindow;a>=32&&(i>>=2),n>this.lookAhead&&(n=this.lookAhead);do{if(h[e+a]===c&&h[e+a-1]===u&&h[e]===h[r]&&h[e+1]===h[r+1]){for(t=e+2,r+=2;h[++r]===h[++t]&&h[++r]===h[++t]&&h[++r]===h[++t]&&h[++r]===h[++t]&&h[++r]===h[++t]&&h[++r]===h[++t]&&h[++r]===h[++t]&&h[++r]===h[++t]&&r<l;);if(r>o){if(this.matchStart=e,o=r,(a=r-this.stringStart)>=n)break;u=h[o-1],c=h[o]}r=this.stringStart}}while((e=65535&this.hashPrevious[e&this.windowMask])>s&&0!==--i);return this.matchLength=Math.min(a,this.lookAhead),this.matchLength>=3},e.prototype.updateHash=function(){this.currentHash=this.dataWindow[this.stringStart]<<this.hashShift^this.dataWindow[this.stringStart+1]},e.prototype.huffmanTallyLit=function(e){return this.arrDistances[this.bufferPosition]=0,this.arrLiterals[this.bufferPosition++]=e,this.treeLiteral.codeFrequencies[e]++,this.bufferPosition>=16384},e.prototype.huffmanTallyDist=function(e,t){this.arrDistances[this.bufferPosition]=e,this.arrLiterals[this.bufferPosition++]=t-3;var i=this.huffmanLengthCode(t-3);this.treeLiteral.codeFrequencies[i]++,i>=265&&i<285&&(this.extraBits+=Math.floor((i-261)/4));var n=this.huffmanDistanceCode(e-1);return this.treeDistances.codeFrequencies[n]++,n>=4&&(this.extraBits+=Math.floor(n/2-1)),this.bufferPosition>=16384},e.prototype.huffmanFlushBlock=function(e,t,i,n){this.treeLiteral.codeFrequencies[256]++,this.treeLiteral.buildTree(),this.treeDistances.buildTree(),this.treeLiteral.calculateBLFreq(this.treeCodeLengths),this.treeDistances.calculateBLFreq(this.treeCodeLengths),this.treeCodeLengths.buildTree();for(var r=4,o=18;o>r;o--)this.treeCodeLengths.codeLengths[AT.huffCodeLengthOrders[o]]>0&&(r=o+1);var a=14+3*r+this.treeCodeLengths.getEncodedLength()+this.treeLiteral.getEncodedLength()+this.treeDistances.getEncodedLength()+this.extraBits,s=this.extraBits;for(o=0;o<286;o++)s+=this.treeLiteral.codeFrequencies[o]*kT[o];for(o=0;o<30;o++)s+=this.treeDistances.codeFrequencies[o]*TT[o];a>=s&&(a=s),t>=0&&i+4<a>>3?this.huffmanFlushStoredBlock(e,t,i,n):a==s?(this.pendingBufferWriteBits(2+(n?1:0),3),this.treeLiteral.setStaticCodes(ST,kT),this.treeDistances.setStaticCodes(CT,TT),this.huffmanCompressBlock(),this.huffmanReset()):(this.pendingBufferWriteBits(4+(n?1:0),3),this.huffmanSendAllTrees(r),this.huffmanCompressBlock(),this.huffmanReset())},e.prototype.huffmanFlushStoredBlock=function(e,t,i,n){this.pendingBufferWriteBits(0+(n?1:0),3),this.pendingBufferAlignToByte(),this.pendingBufferWriteShort(i),this.pendingBufferWriteShort(~i),this.pendingBufferWriteByteBlock(e,t,i),this.huffmanReset()},e.prototype.huffmanLengthCode=function(e){if(255===e)return 285;for(var t=257;e>=8;)t+=4,e>>=1;return t+e},e.prototype.huffmanDistanceCode=function(e){for(var t=0;e>=4;)t+=2,e>>=1;return t+e},e.prototype.huffmanSendAllTrees=function(e){this.treeCodeLengths.buildCodes(),this.treeLiteral.buildCodes(),this.treeDistances.buildCodes(),this.pendingBufferWriteBits(this.treeLiteral.treeLength-257,5),this.pendingBufferWriteBits(this.treeDistances.treeLength-1,5),this.pendingBufferWriteBits(e-4,4);for(var t=0;t<e;t++)this.pendingBufferWriteBits(this.treeCodeLengths.codeLengths[AT.huffCodeLengthOrders[t]],3);this.treeLiteral.writeTree(this.treeCodeLengths),this.treeDistances.writeTree(this.treeCodeLengths)},e.prototype.huffmanReset=function(){this.bufferPosition=0,this.extraBits=0,this.treeLiteral.reset(),this.treeDistances.reset(),this.treeCodeLengths.reset()},e.prototype.huffmanCompressBlock=function(){for(var e=0;e<this.bufferPosition;e++){var t=255&this.arrLiterals[e],i=this.arrDistances[e];if(0!==i--){var n=this.huffmanLengthCode(t);this.treeLiteral.writeCodeToStream(n);var r=Math.floor((n-261)/4);r>0&&r<=5&&this.pendingBufferWriteBits(t&(1<<r)-1,r);var o=this.huffmanDistanceCode(i);this.treeDistances.writeCodeToStream(o),(r=Math.floor(o/2-1))>0&&this.pendingBufferWriteBits(i&(1<<r)-1,r)}else this.treeLiteral.writeCodeToStream(t)}this.treeLiteral.writeCodeToStream(256)},e.prototype.pendingBufferWriteBits=function(e,t){var i=new Uint32Array(1);i[0]=this.pendingBufCache|e<<this.pendingBufBitsInCache,this.pendingBufCache=i[0],this.pendingBufBitsInCache+=t,this.pendingBufferFlushBits()},e.prototype.pendingBufferFlush=function(e){if(this.pendingBufferFlushBits(),this.pendingBufLength>0){var t=new Uint8Array(this.pendingBufLength);t.set(this.pendingBuffer.subarray(0,this.pendingBufLength),0),this.stream.push(t)}this.pendingBufLength=0},e.prototype.pendingBufferFlushBits=function(){for(var e=0;this.pendingBufBitsInCache>=8&&this.pendingBufLength<65536;)this.pendingBuffer[this.pendingBufLength++]=this.pendingBufCache,this.pendingBufCache>>=8,this.pendingBufBitsInCache-=8,e++;return e},e.prototype.pendingBufferWriteByteBlock=function(e,t,i){var n=e.subarray(t,t+i);this.pendingBuffer.set(n,this.pendingBufLength),this.pendingBufLength+=i},e.prototype.pendingBufferWriteShort=function(e){this.pendingBuffer[this.pendingBufLength++]=e,this.pendingBuffer[this.pendingBufLength++]=e>>8},e.prototype.pendingBufferAlignToByte=function(){this.pendingBufBitsInCache>0&&(this.pendingBuffer[this.pendingBufLength++]=this.pendingBufCache),this.pendingBufCache=0,this.pendingBufBitsInCache=0},e.initHuffmanTree=function(){for(var e=0;e<144;)ST[e]=AT.bitReverse(48+e<<8),kT[e++]=8;for(;e<256;)ST[e]=AT.bitReverse(256+e<<7),kT[e++]=9;for(;e<280;)ST[e]=AT.bitReverse(-256+e<<9),kT[e++]=7;for(;e<286;)ST[e]=AT.bitReverse(-88+e<<8),kT[e++]=8;for(e=0;e<30;e++)CT[e]=AT.bitReverse(e<<11),TT[e]=5},e.prototype.close=function(){do{this.pendingBufferFlush(!0),this.compressData(!0)||(this.pendingBufferFlush(!0),this.pendingBufferAlignToByte(),this.noWrap||(this.pendingBufferWriteShortBytes(this.checkSum>>16),this.pendingBufferWriteShortBytes(65535&this.checkSum)),this.pendingBufferFlush(!0))}while(this.inputEnd!==this.inputOffset||0!==this.pendingBufLength)},e.prototype.destroy=function(){this.stream=[],this.stream=void 0,this.pendingBuffer=void 0,this.treeLiteral=void 0,this.treeDistances=void 0,this.treeCodeLengths=void 0,this.arrLiterals=void 0,this.arrDistances=void 0,this.hashHead=void 0,this.hashPrevious=void 0,this.dataWindow=void 0,this.inputBuffer=void 0,this.pendingBufLength=void 0,this.pendingBufCache=void 0,this.pendingBufBitsInCache=void 0,this.bufferPosition=void 0,this.extraBits=void 0,this.currentHash=void 0,this.matchStart=void 0,this.matchLength=void 0,this.matchPrevAvail=void 0,this.blockStart=void 0,this.stringStart=void 0,this.lookAhead=void 0,this.totalBytesIn=void 0,this.inputOffset=void 0,this.inputEnd=void 0,this.windowSize=void 0,this.windowMask=void 0,this.hashSize=void 0,this.hashMask=void 0,this.hashShift=void 0,this.maxDist=void 0,this.checkSum=void 0,this.noWrap=void 0},e.isHuffmanTreeInitiated=!1,e}(),AT=function(){function e(e,t,i,n){this.writer=e,this.codeMinCount=i,this.maxLength=n,this.codeFrequency=new Uint16Array(t),this.lengthCount=new Int32Array(n)}return Object.defineProperty(e.prototype,"treeLength",{get:function(){return this.codeCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"codeLengths",{get:function(){return this.codeLength},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"codeFrequencies",{get:function(){return this.codeFrequency},enumerable:!0,configurable:!0}),e.prototype.setStaticCodes=function(e,t){var i=new Int16Array(e.length);i.set(e,0),this.codes=i;var n=new Uint8Array(t.length);n.set(t,0),this.codeLength=n},e.prototype.reset=function(){for(var e=0;e<this.codeFrequency.length;e++)this.codeFrequency[e]=0;this.codes=void 0,this.codeLength=void 0},e.prototype.writeCodeToStream=function(e){this.writer.pendingBufferWriteBits(65535&this.codes[e],this.codeLength[e])},e.prototype.buildCodes=function(){var t=new Int32Array(this.maxLength);this.codes=new Int16Array(this.codeCount);for(var i=0,n=0;n<this.maxLength;n++)t[n]=i,i+=this.lengthCount[n]<<15-n;for(var r=0;r<this.codeCount;r++){var o=this.codeLength[r];o>0&&(this.codes[r]=e.bitReverse(t[o-1]),t[o-1]+=1<<16-o)}},e.bitReverse=function(t){return e.reverseBits[15&t]<<12|e.reverseBits[t>>4&15]<<8|e.reverseBits[t>>8&15]<<4|e.reverseBits[t>>12]},e.prototype.getEncodedLength=function(){for(var e=0,t=0;t<this.codeFrequency.length;t++)e+=this.codeFrequency[t]*this.codeLength[t];return e},e.prototype.calculateBLFreq=function(e){for(var t,i,n,r=-1,o=0;o<this.codeCount;){n=1;var a=this.codeLength[o];for(0===a?(t=138,i=3):(t=6,i=3,r!==a&&(e.codeFrequency[a]++,n=0)),r=a,o++;o<this.codeCount&&r===this.codeLength[o]&&(o++,!(++n>=t)););n<i?e.codeFrequency[r]+=n:0!==r?e.codeFrequency[16]++:n<=10?e.codeFrequency[17]++:e.codeFrequency[18]++}},e.prototype.writeTree=function(e){for(var t,i,n,r=-1,o=0;o<this.codeCount;){n=1;var a=this.codeLength[o];for(0===a?(t=138,i=3):(t=6,i=3,r!==a&&(e.writeCodeToStream(a),n=0)),r=a,o++;o<this.codeCount&&r===this.codeLength[o]&&(o++,!(++n>=t)););if(n<i)for(;n-- >0;)e.writeCodeToStream(r);else 0!==r?(e.writeCodeToStream(16),this.writer.pendingBufferWriteBits(n-3,2)):n<=10?(e.writeCodeToStream(17),this.writer.pendingBufferWriteBits(n-3,3)):(e.writeCodeToStream(18),this.writer.pendingBufferWriteBits(n-11,7))}},e.prototype.buildTree=function(){for(var e=this.codeFrequency.length,t=new Int32Array(e),i=0,n=0,r=0;r<e;r++){var o=this.codeFrequency[r];if(0!==o){for(var a=i++,s=0;a>0&&this.codeFrequency[t[s=Math.floor((a-1)/2)]]>o;)t[a]=t[s],a=s;t[a]=r,n=r}}for(;i<2;)t[i++]=n<2?++n:0;this.codeCount=Math.max(n+1,this.codeMinCount);for(var l=i,u=new Int32Array(4*i-2),c=new Int32Array(2*i-1),h=0;h<i;h++){var d=t[h],p=2*h;u[p]=d,u[p+1]=-1,c[h]=this.codeFrequency[d]<<8,t[h]=h}this.constructHuffmanTree(t,i,c,l,u),this.buildLength(u)},e.prototype.constructHuffmanTree=function(e,t,i,n,r){do{for(var o=e[0],a=e[--t],s=i[a],l=0,u=1;u<t;)u+1<t&&i[e[u]]>i[e[u+1]]&&u++,e[l]=e[u],u=2*(l=u)+1;for(;(u=l)>0&&i[e[l=Math.floor((u-1)/2)]]>s;)e[u]=e[l];e[u]=a;var c=e[0];r[2*(a=n++)]=o,r[2*a+1]=c;var h=Math.min(255&i[o],255&i[c]);for(i[a]=s=i[o]+i[c]-h+1,l=0,u=1;u<t;)u+1<t&&i[e[u]]>i[e[u+1]]&&u++,e[l]=e[u],u=2*(l=u)+1;for(;(u=l)>0&&i[e[l=Math.floor((u-1)/2)]]>s;)e[u]=e[l];e[u]=a}while(t>1)},e.prototype.buildLength=function(e){this.codeLength=new Uint8Array(this.codeFrequency.length);for(var t=Math.floor(e.length/2),i=Math.floor((t+1)/2),n=0,r=0;r<this.maxLength;r++)this.lengthCount[r]=0;if(0!==(n=this.calculateOptimalCodeLength(e,n,t))){var o=this.maxLength-1;do{for(;0===this.lengthCount[--o];);do{this.lengthCount[o]--,this.lengthCount[++o]++,n-=1<<this.maxLength-1-o}while(n>0&&o<this.maxLength-1)}while(n>0);this.recreateTree(e,n,i)}},e.prototype.recreateTree=function(e,t,i){this.lengthCount[this.maxLength-1]+=t,this.lengthCount[this.maxLength-2]-=t;for(var n=2*i,r=this.maxLength;0!==r;r--)for(var o=this.lengthCount[r-1];o>0;){var a=2*e[n++];-1===e[a+1]&&(this.codeLength[e[a]]=r,o--)}},e.prototype.calculateOptimalCodeLength=function(e,t,i){var n=new Int32Array(i);n[i-1]=0;for(var r=i-1;r>=0;r--){var o=2*r+1;if(-1!==e[o]){(a=n[r]+1)>this.maxLength&&(a=this.maxLength,t++),n[e[o-1]]=n[e[o]]=a}else{var a=n[r];this.lengthCount[a-1]++,this.codeLength[e[o-1]]=n[r]}}return t},e.reverseBits=[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15],e.huffCodeLengthOrders=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],e}(),PT=function(){function e(){}return e.checksumUpdate=function(t,i,n,r){var o=new Uint32Array(1);o[0]=t;for(var a=o[0],s=o[0]=65535&a,l=o[0]=a>>e.checkSumBitOffset;r>0;){var u=Math.min(r,e.checksumIterationCount);for(r-=u;--u>=0;)l+=s+=o[0]=255&i[n++];s%=e.checksumBase,l%=e.checksumBase}return a=l<<e.checkSumBitOffset|s},e.checkSumBitOffset=16,e.checksumBase=65521,e.checksumIterationCount=3800,e}(),MT=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),LT=function(e){function t(t,i){var n=e.call(this,t)||this;return n.dicPrefix="stream",n.dicSuffix="endstream",n.clonedObject2=null,n.bCompress=!0,n.isImageStream=!1,n.isFontStream=!1,"undefined"!==typeof t||"undefined"!==typeof i?(n.dataStream2=[],n.dataStream2=i,n.bCompress2=!1):(n.dataStream2=[],n.bCompress2=!0),n}return MT(t,e),Object.defineProperty(t.prototype,"internalStream",{get:function(){return this.dataStream2},set:function(e){this.dataStream2=[],this.dataStream2=e,this.modify()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isImage",{get:function(){return this.isImageStream},set:function(e){this.isImageStream=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFont",{get:function(){return this.isFontStream},set:function(e){this.isFontStream=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"compress",{get:function(){return this.bCompress},set:function(e){this.bCompress=e,this.modify()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.dataStream2},set:function(e){this.dataStream2=[],this.dataStream2=e,this.modify()},enumerable:!0,configurable:!0}),t.prototype.clearStream=function(){this.internalStream=[],this.items.containsKey(this.dictionaryProperties.filter)&&this.remove(this.dictionaryProperties.filter),this.bCompress=!0,this.modify()},t.prototype.write=function(e){if(null==e)throw new Error("ArgumentNullException:text");if(e.length<=0)throw new Error("ArgumentException: Can not write an empty string, text");this.dataStream2.push(e),this.modify()},t.prototype.writeBytes=function(e){if(null===e)throw new Error("ArgumentNullException:data");if(e.length<=0)throw new Error("ArgumentException: Can not write an empty bytes, data");for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);this.dataStream2.push(t),this.modify()},t.prototype.onCmapBeginSave=function(){this.cmapBeginSave.sender.cmapBeginSave()},t.prototype.onFontProgramBeginSave=function(){this.fontProgramBeginSave.sender.fontProgramBeginSave()},t.prototype.compressContent=function(e,t){if(this.bCompress){for(var i=[],n=0;n<e.length;n++)i.push(e.charCodeAt(n));var r=new Uint8Array(i),o=new ET;o.write(r,0,r.length),o.close(),e=o.getCompressedString,this.addFilter(this.dictionaryProperties.flatedecode)}return e},t.prototype.addFilter=function(e){var t=this.items.getValue(this.dictionaryProperties.filter);t instanceof BT&&(t=t.object);var i=t,n=t;null!=n&&((i=new wT).insert(0,n),this.items.setValue(this.dictionaryProperties.filter,i)),n=new dT(e),null==i?this.items.setValue(this.dictionaryProperties.filter,n):i.insert(0,n)},t.prototype.save=function(t){"undefined"!==typeof this.cmapBeginSave&&this.onCmapBeginSave(),"undefined"!==typeof this.fontProgramBeginSave&&this.onFontProgramBeginSave();for(var i="",n=0;n<this.data.length;n++)i+=this.data[n];i.length>1&&!this.isImage&&!this.isFont&&(i="q\r\n"+i+"Q\r\n");var r=(i=this.compressContent(i,t)).length;this.items.setValue(this.dictionaryProperties.length,new _T(r)),e.prototype.save.call(this,t,!1),t.write(this.dicPrefix),t.write(pT.newLine),i.length>0&&t.write(i),t.write(pT.newLine),t.write(this.dicSuffix),t.write(pT.newLine)},t.bytesToString=function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t},t}(mT),OT=function(e){this.sender=e},RT=function(e){this.sender=e};!function(e){var t;!function(e){e[e.None=0]="None",e[e.Ascii=1]="Ascii",e[e.Unicode=2]="Unicode"}(e.ForceEncoding||(e.ForceEncoding={})),function(e){e[e.StringValue=0]="StringValue",e[e.ByteBuffer=1]="ByteBuffer"}(t||(t={}))}(lT||(lT={}));var IT,DT=function(){function e(e){if(this.bHex=!1,this.position1=-1,this.clonedObject1=null,this.bDecrypted=!1,this.isParentDecrypted=!1,this.isPacked=!1,this.isFormField=!1,this.isColorSpace=!1,this.isHexString=!0,"undefined"===typeof e)this.bHex=!1;else if(!(e.length>0&&"0xfeff"===e[0])){this.stringValue=e,this.data=[];for(var t=0;t<e.length;++t)this.data.push(e.charCodeAt(t))}}return Object.defineProperty(e.prototype,"hex",{get:function(){return this.bHex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.stringValue},set:function(e){this.stringValue=e,this.data=null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.status1},set:function(e){this.status1=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSaving",{get:function(){return this.isSaving1},set:function(e){this.isSaving1=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"objectCollectionIndex",{get:function(){return this.index1},set:function(e){this.index1=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clonedObject",{get:function(){return this.clonedObject1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.position1},set:function(e){this.position1=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CrossTable",{get:function(){return this.crossTable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"converted",{get:function(){return this.bConverted},set:function(e){this.bConverted=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"encode",{get:function(){return this.bForceEncoding},set:function(e){this.bForceEncoding=e},enumerable:!0,configurable:!0}),e.bytesToHex=function(e){if(null==e)return"";return""},e.prototype.save=function(t){if(null===t)throw new Error("ArgumentNullException : writer");void 0!==this.encode&&this.encode===lT.ForceEncoding.Ascii?t.write(this.pdfEncode()):t.write(e.stringMark[0]+this.value+e.stringMark[1])},e.prototype.pdfEncode=function(){var t="";if(void 0!==this.encode&&this.encode===lT.ForceEncoding.Ascii){for(var i=this.escapeSymbols(this.value),n=0;n<i.length;n++)t+=String.fromCharCode(i[n]);t=e.stringMark[0]+t+e.stringMark[1]}else t=this.value;return t},e.prototype.escapeSymbols=function(e){for(var t=[],i=0;i<e.length;i++){var n=e.charCodeAt(i);switch(n){case 40:case 41:case 92:t.push(92),t.push(n);break;case 13:t.push(92),t.push(114);break;default:t.push(n)}}return t},e.prototype.clone=function(t){if(null!==this.clonedObject1&&this.clonedObject1.CrossTable===t)return this.clonedObject1;this.clonedObject1=null;var i=new e(this.stringValue);return i.bHex=this.bHex,i.crossTable=t,i.isColorSpace=this.isColorSpace,this.clonedObject1=i,i},e.toUnicodeArray=function(e,t){if(null==e)throw new Error("Argument Null Exception : value");for(var i=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);i.push(r/256>>>0),i.push(255&r)}return i},e.byteToString=function(e){if(null==e)throw new Error("Argument Null Exception : stream");for(var t="",i=0;i<e.length;++i)t+=String.fromCharCode(e[i]);return t},e.stringMark="()",e.hexStringMark="<>",e.hexFormatPattern="{0:X2}",e}(),zT=function(){function e(e,t){this.index3=-1,this.position3=-1,this.objNumber=0,this.genNumber=0,"number"===typeof e&&"number"===typeof t?(this.objNumber=e,this.genNumber=t):(this.objNumber=Number(e),this.genNumber=Number(t))}return Object.defineProperty(e.prototype,"status",{get:function(){return this.status3},set:function(e){this.status3=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSaving",{get:function(){return this.isSaving3},set:function(e){this.isSaving3=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"objectCollectionIndex",{get:function(){return this.index3},set:function(e){this.index3=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.position3},set:function(e){this.position3=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clonedObject",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.save=function(e){e.write(this.toString())},e.prototype.toString=function(){return this.objNumber.toString()+" "+this.genNumber.toString()+" R"},e.prototype.clone=function(e){return null},e}(),BT=function(){function e(e,t){this.index4=-1,this.position4=-1,this.objectIndex=-1,this.dictionaryProperties=new fT,this.initialize(e)}return Object.defineProperty(e.prototype,"status",{get:function(){return this.status4},set:function(e){this.status4=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSaving",{get:function(){return this.isSaving4},set:function(e){this.isSaving4=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"objectCollectionIndex",{get:function(){return this.index4},set:function(e){this.index4=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.position4},set:function(e){this.position4=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clonedObject",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"object",{get:function(){return this.primitiveObject},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reference",{get:function(){return this.pdfReference},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this.objectIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.primitiveObject},enumerable:!0,configurable:!0}),e.prototype.initialize=function(e){if(e instanceof wT||e instanceof mT||e instanceof dT||e instanceof _T||e instanceof LT||e instanceof zT||e instanceof DT)this.primitiveObject=e;else{var t=e;this.initialize(t.element)}},e.prototype.save=function(e){e.position;var t=e.document.crossTable;this.object.isSaving=!0;t.getReference(this.object).save(e)},e.prototype.clone=function(e){return null},e}();!function(e){e[e.Free=0]="Free",e[e.Normal=1]="Normal",e[e.Packed=2]="Packed"}(IT||(IT={}));var FT,NT,jT,VT,UT,WT,HT,GT,qT,ZT,XT,YT,$T,KT,QT,JT,eE,tE,iE,nE,rE,oE,aE,sE,lE,uE,cE=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),hE=function(e){function t(){var t=e.call(this)||this;return t.sections=null,t.tempDictionaryProperties=new fT,t.items.setValue((new fT).type,new dT("Catalog")),t}return cE(t,e),Object.defineProperty(t.prototype,"pages",{get:function(){return this.sections},set:function(e){e.element;this.sections=e,this.items.setValue(this.tempDictionaryProperties.pages,new BT(e))},enumerable:!0,configurable:!0}),t}(mT),dE=function(){function e(){this.objects=new nT,this.maxGenNumIndex=0,this.objectCount=0,this.dictionaryProperties=new fT}return Object.defineProperty(e.prototype,"isMerging",{get:function(){return this.merging},set:function(e){this.merging=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trailer",{get:function(){return null==this.internalTrailer&&(this.internalTrailer=new LT),this.internalTrailer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"document",{get:function(){return this.pdfDocument},set:function(e){this.pdfDocument=e,this.items=this.pdfDocument.pdfObjects},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pdfObjects",{get:function(){return this.items},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"objectCollection",{get:function(){return this.pdfDocument.pdfObjects},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this.objectCount},set:function(e){this.objectCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextObjNumber",{get:function(){return this.count=this.count+1,this.count},enumerable:!0,configurable:!0}),e.prototype.save=function(e,t){this.saveHead(e);this.mappedReferences=null,this.objects.clear(),this.markTrailerReferences(),this.saveObjects(e);var i=this.count,n=e.position;this.registerObject(0,new zT(0,-1),!0);e.write(pT.xref),e.write(pT.newLine),this.saveSections(e),this.saveTrailer(e,this.count,0),this.saveTheEndess(e,n),this.count=i;for(var r=0;r<this.objectCollection.count;++r){this.objectCollection.items(r).object.isSaving=!1}if("undefined"===typeof t)return e.stream.buffer;e.stream.save(t)},e.prototype.saveTheEndess=function(e,t){e.write(pT.newLine+pT.startxref+pT.newLine),e.write(t.toString()+pT.newLine),e.write(pT.eof+pT.newLine)},e.prototype.saveTrailer=function(e,t,i){e.write(pT.trailer+pT.newLine);var n=this.trailer;n.items.setValue(this.dictionaryProperties.size,new _T(this.objectCount+1)),(n=new mT(n)).setEncrypt(!1),n.save(e)},e.prototype.saveSections=function(e){var t=0,i=0;do{i=this.prepareSubsection(t),this.saveSubsection(e,t,i),t+=i}while(0!==i)},e.prototype.saveSubsection=function(e,t,i){if(!(i<=0||t>=this.count)){e.write(t+" "+(i+1)+pT.newLine);for(var n=t;n<=t+i;++n){var r=this.objects.getValue(n),o="";o=r.type===IT.Free?this.getItem(r.offset,65535,!0):this.getItem(r.offset,r.generation,!1),e.write(o)}}},e.prototype.getItem=function(e,t,i){var n="",r=10-e.toString().length;t<=0&&(t=0);for(var o=5-t.toString().length<=0?0:5-t.toString().length,a=0;a<r;a++)n+="0";n=n+e.toString()+" ";for(a=0;a<o;a++)n+="0";return n=(n=n+t.toString()+" ")+(i?pT.f:pT.n)+pT.newLine},e.prototype.prepareSubsection=function(e){for(var t,i=0,n=this.count,r=0;r<this.document.pdfObjects.count;r++)this.document.pdfObjects.items(r).reference.toString().split(" ");if(e>=n)return i;for(e=t=e;t<n;++t)++i;return i},e.prototype.markTrailerReferences=function(){this.trailer.items.keys(),this.trailer.items.values()},e.prototype.saveHead=function(e){var t=this.generateFileVersion(e.document);e.write("%PDF-"+t),e.write(pT.newLine)},e.prototype.generateFileVersion=function(e){return"1."+4..toString()},e.prototype.getReference=function(e,t){if("undefined"===typeof t){return this.getReference(e,!1)}return this.getSubReference(e,t)},e.prototype.getSubReference=function(e,t){var i,n=!1,r=null;if(this.items.count>0&&e.objectCollectionIndex>0&&this.items.count>e.objectCollectionIndex-1){var o=this.document.pdfObjects.getReference(e,i);r=o.reference,i=o.wasNew}if(i=null==r&&e.status!==iT.Registered,null==r){var a=this.nextObjNumber;r=new zT(a,0);var s=void 0;if(i){this.document.pdfObjects.add(e),this.document.pdfObjects.trySetReference(e,r,s);var l=this.document.pdfObjects.count-1,u=this.document.pdfObjects.objectCollections[l].reference.objNumber,c=this.document.pdfObjects.objectCollections[this.document.pdfObjects.count-1];this.document.pdfObjects.mainObjectCollection.setValue(u,c),e.position=-1}else this.document.pdfObjects.trySetReference(e,r,s);e.objectCollectionIndex=r.objNumber,e.status=iT.None,n=!0}return n||this.bForceNew,r},e.prototype.saveObjects=function(e){for(var t=this.objectCollection,i=0;i<t.count;++i){var n=t.items(i).object;n.isSaving=!0,this.saveIndirectObject(n,e)}},e.prototype.saveIndirectObject=function(e,t){var i=this.getReference(e);e instanceof hE&&this.trailer.items.setValue(this.dictionaryProperties.root,i),this.pdfDocument.currentSavingObj=i;e.getArchive();this.registerObject(t.position,i),this.doSaveObject(e,i,t)},e.prototype.doSaveObject=function(e,t,i){i.length;i.write(t.objNumber.toString()),i.write(pT.whiteSpace),i.write(t.genNumber.toString()),i.write(pT.whiteSpace),i.write(pT.obj),i.write(pT.newLine),e.save(i);i.stream;i.write(pT.endObj),i.write(pT.newLine)},e.prototype.registerObject=function(e,t,i){"boolean"===typeof i?(this.objects.setValue(t.objNumber,new pE(e,t,i)),this.maxGenNumIndex=Math.max(this.maxGenNumIndex,t.genNumber)):"undefined"===typeof i&&(this.objects.setValue(t.objNumber,new pE(e,t)),this.maxGenNumIndex=Math.max(this.maxGenNumIndex,t.genNumber))},e.dereference=function(e){return null!=e&&(e=e.object),e},e}(),pE=function(){function e(e,t,i){var n=e;this.offsetNumber=n;var r=t;this.generation=r.genNumber,this.object=r.objNumber,this.type="undefined"===typeof i?IT.Normal:IT.Free}return Object.defineProperty(e.prototype,"objectNumber",{get:function(){return this.object},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this.offsetNumber},enumerable:!0,configurable:!0}),e}(),fE=function(e,t){"undefined"===typeof e?(this.x=0,this.y=0):(this.x=null!==e?e:0,this.y=null!==t?t:0)},mE=function(e,t){"undefined"===typeof t?(this.height=0,this.width=0):(this.height=null!==t?t:0,this.width=null!==e?e:0)},gE=function(e,t,i,n){if(typeof e===typeof e&&"undefined"===typeof e)this.x=0,this.y=0,this.height=0,this.width=0;else if(e instanceof fE&&t instanceof mE&&"undefined"===typeof i){var r=e;this.x=r.x,this.y=r.y;var o=t;this.height=o.height,this.width=o.width}else{var a=e,s=t,l=i,u=n;this.x=a,this.y=s,this.height=u,this.width=l}},yE=function(){function e(e,t,i,n){this.left=e,this.top=t,this.right=i,this.bottom=n}return Object.defineProperty(e.prototype,"width",{get:function(){return this.right-this.left},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.bottom-this.top},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeft",{get:function(){return new fE(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return new mE(this.width,this.height)},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.topLeft+"x"+this.size},e}(),vE=function(){function e(){}return e.letter=new mE(612,792),e.note=new mE(540,720),e.legal=new mE(612,1008),e.a0=new mE(2380,3368),e.a1=new mE(1684,2380),e.a2=new mE(1190,1684),e.a3=new mE(842,1190),e.a4=new mE(595,842),e.a5=new mE(421,595),e.a6=new mE(297,421),e.a7=new mE(210,297),e.a8=new mE(148,210),e.a9=new mE(105,148),e.a10=new mE(74,105),e.b0=new mE(2836,4008),e.b1=new mE(2004,2836),e.b2=new mE(1418,2004),e.b3=new mE(1002,1418),e.b4=new mE(709,1002),e.b5=new mE(501,709),e.archE=new mE(2592,3456),e.archD=new mE(1728,2592),e.archC=new mE(1296,1728),e.archB=new mE(864,1296),e.archA=new mE(648,864),e.flsa=new mE(612,936),e.halfLetter=new mE(396,612),e.letter11x17=new mE(792,1224),e.ledger=new mE(1224,792),e}(),bE=function(){function e(){this.pdfMargin=40,this.setMargins(this.pdfMargin)}return Object.defineProperty(e.prototype,"left",{get:function(){return this.leftMargin},set:function(e){this.leftMargin=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.topMargin},set:function(e){this.topMargin=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.rightMargin},set:function(e){this.rightMargin=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.bottomMargin},set:function(e){this.bottomMargin=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"all",{set:function(e){this.setMargins(e)},enumerable:!0,configurable:!0}),e.prototype.setMargins=function(e,t,i,n){"undefined"===typeof t?this.leftMargin=this.topMargin=this.rightMargin=this.bottomMargin=e:"undefined"===typeof i?(this.leftMargin=this.rightMargin=e,this.bottomMargin=this.topMargin=t):(this.leftMargin=e,this.topMargin=t,this.rightMargin=i,this.bottomMargin=n)},e.prototype.clone=function(){return this},e}(),xE=function(){function e(e){this.pageMargins=new bE,this.pageSize=vE.a4,this.rotateAngle=sC.RotateAngle0,this.pageOrientation=aC.Portrait,this.pageOrigin=new fE(0,0),this.isRotation=!1,"number"===typeof e&&this.pageMargins.setMargins(e)}return Object.defineProperty(e.prototype,"size",{get:function(){return this.pageSize},set:function(e){this.setSize(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this.pageOrientation},set:function(e){this.pageOrientation!==e&&(this.pageOrientation=e,this.updateSize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"margins",{get:function(){return this.pageMargins},set:function(e){this.pageMargins=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.pageSize.width},set:function(e){this.pageSize.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.pageSize.height},set:function(e){this.pageSize.height=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"origin",{get:function(){return this.pageOrigin},set:function(e){this.pageOrigin=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this.rotateAngle},set:function(e){this.rotateAngle=e,this.isRotation=!0},enumerable:!0,configurable:!0}),e.prototype.updateSize=function(e){var t=Math.min(this.pageSize.width,this.pageSize.height),i=Math.max(this.pageSize.width,this.pageSize.height);switch(e){case aC.Portrait:this.pageSize=new mE(t,i);break;case aC.Landscape:this.pageSize=new mE(i,t)}},e.prototype.clone=function(){return this.pageMargins=this.pageMargins.clone(),this},e.prototype.getActualSize=function(){var e=this.width-(this.margins.left+this.margins.right),t=this.height-(this.margins.top+this.margins.bottom);return new mE(e,t)},e.prototype.setSize=function(e){var t=Math.min(e.width,e.height),i=Math.max(e.width,e.height);this.orientation===aC.Portrait?this.pageSize=new mE(t,i):this.pageSize=new mE(i,t)},e}();!function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right"}(FT||(FT={})),function(e){e[e.Top=0]="Top",e[e.Middle=1]="Middle",e[e.Bottom=2]="Bottom"}(NT||(NT={})),function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right",e[e.Justify=3]="Justify"}(jT||(jT={})),function(e){e[e.Fill=0]="Fill",e[e.Stroke=1]="Stroke",e[e.FillStroke=2]="FillStroke",e[e.None=3]="None",e[e.ClipFlag=4]="ClipFlag",e[e.ClipFill=4]="ClipFill",e[e.ClipStroke=5]="ClipStroke",e[e.ClipFillStroke=6]="ClipFillStroke",e[e.Clip=7]="Clip"}(VT||(VT={})),function(e){e[e.Miter=0]="Miter",e[e.Round=1]="Round",e[e.Bevel=2]="Bevel"}(UT||(UT={})),function(e){e[e.Flat=0]="Flat",e[e.Round=1]="Round",e[e.Square=2]="Square"}(WT||(WT={})),function(e){e[e.Solid=0]="Solid",e[e.Dash=1]="Dash",e[e.Dot=2]="Dot",e[e.DashDot=3]="DashDot",e[e.DashDotDot=4]="DashDotDot",e[e.Custom=5]="Custom"}(HT||(HT={})),function(e){e[e.Winding=0]="Winding",e[e.Alternate=1]="Alternate"}(GT||(GT={})),function(e){e[e.Rgb=0]="Rgb",e[e.Cmyk=1]="Cmyk",e[e.GrayScale=2]="GrayScale",e[e.Indexed=3]="Indexed"}(qT||(qT={})),function(e){e[e.Normal=0]="Normal",e[e.Multiply=1]="Multiply",e[e.Screen=2]="Screen",e[e.Overlay=3]="Overlay",e[e.Darken=4]="Darken",e[e.Lighten=5]="Lighten",e[e.ColorDodge=6]="ColorDodge",e[e.ColorBurn=7]="ColorBurn",e[e.HardLight=8]="HardLight",e[e.SoftLight=9]="SoftLight",e[e.Difference=10]="Difference",e[e.Exclusion=11]="Exclusion",e[e.Hue=12]="Hue",e[e.Saturation=13]="Saturation",e[e.Color=14]="Color",e[e.Luminosity=15]="Luminosity"}(ZT||(ZT={})),function(e){e[e.Centimeter=0]="Centimeter",e[e.Pica=1]="Pica",e[e.Pixel=2]="Pixel",e[e.Point=3]="Point",e[e.Inch=4]="Inch",e[e.Document=5]="Document",e[e.Millimeter=6]="Millimeter"}(XT||(XT={})),function(e){e[e.Fit=0]="Fit",e[e.Center=1]="Center",e[e.Stretch=2]="Stretch",e[e.Tile=3]="Tile"}(YT||(YT={})),function(e){e[e.None=0]="None",e[e.LeftToRight=1]="LeftToRight",e[e.RightToLeft=2]="RightToLeft"}($T||($T={})),function(e){e[e.Regular=0]="Regular",e[e.Bold=1]="Bold",e[e.Italic=2]="Italic",e[e.Underline=4]="Underline",e[e.Strikeout=8]="Strikeout"}(KT||(KT={})),function(e){e[e.Helvetica=0]="Helvetica",e[e.Courier=1]="Courier",e[e.TimesRoman=2]="TimesRoman",e[e.Symbol=3]="Symbol",e[e.ZapfDingbats=4]="ZapfDingbats"}(QT||(QT={})),function(e){e[e.Standard=0]="Standard",e[e.TrueType=1]="TrueType",e[e.TrueTypeEmbedded=2]="TrueTypeEmbedded"}(JT||(JT={})),function(e){e[e.None=0]="None",e[e.Word=1]="Word",e[e.WordOnly=2]="WordOnly",e[e.Character=3]="Character"}(eE||(eE={})),function(e){e[e.None=0]="None",e[e.SuperScript=1]="SuperScript",e[e.SubScript=2]="SubScript"}(tE||(tE={})),function(e){e[e.Unknown=0]="Unknown",e[e.StandardEncoding=1]="StandardEncoding",e[e.MacRomanEncoding=2]="MacRomanEncoding",e[e.MacExpertEncoding=3]="MacExpertEncoding",e[e.WinAnsiEncoding=4]="WinAnsiEncoding",e[e.PdfDocEncoding=5]="PdfDocEncoding",e[e.IdentityH=6]="IdentityH"}(iE||(iE={})),function(e){e[e.Apple=0]="Apple",e[e.Microsoft=4]="Microsoft",e[e.Trimmed=6]="Trimmed"}(nE||(nE={})),function(e){e[e.Unknown=0]="Unknown",e[e.Symbol=1]="Symbol",e[e.Unicode=2]="Unicode",e[e.Macintosh=3]="Macintosh"}(rE||(rE={})),function(e){e[e.AppleUnicode=0]="AppleUnicode",e[e.Macintosh=1]="Macintosh",e[e.Iso=2]="Iso",e[e.Microsoft=3]="Microsoft"}(oE||(oE={})),function(e){e[e.Undefined=0]="Undefined",e[e.Unicode=1]="Unicode"}(aE||(aE={})),function(e){e[e.Roman=0]="Roman",e[e.Japanese=1]="Japanese",e[e.Chinese=2]="Chinese"}(sE||(sE={})),function(e){e[e.FixedPitch=1]="FixedPitch",e[e.Serif=2]="Serif",e[e.Symbolic=4]="Symbolic",e[e.Script=8]="Script",e[e.Nonsymbolic=32]="Nonsymbolic",e[e.Italic=64]="Italic",e[e.ForceBold=262144]="ForceBold"}(lE||(lE={})),function(e){e[e.Arg1And2AreWords=1]="Arg1And2AreWords",e[e.ArgsAreXyValues=2]="ArgsAreXyValues",e[e.RoundXyToGrid=4]="RoundXyToGrid",e[e.WeHaveScale=8]="WeHaveScale",e[e.Reserved=16]="Reserved",e[e.MoreComponents=32]="MoreComponents",e[e.WeHaveAnXyScale=64]="WeHaveAnXyScale",e[e.WeHaveTwoByTwo=128]="WeHaveTwoByTwo",e[e.WeHaveInstructions=256]="WeHaveInstructions",e[e.UseMyMetrics=512]="UseMyMetrics"}(uE||(uE={}));var _E,wE=function(){function e(e){if(null==e)throw new Error("ArgumentNullException:stream");this.stream=e}return e.prototype.clear=function(){this.stream.clearStream()},e.prototype.setGraphicsState=function(e){e instanceof dT?(this.stream.write(e.toString()),this.stream.write(pT.whiteSpace),this.writeOperator(pT.setGraphicsState)):(this.stream.write(pT.slash),this.stream.write(e),this.stream.write(pT.whiteSpace),this.writeOperator(pT.setGraphicsState))},e.prototype.executeObject=function(e){this.stream.write(e.toString()),this.stream.write(pT.whiteSpace),this.writeOperator(pT.paintXObject),this.stream.write(pT.newLine)},e.prototype.closePath=function(){this.writeOperator(pT.closePath)},e.prototype.clipPath=function(e){this.stream.write(pT.clipPath),e&&this.stream.write(pT.evenOdd),this.stream.write(pT.whiteSpace),this.stream.write(pT.endPath),this.stream.write(pT.newLine)},e.prototype.closeFillStrokePath=function(e){this.stream.write(pT.closeFillStrokePath),e?(this.stream.write(pT.evenOdd),this.stream.write(pT.newLine)):this.stream.write(pT.newLine)},e.prototype.fillStrokePath=function(e){this.stream.write(pT.fillStroke),e?(this.stream.write(pT.evenOdd),this.stream.write(pT.newLine)):this.stream.write(pT.newLine)},e.prototype.fillPath=function(e){this.stream.write(pT.fill),e?(this.stream.write(pT.evenOdd),this.stream.write(pT.newLine)):this.stream.write(pT.newLine)},e.prototype.endPath=function(){this.writeOperator(pT.n)},e.prototype.closeFillPath=function(e){this.writeOperator(pT.closePath),this.stream.write(pT.fill),e?(this.stream.write(pT.evenOdd),this.stream.write(pT.newLine)):this.stream.write(pT.newLine)},e.prototype.closeStrokePath=function(){this.writeOperator(pT.closeStrokePath)},e.prototype.setTextScaling=function(e){this.stream.write(_T.floatToString(e)),this.stream.write(pT.whiteSpace),this.writeOperator(pT.setTextScaling)},e.prototype.strokePath=function(){this.writeOperator(pT.stroke)},e.prototype.restoreGraphicsState=function(){this.writeOperator(pT.restoreState)},e.prototype.saveGraphicsState=function(){this.writeOperator(pT.saveState)},e.prototype.startNextLine=function(e,t){"undefined"===typeof e?this.writeOperator(pT.goToNextLine):e instanceof fE?(this.writePoint(e),this.writeOperator(pT.setCoords)):(this.writePoint(e,t),this.writeOperator(pT.setCoords))},e.prototype.showText=function(e){this.checkTextParam(e),this.writeText(e),this.writeOperator(pT.setText)},e.prototype.setLeading=function(e){this.stream.write(_T.floatToString(e)),this.stream.write(pT.whiteSpace),this.writeOperator(pT.setTextLeading)},e.prototype.beginPath=function(e,t){this.writePoint(e,t),this.writeOperator(pT.beginPath)},e.prototype.beginText=function(){this.writeOperator(pT.beginText)},e.prototype.endText=function(){this.writeOperator(pT.endText)},e.prototype.appendRectangle=function(e,t,i,n){e instanceof gE?this.appendRectangle(e.x,e.y,e.width,e.height):(this.writePoint(e,t),this.writePoint(i,n),this.writeOperator(pT.appendRectangle))},e.prototype.appendLineSegment=function(e,t){e instanceof fE?this.appendLineSegment(e.x,e.y):(this.writePoint(e,t),this.writeOperator(pT.appendLineSegment))},e.prototype.setTextRenderingMode=function(e){this.stream.write(e.toString()),this.stream.write(pT.whiteSpace),this.writeOperator(pT.setRenderingMode)},e.prototype.setCharacterSpacing=function(e){this.stream.write(_T.floatToString(e)),this.stream.write(pT.whiteSpace),this.stream.write(pT.setCharacterSpace),this.stream.write(pT.newLine)},e.prototype.setWordSpacing=function(e){this.stream.write(_T.floatToString(e)),this.stream.write(pT.whiteSpace),this.writeOperator(pT.setWordSpace)},e.prototype.showNextLineText=function(e,t){e instanceof DT?(this.checkTextParam(e),this.writeText(e),this.writeOperator(pT.setTextOnNewLine)):(this.checkTextParam(e),this.writeText(e,t),this.writeOperator(pT.setTextOnNewLine))},e.prototype.setColorSpace=function(e,t){if(e instanceof dT&&"boolean"===typeof t){var i=e,n=(r=t)?pT.selectcolorspaceforstroking:pT.selectcolorspacefornonstroking;this.stream.write(i.toString()),this.stream.write(pT.whiteSpace),this.stream.write(n),this.stream.write(pT.newLine)}else{i=e;var r=t;this.setColorSpace(new dT(i),r)}},e.prototype.modifyCtm=function(e){if(null==e)throw new Error("ArgumentNullException:matrix");this.stream.write(e.toString()),this.stream.write(pT.whiteSpace),this.writeOperator(pT.modifyCtm)},e.prototype.setFont=function(e,t,i){if("string"===typeof t)this.setFont(e,new dT(t),i);else{if(null==e)throw new Error("ArgumentNullException:font");this.stream.write(t.toString()),this.stream.write(pT.whiteSpace),this.stream.write(_T.floatToString(i)),this.stream.write(pT.whiteSpace),this.writeOperator(pT.setFont)}},e.prototype.writeOperator=function(e){this.stream.write(e),this.stream.write(pT.newLine)},e.prototype.checkTextParam=function(e){if(null==e)throw new Error("ArgumentNullException:text");if("string"===typeof e&&""===e)throw new Error("ArgumentException:The text can not be an empty string, text")},e.prototype.writeText=function(e,t){if(e instanceof DT&&"undefined"===typeof t)this.stream.write(e.pdfEncode());else{var i=void 0,n=void 0;t?(i=DT.hexStringMark[0],n=DT.hexStringMark[1]):(i=DT.stringMark[0],n=DT.stringMark[1]),this.stream.write(i),this.stream.write(e),this.stream.write(n)}},e.prototype.writePoint=function(e,t){if(e instanceof fE&&"undefined"===typeof t)this.writePoint(e.x,e.y);else{var i=e;this.stream.write(_T.floatToString(i)),this.stream.write(pT.whiteSpace),t=this.updateY(t),this.stream.write(_T.floatToString(t)),this.stream.write(pT.whiteSpace)}},e.prototype.updateY=function(e){return-e},e.prototype.write=function(e){var t="";t+=e,t+=pT.newLine,this.writeOperator(t)},e.prototype.writeComment=function(e){if(!(null!=e&&e.length>0))throw new Error("Invalid comment");var t="";t+=pT.comment,t+=pT.whiteSpace,t+=e,this.writeOperator(t)},e.prototype.setColorAndSpace=function(e,t,i){e.isEmpty||(this.stream.write(e.toString(t,i)),this.stream.write(pT.newLine))},e.prototype.setLineDashPattern=function(e,t){this.setLineDashPatternHelper(e,t)},e.prototype.setLineDashPatternHelper=function(e,t){var i="[";if(e.length>1)for(var n=0;n<e.length;n++)n===e.length-1?i+=e[n].toString():i+=e[n].toString()+" ";i+="] ",i+=t.toString(),i+=" "+pT.setDashPattern,this.stream.write(i),this.stream.write(pT.newLine)},e.prototype.setMiterLimit=function(e){this.stream.write(_T.floatToString(e)),this.stream.write(pT.whiteSpace),this.writeOperator(pT.setMiterLimit)},e.prototype.setLineWidth=function(e){this.stream.write(_T.floatToString(e)),this.stream.write(pT.whiteSpace),this.writeOperator(pT.setLineWidth)},e.prototype.setLineCap=function(e){this.stream.write(e.toString()),this.stream.write(pT.whiteSpace),this.writeOperator(pT.setLineCapStyle)},e.prototype.setLineJoin=function(e){this.stream.write(e.toString()),this.stream.write(pT.whiteSpace),this.writeOperator(pT.setLineJoinStyle)},Object.defineProperty(e.prototype,"position",{get:function(){return this.stream.position},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){var e=0;if(0!==this.stream.data.length&&-1!==this.stream.data.length)for(var t=0;t<this.stream.data.length;t++)e+=this.stream.data[t].length;return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"document",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.appendBezierSegment=function(e,t,i,n,r,o){e instanceof fE&&t instanceof fE&&i instanceof fE?(this.writePoint(e.x,e.y),this.writePoint(t.x,t.y),this.writePoint(i.x,i.y)):(this.writePoint(e,t),this.writePoint(i,n),this.writePoint(r,o)),this.writeOperator(pT.appendbeziercurve)},e.prototype.setColourWithPattern=function(e,t,i){if(null!=e){var n=e.length,r=0;for(r=0;r<n;++r)this.stream.write(e[r].toString()),this.stream.write(pT.whiteSpace)}null!=t&&(this.stream.write(t.toString()),this.stream.write(pT.whiteSpace)),i?this.writeOperator(pT.setColorAndPatternStroking):this.writeOperator(pT.setColorAndPattern)},e}(),SE=function(){function e(t,i,n,r){"undefined"===typeof t?"undefined"!==typeof i&&"undefined"!==typeof n&&"undefined"!==typeof r?this.assignRGB(i,n,r):this.filled=!1:t instanceof e?(this.redColor=t.r,this.greenColor=t.g,this.blueColor=t.b,this.grayColor=t.gray,this.alpha=t.alpha,this.filled=0!==this.alpha):"number"===typeof t&&"undefined"===typeof i&&"undefined"===typeof n&&"undefined"===typeof r?(t<0&&(t=0),t>1&&(t=1),this.redColor=t*e.maxColourChannelValue,this.greenColor=t*e.maxColourChannelValue,this.blueColor=t*e.maxColourChannelValue,this.cyanColor=t,this.magentaColor=t,this.yellowColor=t,this.blackColor=t,this.grayColor=t,this.alpha=e.maxColourChannelValue,this.filled=!0):"undefined"===typeof r?this.assignRGB(t,i,n):this.assignRGB(i,n,r,t)}return e.prototype.assignRGB=function(t,i,n,r){"undefined"===typeof t||"undefined"===typeof i||"undefined"===typeof n?this.filled=!1:(this.cyanColor=0,this.magentaColor=0,this.yellowColor=0,this.blackColor=0,this.grayColor=0,this.redColor=t,this.greenColor=i,this.blueColor=n,this.alpha="undefined"===typeof r?e.maxColourChannelValue:r,this.filled=!0,this.assignCMYK(t,i,n))},e.prototype.assignCMYK=function(t,i,n){var r=t/e.maxColourChannelValue,o=i/e.maxColourChannelValue,a=n/e.maxColourChannelValue,s=_T.min(1-r,1-o,1-a),l=1===s?0:(1-r-s)/(1-s),u=1===s?0:(1-o-s)/(1-s),c=1===s?0:(1-a-s)/(1-s);this.blackColor=s,this.cyanColor=l,this.magentaColor=u,this.yellowColor=c},Object.defineProperty(e.prototype,"r",{get:function(){return this.redColor},set:function(e){this.redColor=e,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"red",{get:function(){return this.r/e.maxColourChannelValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){return this.blueColor},set:function(e){this.blueColor=e,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.b/e.maxColourChannelValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c",{get:function(){return this.cyanColor},set:function(e){this.cyanColor=e<0?0:e>1?1:e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return this.blackColor},set:function(e){this.blackColor=e<0?0:e>1?1:e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"m",{get:function(){return this.magentaColor},set:function(e){this.magentaColor=e<0?0:e>1?1:e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.yellowColor},set:function(e){this.yellowColor=e<0?0:e>1?1:e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"g",{get:function(){return this.greenColor},set:function(e){this.greenColor=e,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.g/e.maxColourChannelValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gray",{get:function(){return(this.redColor+this.greenColor+this.blueColor)/(3*e.maxColourChannelValue)},set:function(t){this.grayColor=t<0?0:t>1?1:t,this.r=this.grayColor*e.maxColourChannelValue,this.g=this.grayColor*e.maxColourChannelValue,this.b=this.grayColor*e.maxColourChannelValue,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return!this.filled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"a",{get:function(){return this.alpha},set:function(e){this.alpha=e<0?0:e,this.filled=!0},enumerable:!0,configurable:!0}),e.prototype.toString=function(e,t){if(this.isEmpty)return"";var i="";switch(e){case qT.Rgb:i=this.rgbToString(t);break;case qT.GrayScale:i=this.grayScaleToString(t);break;case qT.Cmyk:i=this.cmykToString(t)}return i},e.prototype.grayScaleToString=function(t){var i=this.gray,n="",r=null;return null==(r=t?e.grayStringsSroke.containsKey(i)?e.grayStringsSroke.getValue(i):null:e.grayStringsFill.containsKey(i)?e.grayStringsFill.getValue(i):null)?t&&(n=i.toString()+" G",e.grayStringsSroke.setValue(i,n)):n=r.toString(),n+pT.newLine},e.prototype.rgbToString=function(t){var i=this.r,n=this.g,r=this.b,o=(i<<16)+(n<<8)+r;t&&(o+=1<<24);var a="",s=null;if(e.rgbStrings.containsKey(o)&&(s=e.rgbStrings.getValue(o)),null==s){var l=i/e.maxColourChannelValue,u=n/e.maxColourChannelValue,c=r/e.maxColourChannelValue;a=t?l.toString()+" "+u.toString()+" "+c.toString()+" RG":l.toString()+" "+u.toString()+" "+c.toString()+" rg",e.rgbStrings.setValue(o,a)}else a=s.toString();return a+pT.newLine},e.prototype.cmykToString=function(e){var t=this.c,i=this.m,n=this.y,r=this.b;return t.toString()+" "+i.toString()+" "+n.toString()+" "+r.toString()+" K"+pT.newLine},e.prototype.toArray=function(e){var t=new wT;if(e===qT.Rgb)t.add(new _T(this.red)),t.add(new _T(this.green)),t.add(new _T(this.blue));return t},e.rgbStrings=new nT,e.grayStringsSroke=new nT,e.grayStringsFill=new nT,e.maxColourChannelValue=255,e}(),kE=function(){function e(){}return e.prototype.clone=function(){return this},e}(),CE=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),TE=function(e){function t(t){var i=e.call(this)||this;return i.pdfColor=t,i}return CE(t,e),Object.defineProperty(t.prototype,"color",{get:function(){return this.pdfColor},set:function(e){this.pdfColor=e},enumerable:!0,configurable:!0}),t.prototype.monitorChanges=function(e,t,i,n,r){if(null==t)throw new Error("ArgumentNullException:streamWriter");var o=!1;if(null==e)return o=!0,t.setColorAndSpace(this.pdfColor,r,!1),o;return o=!0,t.setColorAndSpace(this.pdfColor,r,!1),o},t.prototype.resetChanges=function(e){e.setColorAndSpace(new SE(0,0,0),qT.Rgb,!1)},t}(kE),EE=function(){function e(e,t){this.pdfColor=new SE(0,0,0),this.dashOffsetValue=0,this.penDashPattern=[0],this.pdfDashStyle=HT.Solid,this.pdfLineCap=0,this.pdfLineJoin=0,this.penWidth=1,this.internalMiterLimit=0,this.colorSpace=qT.Rgb,e instanceof kE?this.setBrush(e):e instanceof SE&&(this.color=e),"number"===typeof t&&(this.width=t)}return Object.defineProperty(e.prototype,"color",{get:function(){return this.pdfColor},set:function(e){this.pdfColor=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dashOffset",{get:function(){return"undefined"===typeof this.dashOffsetValue||null==this.dashOffsetValue?0:this.dashOffsetValue},set:function(e){this.dashOffsetValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dashPattern",{get:function(){return this.penDashPattern},set:function(e){this.penDashPattern=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dashStyle",{get:function(){return this.pdfDashStyle},set:function(e){if(this.pdfDashStyle!==e)switch(this.pdfDashStyle=e,this.pdfDashStyle){case HT.Custom:break;case HT.Dash:this.penDashPattern=[3,1];break;case HT.Dot:this.penDashPattern=[1,1];break;case HT.DashDot:this.penDashPattern=[3,1,1,1];break;case HT.DashDotDot:this.penDashPattern=[3,1,1,1,1,1];break;case HT.Solid:break;default:this.pdfDashStyle=HT.Solid,this.penDashPattern=[0]}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineCap",{get:function(){return this.pdfLineCap},set:function(e){this.pdfLineCap=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return this.pdfLineJoin},set:function(e){this.pdfLineJoin=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"miterLimit",{get:function(){return this.internalMiterLimit},set:function(e){this.internalMiterLimit=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.penWidth},set:function(e){this.penWidth=e},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return this},e.prototype.setBrush=function(e){var t=e;null!=t&&t instanceof TE&&(this.color=t.color,this.pdfBrush=t),this.color=t.color,this.pdfBrush=t},e.prototype.monitorChanges=function(e,t,i,n,r,o){this.dashControl(e,true,t),t.setLineWidth(this.width),t.setLineJoin(this.lineJoin),t.setLineCap(this.lineCap);var a=this.miterLimit;a>0&&t.setMiterLimit(a);this.pdfBrush;return t.setColorAndSpace(this.color,r,!0),!0},e.prototype.dashControl=function(e,t,i){var n=this.width,r=this.getPattern();return i.setLineDashPattern(r,this.dashOffset*n),true},e.prototype.getPattern=function(){for(var e=this.dashPattern,t=0;t<e.length;++t)e[t]*=this.width;return e},e}(),AE=function(){function e(e,t){this.scalingFactor=100,this.wordWrapType=eE.Word,this.internalLineLimit=!0,this.wordWrapType=eE.Word,"undefined"!==typeof e&&"string"!==typeof e&&(this.textAlignment=e),"undefined"!==typeof t&&(this.verticalAlignment=t)}return Object.defineProperty(e.prototype,"alignment",{get:function(){return this.textAlignment},set:function(e){this.textAlignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textDirection",{get:function(){return this.direction},set:function(e){this.direction=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineAlignment",{get:function(){return"undefined"===typeof this.verticalAlignment||null==this.verticalAlignment?NT.Top:this.verticalAlignment},set:function(e){this.verticalAlignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightToLeft",{get:function(){return"undefined"!==typeof this.isRightToLeft&&null!=this.isRightToLeft&&this.isRightToLeft},set:function(e){this.isRightToLeft=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"characterSpacing",{get:function(){return"undefined"===typeof this.internalCharacterSpacing||null==this.internalCharacterSpacing?0:this.internalCharacterSpacing},set:function(e){this.internalCharacterSpacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wordSpacing",{get:function(){return"undefined"===typeof this.internalWordSpacing||null==this.internalWordSpacing?0:this.internalWordSpacing},set:function(e){this.internalWordSpacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineSpacing",{get:function(){return"undefined"===typeof this.leading||null==this.leading?0:this.leading},set:function(e){this.leading=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clipPath",{get:function(){return"undefined"!==typeof this.clip&&null!=this.clip&&this.clip},set:function(e){this.clip=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subSuperScript",{get:function(){return"undefined"===typeof this.pdfSubSuperScript||null==this.pdfSubSuperScript?tE.None:this.pdfSubSuperScript},set:function(e){this.pdfSubSuperScript=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paragraphIndent",{get:function(){return"undefined"===typeof this.internalParagraphIndent||null==this.internalParagraphIndent?0:this.internalParagraphIndent},set:function(e){this.internalParagraphIndent=e,this.firstLineIndent=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineLimit",{get:function(){return this.internalLineLimit},set:function(e){this.internalLineLimit=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"measureTrailingSpaces",{get:function(){return"undefined"!==typeof this.trailingSpaces&&null!=this.trailingSpaces&&this.trailingSpaces},set:function(e){this.trailingSpaces=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"noClip",{get:function(){return"undefined"!==typeof this.isNoClip&&null!=this.isNoClip&&this.isNoClip},set:function(e){this.isNoClip=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this.wordWrapType},set:function(e){this.wordWrapType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalScalingFactor",{get:function(){return this.scalingFactor},set:function(e){if(e<=0)throw new Error("ArgumentOutOfRangeException:The scaling factor cant be less of equal to zero, ScalingFactor");this.scalingFactor=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstLineIndent",{get:function(){return"undefined"===typeof this.initialLineIndent||null==this.initialLineIndent?0:this.initialLineIndent},set:function(e){this.initialLineIndent=e},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return this},e}(),PE=function(){function e(e){if(this.currentPosition=0,null==e)throw new Error("ArgumentNullException:text");this.text=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this.text.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.currentPosition===this.text.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.currentPosition},set:function(e){this.currentPosition=e},enumerable:!0,configurable:!0}),e.getCharsCount=function(e,t){if("string"===typeof t){if(null==e)throw new Error("ArgumentNullException:wholeText");for(var i=0,n=0;-1!==(n=e.indexOf(t,n));)i++,n++;return i}if(null==e)throw new Error("ArgumentNullException:text");if(null==t)throw new Error("ArgumentNullException:symbols");for(var r=0,o=0,a=e.length;o<a;o++){var s=e[o];this.contains(t,s)&&r++}return r},e.prototype.readLine=function(){for(var e=this.currentPosition;e<this.length;){var t=this.text[e];switch(t){case"\r":case"\n":var i=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e+1,"\r"===t&&this.currentPosition<this.length&&"\n"===this.text[this.currentPosition]&&this.currentPosition++,i}e++}if(e>this.currentPosition){var n=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e,n}return null},e.prototype.peekLine=function(){var e=this.currentPosition,t=this.readLine();return this.currentPosition=e,t},e.prototype.readWord=function(){for(var e=this.currentPosition;e<this.length;){var t=this.text[e];switch(t){case"\r":case"\n":var i=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e+1,"\r"===t&&this.currentPosition<this.length&&"\n"===this.text[this.currentPosition]&&this.currentPosition++,i;case" ":case"\t":e===this.currentPosition&&e++;var n=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e,n}e++}if(e>this.currentPosition){var r=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e,r}return null},e.prototype.peekWord=function(){var e=this.currentPosition,t=this.readWord();return this.currentPosition=e,t},e.prototype.read=function(e){if("undefined"===typeof e){var t="0";return this.end||(t=this.text[this.currentPosition],this.currentPosition++),t}for(var i=0,n="";!this.end&&i<e;){n+=t=this.read(),i++}return n},e.prototype.peek=function(){var e="0";return this.end||(e=this.text[this.currentPosition]),e},e.prototype.close=function(){this.text=null},e.prototype.readToEnd=function(){var e;return e=0===this.currentPosition?this.text:this.text.substr(this.currentPosition,this.length-this.currentPosition),this.currentPosition=this.length,e},e.contains=function(e,t){for(var i=!1,n=0;n<e.length;n++)if(e[n]===t){i=!0;break}return i},e.whiteSpace=" ",e.tab="\t",e.spaces=[e.whiteSpace,e.tab],e.whiteSpacePattern="^[ \t]+$",e}(),ME=function(){function e(){this.isOverloadWithPosition=!1}return e.prototype.layout=function(e,t,i,n,r,o,a){if(n instanceof gE){this.initialize(e,t,i,n,r),this.isOverloadWithPosition=o,this.clientSize=a;var s=this.doLayout();return this.clear(),s}this.initialize(e,t,i,n),this.isOverloadWithPosition=r,this.clientSize=o;s=this.doLayout();return this.clear(),s},e.prototype.initialize=function(e,t,i,n,r){if("number"===typeof r){if(null==e)throw new Error("ArgumentNullException:text");if(null==t)throw new Error("ArgumentNullException:font");this.text=e,this.font=t,this.format=i,this.size=new mE(n.width,n.height),this.rectangle=n,this.pageHeight=r,this.reader=new PE(e)}else this.initialize(e,t,i,new gE(new fE(0,0),n),0)},e.prototype.clear=function(){this.font=null,this.format=null,this.reader.close(),this.reader=null,this.text=null},e.prototype.doLayout=function(){for(var e=new LE,t=new LE,i=[],n=this.reader.peekLine(),r=this.getLineIndent(!0);null!=n;){if(null!==(t=this.layoutLine(n,r))||"undefined"!==typeof t){var o=0,a=this.copyToResult(e,t,i,o),s=a.success;if(o=a.numInserted,!s){this.reader.read(o);break}}this.reader.readLine(),n=this.reader.peekLine(),r=this.getLineIndent(!1)}return this.finalizeResult(e,i),e},e.prototype.getLineIndent=function(e){var t=0;return null!=this.format&&(t=e?this.format.firstLineIndent:this.format.paragraphIndent,t=this.size.width>0?Math.min(this.size.width,t):t),t},e.prototype.getLineHeight=function(){var e=this.font.height;return null!=this.format&&0!==this.format.lineSpacing&&(e=this.format.lineSpacing+this.font.height),e},e.prototype.getLineWidth=function(e){return this.font.getLineWidth(e,this.format)},e.prototype.layoutLine=function(e,t){var i=new LE;i.layoutLineHeight=this.getLineHeight();var n=[],r=this.size.width,o=this.getLineWidth(e)+t,a=_E.FirstParagraphLine,s=!0;if(r<=0||Math.round(o)<=Math.round(r))this.addToLineResult(i,n,e,o,_E.NewLineBreak|a);else{var l="",u="";o=t;var c=t,h=new PE(e),d=h.peekWord();for(d.length!==h.length&&" "===d&&(u+=d,l+=d,h.position+=1,d=h.peekWord());null!=d;){u+=d;var p=this.getLineWidth(u.toString())+c;if(" "===u.toString()&&(u="",p=0),p>r){if(this.getWrapType()===eE.None)break;if(u.length===d.length){if(this.getWrapType()===eE.WordOnly){i.textRemainder=e.substring(h.position);break}if(1===u.length){l+=d;break}s=!1,u="",d=h.peek().toString();continue}this.getLineWidth(d.toString())>r?this.format.wordWrap=eE.Character:"undefined"!==typeof this.format&&null!==this.format&&(this.format.wordWrap=eE.Word),this.getWrapType()===eE.Character&&s?(s=!1,u="",u+=l.toString(),d=h.peek().toString()):(" "!==(f=l.toString())&&this.addToLineResult(i,n,f,o,_E.LayoutBreak|a),this.isOverloadWithPosition&&(r=this.clientSize.width),u="",l="",o=0,c=0,p=0,a=_E.None,d=s?d:h.peekWord(),s=!0)}else l+=d,o=p,s?(h.readWord(),d=h.peekWord()):(h.read(),d=h.peek().toString())}if(l.length>0){var f=l.toString();this.addToLineResult(i,n,f,o,_E.NewLineBreak|_E.LastParagraphLine)}h.close()}i.layoutLines=[];for(var m=0;m<n.length;m++)i.layoutLines.push(n[m]);return n=[],i},e.prototype.addToLineResult=function(e,t,i,n,r){var o=new OE;o.text=i,o.width=n,o.lineType=r,t.push(o);var a=e.actualSize;a.height+=this.getLineHeight(),a.width=Math.max(a.width,n),e.size=a},e.prototype.copyToResult=function(e,t,i,n){var r=!0,o=null!=this.format&&!this.format.lineLimit,a=e.actualSize.height,s=this.size.height;if(this.pageHeight>0&&s+this.rectangle.y>this.pageHeight&&(s=this.rectangle.y-this.pageHeight,s=Math.max(s,-s)),n=0,null!=t.lines)for(var l=0,u=t.lines.length;l<u;l++){var c=a+t.lineHeight;if(!(c<=s||s<=0||o)){r=!1;break}var h=t.lines[l];n+=h.text.length,h=this.trimLine(h,0===i.length),i.push(h);var d=e.actualSize;d.width=Math.max(d.width,h.width),e.size=d,a=c}if(a!=e.size.height){var p=e.actualSize;p.height=a,e.size=p}return{success:r,numInserted:n}},e.prototype.finalizeResult=function(e,t){e.layoutLines=[];for(var i=0;i<t.length;i++)e.layoutLines.push(t[i]);e.layoutLineHeight=this.getLineHeight(),this.reader.end||(e.textRemainder=this.reader.readToEnd()),t=[]},e.prototype.trimLine=function(e,t){var i=e.text,n=e.width;e.lineType,_E.FirstParagraphLine,null==this.format||this.format.rightToLeft,PE.spaces;return(i=i.trim()).length!==e.text.length&&(n=this.getLineWidth(i),(e.lineType&_E.FirstParagraphLine)>0&&(n+=this.getLineIndent(t))),e.text=i,e.width=n,e},e.prototype.getWrapType=function(){return null!=this.format?this.format.wordWrap:eE.Word},e}(),LE=function(){function e(){}return Object.defineProperty(e.prototype,"remainder",{get:function(){return this.textRemainder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actualSize",{get:function(){return"undefined"===typeof this.size&&(this.size=new mE(0,0)),this.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lines",{get:function(){return this.layoutLines},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this.layoutLineHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return null==this.layoutLines||0===this.layoutLines.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.empty?0:this.layoutLines.length},enumerable:!0,configurable:!0}),e}(),OE=function(){function e(){}return Object.defineProperty(e.prototype,"lineType",{get:function(){return this.type},set:function(e){this.type=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.content},set:function(e){this.content=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.lineWidth},set:function(e){this.lineWidth=e},enumerable:!0,configurable:!0}),e}();!function(e){e[e.None=0]="None",e[e.NewLineBreak=1]="NewLineBreak",e[e.LayoutBreak=2]="LayoutBreak",e[e.FirstParagraphLine=4]="FirstParagraphLine",e[e.LastParagraphLine=8]="LastParagraphLine"}(_E||(_E={}));var RE,IE,DE,zE=function(){function e(e,t){this.fontStyle=KT.Regular,"number"===typeof e&&"undefined"===typeof t?this.fontSize=e:(this.fontSize=e,this.setStyle(t))}return Object.defineProperty(e.prototype,"name",{get:function(){return this.metrics.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.fontSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.metrics.getHeight(null)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this.fontStyle},set:function(e){this.fontStyle=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bold",{get:function(){return(this.style&KT.Bold)>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"italic",{get:function(){return(this.style&KT.Italic)>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strikeout",{get:function(){return(this.style&KT.Strikeout)>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"underline",{get:function(){return(this.style&KT.Underline)>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metrics",{get:function(){return this.fontMetrics},set:function(e){this.fontMetrics=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.pdfFontInternals},enumerable:!0,configurable:!0}),e.prototype.measureString=function(e,t,i,n,r){if("string"===typeof e&&"undefined"===typeof t)return this.measureString(e,null);if("string"===typeof e&&(t instanceof AE||null==t)&&"undefined"===typeof i&&"undefined"===typeof n){var o=t;return this.measureString(e,o,0,0)}if("string"===typeof e&&(t instanceof AE||null==t)&&"number"===typeof i&&"number"===typeof n){o=t;return this.measureString(e,0,o,i,n)}if("string"===typeof e&&"number"===typeof t&&(i instanceof AE||null==i)&&"number"===typeof n&&"number"===typeof r){var a=new mE(t,0),s=i;return this.measureString(e,a,s,n,r)}if(null==e)throw Error('ArgumentNullException("text")');o=t,s=i;var l=(new ME).layout(e,this,s,o,!1,new mE(0,0));return n=e.length,r=l.empty?0:l.lines.length,l.actualSize},e.prototype.equalsTo=function(e){return this.equalsToFont(e)},e.prototype.getInternals=function(){return this.pdfFontInternals},e.prototype.setInternals=function(e){if(null==e)throw new Error("ArgumentNullException:internals");this.pdfFontInternals=e},e.prototype.setStyle=function(e){this.fontStyle=e},e.prototype.applyFormatSettings=function(e,t,i){var n=i;if(null!=t&&i>0&&(0!==t.characterSpacing&&(n+=(e.length-1)*t.characterSpacing),0!==t.wordSpacing)){var r=PE.spaces;n+=PE.getCharsCount(e,r)*t.wordSpacing}return n},e.charSizeMultiplier=.001,e.syncObject=new Object,e}(),BE=function(){function e(e){this.radDegFactor=180/Math.PI,this.transformationMatrix=new FE(1,0,0,"undefined"===typeof e?1:-1,0,0)}return Object.defineProperty(e.prototype,"matrix",{get:function(){return this.transformationMatrix},set:function(e){this.transformationMatrix=e},enumerable:!0,configurable:!0}),e.prototype.translate=function(e,t){this.transformationMatrix.translate(e,t)},e.prototype.scale=function(e,t){this.transformationMatrix.elements[0]=e,this.transformationMatrix.elements[3]=t},e.prototype.rotate=function(e){e=e*Math.PI/180,this.transformationMatrix.elements[0]=Math.cos(e),this.transformationMatrix.elements[1]=Math.sin(e),this.transformationMatrix.elements[2]=-Math.sin(e),this.transformationMatrix.elements[3]=Math.cos(e)},e.prototype.toString=function(){for(var e="",t=0,i=this.transformationMatrix.elements.length;t<i;t++){this.matrix.elements[t];e+=_T.floatToString(this.transformationMatrix.elements[t]),e+=" "}return e},e.prototype.multiply=function(e){this.transformationMatrix.multiply(e.matrix)},e.degreesToRadians=function(e){return this.degRadFactor*e},e.prototype.radiansToDegrees=function(e){return this.radDegFactor*e},e.prototype.clone=function(){return this},e.degRadFactor=Math.PI/180,e}(),FE=function(){function e(e,t,i,n,r,o){"undefined"===typeof e?this.metrixElements=[]:"number"===typeof e?(this.metrixElements=[],this.metrixElements.push(e),this.metrixElements.push(t),this.metrixElements.push(i),this.metrixElements.push(n),this.metrixElements.push(r),this.metrixElements.push(o)):this.metrixElements=e}return Object.defineProperty(e.prototype,"elements",{get:function(){return this.metrixElements},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offsetX",{get:function(){return this.metrixElements[4]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offsetY",{get:function(){return this.metrixElements[5]},enumerable:!0,configurable:!0}),e.prototype.translate=function(e,t){this.metrixElements[4]=e,this.metrixElements[5]=t},e.prototype.transform=function(e){var t=e.x,i=e.y,n=t*this.elements[0]+i*this.elements[2]+this.offsetX,r=t*this.elements[1]+i*this.elements[3]+this.offsetY;return new fE(n,r)},e.prototype.multiply=function(e){var t=[];t.push(this.elements[0]*e.elements[0]+this.elements[1]*e.elements[2]),t[1]=this.elements[0]*e.elements[1]+this.elements[1]*e.elements[3],t[2]=this.elements[2]*e.elements[0]+this.elements[3]*e.elements[2],t[3]=this.elements[2]*e.elements[1]+this.elements[3]*e.elements[3],t[4]=this.offsetX*e.elements[0]+this.offsetY*e.elements[2]+e.offsetX,t[5]=this.offsetX*e.elements[1]+this.offsetY*e.elements[3]+e.offsetY;for(var i=0;i<t.length;i++)this.elements[i]=t[i]},e.prototype.dispose=function(){this.metrixElements=null},e.prototype.clone=function(){return new e(this.metrixElements)},e}(),NE=function(){this.pdf="PDF",this.text="Text",this.imageB="ImageB",this.imageC="ImageC",this.imageI="ImageI"},jE=function(){function e(){this.mKeys=[],this.mValues=[]}return e.prototype.size=function(){return this.mKeys.length},e.prototype.add=function(e,t){if(void 0===e||null===e||void 0===t||null===t)throw new ReferenceError("Provided key or value is not valid.");if(this.mKeys.indexOf(e)<0)return this.mKeys.push(e),this.mValues.push(t),1;throw new RangeError("An item with the same key has already been added.")},e.prototype.keys=function(){return this.mKeys},e.prototype.values=function(){return this.mValues},e.prototype.getValue=function(e){if(void 0===e||null===e)throw new ReferenceError("Provided key is not valid.");var t=this.mKeys.indexOf(e);if(t<0)throw new RangeError("No item with the specified key has been added.");return this.mValues[t]},e.prototype.setValue=function(e,t){if(void 0===e||null===e)throw new ReferenceError("Provided key is not valid.");var i=this.mKeys.indexOf(e);i<0?(this.mKeys.push(e),this.mValues.push(t)):this.mValues[i]=t},e.prototype.remove=function(e){if(void 0===e||null===e)throw new ReferenceError("Provided key is not valid.");var t=this.mKeys.indexOf(e);if(t<0)throw new RangeError("No item with the specified key has been added.");return this.mKeys.splice(t,1),this.mValues.splice(t,1),!0},e.prototype.containsKey=function(e){if(void 0===e||null===e)throw new ReferenceError("Provided key is not valid.");return!(this.mKeys.indexOf(e)<0)},e.prototype.clear=function(){this.mKeys=[],this.mValues=[]},e}(),VE=function(){function e(e,t,i){this.dictionary=new mT,this.dictionaryProperties=new fT,this.dictionary.items.setValue(this.dictionaryProperties.CA,new _T(e)),this.dictionary.items.setValue(this.dictionaryProperties.ca,new _T(t)),this.dictionary.items.setValue(this.dictionaryProperties.BM,new dT(i.toString()))}return Object.defineProperty(e.prototype,"element",{get:function(){return this.dictionary},enumerable:!0,configurable:!0}),e}(),UE=function(){function e(){this.automaticFieldsInformation=[]}return Object.defineProperty(e.prototype,"automaticFields",{get:function(){return this.automaticFieldsInformation},enumerable:!0,configurable:!0}),e.prototype.add=function(e){return this.automaticFields.push(e)},e}(),WE=function(){function e(){}return e.prototype.drawHelper=function(e,t,i){var n=0!==t||0!==i,r=null;n&&(r=e.save(),e.translateTransform(t,i)),this.drawInternal(e),n&&e.restore(r)},e}(),HE=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),GE=function(e){function t(){var t=e.call(this)||this;return t.internalBounds=new gE(0,0,0,0),t.internalTemplateSize=new mE(0,0),t}return HE(t,e),Object.defineProperty(t.prototype,"bounds",{get:function(){return this.internalBounds},set:function(e){this.internalBounds=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return new mE(this.bounds.width,this.bounds.height)},set:function(e){this.bounds.width=e.width,this.bounds.height=e.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"location",{get:function(){return new fE(this.bounds.x,this.bounds.y)},set:function(e){this.bounds.x=e.x,this.bounds.y=e.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this.internalFont},set:function(e){this.internalFont=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"brush",{get:function(){return this.internalBrush},set:function(e){this.internalBrush=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pen",{get:function(){return this.internalPen},set:function(e){this.internalPen=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stringFormat",{get:function(){return this.internalStringFormat},set:function(e){this.internalStringFormat=e},enumerable:!0,configurable:!0}),t.prototype.performDrawHelper=function(e,t,i,n){if(0===this.bounds.height||0===this.bounds.width){var r=this.getValue(e);this.internalTemplateSize=this.getFont().measureString(r,this.size,this.stringFormat)}},t.prototype.draw=function(e,t,i){if("undefined"===typeof t){var n=new fE(0,0);this.draw(e,n)}else if(t instanceof fE)this.draw(e,t.x,t.y);else{this.drawHelper(e,t,i);var r=new qE(this,new fE(t,i));e.automaticFields.add(r)}},t.prototype.getSize=function(){return 0===this.bounds.height||0===this.bounds.width?this.internalTemplateSize:this.size},t.prototype.drawInternal=function(e){},t.prototype.getBrush=function(){return"undefined"===typeof this.internalBrush||null==this.internalBrush?new TE(new SE(0,0,0)):this.internalBrush},t.prototype.getFont=function(){return"undefined"===typeof this.internalFont||null==this.internalFont?cP.defaultFont:this.internalFont},t.prototype.getPageFromGraphics=function(e){return"undefined"!==typeof e.page&&null!==e.page?e.page:e.currentPage},t}(WE),qE=function(){function e(t,i,n,r){this.pageNumberFieldLocation=new fE,this.pageNumberField=null,this.scaleX=1,this.scaleY=1,"undefined"===typeof i&&t instanceof e?(this.pageNumberField=t.field,this.pageNumberFieldLocation=t.location,this.scaleX=t.scalingX,this.scaleY=t.scalingY):"undefined"===typeof n&&i instanceof fE&&t instanceof GE?(this.pageNumberField=t,this.pageNumberFieldLocation=i):(this.pageNumberField=t,this.pageNumberFieldLocation=i,this.scaleX=n,this.scaleY=r)}return Object.defineProperty(e.prototype,"location",{get:function(){return this.pageNumberFieldLocation},set:function(e){this.pageNumberFieldLocation=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"field",{get:function(){return this.pageNumberField},set:function(e){this.pageNumberField=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingX",{get:function(){return this.scaleX},set:function(e){this.scaleX=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingY",{get:function(){return this.scaleY},set:function(e){this.scaleY=e},enumerable:!0,configurable:!0}),e}(),ZE=function(){function e(e){this.mPosition=0,this.buffer=new Uint8Array(e),this.dataView=new DataView(this.buffer.buffer)}return Object.defineProperty(e.prototype,"position",{get:function(){return this.mPosition},set:function(e){this.mPosition=e},enumerable:!0,configurable:!0}),e.prototype.read=function(e,t,i){for(var n=t;n<i;n++){var r=this.position;e.buffer[n]=this.readByte(r),this.position++}},e.prototype.getBuffer=function(e){return this.buffer[e]},e.prototype.writeFromBase64String=function(e){var t=this.encodedString(e);this.buffer=t},e.prototype.encodedString=function(e){var t,i,n,r,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=0,l=0,u=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;e.charAt(e.length-1)===a.charAt(64)&&u--;for(var c=new Uint8Array(0|u);s<e.length;)t=a.indexOf(e.charAt(s++))<<2|(r=a.indexOf(e.charAt(s++)))>>4,i=(15&r)<<4|(o=a.indexOf(e.charAt(s++)))>>2,n=(3&o)<<6|a.indexOf(e.charAt(s++)),c[l++]=t,c[l++]=i,c[l++]=n;return c},e.prototype.readByte=function(e){return this.buffer[e]},Object.defineProperty(e.prototype,"internalBuffer",{get:function(){return this.buffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this.buffer.byteLength},enumerable:!0,configurable:!0}),e.prototype.readNextTwoBytes=function(e){var t=e.readByte(this.position);return this.position++,t<<=8,t|=e.readByte(this.position),this.position++,t},e}(),XE=function(){function e(){}return Object.defineProperty(e.prototype,"empty",{get:function(){return this.offset===this.length&&this.length===this.checksum&&0===this.checksum},enumerable:!0,configurable:!0}),e}(),YE=function(){},$E=function(){},KE=function(){},QE=function(){function e(){}return Object.defineProperty(e.prototype,"isItalic",{get:function(){return 0!==(2&this.macStyle)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBold",{get:function(){return 0!==(1&this.macStyle)},enumerable:!0,configurable:!0}),e}(),JE=function(){},eA=function(){},tA=function(){},iA=function(){},nA=function(){},rA=function(){},oA=function(){function e(){}return Object.defineProperty(e.prototype,"empty",{get:function(){return this.index===this.width&&this.width===this.charCode&&0===this.charCode},enumerable:!0,configurable:!0}),e.prototype.compareTo=function(e){var t=e;return this.index-t.index},e}(),aA=function(){},sA=function(){},lA=function(){},uA=function(){},cA=function(){},hA=function(){function e(e){this.int32Size=4,this.int16Size=2,this.int64Size=8,this.bufferLength=e,this.buffer=[]}return Object.defineProperty(e.prototype,"data",{get:function(){if(this.buffer.length<this.bufferLength)for(var e=this.bufferLength-this.buffer.length,t=0;t<e;t++)this.buffer.push(0);return this.buffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return void 0!==this.internalPosition&&null!==this.internalPosition||(this.internalPosition=0),this.internalPosition},enumerable:!0,configurable:!0}),e.prototype.writeShort=function(e){var t=[(65280&e)>>8,255&e];this.flush(t)},e.prototype.writeInt=function(e){var t=(4278190080&e)>>24;t=t<0?256+t:t;var i=(16711680&e)>>16;i=i<0?256+i:i;var n=(65280&e)>>8;n=n<0?256+n:n;var r=255&e;r=r<0?256+r:r;var o=[(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e];this.flush(o)},e.prototype.writeUInt=function(e){var t=[(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e];this.flush(t)},e.prototype.writeString=function(e){if(null==e)throw new Error("Argument Null Exception : value");for(var t=[],i=0;i<e.length;i++)t.push(e.charCodeAt(i));this.flush(t)},e.prototype.writeBytes=function(e){this.flush(e)},e.prototype.flush=function(e){if(null===e)throw new Error("Argument Null Exception : buff");for(var t=this.position,i=0;i<e.length;i++)this.buffer[t]=e[i],t++;this.internalPosition+=e.length},e}(),dA=function(){function e(e){this.int32Size=4,this.isTtcFont=!1,this.isMacTtf=!1,this.metricsName="",this.isMacTTF=!1,this.missedGlyphs=0,this.tableNames=["cvt ","fpgm","glyf","head","hhea","hmtx","loca","maxp","prep"],this.entrySelectors=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4],this.fontData=e,this.initialize()}return Object.defineProperty(e.prototype,"macintosh",{get:function(){return null!==this.macintoshDictionary&&void 0!==this.macintoshDictionary||(this.macintoshDictionary=new nT),this.macintoshDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"microsoft",{get:function(){return null!==this.microsoftDictionary&&void 0!==this.microsoftDictionary||(this.microsoftDictionary=new nT),this.microsoftDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"macintoshGlyphs",{get:function(){return null!==this.internalMacintoshGlyphs&&void 0!==this.internalMacintoshGlyphs||(this.internalMacintoshGlyphs=new nT),this.internalMacintoshGlyphs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"microsoftGlyphs",{get:function(){return null!==this.internalMicrosoftGlyphs&&void 0!==this.internalMicrosoftGlyphs||(this.internalMicrosoftGlyphs=new nT),this.internalMicrosoftGlyphs},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){void 0===this.metrics&&(this.metrics=new QE),this.readFontDictionary();var e=this.readNameTable(),t=this.readHeadTable();this.initializeFontName(e),this.metrics.macStyle=t.macStyle},e.prototype.readFontDictionary=function(){this.offset=0;this.checkPreambula();var e=this.readInt16(this.offset);this.readInt16(this.offset),this.readInt16(this.offset),this.readInt16(this.offset);void 0===this.tableDirectory&&(this.tableDirectory=new nT);for(var t=0;t<e;++t){var i=new XE,n=this.readString(this.int32Size);i.checksum=this.readInt32(this.offset),i.offset=this.readInt32(this.offset),i.length=this.readInt32(this.offset),this.tableDirectory.setValue(n,i)}this.lowestPosition=this.offset,this.isTtcFont||this.fixOffsets()},e.prototype.fixOffsets=function(){for(var e=Number.MAX_VALUE,t=this.tableDirectory.keys(),i=0;i<t.length;i++){var n=(a=this.tableDirectory.getValue(t[i])).offset;if(e>n&&(e=n)<=this.lowestPosition)break}var r=e-this.lowestPosition;if(0!==r){var o=new nT;for(i=0;i<t.length;i++){var a;(a=this.tableDirectory.getValue(t[i])).offset-=r,o.setValue(t[i],a)}this.tableDirectory=o}},e.prototype.checkPreambula=function(){var e=this.readInt32(this.offset);if(this.isMacTtf=1953658213===e,65536!==e&&1953658213!==e&&1330926671!==e){if(this.isTtcFont=!0,this.offset=0,"ttcf"!==this.readString(4))throw new Error("Can not read TTF font data");if(this.offset+=4,this.readInt32(this.offset)<0)throw new Error("Can not read TTF font data");this.offset=this.readInt32(this.offset),e=this.readInt32(this.offset)}return e},e.prototype.readNameTable=function(){var e=this.getTable("name");this.offset=e.offset;var t=new YE;t.formatSelector=this.readUInt16(this.offset),t.recordsCount=this.readUInt16(this.offset),t.offset=this.readUInt16(this.offset),t.nameRecords=[];for(var i=this.offset,n=0;n<t.recordsCount;n++){this.offset=i;var r=new $E;r.platformID=this.readUInt16(this.offset),r.encodingID=this.readUInt16(this.offset),r.languageID=this.readUInt16(this.offset),r.nameID=this.readUInt16(this.offset),r.length=this.readUInt16(this.offset),r.offset=this.readUInt16(this.offset),this.offset=e.offset+t.offset+r.offset;var o=0===r.platformID||3===r.platformID;r.name=this.readString(r.length,o),t.nameRecords[n]=r,i+=12}return t},e.prototype.readHeadTable=function(){var e=this.getTable("head");this.offset=e.offset;var t=new KE;return t.version=this.readFixed(this.offset),t.fontRevision=this.readFixed(this.offset),t.checkSumAdjustment=this.readUInt32(this.offset),t.magicNumber=this.readUInt32(this.offset),t.flags=this.readUInt16(this.offset),t.unitsPerEm=this.readUInt16(this.offset),t.created=this.readInt64(this.offset),t.modified=this.readInt64(this.offset),t.xMin=this.readInt16(this.offset),t.yMin=this.readInt16(this.offset),t.xMax=this.readInt16(this.offset),t.yMax=this.readInt16(this.offset),t.macStyle=this.readUInt16(this.offset),t.lowestReadableSize=this.readUInt16(this.offset),t.fontDirectionHint=this.readInt16(this.offset),t.indexToLocalFormat=this.readInt16(this.offset),t.glyphDataFormat=this.readInt16(this.offset),t},e.prototype.readHorizontalHeaderTable=function(){var e=this.getTable("hhea");this.offset=e.offset;var t=new JE;return t.version=this.readFixed(this.offset),t.ascender=this.readInt16(this.offset),t.descender=this.readInt16(this.offset),t.lineGap=this.readInt16(this.offset),t.advanceWidthMax=this.readUInt16(this.offset),t.minLeftSideBearing=this.readInt16(this.offset),t.minRightSideBearing=this.readInt16(this.offset),t.xMaxExtent=this.readInt16(this.offset),t.caretSlopeRise=this.readInt16(this.offset),t.caretSlopeRun=this.readInt16(this.offset),this.offset+=10,t.metricDataFormat=this.readInt16(this.offset),t.numberOfHMetrics=this.readUInt16(this.offset),t},e.prototype.readOS2Table=function(){var e=this.getTable("OS/2");this.offset=e.offset;var t=new eA;return t.version=this.readUInt16(this.offset),t.xAvgCharWidth=this.readInt16(this.offset),t.usWeightClass=this.readUInt16(this.offset),t.usWidthClass=this.readUInt16(this.offset),t.fsType=this.readInt16(this.offset),t.ySubscriptXSize=this.readInt16(this.offset),t.ySubscriptYSize=this.readInt16(this.offset),t.ySubscriptXOffset=this.readInt16(this.offset),t.ySubscriptYOffset=this.readInt16(this.offset),t.ySuperscriptXSize=this.readInt16(this.offset),t.ySuperscriptYSize=this.readInt16(this.offset),t.ySuperscriptXOffset=this.readInt16(this.offset),t.ySuperscriptYOffset=this.readInt16(this.offset),t.yStrikeoutSize=this.readInt16(this.offset),t.yStrikeoutPosition=this.readInt16(this.offset),t.sFamilyClass=this.readInt16(this.offset),t.panose=this.readBytes(10),t.ulUnicodeRange1=this.readUInt32(this.offset),t.ulUnicodeRange2=this.readUInt32(this.offset),t.ulUnicodeRange3=this.readUInt32(this.offset),t.ulUnicodeRange4=this.readUInt32(this.offset),t.vendorIdentifier=this.readBytes(4),t.fsSelection=this.readUInt16(this.offset),t.usFirstCharIndex=this.readUInt16(this.offset),t.usLastCharIndex=this.readUInt16(this.offset),t.sTypoAscender=this.readInt16(this.offset),t.sTypoDescender=this.readInt16(this.offset),t.sTypoLineGap=this.readInt16(this.offset),t.usWinAscent=this.readUInt16(this.offset),t.usWinDescent=this.readUInt16(this.offset),t.ulCodePageRange1=this.readUInt32(this.offset),t.ulCodePageRange2=this.readUInt32(this.offset),t.version>1?(t.sxHeight=this.readInt16(this.offset),t.sCapHeight=this.readInt16(this.offset),t.usDefaultChar=this.readUInt16(this.offset),t.usBreakChar=this.readUInt16(this.offset),t.usMaxContext=this.readUInt16(this.offset)):(t.sxHeight=0,t.sCapHeight=0,t.usDefaultChar=0,t.usBreakChar=0,t.usMaxContext=0),t},e.prototype.readPostTable=function(){var e=this.getTable("post");this.offset=e.offset;var t=new tA;return t.formatType=this.readFixed(this.offset),t.italicAngle=this.readFixed(this.offset),t.underlinePosition=this.readInt16(this.offset),t.underlineThickness=this.readInt16(this.offset),t.isFixedPitch=this.readUInt32(this.offset),t.minType42=this.readUInt32(this.offset),t.maxType42=this.readUInt32(this.offset),t.minType1=this.readUInt32(this.offset),t.maxType1=this.readUInt32(this.offset),t},e.prototype.readWidthTable=function(e,t){var i=this.getTable("hmtx");this.offset=i.offset;for(var n=[],r=0;r<e;r++){var o=new iA;o.advanceWidth=this.readUInt16(this.offset),o.lsb=this.readInt16(this.offset);var a=1e3*o.advanceWidth/t;n.push(Math.floor(a))}return n},e.prototype.readCmapTable=function(){var e=this.getTable("cmap");this.offset=e.offset;var t=new rA;t.version=this.readUInt16(this.offset),t.tablesCount=this.readUInt16(this.offset);for(var i=this.offset,n=[],r=0;r<t.tablesCount;r++){this.offset=i;var o=new nA;o.platformID=this.readUInt16(this.offset),o.encodingID=this.readUInt16(this.offset),o.offset=this.readUInt32(this.offset),i=this.offset,this.readCmapSubTable(o),n[r]=o}return n},e.prototype.readCmapSubTable=function(e){var t=this.getTable("cmap");this.offset=t.offset+e.offset;var i=this.readUInt16(this.offset),n=this.getCmapEncoding(e.platformID,e.encodingID);n===rE.Macintosh?oE.Macintosh:oE.Microsoft;if(n!==rE.Unknown)switch(i){case nE.Apple:this.readAppleCmapTable(e,n);break;case nE.Microsoft:this.readMicrosoftCmapTable(e,n);break;case nE.Trimmed:this.readTrimmedCmapTable(e,n)}},e.prototype.readAppleCmapTable=function(e,t){var i=this.getTable("cmap");this.offset=i.offset+e.offset;var n=new sA;n.format=this.readUInt16(this.offset),n.length=this.readUInt16(this.offset),n.version=this.readUInt16(this.offset),null!==this.maxMacIndex&&void 0!==this.maxMacIndex||(this.maxMacIndex=0);for(var r=0;r<256;++r){var o=new oA;o.index=this.readByte(this.offset),o.width=this.getWidth(o.index),o.charCode=r,this.macintosh.setValue(r,o),this.addGlyph(o,t),this.maxMacIndex=Math.max(r,this.maxMacIndex)}},e.prototype.readMicrosoftCmapTable=function(e,t){var i=this.getTable("cmap");this.offset=i.offset+e.offset;var n=t===rE.Unicode?this.microsoft:this.macintosh,r=new lA;r.format=this.readUInt16(this.offset),r.length=this.readUInt16(this.offset),r.version=this.readUInt16(this.offset),r.segCountX2=this.readUInt16(this.offset),r.searchRange=this.readUInt16(this.offset),r.entrySelector=this.readUInt16(this.offset),r.rangeShift=this.readUInt16(this.offset);var o=r.segCountX2/2;r.endCount=this.readUshortArray(o),r.reservedPad=this.readUInt16(this.offset),r.startCount=this.readUshortArray(o),r.idDelta=this.readUshortArray(o),r.idRangeOffset=this.readUshortArray(o);var a=r.length/2-8-4*o;r.glyphID=this.readUshortArray(a);for(var s=0,l=0,u=0;u<o;u++)for(var c=r.startCount[u];c<=r.endCount[u]&&65535!==c;c++){if(0===r.idRangeOffset[u])s=c+r.idDelta[u]&65535;else{if((l=u+r.idRangeOffset[u]/2-o+c-r.startCount[u])>=r.glyphID.length)continue;s=r.glyphID[l]+r.idDelta[u]&65535}var h=new oA;h.index=s,h.width=this.getWidth(h.index);var d=t===rE.Symbol&&61440===(65280&c)?255&c:c;h.charCode=d,n.setValue(d,h),this.addGlyph(h,t)}},e.prototype.readTrimmedCmapTable=function(e,t){var i=this.getTable("cmap");this.offset=i.offset+e.offset;var n=new uA;n.format=this.readUInt16(this.offset),n.length=this.readUInt16(this.offset),n.version=this.readUInt16(this.offset),n.firstCode=this.readUInt16(this.offset),n.entryCount=this.readUInt16(this.offset);for(var r=0;r<n.entryCount;++r){var o=new oA;o.index=this.readUInt16(this.offset),o.width=this.getWidth(o.index),o.charCode=r+n.firstCode,this.macintosh.setValue(r,o),this.addGlyph(o,t),this.maxMacIndex=Math.max(r,this.maxMacIndex)}},e.prototype.initializeFontName=function(e){for(var t=0;t<e.recordsCount;t++){var i=e.nameRecords[t];if(1===i.nameID?this.metrics.fontFamily=i.name:6===i.nameID&&(this.metrics.postScriptName=i.name),null!==this.metrics.fontFamily&&void 0!==this.metrics.fontFamily&&null!==this.metrics.postScriptName&&void 0!==this.metrics.postScriptName)break}},e.prototype.getTable=function(e){var t,i=new XE;return this.tableDirectory.containsKey(e)&&(t=this.tableDirectory.getValue(e)),null!==t&&void 0!==t&&(i=t),i},e.prototype.getWidth=function(e){return e=e<this.width.length?e:this.width.length-1,this.width[e]},e.prototype.getCmapEncoding=function(e,t){var i=rE.Unknown;return e==oE.Microsoft&&t==aE.Undefined?i=rE.Symbol:e==oE.Microsoft&&t==aE.Unicode?i=rE.Unicode:e==oE.Macintosh&&t==sE.Roman&&(i=rE.Macintosh),i},e.prototype.addGlyph=function(e,t){var i=null;switch(t){case rE.Unicode:i=this.microsoftGlyphs;break;case rE.Macintosh:case rE.Symbol:i=this.macintoshGlyphs}i.setValue(e.index,e)},e.prototype.initializeMetrics=function(e,t,i,n,r,o){this.initializeFontName(e);for(var a=!1,s=0;s<o.length;s++){var l=o[s];if(this.getCmapEncoding(l.platformID,l.encodingID)===rE.Symbol){a=!0;break}}this.metrics.isSymbol=a,this.metrics.macStyle=t.macStyle,this.metrics.isFixedPitch=0!==r.isFixedPitch,this.metrics.italicAngle=r.italicAngle;var u=1e3/t.unitsPerEm;this.metrics.winAscent=n.sTypoAscender*u,this.metrics.macAscent=i.ascender*u,this.metrics.capHeight=0!==n.sCapHeight?n.sCapHeight:.7*t.unitsPerEm*u,this.metrics.winDescent=n.sTypoDescender*u,this.metrics.macDescent=i.descender*u,this.metrics.leading=(n.sTypoAscender-n.sTypoDescender+n.sTypoLineGap)*u,this.metrics.lineGap=Math.ceil(i.lineGap*u);var c=t.xMin*u,h=Math.ceil(this.metrics.macAscent+this.metrics.lineGap),d=t.xMax*u,p=this.metrics.macDescent;this.metrics.fontBox=new yE(c,h,d,p),this.metrics.stemV=80,this.metrics.widthTable=this.updateWidth(),this.metrics.contains=this.tableDirectory.containsKey("CFF"),this.metrics.subScriptSizeFactor=t.unitsPerEm/n.ySubscriptYSize,this.metrics.superscriptSizeFactor=t.unitsPerEm/n.ySuperscriptYSize},e.prototype.updateWidth=function(){var e=[];if(this.metrics.isSymbol)for(var t=0;t<256;t++){var i=this.getGlyph(String.fromCharCode(t));e[t]=i.empty?0:i.width}else{var n=[],r=String.fromCharCode(32);for(t=0;t<256;t++){n[0]=t;var o=this.getString(n,0,n.length),a=o.length>0?o[0]:"?";(i=this.getGlyph(a)).empty?(i=this.getGlyph(r),e[t]=i.empty?0:i.width):e[t]=i.width}}return e},e.prototype.getDefaultGlyph=function(){return this.getGlyph(PE.whiteSpace)},e.prototype.getString=function(e,t,i){for(var n="",r=0;r<i;r++)n+=String.fromCharCode(e[r+t]);return n},e.prototype.readLocaTable=function(e){var t=this.getTable("loca");this.offset=t.offset;var i=new aA,n=null;if(e){var r=t.length/2;n=[];for(var o=0;o<r;o++)n[o]=2*this.readUInt16(this.offset)}else{r=t.length/4;n=[];for(o=0;o<r;o++)n[o]=this.readUInt32(this.offset)}return i.offsets=n,i},e.prototype.updateGlyphChars=function(e,t){e.containsKey(0)||e.setValue(0,0);for(var i=new nT,n=e.keys(),r=0;r<n.length;r++)i.setValue(n[r],e.getValue(n[r]));for(r=0;r<n.length;r++){var o=n[r];this.processCompositeGlyph(e,o,t)}},e.prototype.processCompositeGlyph=function(e,t,i){if(t<i.offsets.length-1){var n=i.offsets[t];if(n!==i.offsets[t+1]){var r=this.getTable("glyf");this.offset=r.offset+n;var o=new cA;if(o.numberOfContours=this.readInt16(this.offset),o.xMin=this.readInt16(this.offset),o.yMin=this.readInt16(this.offset),o.xMax=this.readInt16(this.offset),o.yMax=this.readInt16(this.offset),o.numberOfContours<0)for(var a=0;;){var s=this.readUInt16(this.offset),l=this.readUInt16(this.offset);if(e.containsKey(l)||e.setValue(l,0),0===(s&uE.MoreComponents))break;a=0!==(s&uE.Arg1And2AreWords)?4:2,0!==(s&uE.WeHaveScale)?a+=2:0!==(s&uE.WeHaveAnXyScale)?a+=4:0!==(s&uE.WeHaveTwoByTwo)&&(a+=8),this.offset+=a}}}},e.prototype.generateGlyphTable=function(e,t,i,n){i=[];var r=e.keys();r.sort((function(e,t){return e-t}));for(var o=0,a=0;a<r.length;a++){var s=r[a];t.offsets.length>0&&(o+=t.offsets[s+1]-t.offsets[s])}var l=this.align(o);n=[];for(a=0;a<l;a++)n.push(0);var u=0,c=0,h=this.getTable("glyf");for(a=0;a<t.offsets.length;a++)if(i.push(u),c<r.length&&r[c]===a){++c,i[a]=u;var d=t.offsets[a],p=t.offsets[a+1]-d;if(p>0)this.offset=h.offset+d,n=this.read(n,u,p).buffer,u+=p}return{glyphTableSize:o,newLocaTable:i,newGlyphTable:n}},e.prototype.updateLocaTable=function(e,t,i){if(null===e)throw new Error("Argument Null Exception : newLocaTable");for(var n=t?2*e.length:4*e.length,r=this.align(n),o=new hA(r),a=0;a<e.length;a++){var s=e[a];t?(s/=2,o.writeShort(s)):o.writeInt(s)}return{newLocaUpdated:o.data,newLocaSize:n}},e.prototype.align=function(e){return e+3&-4},e.prototype.getFontProgram=function(e,t,i,n){if(null===e)throw new Error("Argument Null Exception : newLocaTableOut");if(null===t)throw new Error("Argument Null Exception : newGlyphTable");this.tableNames;var r=this.getFontProgramLength(e,t,0),o=r.fontProgramLength,a=r.numTables,s=new hA(o);s.writeInt(65536),s.writeShort(a);var l=this.entrySelectors[a];return s.writeShort(16*(1<<(31&l))),s.writeShort(l),s.writeShort(16*(a-(1<<(31&l)))),this.writeCheckSums(s,a,e,t,i,n),this.writeGlyphs(s,e,t),s.data},e.prototype.getFontProgramLength=function(e,t,i){if(null===e)throw new Error("Argument Null Exception : newLocaTableOut");if(null===t)throw new Error("Argument Null Exception : newGlyphTable");i=2;for(var n=this.tableNames,r=0,o=0;o<n.length;o++){var a=n[o];if("glyf"!==a&&"loca"!==a){var s=this.getTable(a);s.empty||(++i,r+=this.align(s.length))}}return r+=e.length,r+=t.length,{fontProgramLength:r+=16*i+12,numTables:i}},e.prototype.writeCheckSums=function(e,t,i,n,r,o){if(null===e)throw new Error("Argument Null Exception : writer");if(null===i)throw new Error("Argument Null Exception : newLocaTableOut");if(null===n)throw new Error("Argument Null Exception : newGlyphTable");for(var a=this.tableNames,s=16*t+12,l=0,u=0;u<a.length;u++){var c=a[u],h=this.getTable(c);if(!h.empty){if(e.writeString(c),"glyf"===c){var d=this.calculateCheckSum(n);e.writeInt(d),l=r}else if("loca"===c){d=this.calculateCheckSum(i);e.writeInt(d),l=o}else e.writeInt(h.checksum),l=h.length;e.writeUInt(s),e.writeUInt(l),s+=this.align(l)}}},e.prototype.calculateCheckSum=function(e){if(null===e)throw new Error("Argument Null Exception : bytes");for(var t=0,i=0,n=0,r=0,o=0,a=0;a<(e.length+1)/4;a++)o+=255&e[t++],r+=255&e[t++],n+=255&e[t++],i+=255&e[t++];var s=i;return s+=n<<8,s+=r<<16,s+=o<<24},e.prototype.writeGlyphs=function(e,t,i){if(null===e)throw new Error("Argument Null Exception : writer");if(null===t)throw new Error("Argument Null Exception : newLocaTableOut");if(null===i)throw new Error("Argument Null Exception : newGlyphTable");for(var n=this.tableNames,r=0;r<n.length;r++){var o=n[r],a=this.getTable(o);if(!a.empty)if("glyf"===o)e.writeBytes(i);else if("loca"===o)e.writeBytes(t);else{for(var s=this.align(a.length),l=[],u=0;u<s;u++)l.push(0);this.offset=a.offset;var c=this.read(l,0,a.length);e.writeBytes(c.buffer)}}},e.prototype.setOffset=function(e){this.offset=e},e.prototype.createInternals=function(){this.metrics=new QE;var e=this.readNameTable(),t=this.readHeadTable();this.bIsLocaShort=0===t.indexToLocalFormat;var i=this.readHorizontalHeaderTable(),n=this.readOS2Table(),r=this.readPostTable();this.width=this.readWidthTable(i.numberOfHMetrics,t.unitsPerEm);var o=this.readCmapTable();this.initializeMetrics(e,t,i,n,r,o)},e.prototype.getGlyph=function(e){if("number"===typeof e){var t=null;return this.metrics.isSymbol||null==this.microsoftGlyphs?this.metrics.isSymbol&&null!=this.macintoshGlyphs&&this.macintoshGlyphs.containsKey(e)&&(t=this.macintoshGlyphs.getValue(e)):this.microsoftGlyphs.containsKey(e)&&(t=this.microsoftGlyphs.getValue(e)),null!=t?t:this.getDefaultGlyph()}var i=null,n=e.charCodeAt(0);return this.metrics.isSymbol||null===this.microsoft?(this.metrics.isSymbol&&null!==this.macintosh||this.isMacTTF)&&(0!==this.maxMacIndex?n%=this.maxMacIndex+1:n=61440===(65280&n)?255&n:n,this.macintosh.containsKey(n)&&(i=this.macintosh.getValue(n),this.isFontPresent=!0)):this.microsoft.containsKey(n)?(i=this.microsoft.getValue(n),n!==PE.whiteSpace.charCodeAt(0)&&(this.isFontPresent=!0)):n!==PE.whiteSpace.charCodeAt(0)&&(this.isFontPresent=!1),e===PE.whiteSpace&&null===i&&(i=new oA),null!==i?i:this.getDefaultGlyph()},e.prototype.getGlyphChars=function(e){if(null===e||void 0===e)throw new Error("Argument Null Exception : chars");for(var t=new nT,i=e.keys(),n=0;n<i.length;n++){var r=i[n],o=this.getGlyph(r);o.empty||t.setValue(o.index,r.charCodeAt(0))}return t},e.prototype.getAllGlyphs=function(){for(var e=[],t=new oA,i=0,n=0;n<this.width.length;n++){var r=this.width[n];t.index=i,t.width=r,e.push(t),i++}return e},e.prototype.readFontProgram=function(e){var t=this.getGlyphChars(e),i=this.readLocaTable(this.bIsLocaShort);t.size()<e.size()&&(this.missedGlyphs=e.size()-t.size()),this.updateGlyphChars(t,i);var n=this.generateGlyphTable(t,i,null,null),r=n.glyphTableSize,o=n.newLocaTable,a=n.newGlyphTable,s=this.updateLocaTable(o,this.bIsLocaShort,null),l=s.newLocaSize,u=s.newLocaUpdated;return this.getFontProgram(u,a,r,l)},e.prototype.convertString=function(e){if(null===e)throw new Error("Argument Null Exception : text");for(var t="",i=0;i<e.length;i++){var n=e[i],r=this.getGlyph(n);r.empty||(t+=String.fromCharCode(r.index))}return t},e.prototype.getCharWidth=function(e){var t=this.getGlyph(e);return(t=t.empty?this.getDefaultGlyph():t).empty?0:t.width},e.prototype.readString=function(e,t){if(void 0===t)return this.readString(e,!1);var i="";if(t)for(var n=0;n<e;n++)n%2!==0&&(i+=String.fromCharCode(this.fontData[this.offset])),this.offset+=1;else for(n=0;n<e;n++)i+=String.fromCharCode(this.fontData[this.offset]),this.offset+=1;return i},e.prototype.readFixed=function(e){return this.readInt16(e)+this.readInt16(e+2)/16384},e.prototype.readInt32=function(e){var t=this.fontData[e+3],i=this.fontData[e+2],n=this.fontData[e+1],r=this.fontData[e];return this.offset+=4,t+(i<<8)+(n<<16)+(r<<24)},e.prototype.readUInt32=function(e){var t=this.fontData[e+3],i=this.fontData[e+2],n=this.fontData[e+1],r=this.fontData[e];return this.offset+=4,t|i<<8|n<<16|r<<24},e.prototype.readInt16=function(e){var t=(this.fontData[e]<<8)+this.fontData[e+1];return t=32768&t?t-65536:t,this.offset+=2,t},e.prototype.readInt64=function(e){var t=this.readInt32(e+4),i=4294967296*this.readInt32(e)+t;return t<0&&(i+=4294967296),i},e.prototype.readUInt16=function(e){var t=this.fontData[e]<<8|this.fontData[e+1];return this.offset+=2,t},e.prototype.readUshortArray=function(e){for(var t=[],i=0;i<e;i++)t[i]=this.readUInt16(this.offset);return t},e.prototype.readBytes=function(e){for(var t=[],i=0;i<e;i++)t.push(this.fontData[this.offset]),this.offset+=1;return t},e.prototype.readByte=function(e){var t=this.fontData[e];return this.offset+=1,t},e.prototype.read=function(e,t,i){if(null===e)throw new Error("Argument Null Exception : buffer");var n=0,r=0;do{for(var o=0;o<i-n&&this.offset+o<this.fontData.length;o++)e[t+o]=this.fontData[this.offset+o];r=i-n,this.offset+=r,n+=r}while(n<i);return{buffer:e,written:n}},e}(),pA=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),fA=function(){function e(){this.lineGap=0}return e.prototype.getAscent=function(e){return this.ascent*zE.charSizeMultiplier*this.getSize(e)},e.prototype.getDescent=function(e){return this.descent*zE.charSizeMultiplier*this.getSize(e)},e.prototype.getLineGap=function(e){return this.lineGap*zE.charSizeMultiplier*this.getSize(e)},e.prototype.getHeight=function(e){for(var t=["cambria","candara","constantia","corbel","cariadings"],i=[],n=0;n<t.length;n++){var r=t[n];i.push(r)}return this.getDescent(e)<0?this.getAscent(e)-this.getDescent(e)+this.getLineGap(e):this.getAscent(e)+this.getDescent(e)+this.getLineGap(e)},e.prototype.getSize=function(e){var t=this.size;if(null!=e)switch(e.subSuperScript){case tE.SubScript:t/=this.subScriptSizeFactor;break;case tE.SuperScript:t/=this.superscriptSizeFactor}return t},e.prototype.clone=function(){return this.widthTable=mA.clone(),this},Object.defineProperty(e.prototype,"widthTable",{get:function(){return this.internalWidthTable},set:function(e){this.internalWidthTable=e},enumerable:!0,configurable:!0}),e}(),mA=function(){function e(){}return e.clone=function(){return null},e}(),gA=function(e){function t(t){var i=e.call(this)||this;if(null==t)throw new Error("ArgumentNullException:widths");return i.widths=t,i}return pA(t,e),t.prototype.items=function(e){if(e<0||e>=this.widths.length)throw new Error("ArgumentOutOfRangeException:index, The character is not supported by the font.");return this.widths[e]},Object.defineProperty(t.prototype,"length",{get:function(){return this.widths.length},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return this.widths=this.widths,this},t.prototype.toArray=function(){return new wT(this.widths)},t}(mA),yA=function(){function e(e,t){if(this.nameString="ABCDEFGHIJKLMNOPQRSTUVWXYZ",this.dictionaryProperties=new fT,this.isCompress=!1,this.isEmbedFont=!1,this.cmapPrefix="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap"+pT.newLine+"/CIDSystemInfo << /Registry (Adobe)/Ordering (UCS)/Supplement 0>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange"+pT.newLine,this.cmapEndCodespaceRange="endcodespacerange"+pT.newLine,this.cmapBeginRange="beginbfrange"+pT.newLine,this.cmapEndRange="endbfrange"+pT.newLine,this.cmapSuffix="endbfrange\nendcmap\nCMapName currentdict /CMap defineresource pop\nend end"+pT.newLine,null===e||void 0===e)throw new Error("ArgumentNullException:base64String");this.fontSize=t,this.fontString=e,this.Initialize()}return e.prototype.getCharWidth=function(e){return this.ttfReader.getCharWidth(e)},e.prototype.getLineWidth=function(e){for(var t=0,i=0,n=e.length;i<n;i++){var r=e[i];t+=this.getCharWidth(r)}return t},e.prototype.Initialize=function(){var e=new ZE(this.fontString.length);e.writeFromBase64String(this.fontString),this.fontData=e.internalBuffer,this.ttfReader=new dA(this.fontData),this.ttfMetrics=this.ttfReader.metrics},e.prototype.createInternals=function(){this.fontDictionary=new mT,this.fontProgram=new LT,this.cmap=new LT,this.descendantFont=new mT,this.metrics=new fA,this.ttfReader.createInternals(),this.ttfMetrics=this.ttfReader.metrics,this.initializeMetrics(),this.subsetName=this.getFontName(),this.createDescendantFont(),this.createCmap(),this.createFontDictionary(),this.createFontProgram()},e.prototype.getInternals=function(){return this.fontDictionary},e.prototype.initializeMetrics=function(){var e=this.ttfReader.metrics;this.metrics.ascent=e.macAscent,this.metrics.descent=e.macDescent,this.metrics.height=e.macAscent-e.macDescent+e.lineGap,this.metrics.name=e.fontFamily,this.metrics.postScriptName=e.postScriptName,this.metrics.size=this.fontSize,this.metrics.widthTable=new gA(e.widthTable),this.metrics.lineGap=e.lineGap,this.metrics.subScriptSizeFactor=e.subScriptSizeFactor,this.metrics.superscriptSizeFactor=e.superscriptSizeFactor,this.metrics.isBold=e.isBold},e.prototype.getFontName=function(){for(var e,t="",i=0;i<6;i++){var n=Math.floor(26*Math.random())+0;t+=this.nameString[n]}return t+="+",e=(t+=this.ttfReader.metrics.postScriptName).toString(),e=this.formatName(e)},e.prototype.formatName=function(e){var t=e.replace("(","#28");return(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(")","#29")).replace("[","#5B")).replace("]","#5D")).replace("<","#3C")).replace(">","#3E")).replace("{","#7B")).replace("}","#7D")).replace("/","#2F")).replace("%","#25")).replace(" ","#20")},e.prototype.createDescendantFont=function(){this.descendantFont.isFont=!0,this.descendantFont.descendantFontBeginSave=new yT(this),this.descendantFont.items.setValue(this.dictionaryProperties.type,new dT(this.dictionaryProperties.font)),this.descendantFont.items.setValue(this.dictionaryProperties.subtype,new dT(this.dictionaryProperties.cIDFontType2)),this.descendantFont.items.setValue(this.dictionaryProperties.baseFont,new dT(this.subsetName)),this.descendantFont.items.setValue(this.dictionaryProperties.cIDToGIDMap,new dT(this.dictionaryProperties.identity)),this.descendantFont.items.setValue(this.dictionaryProperties.dw,new _T(1e3)),this.fontDescriptor=this.createFontDescriptor(),this.descendantFont.items.setValue(this.dictionaryProperties.fontDescriptor,new BT(this.fontDescriptor));var e=this.createSystemInfo();this.descendantFont.items.setValue(this.dictionaryProperties.cIDSystemInfo,e)},e.prototype.createFontDescriptor=function(){var e=new mT,t=this.ttfReader.metrics;return e.isFont=!0,e.items.setValue(this.dictionaryProperties.type,new dT(this.dictionaryProperties.fontDescriptor)),e.items.setValue(this.dictionaryProperties.fontName,new dT(this.subsetName)),e.items.setValue(this.dictionaryProperties.flags,new _T(this.getDescriptorFlags())),e.items.setValue(this.dictionaryProperties.fontBBox,wT.fromRectangle(this.getBoundBox())),e.items.setValue(this.dictionaryProperties.missingWidth,new _T(t.widthTable[32])),e.items.setValue(this.dictionaryProperties.stemV,new _T(t.stemV)),e.items.setValue(this.dictionaryProperties.italicAngle,new _T(t.italicAngle)),e.items.setValue(this.dictionaryProperties.capHeight,new _T(t.capHeight)),e.items.setValue(this.dictionaryProperties.ascent,new _T(t.winAscent)),e.items.setValue(this.dictionaryProperties.descent,new _T(t.winDescent)),e.items.setValue(this.dictionaryProperties.leading,new _T(t.leading)),e.items.setValue(this.dictionaryProperties.avgWidth,new _T(t.widthTable[32])),e.items.setValue(this.dictionaryProperties.fontFile2,new BT(this.fontProgram)),e.items.setValue(this.dictionaryProperties.maxWidth,new _T(t.widthTable[32])),e.items.setValue(this.dictionaryProperties.xHeight,new _T(0)),e.items.setValue(this.dictionaryProperties.stemH,new _T(0)),e},e.prototype.createCmap=function(){this.cmap.cmapBeginSave=new OT(this)},e.prototype.createFontDictionary=function(){this.fontDictionary.isFont=!0,this.fontDictionary.fontDictionaryBeginSave=new vT(this),this.fontDictionary.items.setValue(this.dictionaryProperties.type,new dT(this.dictionaryProperties.font)),this.fontDictionary.items.setValue(this.dictionaryProperties.baseFont,new dT(this.subsetName)),this.fontDictionary.items.setValue(this.dictionaryProperties.subtype,new dT(this.dictionaryProperties.type0)),this.fontDictionary.items.setValue(this.dictionaryProperties.encoding,new dT(this.dictionaryProperties.identityH));var e=new wT,t=new BT(this.descendantFont);e.isFont=!0,e.add(t),this.fontDictionary.items.setValue(this.dictionaryProperties.descendantFonts,e)},e.prototype.createFontProgram=function(){this.fontProgram.fontProgramBeginSave=new RT(this)},e.prototype.createSystemInfo=function(){var e=new mT;return e.items.setValue(this.dictionaryProperties.registry,new DT("Adobe")),e.items.setValue(this.dictionaryProperties.ordering,new DT(this.dictionaryProperties.identity)),e.items.setValue(this.dictionaryProperties.supplement,new _T(0)),e},e.prototype.descendantFontBeginSave=function(){if(null!==this.usedChars&&void 0!==this.usedChars&&this.usedChars.size()>0){var e=this.getDescendantWidth();null!==e&&this.descendantFont.items.setValue(this.dictionaryProperties.w,e)}},e.prototype.cmapBeginSave=function(){this.generateCmap()},e.prototype.fontDictionaryBeginSave=function(){null!==this.usedChars&&void 0!==this.usedChars&&this.usedChars.size()>0&&!this.fontDictionary.containsKey(this.dictionaryProperties.toUnicode)&&this.fontDictionary.items.setValue(this.dictionaryProperties.toUnicode,new BT(this.cmap))},e.prototype.fontProgramBeginSave=function(){this.isCompress=!0,this.generateFontProgram()},e.prototype.getDescendantWidth=function(){var e=new wT;if(null!==this.usedChars&&void 0!==this.usedChars&&this.usedChars.size()>0){for(var t=[],i=this.usedChars.keys(),n=0;n<i.length;n++){var r=i[n];(u=this.ttfReader.getGlyph(r)).empty||t.push(u)}t.sort((function(e,t){return e.index-t.index}));var o=0,a=0,s=!1,l=new wT;for(n=0;n<t.length;n++){var u=t[n];s||(s=!0,o=u.index,a=u.index-1),(a+1!==u.index||n+1===t.length)&&t.length>1&&(e.add(new _T(o)),0!==n&&e.add(l),o=u.index,l=new wT),l.add(new _T(u.width)),n+1===t.length&&(e.add(new _T(o)),e.add(l)),a=u.index}}return e},e.prototype.generateCmap=function(){if(null!==this.usedChars&&void 0!==this.usedChars&&this.usedChars.size()>0){var e=this.ttfReader.getGlyphChars(this.usedChars);if(e.size()>0){var t=e.keys().sort(),i=t[0],n=t[t.length-1],r=this.toHexString(i,!1)+this.toHexString(n,!1)+pT.newLine,o="";o+=this.cmapPrefix,o+=r,o+=this.cmapEndCodespaceRange;for(var a=0,s=0;s<t.length;s++){0===a&&(0!==s&&(o+=this.cmapEndRange),o+=a=Math.min(100,t.length-s),o+=pT.whiteSpace,o+=this.cmapBeginRange),a-=1;var l=t[s];o+=this.toHexString(l,!0)+this.toHexString(l,!0)+this.toHexString(e.getValue(l),!0)+"\n"}o+=this.cmapSuffix,this.cmap.clearStream(),this.cmap.isFont=!0,this.cmap.write(o)}}},e.prototype.generateFontProgram=function(){var e;this.usedChars=null===this.usedChars||void 0===this.usedChars?new nT:this.usedChars,this.ttfReader.setOffset(0),e=this.ttfReader.readFontProgram(this.usedChars),this.fontProgram.clearStream(),this.fontProgram.isFont=!0,this.fontProgram.writeBytes(e)},e.prototype.getDescriptorFlags=function(){var e=0,t=this.ttfReader.metrics;return t.isFixedPitch&&(e|=lE.FixedPitch),t.isSymbol?e|=lE.Symbolic:e|=lE.Nonsymbolic,t.isItalic&&(e|=lE.Italic),t.isBold&&(e|=lE.ForceBold),e},e.prototype.getBoundBox=function(){var e=this.ttfReader.metrics.fontBox,t=Math.abs(e.right-e.left),i=Math.abs(e.top-e.bottom);return new gE(e.left,e.bottom,t,i)},e.prototype.toHexString=function(e,t){var i=e.toString(16);return t&&(i=i.toUpperCase()),"<0000".substring(0,5-i.length)+i+">"},e.prototype.setSymbols=function(e){if(null===e)throw new Error("Argument Null Exception : text");null!==this.usedChars&&void 0!==this.usedChars||(this.usedChars=new nT);for(var t=0;t<e.length;t++){var i=e[t];this.usedChars.setValue(i,String.fromCharCode(0))}!1===this.isEmbedFont&&this.getDescendantWidth()},e}(),vA=function(){function e(){this.arabicCharTable=[["\u0621","\ufe80"],["\u0622","\ufe81","\ufe82"],["\u0623","\ufe83","\ufe84"],["\u0624","\ufe85","\ufe86"],["\u0625","\ufe87","\ufe88"],["\u0626","\ufe89","\ufe8a","\ufe8b","\ufe8c"],["\u0627","\ufe8d","\ufe8e"],["\u0628","\ufe8f","\ufe90","\ufe91","\ufe92"],["\u0629","\ufe93","\ufe94"],["\u062a","\ufe95","\ufe96","\ufe97","\ufe98"],["\u062b","\ufe99","\ufe9a","\ufe9b","\ufe9c"],["\u062c","\ufe9d","\ufe9e","\ufe9f","\ufea0"],["\u062d","\ufea1","\ufea2","\ufea3","\ufea4"],["\u062e","\ufea5","\ufea6","\ufea7","\ufea8"],["\u062f","\ufea9","\ufeaa"],["\u0630","\ufeab","\ufeac"],["\u0631","\ufead","\ufeae"],["\u0632","\ufeaf","\ufeb0"],["\u0633","\ufeb1","\ufeb2","\ufeb3","\ufeb4"],["\u0634","\ufeb5","\ufeb6","\ufeb7","\ufeb8"],["\u0635","\ufeb9","\ufeba","\ufebb","\ufebc"],["\u0636","\ufebd","\ufebe","\ufebf","\ufec0"],["\u0637","\ufec1","\ufec2","\ufec3","\ufec4"],["\u0638","\ufec5","\ufec6","\ufec7","\ufec8"],["\u0639","\ufec9","\ufeca","\ufecb","\ufecc"],["\u063a","\ufecd","\ufece","\ufecf","\ufed0"],["\u0640","\u0640","\u0640","\u0640","\u0640"],["\u0641","\ufed1","\ufed2","\ufed3","\ufed4"],["\u0642","\ufed5","\ufed6","\ufed7","\ufed8"],["\u0643","\ufed9","\ufeda","\ufedb","\ufedc"],["\u0644","\ufedd","\ufede","\ufedf","\ufee0"],["\u0645","\ufee1","\ufee2","\ufee3","\ufee4"],["\u0646","\ufee5","\ufee6","\ufee7","\ufee8"],["\u0647","\ufee9","\ufeea","\ufeeb","\ufeec"],["\u0648","\ufeed","\ufeee"],["\u0649","\ufeef","\ufef0","\ufbe8","\ufbe9"],["\u064a","\ufef1","\ufef2","\ufef3","\ufef4"],["\u0671","\ufb50","\ufb51"],["\u0679","\ufb66","\ufb67","\ufb68","\ufb69"],["\u067a","\ufb5e","\ufb5f","\ufb60","\ufb61"],["\u067b","\ufb52","\ufb53","\ufb54","\ufb55"],["\u067e","\ufb56","\ufb57","\ufb58","\ufb59"],["\u067f","\ufb62","\ufb63","\ufb64","\ufb65"],["\u0680","\ufb5a","\ufb5b","\ufb5c","\ufb5d"],["\u0683","\ufb76","\ufb77","\ufb78","\ufb79"],["\u0684","\ufb72","\ufb73","\ufb74","\ufb75"],["\u0686","\ufb7a","\ufb7b","\ufb7c","\ufb7d"],["\u0687","\ufb7e","\ufb7f","\ufb80","\ufb81"],["\u0688","\ufb88","\ufb89"],["\u068c","\ufb84","\ufb85"],["\u068d","\ufb82","\ufb83"],["\u068e","\ufb86","\ufb87"],["\u0691","\ufb8c","\ufb8d"],["\u0698","\ufb8a","\ufb8b"],["\u06a4","\ufb6a","\ufb6b","\ufb6c","\ufb6d"],["\u06a6","\ufb6e","\ufb6f","\ufb70","\ufb71"],["\u06a9","\ufb8e","\ufb8f","\ufb90","\ufb91"],["\u06ad","\ufbd3","\ufbd4","\ufbd5","\ufbd6"],["\u06af","\ufb92","\ufb93","\ufb94","\ufb95"],["\u06b1","\ufb9a","\ufb9b","\ufb9c","\ufb9d"],["\u06b3","\ufb96","\ufb97","\ufb98","\ufb99"],["\u06ba","\ufb9e","\ufb9f"],["\u06bb","\ufba0","\ufba1","\ufba2","\ufba3"],["\u06be","\ufbaa","\ufbab","\ufbac","\ufbad"],["\u06c0","\ufba4","\ufba5"],["\u06c1","\ufba6","\ufba7","\ufba8","\ufba9"],["\u06c5","\ufbe0","\ufbe1"],["\u06c6","\ufbd9","\ufbda"],["\u06c7","\ufbd7","\ufbd8"],["\u06c8","\ufbdb","\ufbdc"],["\u06c9","\ufbe2","\ufbe3"],["\u06cb","\ufbde","\ufbdf"],["\u06cc","\ufbfc","\ufbfd","\ufbfe","\ufbff"],["\u06d0","\ufbe4","\ufbe5","\ufbe6","\ufbe7"],["\u06d2","\ufbae","\ufbaf"],["\u06d3","\ufbb0","\ufbb1"]],this.alef="\u0627",this.alefHamza="\u0623",this.alefHamzaBelow="\u0625",this.alefMadda="\u0622",this.lam="\u0644",this.hamza="\u0621",this.zeroWidthJoiner="\u200d",this.hamzaAbove="\u0654",this.hamzaBelow="\u0655",this.wawHamza="\u0624",this.yehHamza="\u0626",this.waw="\u0648",this.alefMaksura="\u0649",this.yeh="\u064a",this.farsiYeh="\u06cc",this.shadda="\u0651",this.madda="\u0653",this.lwa="\ufefb",this.lwawh="\ufef7",this.lwawhb="\ufef9",this.lwawm="\ufef5",this.bwhb="\u06d3",this.fathatan="\u064b",this.superScriptalef="\u0670",this.vowel=1,this.arabicMapTable=new nT;for(var e=0;e<this.arabicCharTable.length;e++)this.arabicMapTable.setValue(this.arabicCharTable[e][0],this.arabicCharTable[e])}return e.prototype.getCharacterShape=function(e,t){if(e>=this.hamza&&e<=this.bwhb){if(this.arabicMapTable.getValue(e))return this.arabicMapTable.getValue(e)[t+1]}else if(e>=this.lwawm&&e<=this.lwa)return e;return e},e.prototype.shape=function(e,t){for(var i="",n="",r=0;r<e.length;r++){var o=e[r];if(o>="\u0600"&&o<="\u06ff")n+=o;else{if(n.length>0)i+=this.doShape(n.toString(),0),n="";i+=o}}n.length>0&&(i+=this.doShape(n.toString(),0));return i.toString()},e.prototype.doShape=function(e,t){for(var i="",n=0,r=0,o="",a=new bA,s=new bA;r<e.length;)if(o=e[r++],0===this.ligature(o,s)){var l=this.getShapeCount(o);n=1===l?0:2,a.Shapes>2&&(n+=1),n%=s.Shapes,s.Value=this.getCharacterShape(s.Value,n),i=this.append(i,a,t),a=s,(s=new bA).Value=o,s.Shapes=l,s.Ligature++}return n=a.Shapes>2?1:0,n%=s.Shapes,s.Value=this.getCharacterShape(s.Value,n),i=this.append(i,a,t),(i=this.append(i,s,t)).toString()},e.prototype.append=function(e,t,i){return""!==t.Value&&(e+=t.Value,t.Ligature-=1,""!==t.Type&&(0===(i&this.vowel)?(e+=t.Type,t.Ligature-=1):t.Ligature-=1),""!==t.vowel&&(0===(i&this.vowel)?(e+=t.vowel,t.Ligature-=1):t.Ligature-=1)),e},e.prototype.ligature=function(e,t){if(""!==t.Value){var i=0;if(e>=this.fathatan&&e<=this.hamzaBelow||e===this.superScriptalef){if(i=1,""!==t.vowel&&e!==this.shadda&&(i=2),e===this.shadda){if(null!=t.Type)return 0;t.Type=this.shadda}else e===this.hamzaBelow?t.Value===this.alef?(t.Value=this.alefHamzaBelow,i=2):e===this.lwa?(t.Value=this.lwawhb,i=2):t.Type=this.hamzaBelow:e===this.hamzaAbove?t.Value===this.alef?(t.Value=this.alefHamza,i=2):t.Value===this.lwa?(t.Value=this.lwawh,i=2):t.Value===this.waw?(t.Value=this.wawHamza,i=2):t.Value===this.yeh||t.Value===this.alefMaksura||t.Value===this.farsiYeh?(t.Value=this.yehHamza,i=2):t.Type=this.hamzaAbove:e===this.madda?t.Value===this.alef&&(t.Value=this.alefMadda,i=2):t.vowel=e;return 1===i&&t.Ligature++,i}return""!==t.vowel?0:(t.Value===this.lam&&(e===this.alef?(t.Value=this.lwa,t.Shapes=2,i=3):e===this.alefHamza?(t.Value=this.lwawh,t.Shapes=2,i=3):e===this.alefHamzaBelow?(t.Value=this.lwawhb,t.Shapes=2,i=3):e===this.alefMadda&&(t.Value=this.lwawm,t.Shapes=2,i=3)),i)}return 0},e.prototype.getShapeCount=function(e){if(e>=this.hamza&&e<=this.bwhb&&!(e>=this.fathatan&&e<=this.hamzaBelow||e===this.superScriptalef)){if(this.arabicMapTable.getValue(e))return this.arabicMapTable.getValue(e).length-1}else if(e===this.zeroWidthJoiner)return 4;return 1},e}(),bA=function(){function e(){this.shapeValue="",this.shapeType="",this.shapeVowel="",this.shapeLigature=0,this.shapeShapes=1}return Object.defineProperty(e.prototype,"Value",{get:function(){return this.shapeValue},set:function(e){this.shapeValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Type",{get:function(){return this.shapeType},set:function(e){this.shapeType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vowel",{get:function(){return this.shapeVowel},set:function(e){this.shapeVowel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Ligature",{get:function(){return this.shapeLigature},set:function(e){this.shapeLigature=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Shapes",{get:function(){return this.shapeShapes},set:function(e){this.shapeShapes=e},enumerable:!0,configurable:!0}),e}(),xA=function(){function e(){this.indexes=[],this.indexLevels=[],this.mirroringShapeCharacters=new nT,this.update()}return e.prototype.doMirrorShaping=function(e){for(var t=[],i=0;i<e.length;i++)1===(1&this.indexLevels[i])&&this.mirroringShapeCharacters.containsKey(e[i].charCodeAt(0))?t[i]=String.fromCharCode(this.mirroringShapeCharacters.getValue(e[i].charCodeAt(0))):t[i]=e[i].toString();for(var n="",r=0;r<t.length;r++)n+=t[r];return n},e.prototype.getLogicalToVisualString=function(e,t){var i=new _A;this.indexLevels=i.getVisualOrder(e,t),this.setDefaultIndexLevel(),this.doOrder(0,this.indexLevels.length-1);for(var n=this.doMirrorShaping(e),r="",o=0;o<this.indexes.length;o++){r+=n[this.indexes[o]]}return r.toString()},e.prototype.setDefaultIndexLevel=function(){for(var e=0;e<this.indexLevels.length;e++)this.indexes[e]=e},e.prototype.doOrder=function(e,t){for(var i=this.indexLevels[e],n=i,r=i,o=i,a=e+1;a<=t;++a){var s=this.indexLevels[a];s>i?i=s:s<n&&(n=s),r&=s,o|=s}if(0!==(1&o))if(1!==(1&r))for(n|=1;i>=n;){for(var l=e;;){for(;l<=t&&!(this.indexLevels[l]>=i);)l+=1;if(l>t)break;for(var u=l+1;u<=t&&!(this.indexLevels[u]<i);)u+=1;this.reArrange(l,u),l=u+1}i-=1}else this.reArrange(e,t+1)},e.prototype.reArrange=function(e,t){var i=(e+t)/2;for(--t;e<i;++e,--t){var n=this.indexes[e];this.indexes[e]=this.indexes[t],this.indexes[t]=n}},e.prototype.update=function(){this.mirroringShapeCharacters.setValue(40,41),this.mirroringShapeCharacters.setValue(41,40),this.mirroringShapeCharacters.setValue(60,62),this.mirroringShapeCharacters.setValue(62,60),this.mirroringShapeCharacters.setValue(91,93),this.mirroringShapeCharacters.setValue(93,91),this.mirroringShapeCharacters.setValue(123,125),this.mirroringShapeCharacters.setValue(125,123),this.mirroringShapeCharacters.setValue(171,187),this.mirroringShapeCharacters.setValue(187,171),this.mirroringShapeCharacters.setValue(8249,8250),this.mirroringShapeCharacters.setValue(8250,8249),this.mirroringShapeCharacters.setValue(8261,8262),this.mirroringShapeCharacters.setValue(8262,8261),this.mirroringShapeCharacters.setValue(8317,8318),this.mirroringShapeCharacters.setValue(8318,8317),this.mirroringShapeCharacters.setValue(8333,8334),this.mirroringShapeCharacters.setValue(8334,8333),this.mirroringShapeCharacters.setValue(8712,8715),this.mirroringShapeCharacters.setValue(8713,8716),this.mirroringShapeCharacters.setValue(8714,8717),this.mirroringShapeCharacters.setValue(8715,8712),this.mirroringShapeCharacters.setValue(8716,8713),this.mirroringShapeCharacters.setValue(8717,8714),this.mirroringShapeCharacters.setValue(8725,10741),this.mirroringShapeCharacters.setValue(8764,8765),this.mirroringShapeCharacters.setValue(8765,8764),this.mirroringShapeCharacters.setValue(8771,8909),this.mirroringShapeCharacters.setValue(8786,8787),this.mirroringShapeCharacters.setValue(8787,8786),this.mirroringShapeCharacters.setValue(8788,8789),this.mirroringShapeCharacters.setValue(8789,8788),this.mirroringShapeCharacters.setValue(8804,8805),this.mirroringShapeCharacters.setValue(8805,8804),this.mirroringShapeCharacters.setValue(8806,8807),this.mirroringShapeCharacters.setValue(8807,8806),this.mirroringShapeCharacters.setValue(8808,8809),this.mirroringShapeCharacters.setValue(8809,8808),this.mirroringShapeCharacters.setValue(8810,8811),this.mirroringShapeCharacters.setValue(8811,8810),this.mirroringShapeCharacters.setValue(8814,8815),this.mirroringShapeCharacters.setValue(8815,8814),this.mirroringShapeCharacters.setValue(8816,8817),this.mirroringShapeCharacters.setValue(8817,8816),this.mirroringShapeCharacters.setValue(8818,8819),this.mirroringShapeCharacters.setValue(8819,8818),this.mirroringShapeCharacters.setValue(8820,8821),this.mirroringShapeCharacters.setValue(8821,8820),this.mirroringShapeCharacters.setValue(8822,8823),this.mirroringShapeCharacters.setValue(8823,8822),this.mirroringShapeCharacters.setValue(8824,8825),this.mirroringShapeCharacters.setValue(8825,8824),this.mirroringShapeCharacters.setValue(8826,8827),this.mirroringShapeCharacters.setValue(8827,8826),this.mirroringShapeCharacters.setValue(8828,8829),this.mirroringShapeCharacters.setValue(8829,8828),this.mirroringShapeCharacters.setValue(8830,8831),this.mirroringShapeCharacters.setValue(8831,8830),this.mirroringShapeCharacters.setValue(8832,8833),this.mirroringShapeCharacters.setValue(8833,8832),this.mirroringShapeCharacters.setValue(8834,8835),this.mirroringShapeCharacters.setValue(8835,8834),this.mirroringShapeCharacters.setValue(8836,8837),this.mirroringShapeCharacters.setValue(8837,8836),this.mirroringShapeCharacters.setValue(8838,8839),this.mirroringShapeCharacters.setValue(8839,8838),this.mirroringShapeCharacters.setValue(8840,8841),this.mirroringShapeCharacters.setValue(8841,8840),this.mirroringShapeCharacters.setValue(8842,8843),this.mirroringShapeCharacters.setValue(8843,8842),this.mirroringShapeCharacters.setValue(8847,8848),this.mirroringShapeCharacters.setValue(8848,8847),this.mirroringShapeCharacters.setValue(8849,8850),this.mirroringShapeCharacters.setValue(8850,8849),this.mirroringShapeCharacters.setValue(8856,10680),this.mirroringShapeCharacters.setValue(8866,8867),this.mirroringShapeCharacters.setValue(8867,8866),this.mirroringShapeCharacters.setValue(8870,10974),this.mirroringShapeCharacters.setValue(8872,10980),this.mirroringShapeCharacters.setValue(8873,10979),this.mirroringShapeCharacters.setValue(8875,10981),this.mirroringShapeCharacters.setValue(8880,8881),this.mirroringShapeCharacters.setValue(8881,8880),this.mirroringShapeCharacters.setValue(8882,8883),this.mirroringShapeCharacters.setValue(8883,8882),this.mirroringShapeCharacters.setValue(8884,8885),this.mirroringShapeCharacters.setValue(8885,8884),this.mirroringShapeCharacters.setValue(8886,8887),this.mirroringShapeCharacters.setValue(8887,8886),this.mirroringShapeCharacters.setValue(8905,8906),this.mirroringShapeCharacters.setValue(8906,8905),this.mirroringShapeCharacters.setValue(8907,8908),this.mirroringShapeCharacters.setValue(8908,8907),this.mirroringShapeCharacters.setValue(8909,8771),this.mirroringShapeCharacters.setValue(8912,8913),this.mirroringShapeCharacters.setValue(8913,8912),this.mirroringShapeCharacters.setValue(8918,8919),this.mirroringShapeCharacters.setValue(8919,8918),this.mirroringShapeCharacters.setValue(8920,8921),this.mirroringShapeCharacters.setValue(8921,8920),this.mirroringShapeCharacters.setValue(8922,8923),this.mirroringShapeCharacters.setValue(8923,8922),this.mirroringShapeCharacters.setValue(8924,8925),this.mirroringShapeCharacters.setValue(8925,8924),this.mirroringShapeCharacters.setValue(8926,8927),this.mirroringShapeCharacters.setValue(8927,8926),this.mirroringShapeCharacters.setValue(8928,8929),this.mirroringShapeCharacters.setValue(8929,8928),this.mirroringShapeCharacters.setValue(8930,8931),this.mirroringShapeCharacters.setValue(8931,8930),this.mirroringShapeCharacters.setValue(8932,8933),this.mirroringShapeCharacters.setValue(8933,8932),this.mirroringShapeCharacters.setValue(8934,8935),this.mirroringShapeCharacters.setValue(8935,8934),this.mirroringShapeCharacters.setValue(8936,8937),this.mirroringShapeCharacters.setValue(8937,8936),this.mirroringShapeCharacters.setValue(8938,8939),this.mirroringShapeCharacters.setValue(8939,8938),this.mirroringShapeCharacters.setValue(8940,8941),this.mirroringShapeCharacters.setValue(8941,8940),this.mirroringShapeCharacters.setValue(8944,8945),this.mirroringShapeCharacters.setValue(8945,8944),this.mirroringShapeCharacters.setValue(8946,8954),this.mirroringShapeCharacters.setValue(8947,8955),this.mirroringShapeCharacters.setValue(8948,8956),this.mirroringShapeCharacters.setValue(8950,8957),this.mirroringShapeCharacters.setValue(8951,8958),this.mirroringShapeCharacters.setValue(8954,8946),this.mirroringShapeCharacters.setValue(8955,8947),this.mirroringShapeCharacters.setValue(8956,8948),this.mirroringShapeCharacters.setValue(8957,8950),this.mirroringShapeCharacters.setValue(8958,8951),this.mirroringShapeCharacters.setValue(8968,8969),this.mirroringShapeCharacters.setValue(8969,8968),this.mirroringShapeCharacters.setValue(8970,8971),this.mirroringShapeCharacters.setValue(8971,8970),this.mirroringShapeCharacters.setValue(9001,9002),this.mirroringShapeCharacters.setValue(9002,9001),this.mirroringShapeCharacters.setValue(10088,10089),this.mirroringShapeCharacters.setValue(10089,10088),this.mirroringShapeCharacters.setValue(10090,10091),this.mirroringShapeCharacters.setValue(10091,10090),this.mirroringShapeCharacters.setValue(10092,10093),this.mirroringShapeCharacters.setValue(10093,10092),this.mirroringShapeCharacters.setValue(10094,10095),this.mirroringShapeCharacters.setValue(10095,10094),this.mirroringShapeCharacters.setValue(10096,10097),this.mirroringShapeCharacters.setValue(10097,10096),this.mirroringShapeCharacters.setValue(10098,10099),this.mirroringShapeCharacters.setValue(10099,10098),this.mirroringShapeCharacters.setValue(10100,10101),this.mirroringShapeCharacters.setValue(10101,10100),this.mirroringShapeCharacters.setValue(10197,10198),this.mirroringShapeCharacters.setValue(10198,10197),this.mirroringShapeCharacters.setValue(10205,10206),this.mirroringShapeCharacters.setValue(10206,10205),this.mirroringShapeCharacters.setValue(10210,10211),this.mirroringShapeCharacters.setValue(10211,10210),this.mirroringShapeCharacters.setValue(10212,10213),this.mirroringShapeCharacters.setValue(10213,10212),this.mirroringShapeCharacters.setValue(10214,10215),this.mirroringShapeCharacters.setValue(10215,10214),this.mirroringShapeCharacters.setValue(10216,10217),this.mirroringShapeCharacters.setValue(10217,10216),this.mirroringShapeCharacters.setValue(10218,10219),this.mirroringShapeCharacters.setValue(10219,10218),this.mirroringShapeCharacters.setValue(10627,10628),this.mirroringShapeCharacters.setValue(10628,10627),this.mirroringShapeCharacters.setValue(10629,10630),this.mirroringShapeCharacters.setValue(10630,10629),this.mirroringShapeCharacters.setValue(10631,10632),this.mirroringShapeCharacters.setValue(10632,10631),this.mirroringShapeCharacters.setValue(10633,10634),this.mirroringShapeCharacters.setValue(10634,10633),this.mirroringShapeCharacters.setValue(10635,10636),this.mirroringShapeCharacters.setValue(10636,10635),this.mirroringShapeCharacters.setValue(10637,10640),this.mirroringShapeCharacters.setValue(10638,10639),this.mirroringShapeCharacters.setValue(10639,10638),this.mirroringShapeCharacters.setValue(10640,10637),this.mirroringShapeCharacters.setValue(10641,10642),this.mirroringShapeCharacters.setValue(10642,10641),this.mirroringShapeCharacters.setValue(10643,10644),this.mirroringShapeCharacters.setValue(10644,10643),this.mirroringShapeCharacters.setValue(10645,10646),this.mirroringShapeCharacters.setValue(10646,10645),this.mirroringShapeCharacters.setValue(10647,10648),this.mirroringShapeCharacters.setValue(10648,10647),this.mirroringShapeCharacters.setValue(10680,8856),this.mirroringShapeCharacters.setValue(10688,10689),this.mirroringShapeCharacters.setValue(10689,10688),this.mirroringShapeCharacters.setValue(10692,10693),this.mirroringShapeCharacters.setValue(10693,10692),this.mirroringShapeCharacters.setValue(10703,10704),this.mirroringShapeCharacters.setValue(10704,10703),this.mirroringShapeCharacters.setValue(10705,10706),this.mirroringShapeCharacters.setValue(10706,10705),this.mirroringShapeCharacters.setValue(10708,10709),this.mirroringShapeCharacters.setValue(10709,10708),this.mirroringShapeCharacters.setValue(10712,10713),this.mirroringShapeCharacters.setValue(10713,10712),this.mirroringShapeCharacters.setValue(10714,10715),this.mirroringShapeCharacters.setValue(10715,10714),this.mirroringShapeCharacters.setValue(10741,8725),this.mirroringShapeCharacters.setValue(10744,10745),this.mirroringShapeCharacters.setValue(10745,10744),this.mirroringShapeCharacters.setValue(10748,10749),this.mirroringShapeCharacters.setValue(10749,10748),this.mirroringShapeCharacters.setValue(10795,10796),this.mirroringShapeCharacters.setValue(10796,10795),this.mirroringShapeCharacters.setValue(10797,10796),this.mirroringShapeCharacters.setValue(10798,10797),this.mirroringShapeCharacters.setValue(10804,10805),this.mirroringShapeCharacters.setValue(10805,10804),this.mirroringShapeCharacters.setValue(10812,10813),this.mirroringShapeCharacters.setValue(10813,10812),this.mirroringShapeCharacters.setValue(10852,10853),this.mirroringShapeCharacters.setValue(10853,10852),this.mirroringShapeCharacters.setValue(10873,10874),this.mirroringShapeCharacters.setValue(10874,10873),this.mirroringShapeCharacters.setValue(10877,10878),this.mirroringShapeCharacters.setValue(10878,10877),this.mirroringShapeCharacters.setValue(10879,10880),this.mirroringShapeCharacters.setValue(10880,10879),this.mirroringShapeCharacters.setValue(10881,10882),this.mirroringShapeCharacters.setValue(10882,10881),this.mirroringShapeCharacters.setValue(10883,10884),this.mirroringShapeCharacters.setValue(10884,10883),this.mirroringShapeCharacters.setValue(10891,10892),this.mirroringShapeCharacters.setValue(10892,10891),this.mirroringShapeCharacters.setValue(10897,10898),this.mirroringShapeCharacters.setValue(10898,10897),this.mirroringShapeCharacters.setValue(10899,10900),this.mirroringShapeCharacters.setValue(10900,10899),this.mirroringShapeCharacters.setValue(10901,10902),this.mirroringShapeCharacters.setValue(10902,10901),this.mirroringShapeCharacters.setValue(10903,10904),this.mirroringShapeCharacters.setValue(10904,10903),this.mirroringShapeCharacters.setValue(10905,10906),this.mirroringShapeCharacters.setValue(10906,10905),this.mirroringShapeCharacters.setValue(10907,10908),this.mirroringShapeCharacters.setValue(10908,10907),this.mirroringShapeCharacters.setValue(10913,10914),this.mirroringShapeCharacters.setValue(10914,10913),this.mirroringShapeCharacters.setValue(10918,10919),this.mirroringShapeCharacters.setValue(10919,10918),this.mirroringShapeCharacters.setValue(10920,10921),this.mirroringShapeCharacters.setValue(10921,10920),this.mirroringShapeCharacters.setValue(10922,10923),this.mirroringShapeCharacters.setValue(10923,10922),this.mirroringShapeCharacters.setValue(10924,10925),this.mirroringShapeCharacters.setValue(10925,10924),this.mirroringShapeCharacters.setValue(10927,10928),this.mirroringShapeCharacters.setValue(10928,10927),this.mirroringShapeCharacters.setValue(10931,10932),this.mirroringShapeCharacters.setValue(10932,10931),this.mirroringShapeCharacters.setValue(10939,10940),this.mirroringShapeCharacters.setValue(10940,10939),this.mirroringShapeCharacters.setValue(10941,10942),this.mirroringShapeCharacters.setValue(10942,10941),this.mirroringShapeCharacters.setValue(10943,10944),this.mirroringShapeCharacters.setValue(10944,10943),this.mirroringShapeCharacters.setValue(10945,10946),this.mirroringShapeCharacters.setValue(10946,10945),this.mirroringShapeCharacters.setValue(10947,10948),this.mirroringShapeCharacters.setValue(10948,10947),this.mirroringShapeCharacters.setValue(10949,10950),this.mirroringShapeCharacters.setValue(10950,10949),this.mirroringShapeCharacters.setValue(10957,10958),this.mirroringShapeCharacters.setValue(10958,10957),this.mirroringShapeCharacters.setValue(10959,10960),this.mirroringShapeCharacters.setValue(10960,10959),this.mirroringShapeCharacters.setValue(10961,10962),this.mirroringShapeCharacters.setValue(10962,10961),this.mirroringShapeCharacters.setValue(10963,10964),this.mirroringShapeCharacters.setValue(10964,10963),this.mirroringShapeCharacters.setValue(10965,10966),this.mirroringShapeCharacters.setValue(10966,10965),this.mirroringShapeCharacters.setValue(10974,8870),this.mirroringShapeCharacters.setValue(10979,8873),this.mirroringShapeCharacters.setValue(10980,8872),this.mirroringShapeCharacters.setValue(10981,8875),this.mirroringShapeCharacters.setValue(10988,10989),this.mirroringShapeCharacters.setValue(10989,10988),this.mirroringShapeCharacters.setValue(10999,11e3),this.mirroringShapeCharacters.setValue(11e3,10999),this.mirroringShapeCharacters.setValue(11001,11002),this.mirroringShapeCharacters.setValue(11002,11001),this.mirroringShapeCharacters.setValue(12296,12297),this.mirroringShapeCharacters.setValue(12297,12296),this.mirroringShapeCharacters.setValue(12298,12299),this.mirroringShapeCharacters.setValue(12299,12298),this.mirroringShapeCharacters.setValue(12300,12301),this.mirroringShapeCharacters.setValue(12301,12300),this.mirroringShapeCharacters.setValue(12302,12303),this.mirroringShapeCharacters.setValue(12303,12302),this.mirroringShapeCharacters.setValue(12304,12305),this.mirroringShapeCharacters.setValue(12305,12304),this.mirroringShapeCharacters.setValue(12308,12309),this.mirroringShapeCharacters.setValue(12309,12308),this.mirroringShapeCharacters.setValue(12310,12311),this.mirroringShapeCharacters.setValue(12311,12310),this.mirroringShapeCharacters.setValue(12312,12313),this.mirroringShapeCharacters.setValue(12313,12312),this.mirroringShapeCharacters.setValue(12314,12315),this.mirroringShapeCharacters.setValue(12315,12314),this.mirroringShapeCharacters.setValue(65288,65289),this.mirroringShapeCharacters.setValue(65289,65288),this.mirroringShapeCharacters.setValue(65308,65310),this.mirroringShapeCharacters.setValue(65310,65308),this.mirroringShapeCharacters.setValue(65339,65341),this.mirroringShapeCharacters.setValue(65341,65339),this.mirroringShapeCharacters.setValue(65371,65373),this.mirroringShapeCharacters.setValue(65373,65371),this.mirroringShapeCharacters.setValue(65375,65376),this.mirroringShapeCharacters.setValue(65376,65375),this.mirroringShapeCharacters.setValue(65378,65379),this.mirroringShapeCharacters.setValue(65379,65378)},e}(),_A=function(){function e(){this.types=[],this.textOrder=-1,this.rtlCharacterTypes=new Array(65536),this.L=0,this.LRE=1,this.LRO=2,this.R=3,this.AL=4,this.RLE=5,this.RLO=6,this.PDF=7,this.EN=8,this.ES=9,this.ET=10,this.AN=11,this.CS=12,this.NSM=13,this.BN=14,this.B=15,this.S=16,this.WS=17,this.ON=18,this.charTypes=[this.L,this.EN,this.BN,this.ES,this.ES,this.S,this.ET,this.ET,this.B,this.AN,this.AN,this.S,this.CS,this.CS,this.WS,this.NSM,this.NSM,this.B,this.BN,27,this.BN,28,30,this.B,31,31,this.S,32,32,this.WS,33,34,this.ON,35,37,this.ET,38,42,this.ON,43,43,this.ET,44,44,this.CS,45,45,this.ET,46,46,this.CS,47,47,this.CS,48,57,this.EN,58,58,this.CS,59,64,this.ON,65,90,this.L,91,96,this.ON,97,122,this.L,123,126,this.ON,127,132,this.BN,133,133,this.B,134,159,this.BN,160,160,this.CS,161,161,this.ON,162,165,this.ET,166,169,this.ON,170,170,this.L,171,175,this.ON,176,177,this.ET,178,179,this.EN,180,180,this.ON,181,181,this.L,182,184,this.ON,185,185,this.EN,186,186,this.L,187,191,this.ON,192,214,this.L,215,215,this.ON,216,246,this.L,247,247,this.ON,248,696,this.L,697,698,this.ON,699,705,this.L,706,719,this.ON,720,721,this.L,722,735,this.ON,736,740,this.L,741,749,this.ON,750,750,this.L,751,767,this.ON,768,855,this.NSM,856,860,this.L,861,879,this.NSM,880,883,this.L,884,885,this.ON,886,893,this.L,894,894,this.ON,895,899,this.L,900,901,this.ON,902,902,this.L,903,903,this.ON,904,1013,this.L,1014,1014,this.ON,1015,1154,this.L,1155,1158,this.NSM,1159,1159,this.L,1160,1161,this.NSM,1162,1417,this.L,1418,1418,this.ON,1419,1424,this.L,1425,1441,this.NSM,1442,1442,this.L,1443,1465,this.NSM,1466,1466,this.L,1467,1469,this.NSM,1470,1470,this.R,1471,1471,this.NSM,1472,1472,this.R,1473,1474,this.NSM,1475,1475,this.R,1476,1476,this.NSM,1477,1487,this.L,1488,1514,this.R,1515,1519,this.L,1520,1524,this.R,1525,1535,this.L,1536,1539,this.AL,1540,1547,this.L,1548,1548,this.CS,1549,1549,this.AL,1550,1551,this.ON,1552,1557,this.NSM,1558,1562,this.L,1563,1563,this.AL,1564,1566,this.L,1567,1567,this.AL,1568,1568,this.L,1569,1594,this.AL,1595,1599,this.L,1600,1610,this.AL,1611,1624,this.NSM,1625,1631,this.L,1632,1641,this.AN,1642,1642,this.ET,1643,1644,this.AN,1645,1647,this.AL,1648,1648,this.NSM,1649,1749,this.AL,1750,1756,this.NSM,1757,1757,this.AL,1758,1764,this.NSM,1765,1766,this.AL,1767,1768,this.NSM,1769,1769,this.ON,1770,1773,this.NSM,1774,1775,this.AL,1776,1785,this.EN,1786,1805,this.AL,1806,1806,this.L,1807,1807,this.BN,1808,1808,this.AL,1809,1809,this.NSM,1810,1839,this.AL,1840,1866,this.NSM,1867,1868,this.L,1869,1871,this.AL,1872,1919,this.L,1920,1957,this.AL,1958,1968,this.NSM,1969,1969,this.AL,1970,2304,this.L,2305,2306,this.NSM,2307,2363,this.L,2364,2364,this.NSM,2365,2368,this.L,2369,2376,this.NSM,2377,2380,this.L,2381,2381,this.NSM,2382,2384,this.L,2385,2388,this.NSM,2389,2401,this.L,2402,2403,this.NSM,2404,2432,this.L,2433,2433,this.NSM,2434,2491,this.L,2492,2492,this.NSM,2493,2496,this.L,2497,2500,this.NSM,2501,2508,this.L,2509,2509,this.NSM,2510,2529,this.L,2530,2531,this.NSM,2532,2545,this.L,2546,2547,this.ET,2548,2560,this.L,2561,2562,this.NSM,2563,2619,this.L,2620,2620,this.NSM,2621,2624,this.L,2625,2626,this.NSM,2627,2630,this.L,2631,2632,this.NSM,2633,2634,this.L,2635,2637,this.NSM,2638,2671,this.L,2672,2673,this.NSM,2674,2688,this.L,2689,2690,this.NSM,2691,2747,this.L,2748,2748,this.NSM,2749,2752,this.L,2753,2757,this.NSM,2758,2758,this.L,2759,2760,this.NSM,2761,2764,this.L,2765,2765,this.NSM,2766,2785,this.L,2786,2787,this.NSM,2788,2800,this.L,2801,2801,this.ET,2802,2816,this.L,2817,2817,this.NSM,2818,2875,this.L,2876,2876,this.NSM,2877,2878,this.L,2879,2879,this.NSM,2880,2880,this.L,2881,2883,this.NSM,2884,2892,this.L,2893,2893,this.NSM,2894,2901,this.L,2902,2902,this.NSM,2903,2945,this.L,2946,2946,this.NSM,2947,3007,this.L,3008,3008,this.NSM,3009,3020,this.L,3021,3021,this.NSM,3022,3058,this.L,3059,3064,this.ON,3065,3065,this.ET,3066,3066,this.ON,3067,3133,this.L,3134,3136,this.NSM,3137,3141,this.L,3142,3144,this.NSM,3145,3145,this.L,3146,3149,this.NSM,3150,3156,this.L,3157,3158,this.NSM,3159,3259,this.L,3260,3260,this.NSM,3261,3275,this.L,3276,3277,this.NSM,3278,3392,this.L,3393,3395,this.NSM,3396,3404,this.L,3405,3405,this.NSM,3406,3529,this.L,3530,3530,this.NSM,3531,3537,this.L,3538,3540,this.NSM,3541,3541,this.L,3542,3542,this.NSM,3543,3632,this.L,3633,3633,this.NSM,3634,3635,this.L,3636,3642,this.NSM,3643,3646,this.L,3647,3647,this.ET,3648,3654,this.L,3655,3662,this.NSM,3663,3760,this.L,3761,3761,this.NSM,3762,3763,this.L,3764,3769,this.NSM,3770,3770,this.L,3771,3772,this.NSM,3773,3783,this.L,3784,3789,this.NSM,3790,3863,this.L,3864,3865,this.NSM,3866,3892,this.L,3893,3893,this.NSM,3894,3894,this.L,3895,3895,this.NSM,3896,3896,this.L,3897,3897,this.NSM,3898,3901,this.ON,3902,3952,this.L,3953,3966,this.NSM,3967,3967,this.L,3968,3972,this.NSM,3973,3973,this.L,3974,3975,this.NSM,3976,3983,this.L,3984,3991,this.NSM,3992,3992,this.L,3993,4028,this.NSM,4029,4037,this.L,4038,4038,this.NSM,4039,4140,this.L,4141,4144,this.NSM,4145,4145,this.L,4146,4146,this.NSM,4147,4149,this.L,4150,4151,this.NSM,4152,4152,this.L,4153,4153,this.NSM,4154,4183,this.L,4184,4185,this.NSM,4186,5759,this.L,5760,5760,this.WS,5761,5786,this.L,5787,5788,this.ON,5789,5905,this.L,5906,5908,this.NSM,5909,5937,this.L,5938,5940,this.NSM,5941,5969,this.L,5970,5971,this.NSM,5972,6001,this.L,6002,6003,this.NSM,6004,6070,this.L,6071,6077,this.NSM,6078,6085,this.L,6086,6086,this.NSM,6087,6088,this.L,6089,6099,this.NSM,6100,6106,this.L,6107,6107,this.ET,6108,6108,this.L,6109,6109,this.NSM,6110,6127,this.L,6128,6137,this.ON,6138,6143,this.L,6144,6154,this.ON,6155,6157,this.NSM,6158,6158,this.WS,6159,6312,this.L,6313,6313,this.NSM,6314,6431,this.L,6432,6434,this.NSM,6435,6438,this.L,6439,6443,this.NSM,6444,6449,this.L,6450,6450,this.NSM,6451,6456,this.L,6457,6459,this.NSM,6460,6463,this.L,6464,6464,this.ON,6465,6467,this.L,6468,6469,this.ON,6470,6623,this.L,6624,6655,this.ON,6656,8124,this.L,8125,8125,this.ON,8126,8126,this.L,8127,8129,this.ON,8130,8140,this.L,8141,8143,this.ON,8144,8156,this.L,8157,8159,this.ON,8160,8172,this.L,8173,8175,this.ON,8176,8188,this.L,8189,8190,this.ON,8191,8191,this.L,8192,8202,this.WS,8203,8205,this.BN,8206,8206,this.L,8207,8207,this.R,8208,8231,this.ON,8232,8232,this.WS,8233,8233,this.B,8234,8234,this.LRE,8235,8235,this.RLE,8236,8236,this.PDF,8237,8237,this.LRO,8238,8238,this.RLO,8239,8239,this.WS,8240,8244,this.ET,8245,8276,this.ON,8277,8278,this.L,8279,8279,this.ON,8280,8286,this.L,8287,8287,this.WS,8288,8291,this.BN,8292,8297,this.L,8298,8303,this.BN,8304,8304,this.EN,8305,8307,this.L,8308,8313,this.EN,8314,8315,this.ET,8316,8318,this.ON,8319,8319,this.L,8320,8329,this.EN,8330,8331,this.ET,8332,8334,this.ON,8335,8351,this.L,8352,8369,this.ET,8370,8399,this.L,8400,8426,this.NSM,8427,8447,this.L,8448,8449,this.ON,8450,8450,this.L,8451,8454,this.ON,8455,8455,this.L,8456,8457,this.ON,8458,8467,this.L,8468,8468,this.ON,8469,8469,this.L,8470,8472,this.ON,8473,8477,this.L,8478,8483,this.ON,8484,8484,this.L,8485,8485,this.ON,8486,8486,this.L,8487,8487,this.ON,8488,8488,this.L,8489,8489,this.ON,8490,8493,this.L,8494,8494,this.ET,8495,8497,this.L,8498,8498,this.ON,8499,8505,this.L,8506,8507,this.ON,8508,8511,this.L,8512,8516,this.ON,8517,8521,this.L,8522,8523,this.ON,8524,8530,this.L,8531,8543,this.ON,8544,8591,this.L,8592,8721,this.ON,8722,8723,this.ET,8724,9013,this.ON,9014,9082,this.L,9083,9108,this.ON,9109,9109,this.L,9110,9168,this.ON,9169,9215,this.L,9216,9254,this.ON,9255,9279,this.L,9280,9290,this.ON,9291,9311,this.L,9312,9371,this.EN,9372,9449,this.L,9450,9450,this.EN,9451,9751,this.ON,9752,9752,this.L,9753,9853,this.ON,9854,9855,this.L,9856,9873,this.ON,9874,9887,this.L,9888,9889,this.ON,9890,9984,this.L,9985,9988,this.ON,9989,9989,this.L,9990,9993,this.ON,9994,9995,this.L,9996,10023,this.ON,10024,10024,this.L,10025,10059,this.ON,10060,10060,this.L,10061,10061,this.ON,10062,10062,this.L,10063,10066,this.ON,10067,10069,this.L,10070,10070,this.ON,10071,10071,this.L,10072,10078,this.ON,10079,10080,this.L,10081,10132,this.ON,10133,10135,this.L,10136,10159,this.ON,10160,10160,this.L,10161,10174,this.ON,10175,10191,this.L,10192,10219,this.ON,10220,10223,this.L,10224,11021,this.ON,11022,11903,this.L,11904,11929,this.ON,11930,11930,this.L,11931,12019,this.ON,12020,12031,this.L,12032,12245,this.ON,12246,12271,this.L,12272,12283,this.ON,12284,12287,this.L,12288,12288,this.WS,12289,12292,this.ON,12293,12295,this.L,12296,12320,this.ON,12321,12329,this.L,12330,12335,this.NSM,12336,12336,this.ON,12337,12341,this.L,12342,12343,this.ON,12344,12348,this.L,12349,12351,this.ON,12352,12440,this.L,12441,12442,this.NSM,12443,12444,this.ON,12445,12447,this.L,12448,12448,this.ON,12449,12538,this.L,12539,12539,this.ON,12540,12828,this.L,12829,12830,this.ON,12831,12879,this.L,12880,12895,this.ON,12896,12923,this.L,12924,12925,this.ON,12926,12976,this.L,12977,12991,this.ON,12992,13003,this.L,13004,13007,this.ON,13008,13174,this.L,13175,13178,this.ON,13179,13277,this.L,13278,13279,this.ON,13280,13310,this.L,13311,13311,this.ON,13312,19903,this.L,19904,19967,this.ON,19968,42127,this.L,42128,42182,this.ON,42183,64284,this.L,64285,64285,this.R,64286,64286,this.NSM,64287,64296,this.R,64297,64297,this.ET,64298,64310,this.R,64311,64311,this.L,64312,64316,this.R,64317,64317,this.L,64318,64318,this.R,64319,64319,this.L,64320,64321,this.R,64322,64322,this.L,64323,64324,this.R,64325,64325,this.L,64326,64335,this.R,64336,64433,this.AL,64434,64466,this.L,64467,64829,this.AL,64830,64831,this.ON,64832,64847,this.L,64848,64911,this.AL,64912,64913,this.L,64914,64967,this.AL,64968,65007,this.L,65008,65020,this.AL,65021,65021,this.ON,65022,65023,this.L,65024,65039,this.NSM,65040,65055,this.L,65056,65059,this.NSM,65060,65071,this.L,65072,65103,this.ON,65104,65104,this.CS,65105,65105,this.ON,65106,65106,this.CS,65107,65107,this.L,65108,65108,this.ON,65109,65109,this.CS,65110,65118,this.ON,65119,65119,this.ET,65120,65121,this.ON,65122,65123,this.ET,65124,65126,this.ON,65127,65127,this.L,65128,65128,this.ON,65129,65130,this.ET,65131,65131,this.ON,65132,65135,this.L,65136,65140,this.AL,65141,65141,this.L,65142,65276,this.AL,65277,65278,this.L,65279,65279,this.BN,65280,65280,this.L,65281,65282,this.ON,65283,65285,this.ET,65286,65290,this.ON,65291,65291,this.ET,65292,65292,this.CS,65293,65293,this.ET,65294,65294,this.CS,65295,65295,this.ES,65296,65305,this.EN,65306,65306,this.CS,65307,65312,this.ON,65313,65338,this.L,65339,65344,this.ON,65345,65370,this.L,65371,65381,this.ON,65382,65503,this.L,65504,65505,this.ET,65506,65508,this.ON,65509,65510,this.ET,65511,65511,this.L,65512,65518,this.ON,65519,65528,this.L,65529,65531,this.BN,65532,65533,this.ON,65534,65535,this.L];for(var e=0;e<this.charTypes.length;++e)for(var t=this.charTypes[e],i=this.charTypes[++e],n=this.charTypes[++e];t<=i;)this.rtlCharacterTypes[t++]=n}return e.prototype.getVisualOrder=function(e,t){this.types=this.getCharacterCode(e),this.textOrder=t?this.LRE:this.L,this.doVisualOrder();for(var i=[],n=0;n<this.levels.length;n++)i[n]=this.levels[n];return i},e.prototype.getCharacterCode=function(e){for(var t=[],i=0;i<e.length;i++)t[i]=this.rtlCharacterTypes[e[i].charCodeAt(0)];return t},e.prototype.setDefaultLevels=function(){for(var e=0;e<this.length;e++)this.levels[e]=this.textOrder},e.prototype.setLevels=function(){this.setDefaultLevels();for(var e=0;e<this.length;++e){var t=this.levels[e];0!==(128&t)&&(t&=127,this.result[e]=0===(1&t)?this.L:this.R),this.levels[e]=t}},e.prototype.updateLevels=function(e,t,i){if(0===(1&t))for(var n=e;n<i;++n)this.result[n]===this.R?this.levels[n]+=1:this.result[n]!==this.L&&(this.levels[n]+=2);else for(n=e;n<i;++n)this.result[n]!==this.R&&(this.levels[n]+=1)},e.prototype.doVisualOrder=function(){this.length=this.types.length,this.result=this.types,this.levels=[],this.setLevels(),this.length=this.getEmbeddedCharactersLength();for(var e=this.textOrder,t=0;t<this.length;){for(var i=this.levels[t],n=0===(1&Math.max(e,i))?this.L:this.R,r=t+1;r<this.length&&this.levels[r]===i;)++r;var o=r<this.length?this.levels[r]:this.textOrder,a=0===(1&Math.max(o,i))?this.L:this.R;this.checkNSM(t,r,i,n,a),this.updateLevels(t,i,r),e=i,t=r}this.checkEmbeddedCharacters(this.length)},e.prototype.getEmbeddedCharactersLength=function(){for(var e=0,t=0;t<this.length;++t)this.types[t]!==this.LRE&&this.types[t]!==this.RLE&&this.types[t]!==this.LRO&&this.types[t]!==this.RLO&&this.types[t]!==this.PDF&&this.types[t]!==this.BN&&(this.result[e]=this.result[t],this.levels[e]=this.levels[t],e++);return e},e.prototype.checkEmbeddedCharacters=function(e){for(var t=this.types.length-1;t>=0;--t)this.types[t]===this.LRE||this.types[t]===this.RLE||this.types[t]===this.LRO||this.types[t]===this.RLO||this.types[t]===this.PDF||this.types[t]===this.BN?(this.result[t]=this.types[t],this.levels[t]=-1):(e-=1,this.result[t]=this.result[e],this.levels[t]=this.levels[e]);for(t=0;t<this.types.length;t++)-1===this.levels[t]&&(this.levels[t]=0===t?this.textOrder:this.levels[t-1])},e.prototype.checkNSM=function(e,t,i,n,r){for(var o=n,a=e;a<t;++a)this.result[a]===this.NSM?this.result[a]=o:o=this.result[a];this.checkEuropeanDigits(e,t,i,n,r)},e.prototype.checkEuropeanDigits=function(e,t,i,n,r){for(var o=e;o<t;++o)if(this.result[o]===this.EN)for(var a=o-1;a>=e;--a)if(this.result[a]===this.L||this.result[a]===this.R||this.result[a]===this.AL){this.result[a]===this.AL&&(this.result[o]=this.AN);break}this.checkArabicCharacters(e,t,i,n,r)},e.prototype.checkArabicCharacters=function(e,t,i,n,r){for(var o=e;o<t;++o)this.result[o]===this.AL&&(this.result[o]=this.R);this.checkEuropeanNumberSeparator(e,t,i,n,r)},e.prototype.checkEuropeanNumberSeparator=function(e,t,i,n,r){for(var o=e+1;o<t-1;++o)if(this.result[o]===this.ES||this.result[o]===this.CS){var a=this.result[o-1],s=this.result[o+1];a===this.EN&&s===this.EN?this.result[o]=this.EN:this.result[o]===this.CS&&a===this.AN&&s===this.AN&&(this.result[o]=this.AN)}this.checkEuropeanNumberTerminator(e,t,i,n,r)},e.prototype.checkEuropeanNumberTerminator=function(e,t,i,n,r){for(var o=e;o<t;++o)if(this.result[o]===this.ET){var a=o,s=[];s.push(this.ET);var l=this.getLength(a,t,s),u=a===e?n:this.result[a-1];if(u!==this.EN&&(u=l===t?r:this.result[l]),u===this.EN)for(var c=a;c<l;++c)this.result[c]=this.EN;o=l}this.checkOtherNeutrals(e,t,i,n,r)},e.prototype.checkOtherNeutrals=function(e,t,i,n,r){for(var o=e;o<t;++o)this.result[o]!==this.ES&&this.result[o]!==this.ET&&this.result[o]!==this.CS||(this.result[o]=this.ON);this.checkOtherCharacters(e,t,i,n,r)},e.prototype.checkOtherCharacters=function(e,t,i,n,r){for(var o=e;o<t;++o)if(this.result[o]===this.EN){for(var a=n,s=o-1;s>=e;--s)if(this.result[s]===this.L||this.result[s]===this.R){a=this.result[s];break}a===this.L&&(this.result[o]=this.L)}this.checkCommanCharacters(e,t,i,n,r)},e.prototype.getLength=function(e,t,i){for(--e;++e<t;){for(var n=this.result[e],r=0;r<i.length;++r)n===i[r]&&(e=this.getLength(++e,t,i));return e}return t},e.prototype.checkCommanCharacters=function(e,t,i,n,r){for(var o=e;o<t;++o)if(this.result[o]===this.WS||this.result[o]===this.ON||this.result[o]===this.B||this.result[o]===this.S){var a=o,s=[this.B,this.S,this.WS,this.ON],l=this.getLength(a,t,s),u=0,c=0,h=0;a===e?u=n:((u=this.result[a-1])===this.AN||u===this.EN)&&(u=this.R),l===t?c=r:((c=this.result[l])===this.AN||c===this.EN)&&(c=this.R),h=u===c?u:0===(1&i)?this.L:this.R;for(var d=a;d<l;++d)this.result[d]=h;o=l}},e}(),wA=function(){function e(){this.openBracket="(",this.closeBracket=")"}return e.prototype.layout=function(e,t,i,n,r){if(null==e)throw new Error("ArgumentNullException : line");if(null==t)throw new Error("ArgumentNullException : font");var o=[];return t.Unicode?o=this.customLayout(e,i,r,t,n):(o=[])[0]=e,o},e.prototype.splitLayout=function(e,t,i,n,r){if(null==e)throw new Error("ArgumentNullException : line");if(null==t)throw new Error("ArgumentNullException : font");return this.customSplitLayout(e,t,i,n,r)},e.prototype.getGlyphIndex=function(e,t,i,n,r){if(null==e)throw new Error("ArgumentNullException : line");if(null==t)throw new Error("ArgumentNullException : font");if(n=null,0===e.length)return{success:!1,glyphs:n};var o=(new vA).shape(e,0),a=t.fontInternal.ttfReader;n=new Uint16Array(o.length);for(var s=0,l=0,u=o.length;l<u;l++){var c=o[l],h=a.getGlyph(c);null!==h&&"undefined"!==typeof h&&(n[s++]=h.index)}return{success:!0,glyphs:n}},e.prototype.customLayout=function(e,t,i,n,r){if(null===r||"undefined"===typeof r){if(null==e)throw new Error("ArgumentNullException : line");var o=null;if(null!==i&&"undefined"!==typeof i&&i.textDirection!==$T.None)o=(new xA).getLogicalToVisualString(e,t);return o}if(null==e)throw new Error("ArgumentNullException : line");if(null==n)throw new Error("ArgumentNullException : font");var a=null;if(null!==i&&"undefined"!==typeof i&&i.textDirection!==$T.None){var s=(new vA).shape(e,0);a=this.customLayout(s,t,i)}o=[];if(r){for(var l=a.split(""),u=l.length,c=0;c<u;c++)l[c]=this.addChars(n,l[c]);o=l}else(o=[])[0]=this.addChars(n,a);return o},e.prototype.addChars=function(e,t){var i=t;if(null==e)throw new Error("ArgumentNullException : font");if(null==i)throw new Error("ArgumentNullException : line");var n=i,r=e.fontInternal.ttfReader;e.setSymbols(n),n=r.convertString(n);var o=DT.toUnicodeArray(n,!1);return n=DT.byteToString(o)},e.prototype.customSplitLayout=function(e,t,i,n,r){if(null==e)throw new Error("ArgumentNullException : line");if(null==t)throw new Error("ArgumentNullException : font");return this.customLayout(e,i,r).split("")},e}();!function(e){e[e.Paginate=0]="Paginate",e[e.OnePage=1]="OnePage"}(RE||(RE={})),function(e){e[e.FitPage=0]="FitPage",e[e.FitElement=1]="FitElement",e[e.FitColumnsToPage=2]="FitColumnsToPage"}(IE||(IE={})),function(e){e[e.Start=0]="Start",e[e.Line=1]="Line",e[e.Bezier3=3]="Bezier3",e[e.Bezier=3]="Bezier",e[e.PathTypeMask=7]="PathTypeMask",e[e.DashMode=16]="DashMode",e[e.PathMarker=32]="PathMarker",e[e.CloseSubpath=128]="CloseSubpath"}(DE||(DE={}));var SA,kA=function(){function e(e){this.currentPosition=-1,this.value=e}return Object.defineProperty(e.prototype,"status",{get:function(){return this.objectStatus},set:function(e){this.objectStatus=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSaving",{get:function(){return this.saving},set:function(e){this.saving=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"objectCollectionIndex",{get:function(){return this.index},set:function(e){this.index=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.currentPosition},set:function(e){this.currentPosition=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clonedObject",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.save=function(e){e.write(this.boolToStr(this.value))},e.prototype.clone=function(t){return new e(this.value)},e.prototype.boolToStr=function(e){return e?"true":"false"},e}(),CA=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),TA=function(e){function t(t){var i=e.call(this)||this;return i.mbackground=new SE(255,255,255),i.mbStroking=!1,i.mfunction=null,i.dictionaryProperties=new fT,i.mpatternDictionary=new mT,i.mpatternDictionary.items.setValue(i.dictionaryProperties.type,new dT(i.dictionaryProperties.pattern)),i.mpatternDictionary.items.setValue(i.dictionaryProperties.patternType,new _T(2)),i.shading=t,i.colorSpace=qT.Rgb,i}return CA(t,e),Object.defineProperty(t.prototype,"background",{get:function(){return this.mbackground},set:function(e){this.mbackground=e;var t=this.shading;e.isEmpty?t.remove(this.dictionaryProperties.background):t.items.setValue(this.dictionaryProperties.background,e.toArray(this.colorSpace))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"antiAlias",{get:function(){return this.shading.items.getValue(this.dictionaryProperties.antiAlias).value},set:function(e){var t=this.shading,i=t.items.getValue(this.dictionaryProperties.antiAlias);null==i&&"undefined"===typeof i?(i=new kA(e),t.items.setValue(this.dictionaryProperties.antiAlias,i)):i.value=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"function",{get:function(){return this.mfunction},set:function(e){this.mfunction=e,null!=e&&"undefined"!==typeof e?this.shading.items.setValue(this.dictionaryProperties.function,new BT(this.mfunction)):this.shading.remove(this.dictionaryProperties.function)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bBox",{get:function(){return this.shading.items.getValue(this.dictionaryProperties.bBox)},set:function(e){var t=this.shading;null==e&&"undefined"===typeof e?t.remove(this.dictionaryProperties.bBox):t.items.setValue(this.dictionaryProperties.bBox,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorSpace",{get:function(){return this.mcolorSpace},set:function(e){var t=this.shading.items.getValue(this.dictionaryProperties.colorSpace);if(e!==this.mcolorSpace||null==t){this.mcolorSpace=e;var i=this.colorSpaceToDeviceName(e);this.shading.items.setValue(this.dictionaryProperties.colorSpace,new dT(i))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroking",{get:function(){return this.mbStroking},set:function(e){this.mbStroking=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patternDictionary",{get:function(){return null==this.mpatternDictionary&&(this.mpatternDictionary=new mT),this.mpatternDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shading",{get:function(){return this.mshading},set:function(e){if(null==e)throw new Error("ArgumentNullException : Shading");e!==this.mshading&&(this.mshading=e,this.patternDictionary.items.setValue(this.dictionaryProperties.shading,new BT(this.mshading)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"matrix",{get:function(){return this.mmatrix},set:function(e){if(null==e)throw new Error("ArgumentNullException : Matrix");if(e!==this.mmatrix){this.mmatrix=e.clone();var t=new wT(this.mmatrix.matrix.elements);this.mpatternDictionary.items.setValue(this.dictionaryProperties.matrix,t)}},enumerable:!0,configurable:!0}),t.prototype.monitorChanges=function(e,i,n,r,o){var a=!1;if(e instanceof t){this.colorSpace!==o&&(this.colorSpace=o,this.resetFunction()),i.setColorSpace("Pattern",this.mbStroking);var s=n.getResources().getName(this);i.setColourWithPattern(null,s,this.mbStroking),a=!0}return a},t.prototype.resetChanges=function(e){},t.prototype.colorSpaceToDeviceName=function(e){var t;if(e===qT.Rgb)t="DeviceRGB";return t},t.prototype.resetPatternDictionary=function(e){this.mpatternDictionary=e},t.prototype.cloneAntiAliasingValue=function(e){if(null==e)throw new Error("ArgumentNullException : brush");var t=this.shading.items.getValue(this.dictionaryProperties.antiAlias);null!=t&&e.shading.items.setValue(this.dictionaryProperties.antiAlias,new kA(t.value))},t.prototype.cloneBackgroundValue=function(e){var t=this.background;t.isEmpty||(e.background=t)},Object.defineProperty(t.prototype,"element",{get:function(){return this.patternDictionary},enumerable:!0,configurable:!0}),t}(kE),EA=function(){function e(e,t){if(this.dictionaryProperties=new fT,this.writeTransformation=!0,"undefined"===typeof e);else if(e instanceof mE&&"undefined"===typeof t){this.content=new LT;var i=new mE(e.width,e.height);this.setSize(i),this.initialize()}else this.content=new LT,this.setSize(new mE(e,t)),this.initialize()}return Object.defineProperty(e.prototype,"size",{get:function(){return this.templateSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.size.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.size.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"graphics",{get:function(){if(null==this.pdfGraphics||"undefined"===typeof this.pdfGraphics){var e=new NA(this),t=new FA(this.size,e,this.content);this.pdfGraphics=t,this.pdfGraphics.initializeCoordinates()}return this.pdfGraphics},enumerable:!0,configurable:!0}),e.prototype.getResources=function(){return null==this.resources&&(this.resources=new IA,this.content.items.setValue(this.dictionaryProperties.resources,this.resources)),this.resources},e.prototype.initialize=function(){this.addType(),this.addSubType()},e.prototype.addType=function(){var e=new dT(this.dictionaryProperties.xObject);this.content.items.setValue(this.dictionaryProperties.type,e)},e.prototype.addSubType=function(){var e=new dT(this.dictionaryProperties.form);this.content.items.setValue(this.dictionaryProperties.subtype,e)},e.prototype.reset=function(e){"undefined"===typeof e?(null!=this.resources&&(this.resources=null,this.content.remove(this.dictionaryProperties.resources)),null!=this.graphics&&this.graphics.reset(this.size)):(this.setSize(e),this.reset())},e.prototype.setSize=function(e){var t=new gE(new fE(0,0),e),i=wT.fromRectangle(t);this.content.items.setValue(this.dictionaryProperties.bBox,i),this.templateSize=e},Object.defineProperty(e.prototype,"element",{get:function(){return this.content},enumerable:!0,configurable:!0}),e}();!function(e){e[e.Unknown=0]="Unknown",e[e.Bmp=1]="Bmp",e[e.Emf=2]="Emf",e[e.Gif=3]="Gif",e[e.Jpeg=4]="Jpeg",e[e.Png=5]="Png",e[e.Wmf=6]="Wmf",e[e.Icon=7]="Icon"}(SA||(SA={}));var AA=function(){function e(e){this.sof1Marker=193,this.sof2Marker=194,this.sof3Marker=195,this.sof5Marker=197,this.sof6Marker=198,this.sof7Marker=199,this.sof9Marker=201,this.sof10Marker=202,this.sof11Marker=203,this.sof13Marker=205,this.sof14Marker=206,this.sof15Marker=207,this.mFormat=SA.Unknown,this.mbitsPerComponent=8,this.dictionaryProperties=new fT,this.mStream=e,this.initialize()}return Object.defineProperty(e.prototype,"height",{get:function(){return this.mHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.mWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bitsPerComponent",{get:function(){return this.mbitsPerComponent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.mImageData.count},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageData",{get:function(){return this.mImageData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageDataAsNumberArray",{get:function(){return this.mImageData.internalBuffer.buffer},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this.mFormat===SA.Unknown&&this.checkIfJpeg()&&(this.mFormat=SA.Jpeg,this.parseJpegImage()),this.reset(),this.mImageData=new ZE(this.mStream.count),this.mStream.read(this.mImageData,0,this.mImageData.count)},e.prototype.reset=function(){this.mStream.position=0},e.prototype.parseJpegImage=function(){this.reset();var e=new ZE(this.mStream.count);this.mStream.read(e,0,e.count);for(var t=4,i=!1,n=256*e.getBuffer(t)+e.getBuffer(t+1);t<e.count;){if(!((t+=n)<e.count)){i=!0;break}if(192===e.getBuffer(t+1))return this.mHeight=256*e.getBuffer(t+5)+e.getBuffer(t+6),void(this.mWidth=256*e.getBuffer(t+7)+e.getBuffer(t+8));t+=2,n=256*e.getBuffer(t)+e.getBuffer(t+1)}i&&(this.mStream.position=0,this.skip(this.mStream,2),this.readExceededJPGImage(this.mStream))},Object.defineProperty(e.prototype,"format",{get:function(){return this.mFormat},enumerable:!0,configurable:!0}),e.prototype.checkIfJpeg=function(){this.reset();for(var t=0;t<e.mJpegHeader.length;t++){if(e.mJpegHeader[t]!==this.mStream.readByte(t))return!1;this.mStream.position++}return!0},e.prototype.getImageDictionary=function(){if(this.mFormat===SA.Jpeg){this.imageData.internalBuffer.length;this.imageStream=new LT,this.imageStream.isImage=!0;for(var e="",t="",i=0;i<this.imageDataAsNumberArray.byteLength;i++)e+=String.fromCharCode(null,this.mStream.readByte(i));for(i=0;i<e.length;i++)i%2!==0&&(t+=e[i]);return this.imageStream.data=[t],this.imageStream.compress=!1,this.imageStream.items.setValue(this.dictionaryProperties.type,new dT(this.dictionaryProperties.xObject)),this.imageStream.items.setValue(this.dictionaryProperties.subtype,new dT(this.dictionaryProperties.image)),this.imageStream.items.setValue(this.dictionaryProperties.width,new _T(this.width)),this.imageStream.items.setValue(this.dictionaryProperties.height,new _T(this.height)),this.imageStream.items.setValue(this.dictionaryProperties.bitsPerComponent,new _T(this.bitsPerComponent)),this.imageStream.items.setValue(this.dictionaryProperties.filter,new dT(this.dictionaryProperties.dctdecode)),this.imageStream.items.setValue(this.dictionaryProperties.colorSpace,new dT(this.getColorSpace())),this.imageStream.items.setValue(this.dictionaryProperties.decodeParms,this.getDecodeParams()),this.imageStream}return this.imageStream},e.prototype.getColorSpace=function(){return this.dictionaryProperties.deviceRgb},e.prototype.getDecodeParams=function(){var e=new mT;return e.items.setValue(this.dictionaryProperties.columns,new _T(this.width)),e.items.setValue(this.dictionaryProperties.blackIs1,new kA(!0)),e.items.setValue(this.dictionaryProperties.k,new _T(-1)),e.items.setValue(this.dictionaryProperties.predictor,new _T(15)),e.items.setValue(this.dictionaryProperties.bitsPerComponent,new _T(this.bitsPerComponent)),e},e.prototype.readExceededJPGImage=function(e){this.mStream=e;for(var t=!0;t;){switch(this.getMarker(e)){case this.sof1Marker:case this.sof2Marker:case this.sof3Marker:case this.sof5Marker:case this.sof6Marker:case this.sof7Marker:case this.sof9Marker:case this.sof10Marker:case this.sof11Marker:case this.sof13Marker:case this.sof14Marker:case this.sof15Marker:e.position+=3,this.mHeight=this.mStream.readNextTwoBytes(e),this.mWidth=this.mStream.readNextTwoBytes(e),t=!1;break;default:this.skipStream(e)}}},e.prototype.skip=function(e,t){this.mStream=e;var i=new ZE(t);this.mStream.read(i,0,i.count)},e.prototype.getMarker=function(e){var t=32;for(t=e.readByte(this.mStream.position),e.position++;255!==t;)t=e.readByte(this.mStream.position),e.position++;do{t=e.readByte(this.mStream.position),e.position++}while(255===t);return t},e.prototype.skipStream=function(e){var t=this.mStream.readNextTwoBytes(e)-2;t>0&&(e.position+=t)},e.mPngHeader=[137,80,78,71,13,10,26,10],e.mJpegHeader=[255,216],e.GIF_HEADER="G,I,F,8",e.BMP_HEADER="B,M",e}(),PA=function(){function e(e){this.updateProportionsHelper(e)}return e.prototype.convertUnits=function(e,t,i){return this.convertFromPixels(this.convertToPixels(e,t),i)},e.prototype.convertToPixels=function(e,t){var i=t;return e*this.proportions[i]},e.prototype.convertFromPixels=function(e,t){var i=t;return e/this.proportions[i]},e.prototype.updateProportionsHelper=function(e){this.proportions=[e/2.54,e/6,1,e/72,e,e/300,e/25.4]},e.horizontalResolution=96,e.verticalResolution=96,e}(),MA=function(){function e(){}return Object.defineProperty(e.prototype,"width",{get:function(){return this.imageWidth},set:function(e){this.imageWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.imageHeight},set:function(e){this.imageHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{set:function(e){this.width=e.width,this.height=e.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"physicalDimension",{get:function(){return this.imagePhysicalDimension=this.getPointSize(this.width,this.height,this.horizontalResolution,this.verticalResolution),new mE(this.width,this.height)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.imageStream},enumerable:!0,configurable:!0}),e.prototype.getPointSize=function(e,t,i,n){if("undefined"===typeof i){var r=PA.horizontalResolution,o=PA.verticalResolution;return this.getPointSize(e,t,r,o)}var a=new PA(i),s=new PA(n),l=a.convertUnits(e,XT.Pixel,XT.Point),u=s.convertUnits(t,XT.Pixel,XT.Point);return new mE(l,u)},e}(),LA=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),OA=function(e){function t(t){var i=e.call(this)||this;return i.imageStatus=!0,i.dictionaryProperties=new fT,i.loadImage(t),i}return LA(t,e),t.prototype.loadImage=function(e){this.initializeAsync(e)},t.prototype.initializeAsync=function(e){var t=new ZE(e.length);t.writeFromBase64String(e),this.decoder=new AA(t),this.height=this.decoder.height,this.width=this.decoder.width,this.bitsPerComponent=this.decoder.bitsPerComponent},t.prototype.save=function(){this.imageStatus=!0,this.imageStream=this.decoder.getImageDictionary()},t}(MA),RA=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),IA=function(e){function t(t){var i=e.call(this,t)||this;return i.properties=new mT,i}return RA(t,e),Object.defineProperty(t.prototype,"names",{get:function(){return this.getNames()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"document",{get:function(){return this.pdfDocument},set:function(e){this.pdfDocument=e},enumerable:!0,configurable:!0}),t.prototype.getName=function(e){var t=e.element,i=null;if(this.names.containsKey(t)&&(i=this.names.getValue(t)),null==i){var n=this.generateName();i=new dT(n),this.names.setValue(t,i),(e instanceof zE||e instanceof EA||e instanceof TA||e instanceof BA||e instanceof VE||e instanceof MA||e instanceof OA)&&this.add(e,i)}return i},t.prototype.getNames=function(){null==this.pdfNames&&(this.pdfNames=new jE);var e=this.items.getValue(this.dictionaryProperties.font);if(null!=e){dE.dereference(e)}return this.pdfNames},t.prototype.requireProcedureSet=function(e){if(null==e)throw new Error("ArgumentNullException:procedureSetName");var t=this.items.getValue(this.dictionaryProperties.procset);null==t&&(t=new wT,this.items.setValue(this.dictionaryProperties.procset,t));var i=new dT(e);t.contains(i)||t.add(i)},t.prototype.removeFont=function(e){for(var t=null,i=this.pdfNames.keys(),n=0;n<this.pdfNames.size();n++)if(this.pdfNames.getValue(i[n])===new dT(e)){t=i[n];break}null!=t&&this.pdfNames.remove(t)},t.prototype.generateName=function(){return DA.getNewGuidString()},t.prototype.add=function(e,t){if(e instanceof zE){var i=null,n=this.items.getValue(this.dictionaryProperties.font);if(null!=n){var r=n;i=n,i=n}else i=new mT,this.items.setValue(this.dictionaryProperties.font,i);i.items.setValue(t.value,new BT(e.element))}else if(e instanceof EA){var o=void 0;null==(o=this.items.getValue(this.dictionaryProperties.xObject))&&(o=new mT,this.items.setValue(this.dictionaryProperties.xObject,o)),o.items.setValue(t.value,new BT(e.element))}else if(e instanceof kE){if(e instanceof TA||e instanceof BA)if(null!=(s=e.element)){var a=this.items.getValue(this.dictionaryProperties.pattern);null==a&&(a=new mT,this.items.setValue(this.dictionaryProperties.pattern,a)),a.items.setValue(t.value,new BT(s))}}else if(e instanceof VE){var s=e.element,l=null;null==(l=this.items.getValue(this.dictionaryProperties.extGState))&&(l=new mT,this.items.setValue(this.dictionaryProperties.extGState,l)),l.items.setValue(t.value,new BT(s))}else{o=this.Dictionary.items.getValue(this.dictionaryProperties.xObject);var u=void 0;"undefined"!==typeof this.pdfDocument&&(u=this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.getValue(this.dictionaryProperties.xObject));this.Dictionary.items.values();var c=!1,h=void 0;if("undefined"===typeof this.pdfDocument||void 0!==typeof u&&null!=u){if("undefined"!==typeof this.pdfDocument)for(var d=u.items.values(),p=0;p<d.length;p++)"undefined"!==typeof d[p]&&"undefined"!==typeof d[p].element&&d[p].element.data[0]===e.element.data[0]&&(h=d[p],c=!0)}else u=new mT,this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.setValue(this.dictionaryProperties.xObject,u);if(null==o&&(o=new mT,this.Dictionary.items.setValue(this.dictionaryProperties.xObject,o)),c&&"undefined"!==typeof h)o.items.setValue(t.value,h);else{r=new BT(e.element);o.items.setValue(t.value,r),"undefined"!==typeof this.pdfDocument&&u.items.setValue(t.value,r)}}},t}(mT),DA=function(){function e(){}return e.getNewGuidString=function(){return"aaaaaaaa-aaaa-4aaa-baaa-aaaaaaaaaaaa".replace(/[ab]/g,(function(e){var t=16*Math.random()|0;return("a"===e?t:3&t|8).toString(16)}))},e}(),zA=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),BA=function(e){function t(t,i){var n=e.call(this)||this;n.mStroking=!1,n.mLocation=new fE(0,0),n.mDictionaryProperties=new fT;var r=null;return t instanceof yE?r=t:t instanceof mE&&(r=new yE(0,0,t.width,t.height)),null!==i&&i instanceof YA&&(n.mPage=i),n.brushStream=new LT,n.mResources=new IA,n.brushStream.items.setValue(n.mDictionaryProperties.resources,n.mResources),n.setBox(r),n.setObligatoryFields(),null!==i&&i instanceof YA&&(n.mPage=i,n.graphics.colorSpace=i.document.colorSpace),n}return zA(t,e),t.prototype.initialize=function(e,t,i,n){this.mPage=t,this.mLocation=i,this.mTransformationMatrix=n,this.tempBrushStream=this.brushStream,this.brushStream=new LT;var r=new IA;return this.brushStream.items.setValue(this.mDictionaryProperties.resources,r),this.setBox(e),this.setObligatoryFields(),this},Object.defineProperty(t.prototype,"location",{get:function(){return this.mLocation},set:function(e){this.mLocation=e},enumerable:!0,configurable:!0}),t.prototype.setObligatoryFields=function(){if(this.brushStream.items.setValue(this.mDictionaryProperties.patternType,new _T(1)),this.brushStream.items.setValue(this.mDictionaryProperties.paintType,new _T(1)),this.brushStream.items.setValue(this.mDictionaryProperties.tilingType,new _T(1)),this.brushStream.items.setValue(this.mDictionaryProperties.xStep,new _T(this.mBox.right-this.mBox.left)),this.brushStream.items.setValue(this.mDictionaryProperties.yStep,new _T(this.mBox.bottom-this.mBox.top)),null!=this.mPage&&null!=this.mLocation)if(null==this.mTransformationMatrix&&"undefined"===typeof this.mTransformationMatrix){var e=this.mPage.size.height%this.rectangle.size.height-this.mLocation.y;this.brushStream.items.setValue(this.mDictionaryProperties.matrix,new wT([1,0,0,1,this.mLocation.x,e]))}else{e=0;var t=this.mTransformationMatrix.matrix.elements;e=this.mPage.size.height>this.rectangle.size.height?this.mTransformationMatrix.matrix.offsetY-this.mPage.size.height%this.rectangle.size.height:this.mPage.size.height%this.rectangle.size.height+this.mTransformationMatrix.matrix.offsetY,this.brushStream.items.setValue(this.mDictionaryProperties.matrix,new wT([t[0],t[1],t[2],t[3],t[4],e]))}},t.prototype.setBox=function(e){this.mBox=e;var t=new gE(this.mBox.left,this.mBox.top,this.mBox.right,this.mBox.bottom);this.brushStream.items.setValue(this.mDictionaryProperties.bBox,wT.fromRectangle(t))},Object.defineProperty(t.prototype,"rectangle",{get:function(){return this.mBox},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.mBox.size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"graphics",{get:function(){if(null==this.mGraphics&&"undefined"===typeof this.mGraphics){var e=new NA(this),t=new FA(this.size,e,this.brushStream);this.mGraphics=t,this.mResources=this.getResources(),this.mGraphics.initializeCoordinates()}return this.mGraphics},enumerable:!0,configurable:!0}),t.prototype.getResources=function(){return this.mResources},Object.defineProperty(t.prototype,"stroking",{get:function(){return this.mStroking},set:function(e){this.mStroking=e},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=this.initialize(this.rectangle,this.mPage,this.location,this.mTransformationMatrix);return null!=this.mTransformationMatrix&&null!=this.mTransformationMatrix.matrix&&e.brushStream.items.setValue(this.mDictionaryProperties.matrix,new wT(this.mTransformationMatrix.matrix.elements)),e.brushStream.data=this.tempBrushStream.data,e.mResources=new IA(this.mResources),e.brushStream.items.setValue(this.mDictionaryProperties.resources,e.mResources),e},t.prototype.monitorChanges=function(e,i,n,r,o){var a=!1;if(e!==this){i.setColorSpace("Pattern",this.mStroking);var s=n.getResources().getName(this);i.setColourWithPattern(null,s,this.mStroking),a=!0}else if(e instanceof t){i.setColorSpace("Pattern",this.mStroking);var l=n.getResources().getName(this);i.setColourWithPattern(null,l,this.mStroking),a=!0}return a},t.prototype.resetChanges=function(e){},Object.defineProperty(t.prototype,"element",{get:function(){return this.brushStream},enumerable:!0,configurable:!0}),t}(kE),FA=function(){function e(e,t,i){this.currentColorSpace=qT.Rgb,this.previousTextRenderingMode=VT.Fill,this.previousCharacterSpacing=0,this.previousWordSpacing=0,this.previousTextScaling=100,this.procedureSets=new NE,this.isNormalRender=!0,this.isUseFontSize=!1,this.isItalic=!1,this.isEmfTextScaled=!1,this.isEmf=!1,this.isEmfPlus=!1,this.isBaselineFormat=!0,this.emfScalingFactor=new mE(0,0),this.colorSpaceChanged=!1,this.dictionaryProperties=new fT,this.isOverloadWithPosition=!1,this.isPointOverload=!1,this.currentColorSpaces=["RGB","CMYK","GrayScale","Indexed"],this.isImageOptimized=!1,this.graphicsState=[],this.istransparencySet=!1,this.internalAutomaticFields=null,this.startCutIndex=-1,this.getResources=t,this.canvasSize=e,this.pdfStreamWriter=i instanceof wE?i:new wE(i),this.initialize()}return Object.defineProperty(e.prototype,"stringLayoutResult",{get:function(){return this.pdfStringLayoutResult},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.canvasSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mediaBoxUpperRightBound",{get:function(){return"undefined"===typeof this.internalMediaBoxUpperRightBound&&(this.internalMediaBoxUpperRightBound=0),this.internalMediaBoxUpperRightBound},set:function(e){this.internalMediaBoxUpperRightBound=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clientSize",{get:function(){return new mE(this.clipBounds.width,this.clipBounds.height)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorSpace",{get:function(){return this.currentColorSpace},set:function(e){this.currentColorSpace=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"streamWriter",{get:function(){return this.pdfStreamWriter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matrix",{get:function(){return null==this.transformationMatrix&&(this.transformationMatrix=new BE),this.transformationMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer",{get:function(){return this.pageLayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"page",{get:function(){return this.pageLayer.page},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"automaticFields",{get:function(){return null!=this.internalAutomaticFields&&"undefined"!==typeof this.internalAutomaticFields||(this.internalAutomaticFields=new UE),this.internalAutomaticFields},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this.bStateSaved=!1,this.currentPen=null,this.currentBrush=null,this.currentFont=null,this.currentColorSpace=qT.Rgb,this.bCSInitialized=!1,this.transformationMatrix=null,this.previousTextRenderingMode=-1,this.previousCharacterSpacing=-1,this.previousWordSpacing=-1,this.previousTextScaling=-100,this.currentStringFormat=null,this.clipBounds=new gE(new fE(0,0),this.size),this.getResources.getResources().requireProcedureSet(this.procedureSets.pdf)},e.prototype.drawPdfTemplate=function(e,t,i){if("undefined"===typeof i){if(null==e)throw Error("ArgumentNullException-template");this.drawPdfTemplate(e,t,e.size)}else{if(null==e)throw Error("ArgumentNullException-template");var n=e.width>0?i.width/e.width:1,r=e.height>0?i.height/e.height:1,o=!(1===n&&1===r),a=this.save(),s=new BE;null!=this.pageLayer&&this.getTranslateTransform(t.x,t.y+i.height,s),o&&this.getScaleTransform(n,r,s),this.pdfStreamWriter.modifyCtm(s);var l=this.getResources.getResources().getName(e);this.pdfStreamWriter.executeObject(l),this.restore(a);var u=e.graphics;if(null!=u)for(var c=0;c<u.automaticFields.automaticFields.length;c++){var h=u.automaticFields.automaticFields[c],d=new fE(h.location.x+t.x,h.location.y+t.y),p=0==e.size.width?0:i.width/e.size.width,f=0==e.size.height?0:i.height/e.size.height;this.automaticFields.add(new qE(h.field,d,p,f)),this.page.dictionary.modify()}this.getResources.getResources().requireProcedureSet(this.procedureSets.imageB),this.getResources.getResources().requireProcedureSet(this.procedureSets.imageC),this.getResources.getResources().requireProcedureSet(this.procedureSets.imageI),this.getResources.getResources().requireProcedureSet(this.procedureSets.text)}},e.prototype.drawString=function(e,t,i,n,r,o,a,s,l){if("string"===typeof e&&t instanceof zE&&(i instanceof EE||null===i)&&(n instanceof kE||null===n)&&"number"===typeof r&&"number"===typeof o&&(a instanceof AE||null===a)&&"undefined"===typeof s)this.isOverloadWithPosition=!0,this.drawString(e,t,i,n,r,o,this.clientSize.width-r,0,a);else{var u=i,c=n,h=r,d=o,p=a,f=s,m=l,g=(new ME).layout(e,t,m,new mE(p,f),this.isOverloadWithPosition,this.clientSize);if(!g.empty){var y=this.checkCorrectLayoutRectangle(g.actualSize,h,d,m);p<=0&&(h=y.x,p=y.width),f<=0&&(d=y.y,f=y.height),this.drawStringLayoutResult(g,t,u,c,new gE(h,d,p,f),m),this.isEmfTextScaled=!1,this.emfScalingFactor=new mE(0,0)}this.getResources.getResources().requireProcedureSet(this.procedureSets.text),this.isNormalRender=!0,this.pdfStringLayoutResult=g,this.isUseFontSize=!1}},e.prototype.drawLine=function(e,t,i,n,r){if(t instanceof fE){var o=t,a=i;this.drawLine(e,o.x,o.y,a.x,a.y)}else{o=t,a=i;var s=n,l=r;this.stateControl(e,null,null);var u=this.streamWriter;u.beginPath(o,a),u.appendLineSegment(s,l),u.strokePath(),this.getResources.getResources().requireProcedureSet(this.procedureSets.pdf)}},e.prototype.drawRectangle=function(e,t,i,n,r,o){if(e instanceof EE&&"number"===typeof t){var a=i;this.drawRectangle(e,null,t,a,n,r)}else if(e instanceof kE&&"number"===typeof t){a=i;this.drawRectangle(null,e,t,a,n,r)}else{a=i;var s=n,l=r,u=o;if(t instanceof BA){this.bCSInitialized=!1;var c=this.matrix.matrix.offsetX+a,h=void 0;h=null!=this.layer&&null!=this.layer.page?this.layer.page.size.height-this.matrix.matrix.offsetY+s:this.clientSize.height-this.matrix.matrix.offsetY+s,t.location=new fE(c,h),t.graphics.colorSpace=this.colorSpace}else t instanceof TA&&(t.colorSpace=this.colorSpace);t instanceof TE&&t.color.isEmpty&&(t=null);var d=e,p=t;this.stateControl(d,p,null),this.streamWriter.appendRectangle(a,s,l,u),this.drawPathHelper(d,p,!1)}},e.prototype.drawPathHelper=function(e,t,i,n){if("boolean"===typeof i){var r=i;this.drawPathHelper(e,t,GT.Winding,r)}else{var o=null!=e,a=null!=t,s=(r=i)===GT.Alternate;o&&a?this.streamWriter.fillStrokePath(s):o||a?o?this.streamWriter.strokePath():this.streamWriter.fillPath(s):this.streamWriter.endPath()}},e.prototype.drawImage=function(e,t,i,n,r){if("number"===typeof t&&"number"===typeof i&&"undefined"===typeof n){var o=e.physicalDimension;this.drawImage(e,t,i,o.width,o.height)}else{var a=t,s=i,l=r;e.save();var u=new BE;this.getTranslateTransform(a,s+l,u),this.getScaleTransform(n,r,u),this.pdfStreamWriter.write("q"),this.pdfStreamWriter.modifyCtm(u);var c=this.getResources.getResources();"undefined"!==typeof this.pageLayer&&null!=this.page&&(c.document=this.page.document);var h=c.getName(e);"undefined"!==typeof this.pageLayer&&this.page.setResources(c),this.pdfStreamWriter.executeObject(h),this.pdfStreamWriter.write(pT.restoreState),this.pdfStreamWriter.write(pT.newLine);var d=this.getResources.getResources();d.requireProcedureSet(this.procedureSets.imageB),d.requireProcedureSet(this.procedureSets.imageC),d.requireProcedureSet(this.procedureSets.imageI),d.requireProcedureSet(this.procedureSets.text)}},e.prototype.getLineBounds=function(e,t,i,n,r){var o;if(!t.empty&&e<t.lineCount&&e>=0){var a=t.lines[e],s=this.getTextVerticalAlignShift(t.actualSize.height,n.height,r)+n.y+t.lineHeight*e,l=a.width,u=this.getHorizontalAlignShift(l,n.width,r),c=this.getLineIndent(a,r,n,0===e);u+=this.rightToLeft(r)?0:c;var h=n.x+u,d=this.shouldJustify(a,n.width,r)?n.width-c:l-c,p=t.lineHeight;o=new gE(h,s,d,p)}else o=new gE(0,0,0,0);return o},e.prototype.checkCorrectLayoutRectangle=function(e,t,i,n){var r=new gE(t,i,e.width,e.width);if(null!=n){switch(n.alignment){case jT.Center:r.x-=r.width/2;break;case jT.Right:r.x-=r.width}switch(n.lineAlignment){case NT.Middle:r.y-=r.height/2;break;case NT.Bottom:r.y-=r.height}}return r},e.prototype.setLayer=function(e){this.pageLayer=e;var t=e.page;null!=t&&"undefined"!==typeof t&&(t.beginSave=this.pageSave)},e.prototype.pageSave=function(e){if(null!=e.graphics.automaticFields)for(var t=0;t<e.graphics.automaticFields.automaticFields.length;t++){var i=e.graphics.automaticFields.automaticFields[t];i.field.performDraw(e.graphics,i.location,i.scalingX,i.scalingY)}},e.prototype.drawStringLayoutResult=function(e,t,i,n,r,o){if(e.empty)throw new Error("ArgumentNullException:result");this.applyStringSettings(t,i,n,o,r);var a=null!=o?o.horizontalScalingFactor:100;a===this.previousTextScaling||this.isEmfTextScaled||(this.pdfStreamWriter.setTextScaling(a),this.previousTextScaling=a);var s,l=null==o||0===o.lineSpacing?t.height:o.lineSpacing+t.height;s=null!=o&&o.subSuperScript===tE.SubScript?l-(t.height+t.metrics.getDescent(o)):l-t.metrics.getAscent(o),this.shift=s,this.pdfStreamWriter.startNextLine(r.x,r.y-s),this.pdfStreamWriter.setLeading(+l);for(var u=0,c="",h=0;h<e.lines.length;h++)if(u+=e.lineHeight,r.y+u>this.clientSize.height){this.startCutIndex=h;break}for(var d=this.startCutIndex;d<e.lines.length&&d>=0;d++)c+=e.lines[d].text;var p=new gE(r.x,r.y,r.width,r.height);this.drawLayoutResult(e,t,o,r),this.underlineStrikeoutText(i,n,e,t,p,o),this.isEmfPlus=!1,this.isUseFontSize=!1,-1!==this.startCutIndex&&this.getNextPage().graphics.drawString(c,t,i,n,r.x,0,r.width,0,o)},e.prototype.getNextPage=function(){var e=this.currentPage.section,t=e.indexOf(this.currentPage);return t===e.count-1?e.add():e.getPages()[t+1]},e.prototype.setClip=function(e,t){"undefined"===typeof t?this.setClip(e,GT.Winding):(this.pdfStreamWriter.appendRectangle(e),this.pdfStreamWriter.clipPath(t===GT.Alternate))},e.prototype.applyStringSettings=function(e,t,i,n,r){i instanceof BA?(this.bCSInitialized=!1,i.graphics.colorSpace=this.colorSpace):i instanceof TA&&(this.bCSInitialized=!1,i.colorSpace=this.colorSpace);var o=this.getTextRenderingMode(t,i,n);this.stateControl(t,i,e,n),this.pdfStreamWriter.beginText(),o!==this.previousTextRenderingMode&&(this.pdfStreamWriter.setTextRenderingMode(o),this.previousTextRenderingMode=o);var a=null!=n?n.characterSpacing:0;a===this.previousCharacterSpacing||this.isEmfTextScaled||(this.pdfStreamWriter.setCharacterSpacing(a),this.previousCharacterSpacing=a);var s=null!=n?n.wordSpacing:0;s!==this.previousWordSpacing&&(this.pdfStreamWriter.setWordSpacing(s),this.previousWordSpacing=s)},e.prototype.getTextVerticalAlignShift=function(e,t,i){var n=0;if(t>=0&&null!=i&&i.lineAlignment!==NT.Top)switch(i.lineAlignment){case NT.Middle:n=(t-e)/2;break;case NT.Bottom:n=t-e}return n},e.prototype.drawLayoutResult=function(e,t,i,n){var r=this.getTextVerticalAlignShift(e.actualSize.height,n.height,i);0!==r&&this.pdfStreamWriter.startNextLine(0,r);for(var o=t,a=null!=o&&o.isUnicode,s=(null!=o&&o.isEmbedFont,e.lines),l=0,u=s.length;l<u&&l!==this.startCutIndex;l++){var c=s[l],h=(c.text,c.width),d=this.getHorizontalAlignShift(h,n.width,i),p=this.getLineIndent(c,i,n,0===l);0===(d+=this.rightToLeft(i)?0:p)||this.isEmfTextScaled||this.pdfStreamWriter.startNextLine(d,0),a?this.drawUnicodeLine(c,n,t,i):this.drawAsciiLine(c,n,t,i),0===d||this.isEmfTextScaled||this.pdfStreamWriter.startNextLine(-d,0),this.isOverloadWithPosition&&s.length>1&&(this.pdfStreamWriter.startNextLine(-n.x,0),n.x=0,n.width=this.clientSize.width,this.isOverloadWithPosition=!1,this.isPointOverload=!0)}this.getResources.getResources().requireProcedureSet(this.procedureSets.text),0!==r&&this.pdfStreamWriter.startNextLine(0,-(r-e.lineHeight)),this.pdfStreamWriter.endText()},e.prototype.drawAsciiLine=function(e,t,i,n){this.justifyLine(e,t.width,n);var r="";if(-1!==e.text.indexOf("(")||-1!==e.text.indexOf(")"))for(var o=0;o<e.text.length;o++)"("===e.text[o]?r+="\\(":")"===e.text[o]?r+="\\)":r+=e.text[o];""===r&&(r=e.text);var a="("+r+")";this.pdfStreamWriter.showNextLineText(new DT(a))},e.prototype.drawUnicodeLine=function(e,t,i,n){var r=e.text,o=(e.width,null!==n&&"undefined"!==typeof n&&n.rightToLeft),a=null!==n&&"undefined"!==typeof n&&(0!==n.wordSpacing||n.alignment===jT.Justify),s=i,l=this.justifyLine(e,t.width,n),u=new wA;if(o||null!==n&&"undefined"!==typeof n&&n.textDirection!==$T.None){var c=null,h=null!==n&&"undefined"!==typeof n&&n.alignment===jT.Right,d=null;d=(c=null!==n&&"undefined"!==typeof n&&n.textDirection!==$T.None?u.layout(r,s,n.textDirection===$T.RightToLeft,a,n):u.layout(r,s,h,a,n)).length>1?null!==n&&"undefined"!==typeof n&&n.textDirection!==$T.None?u.splitLayout(r,s,n.textDirection===$T.RightToLeft,a,n):u.splitLayout(r,s,h,a,n):[r],this.drawUnicodeBlocks(c,d,s,n,l)}else if(a){var p=this.breakUnicodeLine(r,s,null);c=p.tokens,d=p.words;this.drawUnicodeBlocks(c,d,s,n,l)}else{var f=this.convertToUnicode(r,s),m=this.getUnicodeString(f);this.streamWriter.showNextLineText(m)}},e.prototype.drawUnicodeBlocks=function(e,t,i,n,r){if(null==e)throw new Error("Argument Null Exception : blocks");if(null==t)throw new Error("Argument Null Exception : words");if(null==i)throw new Error("Argument Null Exception : font");this.streamWriter.startNextLine();var o=0,a=0,s=0,l=0;try{null!==n&&"undefined"!==typeof n&&(s=n.firstLineIndent,l=n.paragraphIndent,n.firstLineIndent=0,n.paragraphIndent=0);var u=i.getCharWidth(PE.whiteSpace,n)+r,c=null!=n?n.characterSpacing:0;u+=c+(null!==n&&"undefined"!==typeof n&&0===r?n.wordSpacing:0);for(var h=0;h<e.length;h++){var d=e[h],p=t[h],f=0;if(0!==o&&this.streamWriter.startNextLine(o,0),p.length>0){f+=i.measureString(p,n).width,f+=c;var m=this.getUnicodeString(d);this.streamWriter.showText(m)}h!==e.length-1&&(a+=o=f+u)}a>0&&this.streamWriter.startNextLine(-a,0)}finally{null!==n&&"undefined"!==typeof n&&(n.firstLineIndent=s,n.paragraphIndent=l)}},e.prototype.breakUnicodeLine=function(e,t,i){if(null===e)throw new Error("Argument Null Exception : line");i=e.split(null);for(var n=[],r=0;r<i.length;r++){var o=i[r],a=this.convertToUnicode(o,t);n[r]=a}return{tokens:n,words:i}},e.prototype.getUnicodeString=function(e){if(null===e)throw new Error("Argument Null Exception : token");var t=new DT(e);return t.converted=!0,t.encode=lT.ForceEncoding.Ascii,t},e.prototype.convertToUnicode=function(e,t){var i=null;if(null==e)throw new Error("Argument Null Exception : text");if(null==t)throw new Error("Argument Null Exception : ttfFont");if(t.fontInternal instanceof yA){var n=t.fontInternal.ttfReader;t.setSymbols(e),i=n.convertString(e);var r=DT.toUnicodeArray(i,!1);i=DT.byteToString(r)}return i},e.prototype.justifyLine=function(e,t,i){var n=e.text,r=e.width,o=this.shouldJustify(e,t,i),a=null!=i&&0!==i.wordSpacing,s=PE.spaces,l=PE.getCharsCount(n,s),u=0;o?(a&&(r-=l*i.wordSpacing),u=(t-r)/l,this.pdfStreamWriter.setWordSpacing(u)):a?this.pdfStreamWriter.setWordSpacing(i.wordSpacing):this.pdfStreamWriter.setWordSpacing(0);return u},e.prototype.reset=function(e){this.canvasSize=e,this.streamWriter.clear(),this.initialize(),this.initializeCoordinates()},e.prototype.shouldJustify=function(e,t,i){var n=e.text,r=e.width,o=null!=i&&i.alignment===jT.Justify,a=t>=0&&r<t,s=PE.spaces,l=PE.getCharsCount(n,s)>0&&n[0]!==PE.whiteSpace,u=(e.lineType&_E.LayoutBreak)>0;return o&&a&&l&&(u||i.alignment===jT.Justify)},e.prototype.underlineStrikeoutText=function(e,t,i,n,r,o){if(n.underline||n.strikeout){var a=this.createUnderlineStikeoutPen(e,t,n,o);if(null!=a){var s=this.getTextVerticalAlignShift(i.actualSize.height,r.height,o),l=0;l=r.y+s+n.metrics.getAscent(o)+1.5*a.width;for(var u=r.y+s+n.metrics.getHeight(o)/2+1.5*a.width,c=i.lines,h=0,d=i.lineCount;h<d;h++){var p=c[h],f=(p.text,p.width),m=this.getHorizontalAlignShift(f,r.width,o),g=this.getLineIndent(p,o,r,0===h);m+=this.rightToLeft(o)?0:g;var y=r.x+m,v=this.shouldJustify(p,r.width,o)?y+r.width-g:y+f-g;if(n.underline){var b=l;this.drawLine(a,y,b,v,b),l+=i.lineHeight}if(n.strikeout){b=u;this.drawLine(a,y,b,v,b),u+=i.lineHeight}this.isPointOverload&&c.length>1&&(r.x=0,r.width=this.clientSize.width)}this.isPointOverload=!1}}},e.prototype.createUnderlineStikeoutPen=function(e,t,i,n){var r=i.metrics.getSize(n)/20,o=null;return null!=e?o=new EE(e.color,r):null!=t&&(o=new EE(t,r)),o},e.prototype.getTextRenderingMode=function(e,t,i){var n=VT.None;return n=null!=e&&null!=t?VT.FillStroke:null!=e?VT.Stroke:VT.Fill,null!=i&&i.clipPath&&(n|=VT.ClipFlag),n},e.prototype.getLineIndent=function(e,t,i,n){var r=0,o=(e.lineType&_E.FirstParagraphLine)>0;return null!=t&&o&&(r=n?t.firstLineIndent:t.paragraphIndent,r=i.width>0?Math.min(i.width,r):r),r},e.prototype.getHorizontalAlignShift=function(e,t,i){var n=0;if(t>=0&&null!=i&&i.alignment!==jT.Left)switch(i.alignment){case jT.Center:n=(t-e)/2;break;case jT.Right:n=t-e}return n},e.prototype.rightToLeft=function(e){var t=null!==e&&"undefined"!==typeof e&&e.rightToLeft;return null!==e&&"undefined"!==typeof e&&e.textDirection!==$T.None&&"undefined"!==typeof e.textDirection&&(t=!0),t},e.prototype.stateControl=function(e,t,i,n){if("undefined"===typeof n)this.stateControl(e,t,i,null);else{t instanceof TA&&(this.bCSInitialized=!1,t.colorSpace=this.colorSpace),t instanceof BA&&(this.bCSInitialized=!1,t.graphics.colorSpace=this.colorSpace);var r=!1;if(null!==t){"undefined"!==typeof this.pageLayer&&null!=this.pageLayer&&!1===this.colorSpaceChanged&&(this.lastDocumentCS=this.pageLayer.page.document.colorSpace,this.lastGraphicsCS=this.pageLayer.page.graphics.colorSpace,this.colorSpace=this.pageLayer.page.document.colorSpace,this.currentColorSpace=this.pageLayer.page.document.colorSpace,this.colorSpaceChanged=!0),this.initCurrentColorSpace(this.currentColorSpace)}else if(null!=e){"undefined"!==typeof this.pageLayer&&null!=this.pageLayer&&(this.colorSpace=this.pageLayer.page.document.colorSpace,this.currentColorSpace=this.pageLayer.page.document.colorSpace),this.initCurrentColorSpace(this.currentColorSpace)}this.penControl(e,r),this.brushControl(t,r),this.fontControl(i,n,r)}},e.prototype.initCurrentColorSpace=function(e){this.getResources.getResources();this.bCSInitialized||(this.currentColorSpace!=qT.GrayScale?(this.pdfStreamWriter.setColorSpace("Device"+this.currentColorSpaces[this.currentColorSpace],!0),this.pdfStreamWriter.setColorSpace("Device"+this.currentColorSpaces[this.currentColorSpace],!1),this.bCSInitialized=!0):(this.pdfStreamWriter.setColorSpace("DeviceGray",!0),this.pdfStreamWriter.setColorSpace("DeviceGray",!1),this.bCSInitialized=!0))},e.prototype.penControl=function(e,t){null!=e&&(this.currentPen=e,e.monitorChanges(this.currentPen,this.pdfStreamWriter,this.getResources,t,this.colorSpace,this.matrix.clone()),this.currentPen=e.clone())},e.prototype.brushControl=function(e,t){if(null!=e&&"undefined"!==typeof e){var i=e.clone(),n=i;if(null!==n&&"undefined"!==typeof n&&!(e instanceof TE)&&!(e instanceof BA)){var r=n.matrix,o=this.matrix.clone();null!=r&&(r.multiply(o),o=r),n.matrix=o}this.currentBrush=n;i.monitorChanges(this.currentBrush,this.pdfStreamWriter,this.getResources,t,this.colorSpace),this.currentBrush=e,e=null}},e.prototype.fontControl=function(e,t,i){if(null!=e){var n=null!=t?t.subSuperScript:tE.None,r=null!=this.currentStringFormat?this.currentStringFormat.subSuperScript:tE.None;if(i||e!==this.currentFont||n!==r){var o=this.getResources.getResources();this.currentFont=e,this.currentStringFormat=t;var a=e.metrics.getSize(t);this.isEmfTextScaled=!1;var s=o.getName(e);this.pdfStreamWriter.setFont(e,s,a)}}},e.prototype.setTransparency=function(e,t,i){if("undefined"===typeof t)this.istransparencySet=!0,this.setTransparency(e,e,ZT.Normal);else if("number"===typeof t&&"undefined"===typeof i)this.setTransparency(e,t,ZT.Normal);else{null==this.trasparencies&&(this.trasparencies=new jE);var n=null,r=new VA(e,t,i);this.trasparencies.containsKey(r)&&(n=this.trasparencies.getValue(r)),null==n&&(n=new VE(e,t,i),this.trasparencies.setValue(r,n));var o=this.getResources.getResources().getName(n);this.streamWriter.setGraphicsState(o)}},e.prototype.clipTranslateMargins=function(e,t,i,n,r,o){if(e instanceof gE&&"undefined"===typeof t)this.clipBounds=e,this.pdfStreamWriter.writeComment("Clip margins."),this.pdfStreamWriter.appendRectangle(e),this.pdfStreamWriter.closePath(),this.pdfStreamWriter.clipPath(!1),this.pdfStreamWriter.writeComment("Translate co-ordinate system."),this.translateTransform(e.x,e.y);else if("number"===typeof e){var a=new gE(i,n,this.size.width-i-r,this.size.height-n-o);this.clipBounds=a,this.pdfStreamWriter.writeComment("Clip margins."),this.pdfStreamWriter.appendRectangle(a),this.pdfStreamWriter.closePath(),this.pdfStreamWriter.clipPath(!1),this.pdfStreamWriter.writeComment("Translate co-ordinate system."),this.translateTransform(e,t)}},e.prototype.updateY=function(e){return-e},e.prototype.translateTransform=function(e,t){var i=new BE;this.getTranslateTransform(e,t,i),this.pdfStreamWriter.modifyCtm(i),this.matrix.multiply(i)},e.prototype.getTranslateTransform=function(e,t,i){return i.translate(e,this.updateY(t)),i},e.prototype.scaleTransform=function(e,t){var i=new BE;this.getScaleTransform(e,t,i),this.pdfStreamWriter.modifyCtm(i),this.matrix.multiply(i)},e.prototype.getScaleTransform=function(e,t,i){return null==i&&(i=new BE),i.scale(e,t),i},e.prototype.rotateTransform=function(e){var t=new BE;this.getRotateTransform(e,t),this.pdfStreamWriter.modifyCtm(t),this.matrix.multiply(t)},e.prototype.initializeCoordinates=function(){this.pdfStreamWriter.writeComment("Change co-ordinate system to left/top."),this.mediaBoxUpperRightBound!==-this.size.height&&null==this.cropBox&&(this.mediaBoxUpperRightBound===this.size.height||0===this.mediaBoxUpperRightBound?this.translateTransform(0,this.updateY(this.size.height)):this.translateTransform(0,this.updateY(this.mediaBoxUpperRightBound)))},e.prototype.getRotateTransform=function(e,t){return null!=t&&"undefined"!==typeof t||(t=new BE),t.rotate(this.updateY(e)),t},e.prototype.save=function(){var e=new jA(this,this.matrix.clone());return e.brush=this.currentBrush,e.pen=this.currentPen,e.font=this.currentFont,e.colorSpace=this.currentColorSpace,e.characterSpacing=this.previousCharacterSpacing,e.wordSpacing=this.previousWordSpacing,e.textScaling=this.previousTextScaling,e.textRenderingMode=this.previousTextRenderingMode,this.graphicsState.push(e),this.pdfStreamWriter.saveGraphicsState(),e},e.prototype.restore=function(e){if("undefined"===typeof e)this.graphicsState.length>0&&this.doRestoreState();else if(-1!==this.graphicsState.indexOf(e))for(;0!==this.graphicsState.length;){if(this.doRestoreState()===e)break}},e.prototype.doRestoreState=function(){var e=this.graphicsState.pop();return this.transformationMatrix=e.matrix,this.currentBrush=e.brush,this.currentPen=e.pen,this.currentFont=e.font,this.currentColorSpace=e.colorSpace,this.previousCharacterSpacing=e.characterSpacing,this.previousWordSpacing=e.wordSpacing,this.previousTextScaling=e.textScaling,this.previousTextRenderingMode=e.textRenderingMode,this.pdfStreamWriter.restoreGraphicsState(),e},e.prototype.drawPath=function(e,t,i){t instanceof BA?(this.bCSInitialized=!1,t.graphics.colorSpace=this.colorSpace):t instanceof TA&&(this.bCSInitialized=!1,t.colorSpace=this.colorSpace),this.stateControl(e,t,null),this.buildUpPath(i.pathPoints,i.pathTypes),this.drawPathHelper(e,t,i.fillMode,!1)},e.prototype.drawArc=function(e,t,i,n,r,o,a){t instanceof gE?this.drawArc(e,t.x,t.y,t.width,t.height,i,n):0!==a&&(this.stateControl(e,null,null),this.constructArcPath(t,i,t+n,i+r,o,a),this.drawPathHelper(e,null,!1))},e.prototype.buildUpPath=function(t,i){for(var n=t.length,r=0;r<n;++r){var o,a=t[r];switch(i[r]&e.pathTypesValuesMask){case DE.Start:this.pdfStreamWriter.beginPath(a.x,a.y);break;case DE.Bezier3:var s=new fE(0,0),l=new fE(0,0),u=this.getBezierPoints(t,i,r,s,l);this.pdfStreamWriter.appendBezierSegment(a,u.p2,u.p3),r=u.i;break;case DE.Line:this.pdfStreamWriter.appendLineSegment(a);break;default:throw new Error("ArithmeticException - Incorrect path formation.")}o=i[r],this.checkFlags(o)}},e.prototype.getBezierPoints=function(t,i,n,r,o){if((i[++n]&e.pathTypesValuesMask)!==DE.Bezier3)throw new Error("ArgumentException : errorMsg");if(r=t[n],(i[++n]&e.pathTypesValuesMask)!==DE.Bezier3)throw new Error("ArgumentException : errorMsg");return{i:n,p2:r,p3:t[n]}},e.prototype.checkFlags=function(e){(e&DE.CloseSubpath)===DE.CloseSubpath&&this.pdfStreamWriter.closePath()},e.prototype.constructArcPath=function(e,t,i,n,r,o){var a=this.getBezierArc(e,t,i,n,r,o);if(0!==a.length){var s=[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7]];this.pdfStreamWriter.beginPath(s[0],s[1]);var l=0;for(l=0;l<a.length;l+=8)s=[a[l],a[l+1],a[l+2],a[l+3],a[l+4],a[l+5],a[l+6],a[l+7]],this.pdfStreamWriter.appendBezierSegment(s[2],s[3],s[4],s[5],s[6],s[7])}},e.prototype.getBezierArc=function(e,t,i,n,r,o){if(e>i){var a=void 0;a=e,e=i,i=a}if(n>t){a=void 0;a=t,t=n,n=a}var s,l;Math.abs(o)<=90?(s=o,l=1):s=o/(l=Math.ceil(Math.abs(o)/90));for(var u=(e+i)/2,c=(t+n)/2,h=(i-e)/2,d=(n-t)/2,p=s*(Math.PI/360),f=Math.abs(4/3*(1-Math.cos(p))/Math.sin(p)),m=[],g=0;g<l;g++){var y=(r+g*s)*(Math.PI/180),v=(r+(g+1)*s)*(Math.PI/180),b=Math.cos(y),x=Math.cos(v),_=Math.sin(y),w=Math.sin(v);s>0?m.push(u+h*b,c-d*_,u+h*(b-f*_),c-d*(_+f*b),u+h*(x+f*w),c-d*(w-f*x),u+h*x,c-d*w):m.push(u+h*b,c-d*_,u+h*(b+f*_),c-d*(_-f*b),u+h*(x-f*w),c-d*(w+f*x),u+h*x,c-d*w)}return m},e.pathTypesValuesMask=15,e.transparencyObject=!1,e}(),NA=function(){function e(e){this.sender=e}return e.prototype.getResources=function(){return this.sender.getResources()},e}(),jA=function(){function e(e,t){this.internalTextRenderingMode=VT.Fill,this.internalCharacterSpacing=0,this.internalWordSpacing=0,this.internalTextScaling=100,this.pdfColorSpace=qT.Rgb,"undefined"!==typeof e&&(this.pdfGraphics=e,this.transformationMatrix=t)}return Object.defineProperty(e.prototype,"graphics",{get:function(){return this.pdfGraphics},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matrix",{get:function(){return this.transformationMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"characterSpacing",{get:function(){return this.internalCharacterSpacing},set:function(e){this.internalCharacterSpacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wordSpacing",{get:function(){return this.internalWordSpacing},set:function(e){this.internalWordSpacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textScaling",{get:function(){return this.internalTextScaling},set:function(e){this.internalTextScaling=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pen",{get:function(){return this.pdfPen},set:function(e){this.pdfPen=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"brush",{get:function(){return this.pdfBrush},set:function(e){this.pdfBrush=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return this.pdfFont},set:function(e){this.pdfFont=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorSpace",{get:function(){return this.pdfColorSpace},set:function(e){this.pdfColorSpace=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textRenderingMode",{get:function(){return this.internalTextRenderingMode},set:function(e){this.internalTextRenderingMode=e},enumerable:!0,configurable:!0}),e}(),VA=function(e,t,i){this.alphaPen=e,this.alphaBrush=t,this.blendMode=i},UA=function(){function e(e,t){if(this.pdfColorSpace=qT.Rgb,this.isVisible=!0,this.sublayer=!1,this.contentLength=0,this.dictionaryProperties=new fT,null===e)throw new Error("ArgumentNullException:page");if(this.pdfPage=e,this.clipPageTemplates=!0,"undefined"===typeof t)this.content=new LT;else if(t instanceof LT||null===t){if(null===t)throw new Error("ArgumentNullException:stream");this.content=t}else this.content=new LT,this.clipPageTemplates=t}return Object.defineProperty(e.prototype,"colorSpace",{get:function(){return this.pdfColorSpace},set:function(e){this.pdfColorSpace=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"page",{get:function(){return this.pdfPage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layerId",{get:function(){return this.layerid},set:function(e){this.layerid=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.layerName},set:function(e){this.layerName=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this.isVisible},set:function(e){this.isVisible=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"graphics",{get:function(){return null==this.pdfGraphics&&this.initializeGraphics(this.page),this.pdfGraphics},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layers",{get:function(){return null==this.layer?(this.layer=new GA(this.page),this.layer.sublayer=!0,this.layer):this.layer},enumerable:!0,configurable:!0}),e.prototype.add=function(){var t=new e(this.pdfPage);return t.name="",t},e.prototype.sign=function(e){return 0===e?0:e>0?1:-1},e.prototype.initializeGraphics=function(e){var t=e,i=new NA(this.page);if(this.pdfGraphics=new FA(e.size,i,this.content),this.pdfGraphics.mediaBoxUpperRightBound=0,null!=t){var n=t.section.parent;null!=n&&(this.pdfGraphics.colorSpace=n.document.colorSpace,this.colorSpace=n.document.colorSpace)}var r=this.sign(e.origin.y)===this.sign(e.origin.x);(e.origin.x>=0&&e.origin.y>=0||!r)&&this.pdfGraphics.initializeCoordinates();var o=t.section.getActualBounds(t,!0),a=t.section.pageSettings.margins;this.clipPageTemplates?e.origin.x>=0&&e.origin.y>=0&&this.pdfGraphics.clipTranslateMargins(o):this.graphics.clipTranslateMargins(o.x,o.y,a.left,a.top,a.right,a.bottom),this.pdfGraphics.setLayer(this)},Object.defineProperty(e.prototype,"element",{get:function(){return this.content},enumerable:!0,configurable:!0}),e}(),WA=function(){function e(){}return Object.defineProperty(e.prototype,"count",{get:function(){return"undefined"===typeof this.collection&&(this.collection=[]),this.collection.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"list",{get:function(){return"undefined"===typeof this.collection&&(this.collection=[]),this.collection},enumerable:!0,configurable:!0}),e}(),HA=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),GA=function(e){function t(t){var i=e.call(this)||this;if(i.parentLayerCount=0,i.sublayer=!1,i.optionalContent=new mT,t instanceof qA){i.page=t;var n=t;i.parseLayers(n)}return i}return HA(t,e),t.prototype.items=function(e,t){if("number"===typeof e&&"undefined"===typeof t)return this.list[e];if(null==t)throw new Error("ArgumentNullException: layer");if(t.page!==this.page)throw new Error("ArgumentException: The layer belongs to another page")},t.prototype.add=function(e,t){if("undefined"===typeof e){var i=new UA(this.page);return i.name="",this.add(i),i}if(e instanceof UA){var n=this.list.push(e);return this.addLayer(n,e),n}return 0},t.prototype.addLayer=function(e,t){var i=new BT(t);this.page.contents.add(i)},t.prototype.insert=function(e,t){for(var i=[],n=this.list.length,r=e;r<n;r++)i.push(this.list.pop());this.list.push(t);for(r=0;r<i.length;r++)this.list.push(i[r]);this.insertLayer(e,t)},t.prototype.insertLayer=function(e,t){if(null==t)throw new Error("ArgumentNullException:layer");var i=new BT(t);this.page.contents.insert(e,i)},t.prototype.parseLayers=function(e){var t=this.page.contents;this.page.getResources();e.crossTable;var i=new LT,n=new LT,r=[];r.push("q"),i.data=r,t.insert(0,new BT(i)),(r=[]).push("Q"),n.data=r,t.insert(t.count,new BT(n))},t.prototype.indexOf=function(e){if(null==e)throw new Error("ArgumentNullException: layer");return this.list.indexOf(e)},t}(WA),qA=function(){function e(e){this.defLayerIndex=-1,this.modified=!1,this.dictionaryProperties=new fT,this.pageDictionary=e}return Object.defineProperty(e.prototype,"section",{get:function(){return this.pdfSection},set:function(e){this.pdfSection=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dictionary",{get:function(){return this.pageDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.pageDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultLayer",{get:function(){var e=this.layers,t=this.defaultLayerIndex;return e.items(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultLayerIndex",{get:function(){if(0===this.layerCollection.count||-1===this.defLayerIndex){var e=this.layerCollection.add();this.defLayerIndex=this.layerCollection.indexOf(e)}return this.defLayerIndex},set:function(e){if(e<0||e>this.layers.count-1)throw new Error("ArgumentOutOfRangeException : value, Index can not be less 0 and greater Layers.Count - 1");this.defLayerIndex=e,this.modified=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layers",{get:function(){return null!=this.layerCollection&&"undefined"!==typeof this.layerCollection||(this.layerCollection=new GA(this)),this.layerCollection},enumerable:!0,configurable:!0}),e.prototype.getResources=function(){return null==this.resources&&(this.resources=new IA,this.dictionary.items.setValue(this.dictionaryProperties.resources,this.resources)),this.resources},Object.defineProperty(e.prototype,"contents",{get:function(){var e=this.pageDictionary.items.getValue(this.dictionaryProperties.contents),t=e;return null==t&&(t=new wT,this.pageDictionary.items.setValue(this.dictionaryProperties.contents,t)),t},enumerable:!0,configurable:!0}),e.prototype.setResources=function(e){this.resources=e,this.dictionary.items.setValue(this.dictionaryProperties.resources,this.resources),this.modified=!0},e}(),ZA=function(){function e(e){this.alreadyExistsAnnotationError="This annotatation had been already added to page",this.missingAnnotationException="Annotation is not contained in collection.",this.dictionaryProperties=new fT,this.internalAnnotations=new wT,this.lists=[],"undefined"!==typeof e&&(this.page=e)}return Object.defineProperty(e.prototype,"annotations",{get:function(){return this.internalAnnotations},set:function(e){this.internalAnnotations=e},enumerable:!0,configurable:!0}),e.prototype.add=function(e){this.doAdd(e)},e.prototype.doAdd=function(e){if("undefined"===typeof e.destination)return e.setPage(this.page),this.internalAnnotations.add(new BT(e)),this.lists.push(e);var t=(new ME).layout(e.text,e.font,e.stringFormat,new mE(e.bounds.width,0),!1,new mE(0,0)),i=e.bounds.y;if(1===t.lines.length){var n=e.font.measureString(t.lines[0].text);e.bounds=new gE(new fE(e.bounds.x,i),n),e.text=t.lines[0].text,this.page.graphics.drawString(e.text,e.font,null,e.brush,e.bounds.x,e.bounds.y,e.bounds.width,e.bounds.height,null),e.setPage(this.page),this.setColor(e),this.internalAnnotations.add(new BT(e)),this.lists.push(e)}else for(var r=0;r<t.lines.length;r++){n=e.font.measureString(t.lines[r].text);if(0===r)e.bounds=new gE(e.bounds.x,i,n.width,n.height),e.text=t.lines[r].text,this.page.graphics.drawString(e.text,e.font,null,e.brush,e.bounds.x,i,n.width,n.height,null),e.setPage(this.page),this.setColor(e),this.internalAnnotations.add(new BT(e)),this.lists.push(e),i+=e.bounds.height;else{var o=e.clone();o.bounds=new gE(new fE(e.bounds.x,i),n),o.text=t.lines[r].text,this.page.graphics.drawString(o.text,o.font,null,o.brush,o.bounds.x,o.bounds.y,o.bounds.width,o.bounds.height,null),o.setPage(this.page),this.setColor(o),this.internalAnnotations.add(new BT(o)),this.lists.push(o),i+=o.bounds.height}}},e.prototype.setColor=function(e){var t=qT.Rgb,i=e.color.toArray(t);e.dictionary.items.setValue(this.dictionaryProperties.c,i)},Object.defineProperty(e.prototype,"element",{get:function(){return this.internalAnnotations},enumerable:!0,configurable:!0}),e}(),XA=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),YA=function(e){function t(){var t=e.call(this,new mT)||this;return t.annotationCollection=null,t.beginSave=null,t.initialize(),t}return XA(t,e),Object.defineProperty(t.prototype,"document",{get:function(){return null!==this.section&&null!==this.section.parent?this.section.parent.document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"graphics",{get:function(){var e=this.defaultLayer.graphics;return e.currentPage=this,e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"crossTable",{get:function(){if(null===this.section)throw new Error("PdfDocumentException : Page is not created");return null===this.section.parent?this.section.parentDocument.crossTable:this.section.parent.document.crossTable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.section.pageSettings.size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"origin",{get:function(){return this.section.pageSettings.origin},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"annotations",{get:function(){return null==this.annotationCollection&&(this.annotationCollection=new ZA(this),this.dictionary.items.setValue(this.dictionaryProperties.annots,this.annotationCollection.element),this.annotationCollection.annotations=this.dictionary.items.getValue(this.dictionaryProperties.annots)),this.annotationCollection},enumerable:!0,configurable:!0}),t.prototype.initialize=function(){this.dictionary.items.setValue(this.dictionaryProperties.type,new dT("Page")),this.dictionary.pageBeginDrawTemplate=new xT(this)},t.prototype.setSection=function(e){this.section=e,this.dictionary.items.setValue(this.dictionaryProperties.parent,new BT(e))},t.prototype.resetProgress=function(){this.isProgressOn=!1},t.prototype.getClientSize=function(){var e=this.section.getActualBounds(this,!0);return new mE(e.width,e.height)},t.prototype.pageBeginSave=function(){var e=this.document;void 0!==typeof e&&null!=e&&this.drawPageTemplates(e),null!=this.beginSave&&"undefined"!==typeof this.beginSave&&this.beginSave(this)},t.prototype.drawPageTemplates=function(e){if(this.section.containsTemplates(e,this,!1)){var t=new UA(this,!1);if(this.layers.insert(0,t),this.section.drawTemplates(this,t,e,!1),null!==t.graphics&&"undefined"!==typeof t.graphics)for(var i=0;i<t.graphics.automaticFields.automaticFields.length;i++){var n=t.graphics.automaticFields.automaticFields[i];n.field.performDraw(t.graphics,n.location,n.scalingX,n.scalingY)}}if(this.section.containsTemplates(e,this,!0)){var r=new UA(this,!1);this.layers.add(r),this.section.drawTemplates(this,r,e,!0)}},t}(qA),$A=function(){function e(e){this.pdfPage="undefined"!==typeof e?e:null}return Object.defineProperty(e.prototype,"page",{get:function(){return this.pdfPage},enumerable:!0,configurable:!0}),e}(),KA=function(){function e(e){if(this.pdfSection=null,null==e)throw Error('ArgumentNullException("section")');this.section=e}return Object.defineProperty(e.prototype,"section",{get:function(){return this.pdfSection},set:function(e){this.pdfSection=e},enumerable:!0,configurable:!0}),e.prototype.contains=function(e){return this.section.contains(e)},e.prototype.remove=function(e){this.section.remove(e)},e.prototype.add=function(){return this.section.add()},e}(),QA=function(){function e(){}return Object.defineProperty(e.prototype,"left",{get:function(){return this.leftTemplate},set:function(e){this.leftTemplate=this.checkElement(e,hC.Left)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.topTemplate},set:function(e){this.topTemplate=this.checkElement(e,hC.Top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.rightTemplate},set:function(e){this.rightTemplate=this.checkElement(e,hC.Right)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.bottomTemplate},set:function(e){this.bottomTemplate=this.checkElement(e,hC.Bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EvenLeft",{get:function(){return this.evenLeft},set:function(e){this.evenLeft=this.checkElement(e,hC.Left)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EvenTop",{get:function(){return this.evenTop},set:function(e){this.evenTop=this.checkElement(e,hC.Top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EvenRight",{get:function(){return this.evenRight},set:function(e){this.evenRight=this.checkElement(e,hC.Right)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EvenBottom",{get:function(){return this.evenBottom},set:function(e){this.evenBottom=this.checkElement(e,hC.Bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OddLeft",{get:function(){return this.oddLeft},set:function(e){this.oddLeft=this.checkElement(e,hC.Left)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OddTop",{get:function(){return this.oddTop},set:function(e){this.oddTop=this.checkElement(e,hC.Top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OddRight",{get:function(){return this.oddRight},set:function(e){this.oddRight=this.checkElement(e,hC.Right)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OddBottom",{get:function(){return this.oddBottom},set:function(e){this.oddBottom=this.checkElement(e,hC.Bottom)},enumerable:!0,configurable:!0}),e.prototype.getLeft=function(e){if(null==e)throw new Error("ArgumentNullException:page");return this.isEven(e)?null!=this.EvenLeft?this.EvenLeft:this.left:null!=this.OddLeft?this.OddLeft:this.left},e.prototype.getTop=function(e){if(null==e)throw new Error("ArgumentNullException:page");return this.isEven(e)?null!=this.EvenTop?this.EvenTop:this.top:null!=this.OddTop?this.OddTop:this.top},e.prototype.getRight=function(e){if(null==e)throw new Error("ArgumentNullException:page");return this.isEven(e)?null!=this.EvenRight?this.EvenRight:this.right:null!=this.OddRight?this.OddRight:this.right},e.prototype.getBottom=function(e){if(null==e)throw new Error("ArgumentNullException:page");return this.isEven(e)?null!=this.EvenBottom?this.EvenBottom:this.bottom:null!=this.OddBottom?this.OddBottom:this.bottom},e.prototype.isEven=function(e){var t=e.section.document.pages;return(t.pageCollectionIndex.containsKey(e)?t.pageCollectionIndex.getValue(e)+1:t.indexOf(e)+1)%2===0},e.prototype.checkElement=function(e,t){if(null!=e){if("undefined"!==typeof e.type&&e.type!==hC.None)throw new Error("NotSupportedException:Can not reassign the template element. Please, create new one.");e.type=t}return e},e}(),JA=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),eP=function(e){function t(){var t=e.call(this)||this;return t.leftValue=t.topValue=t.rightValue=t.bottomValue=t.stampValue=!0,t}return JA(t,e),Object.defineProperty(t.prototype,"applyDocumentLeftTemplate",{get:function(){return this.leftValue},set:function(e){this.leftValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"applyDocumentTopTemplate",{get:function(){return this.topValue},set:function(e){this.topValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"applyDocumentRightTemplate",{get:function(){return this.rightValue},set:function(e){this.rightValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"applyDocumentBottomTemplate",{get:function(){return this.bottomValue},set:function(e){this.bottomValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"applyDocumentStamps",{get:function(){return this.stampValue},set:function(e){this.stampValue=e},enumerable:!0,configurable:!0}),t}(QA),tP=function(){function e(e,t){this.pageAdded=new $A,this.pdfPages=[],this.dictionaryProperties=new fT,this.pdfDocument=e,"undefined"===typeof t?(this.settings=e.pageSettings.clone(),this.initialSettings=this.settings.clone()):(this.settings=t.clone(),this.initialSettings=this.settings.clone()),this.initialize()}return Object.defineProperty(e.prototype,"parent",{get:function(){return this.sectionCollection},set:function(e){this.sectionCollection=e,this.section.items.setValue(this.dictionaryProperties.parent,new BT(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentDocument",{get:function(){return this.pdfDocument},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageSettings",{get:function(){return this.settings},set:function(e){if(null==e)throw Error("Value can not be null.");this.settings=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.section},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this.pagesReferences.count},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"template",{get:function(){return null==this.pageTemplate&&(this.pageTemplate=new eP),this.pageTemplate},set:function(e){this.pageTemplate=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"document",{get:function(){return this.sectionCollection.document},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pages",{get:function(){return null!=this.pagesCollection&&"undefined"!==typeof this.pagesCollection||(this.pagesCollection=new KA(this)),this.pagesCollection},enumerable:!0,configurable:!0}),e.prototype.getPages=function(){return this.pdfPages},e.prototype.pointToNativePdf=function(e,t){var i=this.getActualBounds(e,!0);return t.x+=i.x,t.y=this.pageSettings.height-t.y,t},e.prototype.setPageSettings=function(e){this.settings=e,this.state.orientation=e.orientation,this.state.rotate=e.rotate,this.state.size=e.size,this.state.origin=e.origin},e.prototype.initialize=function(){this.pagesReferences=new wT,this.section=new mT,this.state=new iP(this.pdfDocument),this.section.sectionBeginSave=new bT(this,this.state),this.pageCount=new _T(0),this.section.items.setValue(this.dictionaryProperties.count,this.pageCount),this.section.items.setValue(this.dictionaryProperties.type,new dT(this.dictionaryProperties.pages)),this.section.items.setValue(this.dictionaryProperties.kids,this.pagesReferences)},e.prototype.containsTemplates=function(e,t,i){var n=this.getDocumentTemplates(e,t,i),r=this.getSectionTemplates(t,i);return n.length>0||r.length>0},e.prototype.getDocumentTemplates=function(e,t,i){var n=[];return this.template.applyDocumentTopTemplate&&null!=e.template.getTop(t)&&(!e.template.getTop(t).foreground&&!i||e.template.getTop(t).foreground&&i)&&n.push(e.template.getTop(t)),this.template.applyDocumentBottomTemplate&&null!=e.template.getBottom(t)&&(!e.template.getBottom(t).foreground&&!i||e.template.getBottom(t).foreground&&i)&&n.push(e.template.getBottom(t)),this.template.applyDocumentLeftTemplate&&null!=e.template.getLeft(t)&&(!e.template.getLeft(t).foreground&&!i||e.template.getLeft(t).foreground&&i)&&n.push(e.template.getLeft(t)),this.template.applyDocumentRightTemplate&&null!=e.template.getRight(t)&&(!e.template.getRight(t).foreground&&!i||e.template.getRight(t).foreground&&i)&&n.push(e.template.getRight(t)),n},e.prototype.getSectionTemplates=function(e,t){var i,n=[];null!=this.template.getTop(e)&&((!(i=this.template.getTop(e)).foreground&&!t||i.foreground&&t)&&n.push(i));null!=this.template.getBottom(e)&&((!(i=this.template.getBottom(e)).foreground&&!t||i.foreground&&t)&&n.push(i));null!=this.template.getLeft(e)&&((!(i=this.template.getLeft(e)).foreground&&!t||i.foreground&&t)&&n.push(i));null!=this.template.getRight(e)&&((!(i=this.template.getRight(e)).foreground&&!t||i.foreground&&t)&&n.push(i));return n},e.prototype.add=function(e){if("undefined"===typeof e){var t=new YA;return this.add(t),t}var i=this.checkPresence(e);this.pdfPages.push(e),this.pagesReferences.add(i),e.setSection(this),e.resetProgress(),this.pageAddedMethod(e)},e.prototype.checkPresence=function(e){for(var t=new BT(e),i=!1,n=this.parent,r=0;r<n.section.length;r++){var o=n.section[r];i=i||o.contains(e)}return t},e.prototype.contains=function(e){return 0<=this.indexOf(e)},e.prototype.indexOf=function(e){for(var t=0;t<this.pdfPages.length;t++)if(this.pdfPages[t]===e)return this.pdfPages.indexOf(e);var i=new BT(e);return this.pagesReferences.indexOf(i)},e.prototype.pageAddedMethod=function(e){var t=new $A(e);this.onPageAdded(t),this.parent.document.pages.onPageAdded(t),this.pageCount.intValue=this.count},e.prototype.onPageAdded=function(e){},e.prototype.getActualBounds=function(e,t,i){if(e instanceof YA&&"boolean"===typeof t){var n=this.parent.document;return this.getActualBounds(n,e,t)}e=e,t=t,i=i;var r=new gE(0,0,0,0);r.height=i?this.pageSettings.size.height:this.pageSettings.getActualSize().height,r.width=i?this.pageSettings.size.width:this.pageSettings.getActualSize().width;var o=this.getLeftIndentWidth(e,t,i),a=this.getTopIndentHeight(e,t,i),s=this.getRightIndentWidth(e,t,i),l=this.getBottomIndentHeight(e,t,i);return r.x+=o,r.y+=a,r.width-=o+s,r.height-=a+l,r},e.prototype.getLeftIndentWidth=function(e,t,i){if(null==e)throw new Error("ArgumentNullException:document");if(null==t)throw new Error("ArgumentNullException:page");var n=i?this.pageSettings.margins.left:0,r=null!=this.template.getLeft(t)?this.template.getLeft(t).width:0,o=null!=e.template.getLeft(t)?e.template.getLeft(t).width:0;return n+=this.template.applyDocumentLeftTemplate?Math.max(r,o):r},e.prototype.getTopIndentHeight=function(e,t,i){if(null==e)throw new Error("ArgumentNullException:document");if(null==t)throw new Error("ArgumentNullException:page");var n=i?this.pageSettings.margins.top:0,r=null!=this.template.getTop(t)?this.template.getTop(t).height:0,o=null!=e.template.getTop(t)?e.template.getTop(t).height:0;return n+=this.template.applyDocumentTopTemplate?Math.max(r,o):r},e.prototype.getRightIndentWidth=function(e,t,i){if(null==e)throw new Error("ArgumentNullException:document");if(null==t)throw new Error("ArgumentNullException:page");var n=i?this.pageSettings.margins.right:0,r=null!=this.template.getRight(t)?this.template.getRight(t).width:0,o=null!=e.template.getRight(t)?e.template.getRight(t).width:0;return n+=this.template.applyDocumentRightTemplate?Math.max(r,o):r},e.prototype.getBottomIndentHeight=function(e,t,i){if(null==e)throw new Error("ArgumentNullException:document");if(null==t)throw new Error("ArgumentNullException:page");var n=i?this.pageSettings.margins.bottom:0,r=null!=this.template.getBottom(t)?this.template.getBottom(t).height:0,o=null!=e.template.getBottom(t)?e.template.getBottom(t).height:0;return n+=this.template.applyDocumentBottomTemplate?Math.max(r,o):r},e.prototype.remove=function(e){if(null==e)throw Error('ArgumentNullException("page")');var t=this.pdfPages.indexOf(e);this.pagesReferences.removeAt(t);for(var i=[],n=0;n<t;n++)i.push(this.pdfPages[n]);for(n=t+1;n<this.pdfPages.length;n++)i.push(this.pdfPages[n]);this.pdfPages=i},e.prototype.applyPageSettings=function(e,t,i){var n=new gE(i.origin,i.size);e.items.setValue(this.dictionaryProperties.mediaBox,wT.fromRectangle(n));var r;r=nP.rotateFactor*i.rotate;var o=new _T(r);e.items.setValue(this.dictionaryProperties.rotate,o)},e.prototype.beginSave=function(e,t){var i=t.document;this.applyPageSettings(this.section,i.pageSettings,e)},e.prototype.drawTemplates=function(e,t,i,n){var r=this.getDocumentTemplates(i,e,n),o=this.getSectionTemplates(e,n);this.drawTemplatesHelper(t,i,r),this.drawTemplatesHelper(t,i,o)},e.prototype.drawTemplatesHelper=function(e,t,i){if(null!=i&&i.length>0)for(var n=i.length,r=0;r<n;r++){i[r].draw(e,t)}},e}(),iP=function(){function e(e){this.pageOrientation=e.pageSettings.orientation,this.pageRotate=e.pageSettings.rotate,this.pageSize=e.pageSettings.size,this.pageOrigin=e.pageSettings.origin}return Object.defineProperty(e.prototype,"orientation",{get:function(){return this.pageOrientation},set:function(e){this.pageOrientation=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this.pageRotate},set:function(e){this.pageRotate=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.pageSize},set:function(e){this.pageSize=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"origin",{get:function(){return this.pageOrigin},set:function(e){this.pageOrigin=e},enumerable:!0,configurable:!0}),e}(),nP=function(){function e(e){this.sections=[],this.dictionaryProperties=new fT,this.pdfDocument=e.clone(),this.initialize()}return Object.defineProperty(e.prototype,"section",{get:function(){return this.sections},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"document",{get:function(){return this.pdfDocument},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this.sections.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.pages},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this.sectionCount=new _T(0),this.sectionCollection=new wT,this.pages=new mT,this.pages.beginSave=new gT(this),this.pages.items.setValue(this.dictionaryProperties.type,new dT("Pages")),this.pages.items.setValue(this.dictionaryProperties.kids,this.sectionCollection),this.pages.items.setValue(this.dictionaryProperties.count,this.sectionCount),this.pages.items.setValue(this.dictionaryProperties.resources,new mT),this.setPageSettings(this.pages,this.pdfDocument.pageSettings)},e.prototype.pdfSectionCollection=function(e){if(e<0||e>=this.count)throw new Error("IndexOutOfRangeException()");return this.sections[e]},e.prototype.setPageSettings=function(e,t){var i=new gE(new fE,t.size);e.items.setValue(this.dictionaryProperties.mediaBox,wT.fromRectangle(i))},e.prototype.add=function(e){if("undefined"===typeof e){var t=new tP(this.pdfDocument);return this.add(t),t}var i=this.checkSection(e);return this.sections.push(e),e.parent=this,this.sectionCollection.add(i),this.sections.indexOf(e)},e.prototype.checkSection=function(e){var t=new BT(e);this.sectionCollection.contains(t);return t},e.prototype.countPages=function(){var e=0;return this.sections.forEach((function(t){return e+=t.count})),e},e.prototype.beginSave=function(){this.sectionCount.intValue=this.countPages()},e.rotateFactor=90,e}(),rP=function(){function e(e){this.pdfPageCollectionIndex=new nT,this.document=e}return Object.defineProperty(e.prototype,"count",{get:function(){return this.countPages()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageCollectionIndex",{get:function(){return this.pdfPageCollectionIndex},enumerable:!0,configurable:!0}),e.prototype.add=function(e){if("undefined"===typeof e){var t=new YA;return this.add(t),t}this.getLastSection().add(e)},e.prototype.getLastSection=function(){var e=this.document.sections;return 0===e.section.length&&e.add(),e.section[e.section.length-1]},e.prototype.onPageAdded=function(e){},e.prototype.countPages=function(){for(var e=this.document.sections,t=0,i=0;i<e.section.length;i++)t+=e.section[i].count;return t},e.prototype.getPageByIndex=function(e){return this.getPage(e)},e.prototype.getPage=function(e){if(e<0||e>=this.count)throw Error('ArgumentOutOfRangeException("index", "Value can not be less 0")');for(var t=null,i=0,n=0,r=0,o=this.document.sections.count,a=0;a<o;a++){var s=this.document.sections.section[a];if(n=s.count,r=e-i,e>=i&&r<n){t=s.getPages()[r];break}i+=n}return t},e.prototype.indexOf=function(e){var t=-1;if(null==e)throw new Error("ArgumentNullException: page");for(var i=0,n=0,r=this.document.sections.count;n<r;n++){var o=this.document.sections.pdfSectionCollection(n);if((t=o.indexOf(e))>=0){t+=i;break}t=-1,i+=o.count}return t},e.prototype.remove=function(e){if(null==e)throw Error('ArgumentNullException("page")');for(var t=null,i=0,n=this.document.sections.count;i<n;i++)if((t=this.document.sections.pdfSectionCollection(i)).pages.contains(e)){t.pages.remove(e);break}return t},e}(),oP=function(){function e(){this.referenceObjects=[],this.pdfFontCollection=new nT}return e.prototype.search=function(e){var t=null,i=this.getGroup(e);return null==i?i=this.createNewGroup():i.length>0&&(t=i[0]),i.push(e),t},e.prototype.createNewGroup=function(){var e=[];return this.referenceObjects.push(e),e},e.prototype.getGroup=function(e){var t=null;if(null!==e)for(var i=this.referenceObjects.length,n=0;n<i;n++){if(this.referenceObjects.length>0){var r=this.referenceObjects[n];if(r.length>0){var o=r[0];if(e.equalsTo(o)){t=r;break}}else this.removeGroup(r)}i=this.referenceObjects.length}return t},e.prototype.removeGroup=function(e){if(null!==e){var t=this.referenceObjects.indexOf(e);this.referenceObjects.slice(t,t+1)}},e.prototype.destroy=function(){this.pdfFontCollection=void 0,this.referenceObjects=void 0},e}(),aP=function(){function e(){}return e.getMetrics=function(e,t,i){var n=null;switch(e){case QT.Helvetica:n=this.getHelveticaMetrics(e,t,i);break;case QT.Courier:n=this.getCourierMetrics(e,t,i);break;case QT.TimesRoman:n=this.getTimesMetrics(e,t,i);break;case QT.Symbol:n=this.getSymbolMetrics(e,t,i);break;case QT.ZapfDingbats:n=this.getZapfDingbatsMetrics(e,t,i);break;default:n=this.getHelveticaMetrics(QT.Helvetica,t,i)}return n.name=e.toString(),n.subScriptSizeFactor=this.subSuperScriptFactor,n.superscriptSizeFactor=this.subSuperScriptFactor,n},e.getHelveticaMetrics=function(e,t,i){var n=new fA;return(t&KT.Bold)>0&&(t&KT.Italic)>0?(n.ascent=this.helveticaBoldItalicAscent,n.descent=this.helveticaBoldItalicDescent,n.postScriptName=this.helveticaBoldItalicName,n.size=i,n.widthTable=new gA(this.arialBoldWidth),n.height=n.ascent-n.descent):(t&KT.Bold)>0?(n.ascent=this.helveticaBoldAscent,n.descent=this.helveticaBoldDescent,n.postScriptName=this.helveticaBoldName,n.size=i,n.widthTable=new gA(this.arialBoldWidth),n.height=n.ascent-n.descent):(t&KT.Italic)>0?(n.ascent=this.helveticaItalicAscent,n.descent=this.helveticaItalicDescent,n.postScriptName=this.helveticaItalicName,n.size=i,n.widthTable=new gA(this.arialWidth),n.height=n.ascent-n.descent):(n.ascent=this.helveticaAscent,n.descent=this.helveticaDescent,n.postScriptName=this.helveticaName,n.size=i,n.widthTable=new gA(this.arialWidth),n.height=n.ascent-n.descent),n},e.getCourierMetrics=function(e,t,i){var n=new fA;return(t&KT.Bold)>0&&(t&KT.Italic)>0?(n.ascent=this.courierBoldItalicAscent,n.descent=this.courierBoldItalicDescent,n.postScriptName=this.courierBoldItalicName,n.size=i,n.widthTable=new gA(this.fixedWidth),n.height=n.ascent-n.descent):(t&KT.Bold)>0?(n.ascent=this.courierBoldAscent,n.descent=this.courierBoldDescent,n.postScriptName=this.courierBoldName,n.size=i,n.widthTable=new gA(this.fixedWidth),n.height=n.ascent-n.descent):(t&KT.Italic)>0?(n.ascent=this.courierItalicAscent,n.descent=this.courierItalicDescent,n.postScriptName=this.courierItalicName,n.size=i,n.widthTable=new gA(this.fixedWidth),n.height=n.ascent-n.descent):(n.ascent=this.courierAscent,n.descent=this.courierDescent,n.postScriptName=this.courierName,n.size=i,n.widthTable=new gA(this.fixedWidth),n.height=n.ascent-n.descent),n},e.getTimesMetrics=function(e,t,i){var n=new fA;return(t&KT.Bold)>0&&(t&KT.Italic)>0?(n.ascent=this.timesBoldItalicAscent,n.descent=this.timesBoldItalicDescent,n.postScriptName=this.timesBoldItalicName,n.size=i,n.widthTable=new gA(this.timesRomanBoldItalicWidths),n.height=n.ascent-n.descent):(t&KT.Bold)>0?(n.ascent=this.timesBoldAscent,n.descent=this.timesBoldDescent,n.postScriptName=this.timesBoldName,n.size=i,n.widthTable=new gA(this.timesRomanBoldWidth),n.height=n.ascent-n.descent):(t&KT.Italic)>0?(n.ascent=this.timesItalicAscent,n.descent=this.timesItalicDescent,n.postScriptName=this.timesItalicName,n.size=i,n.widthTable=new gA(this.timesRomanItalicWidth),n.height=n.ascent-n.descent):(n.ascent=this.timesAscent,n.descent=this.timesDescent,n.postScriptName=this.timesName,n.size=i,n.widthTable=new gA(this.timesRomanWidth),n.height=n.ascent-n.descent),n},e.getSymbolMetrics=function(e,t,i){var n=new fA;return n.ascent=this.symbolAscent,n.descent=this.symbolDescent,n.postScriptName=this.symbolName,n.size=i,n.widthTable=new gA(this.symbolWidth),n.height=n.ascent-n.descent,n},e.getZapfDingbatsMetrics=function(e,t,i){var n=new fA;return n.ascent=this.zapfDingbatsAscent,n.descent=this.zapfDingbatsDescent,n.postScriptName=this.zapfDingbatsName,n.size=i,n.widthTable=new gA(this.zapfDingbatsWidth),n.height=n.ascent-n.descent,n},e.subSuperScriptFactor=1.52,e.helveticaAscent=931,e.helveticaDescent=-225,e.helveticaName="Helvetica",e.helveticaBoldAscent=962,e.helveticaBoldDescent=-228,e.helveticaBoldName="Helvetica-Bold",e.helveticaItalicAscent=931,e.helveticaItalicDescent=-225,e.helveticaItalicName="Helvetica-Oblique",e.helveticaBoldItalicAscent=962,e.helveticaBoldItalicDescent=-228,e.helveticaBoldItalicName="Helvetica-BoldOblique",e.courierAscent=805,e.courierDescent=-250,e.courierName="Courier",e.courierBoldAscent=801,e.courierBoldDescent=-250,e.courierBoldName="Courier-Bold",e.courierItalicAscent=805,e.courierItalicDescent=-250,e.courierItalicName="Courier-Oblique",e.courierBoldItalicAscent=801,e.courierBoldItalicDescent=-250,e.courierBoldItalicName="Courier-BoldOblique",e.timesAscent=898,e.timesDescent=-218,e.timesName="Times-Roman",e.timesBoldAscent=935,e.timesBoldDescent=-218,e.timesBoldName="Times-Bold",e.timesItalicAscent=883,e.timesItalicDescent=-217,e.timesItalicName="Times-Italic",e.timesBoldItalicAscent=921,e.timesBoldItalicDescent=-218,e.timesBoldItalicName="Times-BoldItalic",e.symbolAscent=1010,e.symbolDescent=-293,e.symbolName="Symbol",e.zapfDingbatsAscent=820,e.zapfDingbatsDescent=-143,e.zapfDingbatsName="ZapfDingbats",e.arialWidth=[278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,0,556,0,222,556,333,1e3,556,556,333,1e3,667,333,1e3,0,611,0,0,222,222,333,333,350,556,1e3,333,1e3,500,333,944,0,500,667,0,333,556,556,556,556,260,556,333,737,370,556,584,0,737,333,400,584,333,333,333,556,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,584,611,556,556,556,556,500,556,500],e.arialBoldWidth=[278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,0,556,0,278,556,500,1e3,556,556,333,1e3,667,333,1e3,0,611,0,0,278,278,500,500,350,556,1e3,333,1e3,556,333,944,0,500,667,0,333,556,556,556,556,280,556,333,737,370,556,584,0,737,333,400,584,333,333,333,611,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,584,611,611,611,611,611,556,611,556],e.fixedWidth=[600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600],e.timesRomanWidth=[250,333,408,500,500,833,778,180,333,333,500,564,250,333,250,278,500,500,500,500,500,500,500,500,500,500,278,278,564,564,564,444,921,722,667,667,722,611,556,722,722,333,389,722,611,889,722,722,556,722,667,556,611,722,722,944,722,722,611,333,278,333,469,500,333,444,500,444,500,444,333,500,500,278,278,500,278,778,500,500,500,500,333,389,278,500,500,722,500,500,444,480,200,480,541,0,500,0,333,500,444,1e3,500,500,333,1e3,556,333,889,0,611,0,0,333,333,444,444,350,500,1e3,333,980,389,333,722,0,444,722,0,333,500,500,500,500,200,500,333,760,276,500,564,0,760,333,400,564,300,300,333,500,453,250,333,300,310,500,750,750,750,444,722,722,722,722,722,722,889,667,611,611,611,611,333,333,333,333,722,722,722,722,722,722,722,564,722,722,722,722,722,722,556,500,444,444,444,444,444,444,667,444,444,444,444,444,278,278,278,278,500,500,500,500,500,500,500,564,500,500,500,500,500,500,500,500],e.timesRomanBoldWidth=[250,333,555,500,500,1e3,833,278,333,333,500,570,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,570,570,570,500,930,722,667,722,722,667,611,778,778,389,500,778,667,944,722,778,611,778,722,556,667,722,722,1e3,722,722,667,333,278,333,581,500,333,500,556,444,556,444,333,500,556,278,333,556,278,833,556,500,556,556,444,389,333,556,500,722,500,500,444,394,220,394,520,0,500,0,333,500,500,1e3,500,500,333,1e3,556,333,1e3,0,667,0,0,333,333,500,500,350,500,1e3,333,1e3,389,333,722,0,444,722,0,333,500,500,500,500,220,500,333,747,300,500,570,0,747,333,400,570,300,300,333,556,540,250,333,300,330,500,750,750,750,500,722,722,722,722,722,722,1e3,722,667,667,667,667,389,389,389,389,722,722,778,778,778,778,778,570,778,722,722,722,722,722,611,556,500,500,500,500,500,500,722,444,444,444,444,444,278,278,278,278,500,556,500,500,500,500,500,570,500,556,556,556,556,500,556,500],e.timesRomanItalicWidth=[250,333,420,500,500,833,778,214,333,333,500,675,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,675,675,675,500,920,611,611,667,722,611,611,722,722,333,444,667,556,833,667,722,611,722,611,500,556,722,611,833,611,556,556,389,278,389,422,500,333,500,500,444,500,444,278,500,500,278,278,444,278,722,500,500,500,500,389,389,278,500,444,667,444,444,389,400,275,400,541,0,500,0,333,500,556,889,500,500,333,1e3,500,333,944,0,556,0,0,333,333,556,556,350,500,889,333,980,389,333,667,0,389,556,0,389,500,500,500,500,275,500,333,760,276,500,675,0,760,333,400,675,300,300,333,500,523,250,333,300,310,500,750,750,750,500,611,611,611,611,611,611,889,667,611,611,611,611,333,333,333,333,722,667,722,722,722,722,722,675,722,722,722,722,722,556,611,500,500,500,500,500,500,500,667,444,444,444,444,444,278,278,278,278,500,500,500,500,500,500,500,675,500,500,500,500,500,444,500,444],e.timesRomanBoldItalicWidths=[250,389,555,500,500,833,778,278,333,333,500,570,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,570,570,570,500,832,667,667,667,722,667,667,722,778,389,500,667,611,889,722,722,611,722,667,556,611,722,667,889,667,611,611,333,278,333,570,500,333,500,500,444,500,444,333,500,556,278,278,500,278,778,556,500,500,500,389,389,278,556,444,667,500,444,389,348,220,348,570,0,500,0,333,500,500,1e3,500,500,333,1e3,556,333,944,0,611,0,0,333,333,500,500,350,500,1e3,333,1e3,389,333,722,0,389,611,0,389,500,500,500,500,220,500,333,747,266,500,606,0,747,333,400,570,300,300,333,576,500,250,333,300,300,500,750,750,750,500,667,667,667,667,667,667,944,667,667,667,667,667,389,389,389,389,722,722,722,722,722,722,722,570,722,722,722,722,722,611,611,500,500,500,500,500,500,500,722,444,444,444,444,444,278,278,278,278,500,556,500,500,500,500,500,570,500,556,556,556,556,444,500,444],e.symbolWidth=[250,333,713,500,549,833,778,439,333,333,500,549,250,549,250,278,500,500,500,500,500,500,500,500,500,500,278,278,549,549,549,444,549,722,667,722,612,611,763,603,722,333,631,722,686,889,722,722,768,741,556,592,611,690,439,768,645,795,611,333,863,333,658,500,500,631,549,549,494,439,521,411,603,329,603,549,549,576,521,549,549,521,549,603,439,576,713,686,493,686,494,480,200,480,549,750,620,247,549,167,713,500,753,753,753,753,1042,987,603,987,603,400,549,411,549,549,713,494,460,549,549,549,549,1e3,603,1e3,658,823,686,795,987,768,768,823,768,768,713,713,713,713,713,713,713,768,713,790,790,890,823,549,250,713,603,603,1042,987,603,987,603,494,329,790,790,786,713,384,384,384,384,384,384,494,494,494,494,329,274,686,686,686,384,384,384,384,384,384,494,494,494,-1],e.zapfDingbatsWidth=[278,974,961,974,980,719,789,790,791,690,960,939,549,855,911,933,911,945,974,755,846,762,761,571,677,763,760,759,754,494,552,537,577,692,786,788,788,790,793,794,816,823,789,841,823,833,816,831,923,744,723,749,790,792,695,776,768,792,759,707,708,682,701,826,815,789,789,707,687,696,689,786,787,713,791,785,791,873,761,762,762,759,759,892,892,788,784,438,138,277,415,392,392,668,668,390,390,317,317,276,276,509,509,410,410,234,234,334,334,732,544,544,910,667,760,760,776,595,694,626,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,894,838,1016,458,748,924,748,918,927,928,928,834,873,828,924,924,917,930,931,463,883,836,836,867,867,696,696,874,874,760,946,771,865,771,888,967,888,831,873,927,970,918],e}(),sP=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),lP=function(e){function t(i,n,r){var o=e.call(this,n,"undefined"===typeof r?i instanceof t?i.style:KT.Regular:r)||this;return o.dictionaryProperties=new fT,o.encodings=["Unknown","StandardEncoding","MacRomanEncoding","MacExpertEncoding","WinAnsiEncoding","PDFDocEncoding","IdentityH"],o.pdfFontFamily="undefined"===typeof i?QT.Helvetica:i instanceof t?i.fontFamily:i,o.checkStyle(),o.initializeInternals(),o}return sP(t,e),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.pdfFontFamily},enumerable:!0,configurable:!0}),t.prototype.checkStyle=function(){if(this.fontFamily===QT.Symbol||this.fontFamily===QT.ZapfDingbats){var e=this.style;e&=~(KT.Bold|KT.Italic),this.setStyle(e)}},t.prototype.getLineWidth=function(e,i){if(null==e)throw new Error("ArgumentNullException:line");for(var n=0,r=(this.name,0),o=(e=t.convert(e)).length;r<o;r++){var a=e[r];n+=this.getCharWidthInternal(a,i)}var s=this.metrics.getSize(i);return n*=zE.charSizeMultiplier*s,n=this.applyFormatSettings(e,i,n)},t.prototype.equalsToFont=function(e){var t=!1,i=e;if(null!=i){var n=this.fontFamily===i.fontFamily,r=~(KT.Underline|KT.Strikeout),o=(this.style&r)===(i.style&r);t=n&&o}return t},t.prototype.initializeInternals=function(){cP.cache.search(this);var e,t=aP.getMetrics(this.pdfFontFamily,this.style,this.size);this.metrics=t,e=this.createInternals(),this.setInternals(e)},t.prototype.createInternals=function(){var e=new mT;if(e.items.setValue(this.dictionaryProperties.type,new dT(this.dictionaryProperties.font)),e.items.setValue(this.dictionaryProperties.subtype,new dT(this.dictionaryProperties.type1)),e.items.setValue(this.dictionaryProperties.baseFont,new dT(this.metrics.postScriptName)),this.fontFamily!==QT.Symbol&&this.fontFamily!==QT.ZapfDingbats){var t=this.encodings[iE.WinAnsiEncoding];e.items.setValue(this.dictionaryProperties.encoding,new dT(t))}return e},t.prototype.getCharWidthInternal=function(e,i){var n=0;return n=e.charCodeAt(0),"0"!==this.name&&"1"!==this.name&&"2"!==this.name&&"3"!==this.name&&"4"!==this.name||(n-=t.charOffset),n=n>=0&&128!==n?n:0,this.metrics.widthTable.items(n)},t.convert=function(e){return e},t.charOffset=32,t}(zE),uP=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),cP=function(e){function t(i){var n=e.call(this)||this;n.defaultMargin=40,n.streamWriter=null,n.document=n;var r=!1;"undefined"===typeof i?(t.cacheCollection=new oP,r=!1):r=i;var o=new rT;n.setMainObjectCollection(o);var a=new dE;a.isMerging=r,a.document=n,n.setCrossTable(a);var s=new hE;return n.setCatalog(s),o.add(s),s.position=-1,n.sectionCollection=new nP(n),n.documentPageCollection=new rP(n),s.pages=n.sectionCollection,n}return uP(t,e),Object.defineProperty(t,"defaultFont",{get:function(){return null==this.defaultStandardFont&&(this.defaultStandardFont=new lP(QT.Helvetica,8)),this.defaultStandardFont},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sections",{get:function(){return this.sectionCollection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageSettings",{get:function(){return null==this.settings&&(this.settings=new xE(this.defaultMargin)),this.settings},set:function(e){this.settings=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pages",{get:function(){return this.documentPageCollection},enumerable:!0,configurable:!0}),Object.defineProperty(t,"cache",{get:function(){return"undefined"===typeof t.cacheCollection||null==t.cacheCollection?new oP:t.cacheCollection},set:function(e){this.cacheCollection=e},enumerable:!0,configurable:!0}),Object.defineProperty(t,"enableCache",{get:function(){return this.isCacheEnabled},set:function(e){this.isCacheEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorSpace",{get:function(){return this.pdfColorSpace===qT.Rgb||this.pdfColorSpace===qT.Cmyk||this.pdfColorSpace===qT.GrayScale?this.pdfColorSpace:qT.Rgb},set:function(e){e===qT.Rgb||e===qT.Cmyk||e===qT.GrayScale?this.pdfColorSpace=e:this.pdfColorSpace=qT.Rgb},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"template",{get:function(){return null==this.pageTemplate&&(this.pageTemplate=new QA),this.pageTemplate},set:function(e){this.pageTemplate=e},enumerable:!0,configurable:!0}),t.prototype.docSave=function(e,t,i){if(this.checkPagesPresence(),null===e)throw new Error("ArgumentNullException : stream");this.streamWriter=e;var n=new eT(e);if(n.document=this,"boolean"===typeof t&&"undefined"===typeof i)return this.crossTable.save(n);this.crossTable.save(n,t)},t.prototype.checkPagesPresence=function(){0===this.pages.count&&this.pages.add()},t.prototype.destroy=function(){this.catalog=void 0,this.colorSpace=void 0,this.currentSavingObj=void 0,this.documentPageCollection=void 0,this.isStreamCopied=void 0,this.pageSettings=void 0,this.pageTemplate=void 0,this.pdfColorSpace=void 0,this.sectionCollection=void 0,t.cache.destroy(),this.crossTable.pdfObjects.destroy(),t.cache=void 0,this.streamWriter.destroy()},t.defaultStandardFont=null,t.isCacheEnabled=!0,t}(hT),hP=function(){function e(e,t,i,n,r){e instanceof gE&&"undefined"===typeof t?this.InitiateBounds(e.x,e.y,e.width,e.height,null):e instanceof gE&&t instanceof YA&&"undefined"===typeof i?this.InitiateBounds(e.x,e.y,e.width,e.height,t):e instanceof fE&&t instanceof mE&&"undefined"===typeof i?this.InitiateBounds(e.x,e.y,t.width,t.height,null):e instanceof fE&&t instanceof mE&&i instanceof YA&&"undefined"===typeof n?this.InitiateBounds(e.x,e.y,t.width,t.height,i):e instanceof mE&&"undefined"===typeof t?this.InitiateBounds(0,0,e.width,e.height,null):"number"===typeof e&&"number"===typeof t&&"undefined"===typeof i?this.InitiateBounds(0,0,e,t,null):"number"===typeof e&&"number"===typeof t&&i instanceof YA&&"undefined"===typeof n?this.InitiateBounds(0,0,e,t,i):this.InitiateBounds(e,t,i,n,null)}return Object.defineProperty(e.prototype,"dock",{get:function(){return this.dockStyle},set:function(e){this.dockStyle=e,this.resetAlignment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this.alignmentStyle},set:function(e){this.setAlignment(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"foreground",{get:function(){return this.isForeground},set:function(e){this.isForeground=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"background",{get:function(){return!this.isForeground},set:function(e){this.isForeground=!e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"location",{get:function(){return this.currentLocation},set:function(e){this.type===hC.None&&(this.currentLocation=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return"undefined"!==typeof this.currentLocation?this.currentLocation.x:0},set:function(e){this.type===hC.None&&(this.currentLocation.x=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return"undefined"!==typeof this.currentLocation?this.currentLocation.y:0},set:function(e){this.type===hC.None&&(this.currentLocation.y=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.template.size},set:function(e){this.type===hC.None&&this.template.reset(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.template.width},set:function(e){if(this.template.width!==e&&this.type===hC.None){var t=this.template.size;t.width=e,this.template.reset(t)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.template.height},set:function(e){if(this.template.height!==e&&this.type===hC.None){var t=this.template.size;t.height=e,this.template.reset(t)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"graphics",{get:function(){return this.template.graphics},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"template",{get:function(){return this.pdfTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.templateType},set:function(e){this.updateDocking(e),this.templateType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bounds",{get:function(){return new gE(new fE(this.x,this.y),this.size)},set:function(e){this.type===hC.None&&(this.location=new fE(e.x,e.y),this.size=new mE(e.width,e.height))},enumerable:!0,configurable:!0}),e.prototype.InitiateBounds=function(e,t,i,n,r){this.x=e,this.y=t,this.pdfTemplate=new EA(i,n)},e.prototype.updateDocking=function(e){if(e!==hC.None){switch(e){case hC.Top:this.dock=uC.Top;break;case hC.Bottom:this.dock=uC.Bottom;break;case hC.Left:this.dock=uC.Left;break;case hC.Right:this.dock=uC.Right}this.resetAlignment()}},e.prototype.resetAlignment=function(){this.alignment=cC.None},e.prototype.setAlignment=function(e){if(this.dock===uC.None)this.alignmentStyle=e;else{var t=!1;switch(this.dock){case uC.Left:t=e===cC.TopLeft||e===cC.MiddleLeft||e===cC.BottomLeft||e===cC.None;break;case uC.Top:t=e===cC.TopLeft||e===cC.TopCenter||e===cC.TopRight||e===cC.None;break;case uC.Right:t=e===cC.TopRight||e===cC.MiddleRight||e===cC.BottomRight||e===cC.None;break;case uC.Bottom:t=e===cC.BottomLeft||e===cC.BottomCenter||e===cC.BottomRight||e===cC.None;break;case uC.Fill:t=e===cC.MiddleCenter||e===cC.None}t&&(this.alignmentStyle=e)}},e.prototype.draw=function(e,t){var i=e.page,n=this.calculateBounds(i,t);-0===n.x&&(n.x=0),e.graphics.drawPdfTemplate(this.template,new fE(n.x,n.y),new mE(n.width,n.height))},e.prototype.calculateBounds=function(e,t){var i=this.bounds;return this.alignmentStyle!==cC.None?i=this.getAlignmentBounds(e,t):this.dockStyle!==uC.None&&(i=this.getDockBounds(e,t)),i},e.prototype.getAlignmentBounds=function(e,t){this.bounds;return this.type===hC.None?this.getSimpleAlignmentBounds(e,t):this.getTemplateAlignmentBounds(e,t)},e.prototype.getSimpleAlignmentBounds=function(e,t){var i=this.bounds,n=e.section.getActualBounds(t,e,!1),r=this.x,o=this.y;switch(this.alignmentStyle){case cC.TopLeft:r=0,o=0;break;case cC.TopCenter:r=(n.width-this.width)/2,o=0;break;case cC.TopRight:r=n.width-this.width,o=0;break;case cC.MiddleLeft:r=0,o=(n.height-this.height)/2;break;case cC.MiddleCenter:r=(n.width-this.width)/2,o=(n.height-this.height)/2;break;case cC.MiddleRight:r=n.width-this.width,o=(n.height-this.height)/2;break;case cC.BottomLeft:r=0,o=n.height-this.height;break;case cC.BottomCenter:r=(n.width-this.width)/2,o=n.height-this.height;break;case cC.BottomRight:r=n.width-this.width,o=n.height-this.height}return i.x=r,i.y=o,i},e.prototype.getTemplateAlignmentBounds=function(e,t){var i=this.bounds,n=e.section,r=n.getActualBounds(t,e,!1),o=this.x,a=this.y;switch(this.alignmentStyle){case cC.TopLeft:this.type===hC.Left?(o=-r.x,a=0):this.type===hC.Top&&(o=-r.x,a=-r.y);break;case cC.TopCenter:o=(r.width-this.width)/2,a=-r.y;break;case cC.TopRight:this.type===hC.Right?(o=r.width+n.getRightIndentWidth(t,e,!1)-this.width,a=0):this.type===hC.Top&&(o=r.width+n.getRightIndentWidth(t,e,!1)-this.width,a=-r.y);break;case cC.MiddleLeft:o=-r.x,a=(r.height-this.height)/2;break;case cC.MiddleCenter:o=(r.width-this.width)/2,a=(r.height-this.height)/2;break;case cC.MiddleRight:o=r.width+n.getRightIndentWidth(t,e,!1)-this.width,a=(r.height-this.height)/2;break;case cC.BottomLeft:this.type===hC.Left?(o=-r.x,a=r.height-this.height):this.type===hC.Bottom&&(o=-r.x,a=r.height+n.getBottomIndentHeight(t,e,!1)-this.height);break;case cC.BottomCenter:o=(r.width-this.width)/2,a=r.height+n.getBottomIndentHeight(t,e,!1)-this.height;break;case cC.BottomRight:this.type===hC.Right?(o=r.width+n.getRightIndentWidth(t,e,!1)-this.width,a=r.height-this.height):this.type===hC.Bottom&&(o=r.width+n.getRightIndentWidth(t,e,!1)-this.width,a=r.height+n.getBottomIndentHeight(t,e,!1)-this.height)}return i.x=o,i.y=a,i},e.prototype.getDockBounds=function(e,t){this.bounds;return this.type===hC.None?this.getSimpleDockBounds(e,t):this.getTemplateDockBounds(e,t)},e.prototype.getSimpleDockBounds=function(e,t){this.bounds;var i=e.section.getActualBounds(t,e,!1),n=this.x,r=this.y,o=this.width,a=this.height;switch(this.dockStyle){case uC.Left:n=0,r=0,o=this.width,a=i.height;break;case uC.Top:n=0,r=0,o=i.width,a=this.height;break;case uC.Right:n=i.width-this.width,r=0,o=this.width,a=i.height;break;case uC.Bottom:n=0,r=i.height-this.height,o=i.width,a=this.height;break;case uC.Fill:n=0,n=0,o=i.width,a=i.height}return new gE(n,r,o,a)},e.prototype.getTemplateDockBounds=function(e,t){this.bounds;var i=e.section,n=i.getActualBounds(t,e,!1),r=i.pageSettings.getActualSize(),o=this.x,a=this.y,s=this.width,l=this.height;switch(this.dockStyle){case uC.Left:o=-n.x,a=0,s=this.width,l=n.height;break;case uC.Top:o=-n.x,a=-n.y,s=r.width,l=this.height,n.height<0&&(a=-n.y+r.height);break;case uC.Right:o=n.width+i.getRightIndentWidth(t,e,!1)-this.width,a=0,s=this.width,l=n.height;break;case uC.Bottom:o=-n.x,a=n.height+i.getBottomIndentHeight(t,e,!1)-this.height,s=r.width,l=this.height,n.height<0&&(a-=r.height);break;case uC.Fill:o=0,o=0,s=n.width,l=n.height}return new gE(o,a,s,l)},e}(),dP=function(){function e(e){this.control=e}return e.prototype.print=function(e){this.printWindow=window.open("","print","height="+window.outerHeight+",width="+window.outerWidth+",tabbar=no"),this.printWindow.moveTo(0,0),this.printWindow.resizeTo(screen.availWidth,screen.availHeight);var t={cancel:!1,htmlContent:this.getHTMLContent(e),name:dS};this.control.trigger(dS,t),t.cancel||function(e,t){var i=document.createElement("div"),n=[].slice.call(document.getElementsByTagName("head")[0].querySelectorAll("base, link, style")),r=[].slice.call(document.getElementsByTagName("body")[0].querySelectorAll("link, style"));if(r.length)for(var o=0,a=r.length;o<a;o++)n.push(r[o]);var s="";wb(t)&&(t=window.open("","print","height=452,width=1024,tabbar=no")),i.appendChild(e.cloneNode(!0));var l=0;for(a=n.length;l<a;l++)s+=n[l].outerHTML;t.document.write("<!DOCTYPE html> <html><head>"+s+"</head><body>"+i.innerHTML+"<script> (function() { window.ready = true; })(); <\/script></body></html>"),t.document.close(),t.focus();var u=setInterval((function(){t.ready&&(t.print(),t.close(),clearInterval(u))}),500)}(t.htmlContent,this.printWindow)},e.prototype.getHTMLContent=function(e){var t=vx("div");if(e)if(e instanceof Array)for(var i=0;i<e.length;i++){var n=e[i];t.appendChild(xk(n).cloneNode(!0))}else e instanceof Element?t.appendChild(e.cloneNode(!0)):t.appendChild(xk(e).cloneNode(!0));else t.appendChild(this.control.element.cloneNode(!0));return t},e.prototype.export=function(e,t,i,n,r,o,a,s,l){var u=this,c=this.getControlsValue(n,a);r=r||c.width,o=o||c.height;var h,d=this.control.svgObject,p=this.control.enableCanvas;p||(d=vx("canvas",{id:"ej2-canvas",attrs:{width:r.toString(),height:o.toString()}}));var f=!(mx.userAgent.toString().indexOf("HeadlessChrome")>-1);i=wb(i)?aC.Landscape:i;var m='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+c.svg.outerHTML+"</svg>",g=window.URL.createObjectURL(new Blob("SVG"===e?[m]:[(new XMLSerializer).serializeToString(c.svg)],{type:"image/svg+xml"}));if("SVG"===e)if("msie"===mx.info.name){var y=new Blob([(new XMLSerializer).serializeToString(c.svg)],{type:"application/octet-stream"});window.navigator.msSaveOrOpenBlob(y,t+"."+e.toLocaleLowerCase())}else this.triggerDownload(t,e,g,f);else if("msie"===mx.info.name){var v=d;p||(v=this.createCanvas()),h=v.toDataURL(),"PDF"===e?this.exportPdf(v,i,r,o,f,t,s,l):this.doexport(e,h,t)}else{var b=new Image,x=d.getContext("2d");b.onload=function(){x.drawImage(b,0,0),window.URL.revokeObjectURL(g),"PDF"===e?u.exportPdf(d,i,r,o,f,t,s,l):window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(d.toBlob(null),t+"."+e.toLocaleLowerCase()):u.triggerDownload(t,e,d.toDataURL("image/"+e.toLowerCase()),f)},b.src=g}p||VS(document.getElementById(this.control.element.id+"_canvas"))},e.prototype.getDataUrl=function(e){var t=this.getControlsValue([e]),i=this.control.svgObject,n=this.control.enableCanvas;n||(i=vx("canvas",{id:"ej2-canvas",attrs:{width:t.width.toString(),height:t.height.toString()}}));var r=window.URL.createObjectURL(new Blob([(new XMLSerializer).serializeToString(t.svg)],{type:"image/svg+xml"}));if("msie"===mx.info.name){var o=i;n||(o=this.createCanvas());var a={name:mS,cancel:!1,dataUrl:i.toDataURL("image/png")};return e.trigger(mS,a),{element:o,dataUrl:o.toDataURL()}}var s=new Image,l=i.getContext("2d");return s.onload=function(){l.drawImage(s,0,0),window.URL.revokeObjectURL(r);var t={name:mS,cancel:!1,dataUrl:i.toDataURL("image/png")};return e.trigger(mS,t),t.dataUrl},s.src=r,{element:i,blobUrl:r}},e.prototype.triggerDownload=function(e,t,i,n){vx("a",{attrs:{download:e+"."+t.toLocaleLowerCase(),href:i}}).dispatchEvent(new MouseEvent(n?"click":"move",{view:window,bubbles:!1,cancelable:!0}))},e.prototype.getControlsValue=function(e,t){var i=0,n=0,r=this.control.enableCanvas,o=new ww("").createSvg({id:"Svg_Export_Element",width:200,height:200});return e.map((function(e){var a=e.svgObject.cloneNode(!0),s=e.renderer.createGroup({style:wb(t)||t?"transform: translateY("+n+"px)":"transform: translateX("+i+"px)"}),l=a.childNodes[0]?a.childNodes[0].getAttribute("fill"):"transparent";"Tailwind"!==e.theme&&"TailwindDark"!==e.theme||"rgba(255,255,255, 0.0)"!==l&&"transparent"!==l||a.childNodes[0].setAttribute("fill","rgba(255,255,255, 1)"),r||s.appendChild(a);var u=0,c=0;e.stockLegendModule&&e.legendSettings.visible&&("Bottom"===e.legendSettings.position||"Top"===e.legendSettings.position||"Auto"===e.legendSettings.position?u+=e.stockLegendModule.legendBounds.height:"Left"!==e.legendSettings.position&&"Right"!==e.legendSettings.position||(c+=e.stockLegendModule.legendBounds.width)),i=wb(t)||t?Math.max(e.availableSize.width+c,i):i+e.availableSize.width+c,n=wb(t)||t?n+e.availableSize.height+u:Math.max(e.availableSize.height+u,n),r||o.appendChild(s)})),r||(o.setAttribute("width",i+""),o.setAttribute("height",n+"")),{width:i,height:n,svg:o}},e.prototype.createCanvas=function(){var e=this.control;this.canvasRender(!0,e);var t=e.svgObject;return this.canvasRender(!1,e),t},e.prototype.canvasRender=function(e,t){t.enableCanvas=e,t.preRender(),t.render()},e.prototype.exportPdf=function(e,t,i,n,r,o,a,s){var l=new cP,u=l.pageSettings.margins,c=l.pageSettings.width,h=l.pageSettings.height,d=e.toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream");l.pageSettings.orientation=t;var p=c<i?i+u.left+u.right:c,f=h<n?n+u.top+u.bottom:h;if(void 0!==a){var m=new lP(1,a.fontSize||15),g=new hP(p,40);g.graphics.drawString(a.content+"",m,null,new TE(new SE(0,0,0)),a.x,a.y,null),l.template.top=g}if(void 0!==s){m=new lP(1,s.fontSize||15);var y=new hP(p,40);y.graphics.drawString(s.content+"",m,null,new TE(new SE(0,0,0)),s.x,s.y,null),l.template.bottom=y}l.pageSettings.size=new mE(p,f),d=d.slice(d.indexOf(",")+1),l.pages.add().graphics.drawImage(new OA(d),0,0,i,n),r&&(l.save(o+".pdf"),l.destroy())},e.prototype.doexport=function(e,t,i){var n,r=e||"JPG";n=[t],this.exportImage(n,i,r,t)},e.prototype.exportImage=function(e,t,i,n){for(var r=[],o=e instanceof HTMLElement?0:e.length,a=0;a<o;a++){for(var s=e[a].replace(/^data:[a-z]*;,/,"").split(","),l=atob(s[1]),u=new ArrayBuffer(l.length),c=new Uint8Array(u),h=0;h<l.length;h++)c[h]=l.charCodeAt(h);r.push(u)}for(var d=0;d<r.length;d++){var p=new Blob([r[d]],{type:"application/octet-stream"});"msie"===mx.info.name&&window.navigator.msSaveOrOpenBlob(p,t+"."+i.toLocaleLowerCase())}},e}(),pP=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),fP=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},mP=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pP(t,e),fP([Ux()],t.prototype,"start",void 0),fP([Ux()],t.prototype,"end",void 0),fP([Ux([])],t.prototype,"colors",void 0),fP([Ux("")],t.prototype,"label",void 0),t}(e_),gP=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pP(t,e),fP([Ux(!1)],t.prototype,"enable",void 0),fP([Ux("")],t.prototype,"dashArray",void 0),fP([Wx({color:null,width:1},uw)],t.prototype,"line",void 0),fP([Ux("Both")],t.prototype,"lineType",void 0),fP([Ux("")],t.prototype,"verticalLineColor",void 0),fP([Ux("")],t.prototype,"horizontalLineColor",void 0),fP([Ux(1)],t.prototype,"opacity",void 0),t}(e_),yP=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pP(t,e),fP([Ux(!1)],t.prototype,"enableSelectionZooming",void 0),fP([Ux(!1)],t.prototype,"enablePinchZooming",void 0),fP([Ux(!1)],t.prototype,"enableMouseWheelZooming",void 0),fP([Ux(!0)],t.prototype,"enableDeferredZooming",void 0),fP([Ux("XY")],t.prototype,"mode",void 0),fP([Ux(["Zoom","ZoomIn","ZoomOut","Pan","Reset"])],t.prototype,"toolbarItems",void 0),fP([Ux(!1)],t.prototype,"enablePan",void 0),fP([Ux(!1)],t.prototype,"enableScrollbar",void 0),t}(e_),vP=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.rotatedDataLabelCollections=[],n.animated=!1,n.isPointMouseDown=!1,n.isScrolling=!1,n.checkResize=0,n.visible=0,n.clickCount=0,n.singleClickTimer=0,n.chartAreaType="Cartesian",n.isRtlEnabled=!1,n.chartid=57723,vb("mergePersistData",n.mergePersistChartData,n),n}return pP(t,e),t.prototype.mergePersistChartData=function(){var e=window.localStorage.getItem(this.getModuleName()+this.element.id);if(!wb(e)&&""!==e){var t=JSON.parse(e),i=Object.keys(t);this.isProtectedOnChange=!0;for(var n=0,r=i;n<r.length;n++){var o=r[n];"object"!==typeof this[o]||wb(this[o])?this[o]=t[o]:_b(this[o],t[o])}this.isProtectedOnChange=!1}},t.prototype.isIdHasSpecialCharacter=function(e){var t=/^[A-Za-z ]+$/,i=/^[0-9 ]+$/,n="";if(t.test(e))return e;var r=0;i.test(e[0])&&(n+="\\3"+e[0],r=1);for(var o=r;o<e.length;o++)t.test(e[o])||-1!==e.indexOf("-")||-1!==e.indexOf("_")||-1!==e.indexOf("\\")||i.test(e[o])?n+=e[o]:n+="\\"+e[o];return n},t.prototype.preRender=function(){this.element.id=this.isIdHasSpecialCharacter(this.element.id);this.isBlazor=window.Blazor,this.allowServerDataBinding=!1,this.unWireEvents(),this.initPrivateVariable(),this.setCulture(),this.wireEvents(),this.stockChart&&(null===this.stockChart.tooltip.header&&(this.tooltip.header="<b>${point.x}</b>"),null===this.stockChart.tooltip.format&&(this.tooltip.format="High : <b>${point.high}</b><br/>Low : <b>${point.low}</b><br/>Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>",""!==this.stockChart.series[0].volume&&(this.tooltip.format+="<br/>Volume : <b>${point.volume}</b>")),this.animateSeries=!1),this.element.setAttribute("dir",this.enableRtl?"rtl":"")},t.prototype.initPrivateVariable=function(){if(this.animateSeries=!0,this.delayRedraw=!1,this.horizontalAxes=[],this.verticalAxes=[],this.refreshAxis(),this.refreshDefinition(this.rows),this.refreshDefinition(this.columns),this.tooltipModule&&(this.tooltipModule.previousPoints=[]),""===this.element.id){var e=document.getElementsByClassName("e-chart").length;this.element.id="chart_"+this.chartid+"_"+e}this.svgId=this.stockChart?this.stockChart.element.id+"_stockChart_chart":this.element.id+(this.enableCanvas?"_canvas":"_svg")},t.prototype.render=function(){var e=this;this.svgRenderer=new ww(this.element.id);var t={chart:this.isBlazor?{}:this,theme:this.theme,name:Zw,cancel:!1};this.stockChart?(this.isRtlEnabled="rtl"===window.getComputedStyle(document.querySelector("body")).direction,this.cartesianChartRendering(t)):this.trigger(Zw,t,(function(){t.cancel||e.cartesianChartRendering(t)}))},t.prototype.cartesianChartRendering=function(e){this.theme=this.isBlazor?e.theme:this.theme,this.createChartSvg(),this.setTheme(),this.markerRender=new HC(this),this.calculateAreaType(),this.calculateVisibleSeries(),this.initTechnicalIndicators(),this.initTrendLines(),this.calculateVisibleAxis(),this.processData(),this.renderComplete(),this.allowServerDataBinding=!0},t.prototype.getLocalizedLabel=function(e){return this.localeObject.getConstant(e)},t.prototype.animate=function(e){this.redraw=!0,this.animated=!0,this.duration=e||1e3},t.prototype.refreshBound=function(){if(this.rotatedDataLabelCollections=[],this.legendModule&&this.legendSettings.visible&&this.legendModule.getLegendOptions(this.visibleSeries,this),this.tooltip.enable&&this.tooltipModule&&(this.tooltipModule.previousPoints=[]),this.calculateStackValues(),this.calculateBounds(),this.stockChart&&!this.stockChart.rangeFound&&(this.stockChart.enablePeriodSelector||this.stockChart.enableSelector))return null;this.renderElements(),VS("chartmeasuretext"),this.removeSelection(),this.markerRender&&!this.stockChart&&this.markerRender.mergeXvalues(this.visibleSeries)},t.prototype.calculateStackValues=function(){for(var e,t=!1,i=0,n=this.visibleSeries.length;i<n;i++)(e=this.visibleSeries[i]).position=e.rectCount=void 0,-1===e.type.indexOf("Stacking")&&(-1===e.drawType.indexOf("Stacking")||"PolarRadar"!==this.chartAreaType)||t||(e.calculateStackedValue(e.type.indexOf("100")>-1,this),t=!0)},t.prototype.removeSelection=function(){for(var e=0,t=this.visibleSeries;e<t.length;e++){var i=t[e];if(i.visible)for(var n=0,r=i.points;n<r.length;n++){r[n].isSelect=!1}}xk(this.element.id+"_ej2_drag_multi_group")?(this.selectionMode.indexOf("Drag")>-1&&(this.selectionModule.filterArray=[]),VS(this.element.id+"_ej2_drag_multi_group"),this.selectionModule.calculateDragSelectedElements(this,new Aw(0,0,0,0),!0)):xk(this.element.id+"_ej2_drag_group")&&("Lasso"!==this.selectionMode&&(this.selectionModule.filterArray=[]),VS(this.element.id+"_ej2_drag_group"),this.selectionModule.calculateDragSelectedElements(this,new Aw(0,0,0,0),!0))},t.prototype.renderElements=function(){this.renderBorder(),this.renderTitle(),this.renderAreaBorder(),this.renderSeriesElements(this.renderAxes()),this.renderLegend(),this.applyZoomkit(),this.performSelection(),this.setSecondaryElementPosition();for(var e=0,t=this.visibleSeries;e<t.length;e++){var i=t[e];$_(this.element.id+"_DataLabel","Template",i.marker.dataLabel)}this.renderAnnotation()},t.prototype.renderAxes=function(){var e;return this.yAxisElements=this.renderer.createGroup({id:this.element.id+"yAxisCollection"}),this.rows.length>0&&this.columns.length>0&&(e=this.chartAxisLayoutPanel.renderAxes()),this.stripLineModule&&this.stripLineModule.renderStripLine(this,"Behind",this.axisCollections),e},t.prototype.renderLegend=function(){if(this.legendModule&&this.legendModule.legendCollections.length&&this.legendSettings.visible){this.legendModule.calTotalPage=!0;var e=this.legendSettings.border.width,t=this.legendModule.legendBounds,i=new Aw(t.x,t.y,t.width,t.height);this.enableCanvas&&(i=new Aw(i.x-e/2,i.y-e/2,i.width+e,i.height+e),this.renderer.canvasClip(i)),this.legendModule.renderLegend(this,this.legendSettings,t),this.enableCanvas&&this.renderer.canvasRestore()}this.redraw||(this.stockChart?xk(this.stockChart.chartObject.id)||this.stockChart.mainObject.appendChild(this.svgObject):this.element.appendChild(this.svgObject))},t.prototype.setSecondaryElementPosition=function(){var e=xk(this.element.id+"_Secondary_Element");if(e){var t=this.element.getBoundingClientRect(),i=xk(this.svgId).getBoundingClientRect();e.style.left=Math.max(i.left-t.left,0)+"px",e.style.top=Math.max(i.top-t.top,0)+"px"}},t.prototype.initializeModuleElements=function(){this.dataLabelCollections=[];var e=this.element.id;this.series.length&&(this.seriesElements="Scatter"===this.series[0].type||"Bubble"===this.series[0].type?this.svgRenderer.createGroup({id:e+"SeriesCollection"}):this.renderer.createGroup({id:e+"SeriesCollection"})),this.indicators.length&&(this.indicatorElements=this.renderer.createGroup({id:e+"IndicatorCollection"})),this.hasTrendlines()&&(this.trendLineElements=this.renderer.createGroup({id:e+"TrendLineCollection"})),this.dataLabelElements=this.renderer.createGroup({id:e+"DataLabelCollection"})},t.prototype.hasTrendlines=function(){for(var e,t=0,i=this.series;t<i.length;t++){if(e=!!i[t].trendlines.length)break}return e},t.prototype.renderSeriesElements=function(e){this.initializeModuleElements();var t=this.element.id;if("g"!==this.element.tagName){var i=jk(this.redraw,t+"_Secondary_Element")||this.createElement("div");i.id=t+"_Secondary_Element",i.style.cssText="position: relative",Ek(!1,this.element,i,this.redraw)}if(this.enableCanvas){var n=document.getElementById(t+"_Secondary_Element");n=n||this.createElement("div",{id:t+"_Secondary_Element",attrs:{style:"position: relative; left:0px; top:0px"}});var r=this.svgRenderer.createSvg({id:t+"_tooltip_svg",width:this.availableSize.width,height:this.availableSize.height});r.style.cssText="position: absolute; pointer-events: none",n.appendChild(r)}this.tooltip.enable&&Ek(this.enableCanvas,this.svgObject,this.renderer.createGroup({id:t+"_UserInteraction",style:"pointer-events:none;"}),this.redraw),this.rows.length>0&&this.columns.length>0&&(this.initializeIndicator(),this.initializeTrendLine(),this.renderSeries(),this.trendLineElements&&Ek(this.enableCanvas,this.svgObject,this.trendLineElements,this.redraw),this.appendElementsAfterSeries(e))},t.prototype.renderSeries=function(){this.enableCanvas&&this.renderer.canvasClip(this.chartAxisLayoutPanel.seriesClipRect);for(var e=0,t=this.visibleSeries;e<t.length;e++){var i=t[e];("TrendLine"===i.category?this.series[i.sourceIndex].trendlines[i.index].visible:i.visible)&&(this.visible++,ak(i),this.enableCanvas&&this.renderCanvasSeries(i),i.renderSeries(this))}this.enableCanvas&&this.renderer.canvasRestore(),this.visible=0;var n={id:this.element.id+"_ChartAreaClipRect_",x:this.chartAxisLayoutPanel.seriesClipRect.x,y:this.chartAxisLayoutPanel.seriesClipRect.y,width:this.chartAxisLayoutPanel.seriesClipRect.width,height:this.chartAxisLayoutPanel.seriesClipRect.height,fill:"transparent","stroke-width":1,stroke:"Gray"};if(this.seriesElements){this.enableCanvas||this.seriesElements.appendChild(pk(this.redraw,n,this.renderer));var r=document.getElementById(this.element.id+"_series_svg");r?Ek(!1,r,this.seriesElements,this.redraw):Ek(this.enableCanvas,this.svgObject,this.seriesElements,this.redraw)}},t.prototype.renderCanvasSeries=function(e){var t,i;if("Bubble"===e.type||"Scatter"===e.type){t=t||this.svgRenderer.createSvg({id:this.element.id+"_series_svg",width:this.availableSize.width,height:this.availableSize.height}),(i=i||this.createElement("div",{id:this.element.id+"_series"})).style.cssText="position: absolute";var n=document.getElementById(this.element.id+"_Secondary_Element");i.appendChild(t),n.appendChild(i)}t=!this.enableCanvas||"Bubble"!==e.type&&"Scatter"!==e.type?this.svgObject:t;(!this.enableCanvas||"Bubble"!==e.type&&"Scatter"!==e.type)&&this.enableCanvas},t.prototype.initializeIndicator=function(){for(var e=0,t=this.indicators;e<t.length;e++){var i=t[e];this[sk(i.type)+"IndicatorModule"]&&this[sk(i.type)+"IndicatorModule"].createIndicatorElements(this,i,i.index)}this.indicatorElements&&Ek(this.enableCanvas,this.svgObject,this.indicatorElements,this.redraw)},t.prototype.initializeTrendLine=function(){for(var e=0,t=this.visibleSeries;e<t.length;e++){var i=t[e];i.trendlines.length&&this.trendLineModule.getTrendLineElements(i,this)}},t.prototype.appendElementsAfterSeries=function(e){"PolarRadar"===this.chartAreaType&&Ek(this.enableCanvas,this.svgObject,this.yAxisElements,this.redraw),Ek(this.enableCanvas,this.svgObject,e,this.redraw),(this.zoomModule&&this.zoomSettings.enableScrollbar&&this.scrollElement.childElementCount||this.scrollElement&&this.scrollElement.childElementCount)&&Ek(!1,xk(this.element.id+"_Secondary_Element"),this.scrollElement,this.redraw),this.stripLineModule&&this.stripLineModule.renderStripLine(this,"Over",this.axisCollections),this.tooltip.enable||Ek(this.enableCanvas,this.svgObject,this.renderer.createGroup({id:this.element.id+"_UserInteraction",style:"pointer-events:none;"}),this.redraw),this.stockChart&&this.stockChart.calculateStockEvents()},t.prototype.applyZoomkit=function(){"PolarRadar"!==this.chartAreaType&&(this.redraw||!this.zoomModule||this.zoomSettings.enablePan&&!this.zoomModule.performedUI||this.zoomModule.applyZoomToolkit(this,this.axisCollections))},t.prototype.renderAnnotation=function(){this.annotationModule&&this.annotationModule.renderAnnotations(xk((this.stockChart?this.stockChart.element.id:this.element.id)+"_Secondary_Element"))},t.prototype.performSelection=function(){var e=[];this.selectionModule&&(e=_b([],this.selectionModule.selectedDataIndexes,null,!0),this.selectionModule.invokeSelection(this)),this.highlightModule&&this.highlightModule.invokeHighlight(this),e.length>0&&(this.selectionModule.selectedDataIndexes=e,this.selectionModule.redrawSelection(this,this.selectionMode))},t.prototype.processData=function(e){void 0===e&&(e=!0),this.visibleSeriesCount=0;for(var t=!0,i=0,n=this.visibleSeries;i<n.length;i++){var r=n[i];r.visible||this.legendSettings.visible?"Indicator"!==r.category&&"TrendLine"!==r.category&&this.initializeDataModule(r):this.visibleSeriesCount++}for(var o=0,a=this.indicators;o<a.length;o++){var s=a[o];if(s.dataSource){var l=s;this.initializeDataModule(l),t=!1}}e&&(!this.visibleSeries.length||this.visibleSeriesCount===this.visibleSeries.length&&t)&&(this.refreshBound(),this.trigger("loaded",{chart:this.isBlazor?{}:this}))},t.prototype.initializeDataModule=function(e){var t;e.xData=[],e.yData=[];t=this.isAngular?Object.keys(e.dataSource).length?e.dataSource:this.dataSource:e.dataSource||this.dataSource,e.dataModule=new jC(t,e.query),e.points=[],e.refreshDataManager(this)},t.prototype.calculateBounds=function(){var e=this.margin,t=0,i=0,n=0,r=e.left,o=this.availableSize.width-r-e.right-this.border.width;if(this.titleCollection=[],this.subTitleCollection=[],this.title&&(this.titleCollection=Hk(this.title,this.titleStyle,o),t=Cw(this.title,this.titleStyle).height*this.titleCollection.length+15,this.subTitle)){for(var a=0,s=0,l=this.titleCollection;s<l.length;s++){a=(n=Cw(l[s],this.titleStyle).width)>a?n:a}this.subTitleCollection=Hk(this.subTitle,this.subTitleStyle,a),i=Cw(this.subTitle,this.subTitleStyle).height*this.subTitleCollection.length+15}var u=e.top+i+t+.5*this.chartArea.border.width,c=this.availableSize.height-u-this.border.width-e.bottom;this.stockChart&&this.stockChart.legendSettings.visible&&this.stockChart.stockLegendModule&&("Top"===this.stockChart.legendSettings.position?u+=this.stockChart.stockLegendModule.legendBounds.height:"Left"===this.stockChart.legendSettings.position&&(r+=this.stockChart.stockLegendModule.legendBounds.width)),this.initialClipRect=new Aw(r,u,o,c),this.legendModule&&this.legendSettings.visible&&this.legendModule.calculateLegendBounds(this.initialClipRect,this.availableSize,null),this.chartAxisLayoutPanel.measureAxis(this.initialClipRect)},t.prototype.print=function(e){new dP(this).print(e)},t.prototype.initTrendLines=function(){this.isProtectedOnChange=!0;for(var e=0,t=this.visibleSeries;e<t.length;e++)for(var i=t[e],n=0,r=0,o=i.trendlines;r<o.length;r++){var a=o[r];this.trendLineModule&&(a.index=n,a.sourceIndex=i.index,this.trendLineModule.initSeriesCollection(a,this),a.targetSeries&&(a.targetSeries.xAxisName=i.xAxisName,a.targetSeries.yAxisName=i.yAxisName,this.visibleSeries.push(a.targetSeries))),n++}this.isProtectedOnChange=!1},t.prototype.calculateAreaType=function(){var e=this.series[0];this.chartArea.border.width=this.stockChart?0:this.chartArea.border.width,e&&(this.requireInvertedAxis=-1!==e.type.indexOf("Bar")&&!this.isTransposed||-1===e.type.indexOf("Bar")&&this.isTransposed&&"PolarRadar"!==this.chartAreaType),this.chartAxisLayoutPanel="PolarRadar"===this.chartAreaType?this.polarSeriesModule||this.radarSeriesModule:new EC(this)},t.prototype.calculateVisibleAxis=function(){var e,t=[this.primaryXAxis,this.primaryYAxis];t="Cartesian"===this.chartAreaType?t.concat(this.axes):t,this.paretoSeriesModule&&"Pareto"===this.series[0].type&&(t=t.concat(this.paretoSeriesModule.paretoAxes)),this.axisCollections=[],this.zoomModule&&(this.zoomModule.isPanning=this.zoomModule.isAxisZoomed(t)&&this.zoomSettings.enablePan,this.svgObject.setAttribute("cursor",this.zoomModule.isPanning?"pointer":"auto"),this.scrollBarModule&&(this.scrollBarModule.axes=t)),this.scrollSettingEnabled&&this.scrollBarModule&&(this.scrollBarModule.axes=t);for(var i=0,n=t.length;i<n;i++){(e=t[i]).series=[],e.labels=[],e.indexLabels={};for(var r=0,o=this.visibleSeries;r<o.length;r++){var a=o[r];this.initAxis(a,e,!0)}for(var s=0,l=this.indicators;s<l.length;s++){var u=l[s];this.initAxis(u,e,!1)}this.scrollBarModule&&!e.zoomingScrollBar&&this.scrollBarModule.injectTo(e,this),null!=e.orientation&&this.axisCollections.push(e)}this.rows.length>0&&this.columns.length>0&&this.chartAxisLayoutPanel.measure()},t.prototype.initAxis=function(e,t,i){e.xAxisName===t.name||null==e.xAxisName&&"primaryXAxis"===t.name?(t.orientation=this.requireInvertedAxis?"Vertical":"Horizontal",e.xAxis=t,i&&t.series.push(e)):(e.yAxisName===t.name||null==e.yAxisName&&"primaryYAxis"===t.name)&&(t.orientation=this.requireInvertedAxis?"Horizontal":"Vertical",e.yAxis=t,i&&t.series.push(e))},t.prototype.initTechnicalIndicators=function(){for(var e=0,t=0,i=this.indicators;t<i.length;t++){var n=i[t],r=n,o=sk(r.type);if(this[o+"IndicatorModule"]){r.index=e,this[o+"IndicatorModule"].initSeriesCollection(r,this);for(var a=0,s=r.targetSeries;a<s.length;a++){var l=s[a];(n.seriesName||n.dataSource)&&this.visibleSeries.push(l)}}e++}},t.prototype.refreshTechnicalIndicator=function(e){if(this.indicators.length){if(e instanceof NC&&"Indicator"!==e.category)for(var t=0,i=this.indicators;t<i.length;t++){var n=i[t];n.seriesName!==e.name||n.dataSource||n.setDataSource(e,this)}else e instanceof JC&&e.setDataSource(e instanceof NC?e:null,this)}},t.prototype.calculateVisibleSeries=function(){var e;this.visibleSeries=[];for(var t=this.palettes.length?this.palettes:nw(this.theme),i=t.length,n=this.series.sort((function(e,t){return e.zOrder-t.zOrder})),r=0,o=n.length;r<o;r++){switch((e=n[r]).category="Pareto"===n[0].type?"Pareto":"Series",e.index=r,e.interior=e.fill||t[r%i],e.type){case"Bar":case"StackingBar":case"StackingBar100":if(-1===n[0].type.indexOf("Bar"))continue;break;case"Polar":case"Radar":if("PolarRadar"!==this.chartAreaType)continue;if("PolarRadar"===this.chartAreaType&&(null===e.xAxisName&&null!==e.yAxisName||null!==e.xAxisName&&null===e.yAxisName||null!==e.xAxisName&&null!==e.yAxisName))continue;break;case"Pareto":this.visibleSeries.push(e),this.paretoSeriesModule.initSeries(e,this);continue;default:if("PolarRadar"===this.chartAreaType||n[0].type.indexOf("Bar")>-1)continue}this.visibleSeries.push(e),n[r]=e}},t.prototype.renderTitle=function(){var e,t=this.margin;if(this.title){var i=oC(this.titleStyle.textAlignment,this.enableRtl),n=Cw(this.title,this.titleStyle);e=new Aw(t.left,0,this.availableSize.width-t.left-t.right,0);var r=new Lw(this.element.id+"_ChartTitle",Gk(e,this.titleStyle),this.margin.top+3*n.height/4,i,this.titleCollection,"","auto"),o=jk(this.redraw,this.element.id+"_ChartTitle",r,this.renderer)||Vk(this.renderer,r,this.titleStyle,this.titleStyle.color||this.themeStyle.chartTitle,this.svgObject,null,null,null,null,null,null,0,null,this.enableCanvas);o&&(o.setAttribute("aria-label",this.description||this.title),o.setAttribute("tabindex",this.tabIndex.toString())),this.subTitle&&this.renderSubTitle(r)}},t.prototype.renderSubTitle=function(e){for(var t=0,i=0,n=this.titleStyle.textAlignment,r=0,o=this.titleCollection;r<o.length;r++){t=(i=Cw(o[r],this.titleStyle).width)>t?i:t}var a=Cw(this.subTitle,this.subTitleStyle),s=new Aw("Center"===n?e.x-.5*t:"Far"===n?e.x-t:e.x,0,t,0),l=new Lw(this.element.id+"_ChartSubTitle",Gk(s,this.subTitleStyle),e.y*e.text.length+3*a.height/4+10,oC(this.subTitleStyle.textAlignment,this.enableRtl),this.subTitleCollection,"","auto"),u=jk(this.redraw,this.element.id+"_ChartSubTitle",l,this.renderer)||Vk(this.renderer,l,this.subTitleStyle,this.subTitleStyle.color||this.themeStyle.chartTitle,this.svgObject,null,null,null,null,null,null,0,null,this.enableCanvas);u&&(u.setAttribute("aria-label",this.description||this.subTitle),u.setAttribute("tabindex",this.tabIndex.toString()))},t.prototype.renderBorder=function(){var e=0,t=0,i=this.border.width,n=this.backgroundImage,r=n?"transparent":this.background||this.themeStyle.background;this.stockChart&&this.stockChart.legendSettings.visible&&this.stockChart.stockLegendModule&&("Top"===this.stockChart.legendSettings.position?t+=this.stockChart.stockLegendModule.legendBounds.height:"Left"===this.stockChart.legendSettings.position&&(e+=this.stockChart.stockLegendModule.legendBounds.width));var o=new $k(this.element.id+"_ChartBorder",r,this.border,1,new Aw(.5*i+e,.5*i+t,this.availableSize.width-i,this.availableSize.height-i));if(this.htmlObject=jk(this.redraw,this.element.id+"_ChartBorder",o,this.renderer)||this.renderer.drawRectangle(o),Ek(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw),n){var a=new Kk(this.availableSize.height-i,this.availableSize.width-i,n,0,0,this.element.id+"_ChartBackground","visible","none");this.htmlObject=jk(this.redraw,this.element.id+"_ChartBackground",a,this.renderer)||this.renderer.drawImage(a),Ek(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw)}},t.prototype.renderAreaBorder=function(){if("PolarRadar"===this.chartAreaType)return null;var e=xk(this.element.id+"_ChartAreaBorder"),t=e?new Aw(+e.getAttribute("x"),+e.getAttribute("y"),+e.getAttribute("width"),+e.getAttribute("height")):null,i=new $k(this.element.id+"_ChartAreaBorder",this.chartArea.background,{width:this.chartArea.border.width,color:this.chartArea.border.color||this.themeStyle.areaBorder},this.chartArea.opacity,this.chartAxisLayoutPanel.seriesClipRect);this.htmlObject=this.renderer.drawRectangle(i),Ek(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw,!0,"x","y",null,null,!0,!0,t),this.htmlObject=null;var n=this.chartArea.backgroundImage;if(n){var r=this.chartArea.border.width,o=new Kk(this.initialClipRect.height-r,this.initialClipRect.width-r,n,this.initialClipRect.x,this.initialClipRect.y,this.element.id+"_ChartAreaBackground","visible","none");this.htmlObject=this.renderer.drawImage(o),Ek(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw,!0,"x","y",null,null,!0,!0)}},t.prototype.addSeries=function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t];n=new NC(this,"series",n),this.series.push(n)}this.refresh()},t.prototype.removeSeries=function(e){this.redraw=!1,this.series.splice(e,1),this.refresh()},t.prototype.clearSeries=function(){this.series=[],this.refresh()},t.prototype.addAxes=function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t];n=new DS(this,"axes",n),this.isBlazor&&(n.interval=isNaN(n.interval)?null:n.interval,n.desiredIntervals=isNaN(n.desiredIntervals)?null:n.desiredIntervals),this.axes.push(n)}this.refresh()},t.prototype.removeAxis=function(e){this.redraw=!1,this.axes.splice(e,1),this.refresh()},t.prototype.destroy=function(){this.scrollBarModule&&this.scrollBarModule.destroy(),this.markerRender&&(this.markerRender.removeEventListener(),this.markerRender=null),this.horizontalAxes=[],this.verticalAxes=[],this.visibleSeries=[],this.axisCollections=[],this.rotatedDataLabelCollections=[],this.seriesElements=null,this.chartAxisLayoutPanel=null,this.dataLabelCollections=null,this.dataLabelElements=null,this.yAxisElements=null,this.element&&(this.unWireEvents(),this.isReact&&this.clearTemplate(),e.prototype.destroy.call(this),this.enableCanvas||(this.removeSvg(),this.svgObject=null))},t.prototype.getModuleName=function(){return"chart"},t.prototype.getPersistData=function(){return this.addOnPersist(["loaded","animationComplete","primaryXAxis","primaryYAxis"])},t.prototype.createChartSvg=function(){this.removeSvg(),Wk(this)},t.prototype.unWireEvents=function(){var e=mx.touchStartEvent,t=mx.touchMoveEvent,i=mx.touchEndEvent,n=mx.isPointer?"pointerleave":"mouseleave";gx.remove(this.element,e,this.chartOnMouseDown),gx.remove(this.element,t,this.mouseMove),gx.remove(this.element,i,this.mouseEnd),gx.remove(this.element,"click",this.chartOnMouseClick),gx.remove(this.element,"dblclick",this.chartOnDoubleClick),gx.remove(this.element,"contextmenu",this.chartRightClick),gx.remove(this.element,n,this.mouseLeave),window.removeEventListener(mx.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.resizeBound),this.touchObject&&(this.touchObject.destroy(),this.touchObject=null)},t.prototype.wireEvents=function(){if(this.element){var e=mx.isPointer?"pointerleave":"mouseleave";gx.add(this.element,mx.touchStartEvent,this.chartOnMouseDown,this),gx.add(this.element,mx.touchMoveEvent,this.mouseMove,this),gx.add(this.element,mx.touchEndEvent,this.mouseEnd,this),gx.add(this.element,"click",this.chartOnMouseClick,this),gx.add(this.element,"dblclick",this.chartOnDoubleClick,this),gx.add(this.element,"contextmenu",this.chartRightClick,this),gx.add(this.element,e,this.mouseLeave,this),this.resizeBound=this.chartResize.bind(this),window.addEventListener(mx.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.resizeBound),this.longPressBound=this.longPress.bind(this),this.touchObject=new w_(this.element,{tapHold:this.longPressBound,tapHoldThreshold:500}),this.setStyle(this.element)}},t.prototype.chartRightClick=function(e){return!this.crosshair.enable||!this.crosshairModule||2!==e.buttons&&0!==e.which&&"touch"!==e.pointerType||(e.preventDefault(),e.stopPropagation(),!1)},t.prototype.setStyle=function(e){var t=this.zoomSettings,i=t.enableSelectionZooming||t.enablePinchZooming||"None"!==this.selectionMode||this.crosshair.enable||"None"!==this.highlightMode;e.style.touchAction=i?"none":"element",e.style.msTouchAction=i?"none":"element",e.style.msContentZooming="none",e.style.msUserSelect="none",e.style.webkitUserSelect="none",e.style.position="relative",e.style.display="block",e.style.overflow="hidden"},t.prototype.isOrientation=function(){return"orientation"in window&&"onorientationchange"in window},t.prototype.longPress=function(e){return this.mouseX=e&&e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].clientX:0,this.mouseY=e&&e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].clientY:0,this.startMove=!0,this.setMouseXY(this.mouseX,this.mouseY),this.notify("tapHold",e),!1},t.prototype.setMouseXY=function(e,t){if(xk(this.svgId)){var i=xk(this.svgId).getBoundingClientRect(),n=this.element.getBoundingClientRect();this.mouseY=t-n.top-Math.max(i.top-n.top,0),this.mouseX=e-n.left-Math.max(i.left-n.left,0)}},t.prototype.export=function(e,t){this.exportModule&&(this.exportModule.export(e,t),this.afterExport&&this.exportModule.getDataUrl(this))},t.prototype.chartResize=function(){var e=this;this.animateSeries=!1;var t={chart:this.isBlazor?{}:this,name:cS,currentSize:new Ew(0,0),previousSize:new Ew(this.availableSize.width,this.availableSize.height)},i={name:"beforeResize",cancelResizedEvent:!1};return this.resizeTo&&clearTimeout(this.resizeTo),this.trigger(hS,i),i.cancelResizedEvent||(this.resizeTo=+setTimeout((function(){e.isDestroyed||e.stockChart?clearTimeout(e.resizeTo):(e.createChartSvg(),t.currentSize=e.availableSize,e.trigger(cS,t),e.refreshAxis(),e.refreshBound(),e.trigger("loaded",{chart:e.isBlazor?{}:e}))}),500)),!1},t.prototype.mouseMove=function(e){var t,i,n;return"touchmove"===e.type?(this.isTouch=!0,t=(n=e).changedTouches[0].clientX,i=n.changedTouches[0].clientY):(this.isTouch="touch"===e.pointerType||"2"===e.pointerType||this.isTouch,t=e.clientX,i=e.clientY),xk(this.svgId)&&(this.setMouseXY(t,i),this.chartOnMouseMove(e)),!1},t.prototype.mouseLeave=function(e){var t,i,n;return"touchleave"===e.type?(this.isTouch=!0,t=(n=e).changedTouches[0].clientX,i=n.changedTouches[0].clientY):(this.isTouch="touch"===e.pointerType||"2"===e.pointerType,t=e.clientX,i=e.clientY),this.setMouseXY(t,i),this.chartOnMouseLeave(e),!1},t.prototype.chartOnMouseLeave=function(e){var t=e.target,i=mx.isPointer?"pointerleave":"mouseleave";return this.trigger(sS,{target:t.id,x:this.mouseX,y:this.mouseY}),VS(this.element.id+"_EJ2_AxisLabel_Tooltip"),this.isChartDrag=this.isPointMouseDown=!1,this.notify(i,e),!1},t.prototype.chartOnDoubleClick=function(e){var t=e.target;return this.trigger(rS,{target:t.id,x:this.mouseX,y:this.mouseY}),!1},t.prototype.chartOnMouseClick=function(e){var t=this,i=e.target;this.trigger(nS,{target:i.id,x:this.mouseX,y:this.mouseY}),this.clickCount++;var n=0;if(this.isAngular){n=this.pointDoubleClick.observers.length>0?400:0}else n=this.pointDoubleClick?400:0;return 1===this.clickCount&&this.pointClick?this.singleClickTimer=+setTimeout((function(){t.clickCount=0,t.triggerPointEvent(oS,e)}),n):2===this.clickCount&&this.pointDoubleClick&&(clearTimeout(this.singleClickTimer),this.clickCount=0,this.triggerPointEvent("pointDoubleClick",e)),this.axisLabelClick&&this.triggerAxisLabelClickEvent("axisLabelClick",e),this.notify("click",e),!1},t.prototype.triggerPointEvent=function(e,t){var i=t,n=new AC(this).getData();n.series&&n.point&&this.trigger(e,{series:this.isBlazor?{}:n.series,point:n.point,seriesIndex:n.series.index,pointIndex:n.point.index,x:this.mouseX,y:this.mouseY,pageX:i.pageX,pageY:i.pageY})},t.prototype.triggerAxisLabelClickEvent=function(e,t){var i=t.target,n=t;if(-1!==i.id.indexOf("_AxisLabel_")){var r=i.id.split("_AxisLabel_"),o=+r[0].slice(-1),a=+r[1],s=this.axisCollections[o];!s.visible||0!==o&&1!==o||this.trigger(e,{chart:this,axis:s,text:s.visibleLabels[a].text,labelID:i.id,index:a,location:new Jk(n.pageX,n.pageY),value:s.visibleLabels[a].value})}},t.prototype.chartOnMouseMove=function(e){var t=e.target;return this.trigger(iS,{target:t.id,x:this.mouseX,y:this.mouseY}),this.pointMove&&this.triggerPointEvent(aS,e),this.isTouch||(this.titleTooltip(e,this.mouseX,this.mouseY),this.axisTooltip(e,this.mouseX,this.mouseY)),this.dataEditingModule&&this.dataEditingModule.pointMouseMove(e),this.notify(mx.touchMoveEvent,e),this.isTouch=!1,!1},t.prototype.titleTooltip=function(e,t,i,n){var r=e.target.id,o=r===this.element.id+"_ChartTitle"||r===this.element.id+"_ChartSubTitle"||r.indexOf("_AxisTitle")>-1||r.indexOf("_legend_title")>-1,a=0;(r.indexOf("_AxisTitle")>-1&&(a=parseInt(r.replace(this.element.id,"").replace("AxisLabel_","").split("_")[2],10)),o&&e.target.textContent.indexOf("...")>-1)?WS(r===this.element.id+"_ChartTitle"?this.title:r.indexOf("_AxisTitle")>-1?this.axisCollections[a].title:r.indexOf("_ChartSubTitle")>-1?this.subTitle:this.legendSettings.title,t,i,this.element.offsetWidth,this.element.id+"_EJ2_Title_Tooltip",xk(this.element.id+"_Secondary_Element"),n):VS(this.element.id+"_EJ2_Title_Tooltip")},t.prototype.axisTooltip=function(e,t,i,n){var r=e.target.id;if((r.indexOf("AxisLabel")>-1||r.indexOf("Axis_MultiLevelLabel")>-1)&&e.target.textContent.indexOf("...")>-1){var o=this.legendSettings.visible||""===this.primaryXAxis.title;WS(this.findAxisLabel(r),t,i,this.element.offsetWidth,this.element.id+"_EJ2_AxisLabel_Tooltip",xk(this.element.id+"_Secondary_Element"),n,o)}else VS(this.element.id+"_EJ2_AxisLabel_Tooltip")},t.prototype.findAxisLabel=function(e){var t;return e.indexOf("AxisLabel")>-1?(t=e.replace(this.element.id,"").replace("AxisLabel_","").split("_"),this.axisCollections[parseInt(t[0],10)].visibleLabels[parseInt(t[1],10)].originalText):(t=e.replace(this.element.id,"").replace("Axis_MultiLevelLabel_Level_","").replace("Text_","").split("_"),this.axisCollections[parseInt(t[0],10)].multiLevelLabels[parseInt(t[1],10)].categories[parseInt(t[2],10)].text)},t.prototype.chartOnMouseDown=function(e){var t,i,n,r,o=mx.isDevice?20:30,a=this.element.getBoundingClientRect(),s=e.target;this.trigger(lS,{target:s.id,x:this.mouseX,y:this.mouseY}),"touchstart"===e.type?(this.isTouch=!0,t=(r=e).changedTouches[0].clientX,i=r.changedTouches[0].clientY,n=r.target):(this.isTouch="touch"===e.pointerType,t=e.clientX,i=e.clientY,n=e.target);var l=xk(this.svgId).getBoundingClientRect();return this.mouseDownX=this.previousMouseMoveX=t-a.left-Math.max(l.left-a.left,0),this.mouseDownY=this.previousMouseMoveY=i-a.top-Math.max(l.top-a.top,0),this.isTouch&&(this.isDoubleTap=(new Date).getTime()<this.threshold&&-1===n.id.indexOf(this.element.id+"_Zooming_")&&(this.mouseDownX-o>=this.mouseX||this.mouseDownX+o>=this.mouseX)&&(this.mouseDownY-o>=this.mouseY||this.mouseDownY+o>=this.mouseY)&&(this.mouseX-o>=this.mouseDownX||this.mouseX+o>=this.mouseDownX)&&(this.mouseY-o>=this.mouseDownY||this.mouseY+o>=this.mouseDownY)),this.dataEditingModule&&this.dataEditingModule.pointMouseDown(),this.notify(mx.touchStartEvent,e),!1},t.prototype.mouseEnd=function(e){var t,i,n;return"touchend"===e.type?(i=(n=e).changedTouches[0].clientX,this.isTouch=!0,t=n.changedTouches[0].clientY):(t=e.clientY,i=e.clientX,this.isTouch="touch"===e.pointerType||"2"===e.pointerType),this.setMouseXY(i,t),this.chartOnMouseUp(e),!1},t.prototype.chartOnMouseUp=function(e){var t=e.target;return this.trigger(uS,{target:t.id,x:this.mouseX,y:this.mouseY}),this.isChartDrag=!1,this.isTouch&&(this.titleTooltip(e,this.mouseX,this.mouseY,this.isTouch),this.axisTooltip(e,this.mouseX,this.mouseY,this.isTouch),this.threshold=(new Date).getTime()+300),this.dataEditingModule&&this.dataEditingModule.pointMouseUp(),!this.enableCanvas&&this.seriesElements&&this.seriesElements.removeAttribute("clip-path"),this.notify(mx.touchEndEvent,e),!1},t.prototype.setCulture=function(){this.intl=new tx,this.setLocaleConstants(),this.localeObject=new y_(this.getModuleName(),this.defaultLocalConstants,this.locale)},t.prototype.setAnnotationValue=function(e,t){var i,n=xk(this.element.id+"_Annotation_Collections"),r=this.annotations[e];null!==t&&(r.content=t,n?(VS(this.element.id+"_Annotation_"+e),i=this.createElement("div"),this.annotationModule.processAnnotation(r,e,i),n.appendChild(i.children[0])):this.annotationModule.renderAnnotations(xk(this.element.id+"_Secondary_Element")))},t.prototype.setLocaleConstants=function(){this.defaultLocalConstants={ZoomIn:"Zoom in",Zoom:"Zoom",ZoomOut:"Zoom out",Pan:"Pan",Reset:"Reset",ResetZoom:"Reset Zoom"}},t.prototype.setTheme=function(){this.themeStyle=rw(this.theme)},t.prototype.requiredModules=function(){var e,t,i=this,n=[],r=this.series,o=!1,a=!1,s=!1,l=this.zoomSettings;return this.chartAreaType=r.length>0&&("Polar"===r[0].type||"Radar"===r[0].type)?"PolarRadar":"Cartesian",this.tooltip.enable&&n.push({member:"Tooltip",args:[this]}),r.map((function(e){i.isLegend=i.legendSettings.visible&&(""!==e.name||!!i.isLegend),t=-1!==e.type.indexOf("100")?e.type.replace("100","")+"Series":e.type+"Series",o=e.errorBar.visible||o,s=e.marker.dataLabel.visible||s,a=e.dragSettings.enable||a,n.some((function(e){return e.member===t}))||n.push({member:t,args:[i,r]}),"PolarRadar"===i.chartAreaType&&n.push({member:e.drawType+"Series",args:[i,r]}),"Pareto"===e.type&&(n.push({member:"ColumnSeries",args:[i,r]}),n.push({member:"LineSeries",args:[i,r]}))})),this.findIndicatorModules(n),this.findTrendLineModules(n),n=this.findAxisModule(n),e=this.annotations.some((function(e){return null!==e.content})),o&&n.push({member:"ErrorBar",args:[this,r]}),this.isLegend&&n.push({member:"Legend",args:[this]}),(this.enableExport||this.allowExport)&&n.push({member:"Export",args:[this]}),"PolarRadar"!==this.chartAreaType&&!this.scrollSettingEnabled&&(l.enableSelectionZooming||l.enableMouseWheelZooming||l.enablePinchZooming||l.enablePan||l.enableScrollbar)&&(n.push({member:"Zoom",args:[this,this.zoomSettings]}),l.enableScrollbar&&n.push({member:"ScrollBar",args:[this]})),"None"===this.selectionMode||"PolarRadar"===this.chartAreaType&&this.selectionMode.indexOf("Drag")>-1||n.push({member:"Selection",args:[this]}),"None"!==this.highlightMode&&n.push({member:"Highlight",args:[this]}),s&&n.push({member:"DataLabel",args:[this,r]}),a&&n.push({member:"DataEditing",args:[this]}),e&&n.push({member:"Annotation",args:[this]}),"PolarRadar"!==this.chartAreaType&&this.crosshair.enable&&n.push({member:"Crosshair",args:[this]}),n},t.prototype.findAxisModule=function(e){var t=[];t.push(this.primaryXAxis),t.push(this.primaryYAxis);for(var i=!1,n=!1,r=!1,o=!1,a=!1,s=!1,l=0,u=t=t.concat(this.axes);l<u.length;l++){var c=u[l];i="DateTime"===c.valueType||i,n="Category"===c.valueType||n,r="Logarithmic"===c.valueType||r,a="DateTimeCategory"===c.valueType||a,o=this.findStriplineVisibility(c.stripLines)||o,s=c.multiLevelLabels.length>0||s,this.scrollSettingEnabled=!!c.scrollbarSettings.enable||this.scrollSettingEnabled}return i&&e.push({member:"DateTime",args:[this]}),n&&e.push({member:"Category",args:[this]}),r&&e.push({member:"Logarithmic",args:[this]}),o&&e.push({member:"StripLine",args:[this]}),s&&e.push({member:"MultiLevelLabel",args:[this]}),a&&e.push({member:"DateTimeCategory",args:[this]}),this.scrollSettingEnabled&&e.push({member:"ScrollBar",args:[this]}),e},t.prototype.findIndicatorModules=function(e){var t,i,n=this.indicators;if(this.indicators.length){e.push({member:"LineSeries",args:[this]}),n.map((function(e){t=t||"Macd"===e.type,i=i||"BollingerBands"===e.type})),t&&e.push({member:"ColumnSeries",args:[this]}),i&&e.push({member:"RangeAreaSeries",args:[this]}),i&&e.push({member:"SplineRangeAreaSeries",args:[this]});for(var r=0,o=this.indicators;r<o.length;r++){var a=o[r];e.push({member:a.type+"Indicator",args:[this]})}}},t.prototype.findTrendLineModules=function(e){for(var t,i,n=function(n){var o;n.trendlines.map((function(e){o=o||e.marker.visible,t=!(!t&&"Linear"!==e.type&&"MovingAverage"!==e.type),i=!(!i&&t)})),o&&e.push({member:"Marker",args:[r,n]})},r=this,o=0,a=this.series;o<a.length;o++){n(a[o])}(t||i)&&e.push({member:"TrendLine",args:[this]}),t&&e.push({member:"LineSeries",args:[this]}),i&&e.push({member:"SplineSeries",args:[this]})},t.prototype.findStriplineVisibility=function(e){for(var t=!1,i=0,n=e;i<n.length;i++){if(n[i].visible){t=!0;break}}return t},t.prototype.removeSvg=function(){if(this.redraw)return null;if(Xk(this),this.enableCanvas&&this.svgObject&&"CANVAS"===this.svgObject.tagName)return this.renderer.clearRect(new Aw(0,0,this.availableSize.width,this.availableSize.height)),this.svgObject.parentNode&&kx(this.svgObject),null;VS(this.element.id+"_Secondary_Element"),this.isReact&&this.clearTemplate();var e=0;if(this.zoomModule&&this.zoomModule.pinchTarget&&(this.zoomModule.pinchTarget.id="",this.zoomModule.pinchTarget.setAttribute("opacity","0"),this.svgObject.appendChild(this.zoomModule.pinchTarget),e=1),!wb(this.resizeTo)){if(this.resizeTo!==this.checkResize&&this.isBlazor&&this.element.childElementCount)for(var t=document.querySelectorAll(".e-chart"),i=0;i<t.length;i++)for(var n=t[i];n.firstChild;)kx(n.firstChild);this.checkResize=this.resizeTo}if(this.svgObject){for(;this.svgObject.childNodes.length>e;)this.svgObject.removeChild(this.svgObject.firstChild);this.svgObject.hasChildNodes()||!this.svgObject.parentNode||this.stockChart||kx(this.svgObject)}},t.prototype.refreshDefinition=function(e){for(var t=0,i=e;t<i.length;t++){i[t].axes=[]}},t.prototype.refreshAxis=function(){var e=this.primaryXAxis;e.rect=new Aw(void 0,void 0,0,0),(e=this.primaryYAxis).isStack100=!1,e.rect=new Aw(void 0,void 0,0,0);for(var t=0,i=this.axes;t<i.length;t++){(e=i[t]).rect=new Aw(void 0,void 0,0,0),e.isStack100=!1}if(this.paretoSeriesModule&&"Pareto"===this.series[0].type)for(var n=0,r=this.paretoSeriesModule.paretoAxes;n<r.length;n++){(e=r[n]).rect=new Aw(void 0,void 0,0,0),e.isStack100=!1}},t.prototype.axisChange=function(e){return!(!e.name&&!e.valueType)&&(this.refreshDefinition(this.columns),this.refreshDefinition(this.rows),this.calculateVisibleAxis(),this.processData(),!0)},t.prototype.getVisibleSeries=function(e,t){for(var i=0,n=e;i<n.length;i++){var r=n[i];if(t===r.index)return r}return null},t.prototype.refreshLiveData=function(){this.calculateVisibleSeries(),this.initTechnicalIndicators(),this.initTrendLines(),this.refreshDefinition(this.columns),this.refreshDefinition(this.rows),this.calculateVisibleAxis(),this.processData(!1),this.isBlazor||(this.enableCanvas?this.createChartSvg():this.removeSvg(),this.refreshAxis(),this.refreshBound(),this.trigger("loaded",{chart:this.isBlazor?{}:this}))},t.prototype.removeStyles=function(){VS(this.element.id+"_ej2_chart_selection"),VS(this.element.id+"_ej2_chart_highlight")},t.prototype.onPropertyChanged=function(e,t){var i,n=!1,r=!1;if(this.animateSeries=!1,!this.delayRedraw){for(var o=0,a=Object.keys(e);o<a.length;o++){switch(a[o]){case"primaryXAxis":i=e.primaryXAxis,r=this.axisChange(i),e.primaryXAxis.edgeLabelPlacement&&(n=!0),e.primaryXAxis.crosshairTooltip||(r=!0),wb(i.isInversed)&&wb(i.opposedPosition)||this.primaryXAxis.setIsInversedAndOpposedPosition();break;case"primaryYAxis":i=e.primaryYAxis,r=this.axisChange(i),e.primaryYAxis.edgeLabelPlacement&&(n=!0),e.primaryYAxis.crosshairTooltip||(r=!0),wb(i.isInversed)&&wb(i.opposedPosition)||this.primaryYAxis.setIsInversedAndOpposedPosition();break;case"axes":for(var s=0,l=Object.keys(e.axes);s<l.length;s++){var u=l[s];i=e.axes[u],r=r||this.axisChange(i),i.crosshairTooltip||(r=!0),wb(i.isInversed)&&wb(i.opposedPosition)||this.axes[u].setIsInversedAndOpposedPosition()}break;case"height":case"width":this.createChartSvg(),r=!0;break;case"subTitle":case"title":case"indicators":r=!0;break;case"titleStyle":e.titleStyle&&(e.titleStyle.size||e.titleStyle.textOverflow)?r=!0:n=!0;break;case"subTitleStyle":e.subTitleStyle&&(e.subTitleStyle.size||e.subTitleStyle.textOverflow)?r=!0:n=!0;break;case"border":case"background":n=!0;break;case"dataSource":this.processData(!1),r=!0;break;case"enableCanvas":this.refresh();break;case"series":for(var c=this.series.length,h=!1,d=void 0,p=void 0,f=0;f<c;f++)d=e.series[f],this.isBlazor&&d&&(d.visible!==t.series[f].visible||d.isClosed||d.marker||d.emptyPointSettings||d.type||d.boxPlotMode||d.showMean)&&(p=!0),d&&(d.dataSource||d.query||d.errorBar||d.xName||d.yName||d.size||d.high||d.low||d.open||d.close||d.fill||d.name||d.marker||p)&&(_b(this.getVisibleSeries(this.visibleSeries,f),d,null,!0),h=!0);h&&(this.calculateVisibleSeries(),this.initTechnicalIndicators(),this.initTrendLines(),this.refreshDefinition(this.columns),this.refreshDefinition(this.rows),this.calculateVisibleAxis(),this.processData(!1),r=!0);break;case"zoomSettings":(e.zoomSettings.enableScrollbar||t.zoomSettings.enableScrollbar)&&(r=!0),n=!0;break;case"chartArea":e.chartArea.border&&e.chartArea.border.width&&(r=!0),n=!0;break;case"legendSettings":e.legendSettings.background&&e.legendSettings.opacity||(r=!0),n=!0;break;case"palettes":this.calculateVisibleSeries(),n=!0;break;case"selectedDataIndexes":this.selectionModule&&(this.selectionModule.currentMode=this.selectionMode,this.selectionModule.selectedDataIndexes=this.selectedDataIndexes,this.selectionModule.styleId=this.element.id+"_ej2_chart_selection",this.selectionModule.redrawSelection(this,t.selectionMode,!0));break;case"selectionMode":this.selectionModule&&e.selectionMode&&-1===e.selectionMode.indexOf("Drag")&&(this.selectionModule.currentMode=this.selectionMode,this.selectionModule.styleId=this.element.id+"_ej2_chart_selection",this.selectionModule.redrawSelection(this,t.selectionMode,!0));break;case"isMultiSelect":this.selectionModule&&!e.isMultiSelect&&this.selectionModule.selectedDataIndexes.length>1&&(this.selectionModule.currentMode=this.selectionMode,this.selectionModule.styleId=this.element.id+"_ej2_chart_selection",this.selectionModule.redrawSelection(this,t.selectionMode));break;case"highlightMode":case"selectionPattern":case"highlightPattern":this.removeStyles(),n=!0;break;case"theme":this.animateSeries=!0;break;case"locale":case"currencyCode":this.isBlazor?(this.setCulture(),n=!0):this.refresh();break;case"tooltip":this.tooltipModule&&(this.tooltipModule.previousPoints=[],this.tooltip.template&&(this.tooltipModule.template=this.tooltip.template))}}!r&&n&&(this.rotatedDataLabelCollections=[],this.removeSvg(),this.renderElements(),this.trigger("loaded",{chart:this.isBlazor?{}:this})),r&&(this.enableCanvas?this.createChartSvg():this.removeSvg(),this.isReact&&this.clearTemplate(),this.refreshAxis(),this.refreshBound(),this.trigger("loaded",{chart:this.isBlazor?{}:this}),this.redraw=!1,this.animated=!1)}},fP([Ux(null)],t.prototype,"width",void 0),fP([Ux(null)],t.prototype,"height",void 0),fP([Ux("")],t.prototype,"title",void 0),fP([Ux("")],t.prototype,"dataSource",void 0),fP([Wx(Q_.chartTitleFont,lw)],t.prototype,"titleStyle",void 0),fP([Ux("")],t.prototype,"subTitle",void 0),fP([Wx(Q_.chartSubTitleFont,lw)],t.prototype,"subTitleStyle",void 0),fP([Wx({},dw)],t.prototype,"margin",void 0),fP([Wx({color:"#DDDDDD",width:0},uw)],t.prototype,"border",void 0),fP([Ux(null)],t.prototype,"background",void 0),fP([Wx({border:{color:null,width:.5},background:"transparent"},hw)],t.prototype,"chartArea",void 0),fP([Wx({name:"primaryXAxis"},DS)],t.prototype,"primaryXAxis",void 0),fP([Wx({name:"primaryYAxis"},DS)],t.prototype,"primaryYAxis",void 0),fP([Hx([{}],ES)],t.prototype,"rows",void 0),fP([Hx([{}],AS)],t.prototype,"columns",void 0),fP([Hx([{}],DS)],t.prototype,"axes",void 0),fP([Hx([{}],NC)],t.prototype,"series",void 0),fP([Hx([{}],vS)],t.prototype,"annotations",void 0),fP([Ux([])],t.prototype,"palettes",void 0),fP([Ux("Material")],t.prototype,"theme",void 0),fP([Wx({},xw)],t.prototype,"tooltip",void 0),fP([Wx({},gP)],t.prototype,"crosshair",void 0),fP([Wx({},XC)],t.prototype,"legendSettings",void 0),fP([Hx([{}],mP)],t.prototype,"rangeColorSettings",void 0),fP([Wx({},yP)],t.prototype,"zoomSettings",void 0),fP([Ux("")],t.prototype,"highlightColor",void 0),fP([Ux("None")],t.prototype,"selectionMode",void 0),fP([Ux("None")],t.prototype,"highlightMode",void 0),fP([Ux("None")],t.prototype,"selectionPattern",void 0),fP([Ux("None")],t.prototype,"highlightPattern",void 0),fP([Ux(!1)],t.prototype,"isMultiSelect",void 0),fP([Ux(!1)],t.prototype,"allowMultiSelection",void 0),fP([Ux(!0)],t.prototype,"enableExport",void 0),fP([Ux(!1)],t.prototype,"allowExport",void 0),fP([Hx([],mw)],t.prototype,"selectedDataIndexes",void 0),fP([Ux(!1)],t.prototype,"useGroupingSeparator",void 0),fP([Ux(!1)],t.prototype,"enableAutoIntervalOnBothAxis",void 0),fP([Ux(!1)],t.prototype,"isTransposed",void 0),fP([Ux(!1)],t.prototype,"enableCanvas",void 0),fP([Ux(null)],t.prototype,"backgroundImage",void 0),fP([Hx([],JC)],t.prototype,"indicators",void 0),fP([Ux(!0)],t.prototype,"enableAnimation",void 0),fP([Ux(null)],t.prototype,"description",void 0),fP([Ux(1)],t.prototype,"tabIndex",void 0),fP([Ux(!0)],t.prototype,"enableSideBySidePlacement",void 0),fP([Gx()],t.prototype,"resized",void 0),fP([Gx()],t.prototype,"beforeResize",void 0),fP([Gx()],t.prototype,"annotationRender",void 0),fP([Gx()],t.prototype,"beforePrint",void 0),fP([Gx()],t.prototype,"loaded",void 0),fP([Gx()],t.prototype,"beforeExport",void 0),fP([Gx()],t.prototype,"afterExport",void 0),fP([Gx()],t.prototype,"load",void 0),fP([Gx()],t.prototype,"animationComplete",void 0),fP([Gx()],t.prototype,"legendRender",void 0),fP([Gx()],t.prototype,"textRender",void 0),fP([Gx()],t.prototype,"pointRender",void 0),fP([Gx()],t.prototype,"seriesRender",void 0),fP([Gx()],t.prototype,"axisLabelRender",void 0),fP([Gx()],t.prototype,"axisLabelClick",void 0),fP([Gx()],t.prototype,"axisRangeCalculated",void 0),fP([Gx()],t.prototype,"axisMultiLabelRender",void 0),fP([Gx()],t.prototype,"legendClick",void 0),fP([Gx()],t.prototype,"multiLevelLabelClick",void 0),fP([Gx()],t.prototype,"tooltipRender",void 0),fP([Gx()],t.prototype,"sharedTooltipRender",void 0),fP([Gx()],t.prototype,"chartMouseMove",void 0),fP([Gx()],t.prototype,"chartMouseClick",void 0),fP([Gx()],t.prototype,"chartDoubleClick",void 0),fP([Gx()],t.prototype,"pointClick",void 0),fP([Gx()],t.prototype,"pointDoubleClick",void 0),fP([Gx()],t.prototype,"pointMove",void 0),fP([Gx()],t.prototype,"chartMouseLeave",void 0),fP([Gx()],t.prototype,"chartMouseDown",void 0),fP([Gx()],t.prototype,"chartMouseUp",void 0),fP([Gx()],t.prototype,"dragComplete",void 0),fP([Gx()],t.prototype,"selectionComplete",void 0),fP([Gx()],t.prototype,"zoomComplete",void 0),fP([Gx()],t.prototype,"onZooming",void 0),fP([Gx()],t.prototype,"scrollStart",void 0),fP([Gx()],t.prototype,"scrollEnd",void 0),fP([Gx()],t.prototype,"scrollChanged",void 0),fP([Gx()],t.prototype,"dragStart",void 0),fP([Gx()],t.prototype,"drag",void 0),fP([Gx()],t.prototype,"dragEnd",void 0),fP([Ux("USD")],t.prototype,"currencyCode",void 0),t=fP([qx],t)}(a_),bP=i(3467),xP=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),_P=["alt","className","disabled","form","id","readOnly","style","tabIndex","title","type","name","onClick","onFocus","onBlur"],wP=["accordion","tab","splitter"],SP=new RegExp("]"),kP=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.attrKeys=[],t.cachedTimeOut=0,t.isAppendCalled=!1,t.initRenderCalled=!1,t.isReactForeceUpdate=!1,t.isReact=!0,t.isshouldComponentUpdateCalled=!1,t}return xP(t,e),t.prototype.componentDidMount=function(){this.refreshChild(!0),this.canDelayUpdate=-1!==wP.indexOf(this.getModuleName()),this.renderReactComponent(),this.portals&&this.portals.length&&this.renderReactTemplates()},t.prototype.componentDidUpdate=function(e){this.isshouldComponentUpdateCalled||!this.initRenderCalled||this.isReactForeceUpdate||(this.isshouldComponentUpdateCalled=!0,e!==this.props&&this.refreshProperties(this.props,!0))},t.prototype.renderReactComponent=function(){var e=this.reactElement;e&&(this.isAppendCalled=!0,this.appendTo(e))},t.prototype.shouldComponentUpdate=function(e){return this.isshouldComponentUpdateCalled=!0,this.initRenderCalled?(this.isAppendCalled||(clearTimeout(this.cachedTimeOut),this.isAppendCalled=!0,this.appendTo(this.reactElement)),this.updateProperties(e),!0):(this.updateProperties(e,!0),!0)},t.prototype.updateProperties=function(e,t){for(var i=this,n=_b({},e),r=0,o=Object.keys(e);r<o.length;r++){var a=o[r],s="className"===a;"children"!==a&&(s||wb(this.htmlattributes[a])||this.htmlattributes[a]===n[a]||(this.htmlattributes[a]=n[a]),this.compareValues(this.props[a],e[a])?delete n[a]:-1!==this.attrKeys.indexOf(a)?s?(this.element.classList.remove(this.props[a]),this.element.classList.add(n[a])):"disabled"!==a&&delete n[a]:"value"===a&&e[a]===this[a]&&delete n[a])}n.children&&delete n.children,this.initRenderCalled&&(this.canDelayUpdate||this.props.delayUpdate)?setTimeout((function(){i.refreshProperties(n,e,t)})):this.refreshProperties(n,e,t)},t.prototype.refreshProperties=function(e,t,i){Object.keys(e).length&&(i||this.processComplexTemplate(e,this),this.setProperties(e,i)),this.refreshChild(i,t)},t.prototype.processComplexTemplate=function(e,t){var i=t.complexTemplate;if(i)for(var n in i){var r=i[n];e[n]&&vb(r,yb(n,e),e)}},t.prototype.getDefaultAttributes=function(){var e=this;this.isReact=!0;var i=Object.keys(this.props);this.htmlattributes||(this.htmlattributes={}),this.attrKeys=_P.concat(this.controlAttributes||[]);for(var n=0,r=i;n<r.length;n++){var o=r[n];-1===o.indexOf("data-")&&-1===o.indexOf("aria-")&&-1===this.attrKeys.indexOf(o)||this.htmlattributes[o]!==this.props[o]&&(this.htmlattributes[o]=this.props[o])}if(!this.htmlattributes.ref){this.htmlattributes.ref=function(t){e.reactElement=t};-1!==["autocomplete","combobox","dropdownlist","dropdowntree","multiselect","listbox","colorpicker","numerictextbox","textbox","uploader","maskedtextbox","slider","datepicker","datetimepicker","daterangepicker","timepicker","checkbox","switch","radio"].indexOf(this.getModuleName())&&(this.htmlattributes.key=""+t.reactUid,t.reactUid++)}return this.htmlattributes},t.prototype.trigger=function(e,t,i){var n=this;if(!0!==this.isDestroyed&&this.modelObserver){if(SP.test(e)){var r=yb(e,this);r?(r.call(this,t),i&&i.call(this,t)):i&&i.call(this,t)}"change"!==e&&"input"!==e||this.props.onChange&&t.event&&this.props.onChange.call(void 0,{syntheticEvent:t.event,nativeEvent:{text:t.value},value:t.value,target:this});var o=this.isProtectedOnChange;this.isProtectedOnChange=!1,"created"===e?setTimeout((function(){n.isDestroyed||n.modelObserver.notify(e,t,i)})):this.modelObserver.notify(e,t,i),this.isProtectedOnChange=o}},t.prototype.compareValues=function(e,t){if(typeof e===typeof t){if(e===t)return!0;if((!wb(e)&&e.constructor)!==(!wb(t)&&t.constructor))return!1;if(e instanceof Date||e instanceof RegExp||e instanceof String||e instanceof Number)return e.toString()===t.toString();if(bb(e)||Array.isArray(e)){var i=e,n=t;return bb(i)&&(i=[e],n=[t]),this.compareObjects(i,n).status}}return!1},t.prototype.compareObjects=function(e,t,i){var n=!0,r=[];if(e.length===t.length)for(var o=0,a=t.length;o<a;o++){var s={},l=e[o],u=t[o],c=Object.keys(u);if(0!==c.length)for(var h=0,d=c;h<d.length;h++){var p=d[h],f=l[p],m=u[p];if("items"===p)for(var g=0;g<m.length;g++)if("richtexteditor"===this.getModuleName()&&"object"===typeof m[g])return{status:!0};if("grid"===this.getModuleName()&&"field"===p&&(s[p]=m),!l.hasOwnProperty(p)||!this.compareValues(f,m)){if(!i)return{status:!1};n=!1,s[p]=m}}else{if(!i)return{status:!1};n=!1}Object.keys(s).length&&r.push({index:o,value:s,key:i})}else n=!1;return{status:n,changedProperties:r}},t.prototype.refreshChild=function(e,t){if(this.checkInjectedModules){for(var i=this.getInjectedModules()||[],n=0,r=this.getInjectedServices()||[];n<r.length;n++){var o=r[n];-1===i.indexOf(o)&&i.push(o)}this.injectedModules=i}if(this.directivekeys){var a=[],s=this.validateChildren({},this.directivekeys,t||this.props);if(s&&Object.keys(s).length){if(!e&&this.skipRefresh)for(var l=0,u=this.skipRefresh;l<u.length;l++){delete s[u[l]]}if(this.prevProperties)for(var c=Object.keys(this.prevProperties),h=0;h<c.length;h++){var d=c[h];if(s.hasOwnProperty(d)){var p=this.compareObjects(this.prevProperties[d],s[d],d);if(p.status)delete s[d];else{p.changedProperties.length&&(a=a.concat(p.changedProperties));var f={};f[d]=s[d],this.prevProperties=_b(this.prevProperties,f)}}}else this.prevProperties=_b({},s,{},!0);if(a.length)if("grid"===this.getModuleName()&&"columns"===d)for(var m=0,g=this.columns;m<g.length;m++){if(yb("field",g[m])===yb(m+".value.field",a)){var y=yb(a[m].key+"."+a[m].index,this);y&&y.setProperties?y.setProperties(a[m].value):_b(y,a[m].value)}}else for(var v=0,b=a;v<b.length;v++){var x=b[v],_=yb(x.key+"."+x.index,this);_&&_.setProperties?_.setProperties(x.value):_b(_,x.value)}else this.setProperties(s,e)}}},t.prototype.componentWillUnmount=function(){clearTimeout(this.cachedTimeOut);(this.initRenderCalled&&this.isAppendCalled&&this.element&&!["dropdowntree","checkbox"].indexOf(this.getModuleName())?document.body.contains(this.element):!this.isDestroyed)&&this.destroy()},t.prototype.appendReactElement=function(e,t){bP.render(bP.createPortal(e,t),t)},t.prototype.renderReactTemplates=function(e){this.isReactForeceUpdate=!0,e?this.forceUpdate(e):this.forceUpdate(),this.isReactForeceUpdate=!1},t.prototype.clearTemplate=function(e,t,i){var n=this,r=[];e&&e.length?Array.prototype.forEach.call(e,(function(e){var i=0,o=0;if(n.portals.forEach((function(t){t.propName===e&&(r.push(o),o++)})),t&&n.portals[r[t[i]]].propName==e)n.portals.splice(t,1),i++;else for(var a=0;a<n.portals.length;a++)n.portals[a].propName==e&&(n.portals.splice(a,1),a--)})):this.portals=[],this.renderReactTemplates(i)},t.prototype.validateChildren=function(e,t,i){for(var n=!1,r=0,o=fb.Children.toArray(i.children);r<o.length;r++){var a=o[r],s=this.getChildType(a),l=t[s];if(s&&t){var u=this.getChildProps(fb.Children.toArray(a.props.children),l);u.length&&(n=!0,e[a.type.propertyName||s]=u)}}return n?e:null},t.prototype.getChildType=function(e){return e.type&&e.type.isDirective&&e.type.moduleName||""},t.prototype.getChildProps=function(e,t){for(var i=[],n=0,r=e;n<r.length;n++){var o=r[n],a=!1,s=void 0;"string"===typeof t?(a=!0,s=t):s=Object.keys(t)[0];var l=o.props;if(this.getChildType(o)===s)if(a||!l.children){var u=_b({},l,{},!0);this.processComplexTemplate(u,o.type),i.push(u)}else{var c=this.validateChildren(_b({},l),t[s],l)||l;c.children&&delete c.children,this.processComplexTemplate(c,o.type),i.push(c)}}return i},t.prototype.getInjectedServices=function(){for(var e=0,t=fb.Children.toArray(this.props.children);e<t.length;e++){var i=t[e];if(i.type.isService)return i.props.services}return[]},t.reactUid=1,t}(fb.Component);function CP(e,t){t.forEach((function(t){Object.getOwnPropertyNames(t.prototype).forEach((function(i){"isMounted"!==i&&"replaceState"!==i&&(e.prototype[i]=t.prototype[i])}))}))}var TP,EP=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),AP=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return EP(t,e),t.prototype.render=function(){return null},t.isDirective=!0,t}(fb.PureComponent),PP=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),MP=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return PP(t,e),t.prototype.render=function(){return null},t.isService=!0,t}(fb.PureComponent),LP=J_.compile;TP={compile:function(e,t){return"string"===typeof e?LP(e,t):function(t,i,n,r){var o,a=e,s=t;if("object"===typeof a&&(a=e.template,s=_b({},t,e.data||{})),o=r||document.createElement("div"),i&&i.isLegacyTemplate)bP.render(a(s),o),r||Sx(o);else{var l=fb.createElement(a,s),u=bP.createPortal(l,o);u.propName=n,i.portals?i.portals.push(u):i.portals=[u]}if(!r)return[o]}}},J_.compile=TP.compile;var OP=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),RP=function(e){function t(t){var i=e.call(this,t)||this;return i.initRenderCalled=!1,i.checkInjectedModules=!0,i.directivekeys={seriesCollection:{series:{trendlines:"trendline",segments:"segment"}},axes:{axis:{stripLines:"stripLine",multiLevelLabels:{multiLevelLabel:{categories:"category"}}}},rows:"row",columns:"column",rangeColorSettings:"rangeColorSetting",annotations:"annotation",selectedDataIndexes:"selectedDataIndex",indicators:"indicator"},i.immediateRender=!1,i.portals=[],i}return OP(t,e),t.prototype.render=function(){if(!(this.element&&!this.initRenderCalled||this.refreshing)||this.isReactForeceUpdate)return fb.createElement("div",this.getDefaultAttributes(),[].concat(this.props.children,this.portals));e.prototype.render.call(this),this.initRenderCalled=!0},t}(vP);CP(RP,[kP,fb.Component]);var IP=function(){function e(){}return e.prototype.getSideBySideInfo=function(e){if(e.chart.enableSideBySidePlacement&&!e.position&&this.getSideBySidePositions(e),e.columnWidthInPixel)return new Hw(0,0);var t=e.chart.enableSideBySidePlacement?e.position:0,i=e.chart.enableSideBySidePlacement?e.rectCount:1;e.isRectSeries=!0;var n,r=e.chart.visibleSeries,o=e.chart.enableSideBySidePlacement?e.columnSpacing:0,a=null===e.columnWidth||isNaN(+e.columnWidth)?"Histogram"===e.type?1:.7:e.columnWidth,s=lk(e.xAxis,r),l=s*a,u=t/i-.5,c=new Hw(u,u+1/i);if(!isNaN(c.start)&&!isNaN(c.end)){if(e.groupName&&-1===e.type.indexOf("Stacking")){var h=.7;e.chart.series.filter((function(e){e.columnWidth>h&&(h=e.columnWidth)}));var d=s*h,p=new Hw(c.start*d,c.end*d),f=(p.delta-(c.end*l-c.start*l))/2;c=new Hw(p.start+f,p.end-f)}else c=new Hw(c.start*l,c.end*l);n=o*c.delta,c=new Hw(c.start+n/2,c.end-n/2)}return c},e.prototype.getRectangle=function(e,t,i,n,r){var o=Tk(e,t,r.xAxis,r.yAxis,r.chart.requireInvertedAxis),a=Tk(i,n,r.xAxis,r.yAxis,r.chart.requireInvertedAxis);return new Aw(Math.min(o.x,a.x),Math.min(o.y,a.y),Math.abs(a.x-o.x),Math.abs(a.y-o.y))},e.prototype.getSideBySidePositions=function(e){for(var t=e.chart,i=0,n=t.columns;i<n.length;i++)for(var r=n[i],o=0,a=t.rows;o<a.length;o++){var s=a[o];this.findRectPosition(e.findSeriesCollection(r,s,!1))}},e.prototype.findRectPosition=function(e){for(var t=[],i={rectCount:0,position:null},n=0;n<e.length;n++){if(-1!==(o=e[n]).type.indexOf("Stacking")||""!==o.groupName){var r=-1!==o.type.indexOf("Stacking")?o.stackingGroup:o.type+o.groupName;r?void 0===t[r]?(o.position=i.rectCount,t[r]=i.rectCount++):o.position=t[r]:null===i.position?(o.position=i.rectCount,i.position=i.rectCount++):o.position=i.position}else o.position=i.rectCount++}for(n=0;n<e.length;n++){var o;(o=e[n]).rectCount=i.rectCount}},e.prototype.updateSymbolLocation=function(e,t,i){i.chart.requireInvertedAxis?this.updateYRegion(e,t,i):this.updateXRegion(e,t,i),"Histogram"===i.type&&(e.minimum=+e.x-i.histogramValues.binWidth/2,e.maximum=+e.x+i.histogramValues.binWidth/2)},e.prototype.updateXRegion=function(e,t,i){e.symbolLocations.push({x:t.x+t.width/2,y:"BoxPlot"===i.seriesType||-1!==i.seriesType.indexOf("HighLow")||e.yValue>=0===!i.yAxis.isAxisInverse?t.y:t.y+t.height}),this.getRegion(e,t,i),"RangeColumn"===i.type&&e.symbolLocations.push({x:t.x+t.width/2,y:t.y+t.height})},e.prototype.updateYRegion=function(e,t,i){e.symbolLocations.push({x:"BoxPlot"===i.seriesType||-1!==i.seriesType.indexOf("HighLow")||e.yValue>=0===!i.yAxis.isAxisInverse?t.x+t.width:t.x,y:t.y+t.height/2}),this.getRegion(e,t,i),"RangeColumn"===i.type&&e.symbolLocations.push({x:t.x,y:t.y+t.height/2})},e.prototype.renderMarker=function(e){e.marker&&e.marker.visible&&e.chart.markerRender.render(e)},e.prototype.getRegion=function(e,t,i){if(0===e.y){var n=i.marker&&i.marker.width?i.marker.width:0,r=i.marker&&i.marker.height?i.marker.height:0;e.regions.push(new Aw(e.symbolLocations[0].x-n,e.symbolLocations[0].y-r,2*n,2*r))}else e.regions.push(t)},e.prototype.triggerEvent=function(e,t,i,n){var r={cancel:!1,name:$w,series:e,point:t,fill:e.setPointColor(t,i),border:e.setBorderColor(t,n)};return e.chart.trigger($w,r),t.color=r.fill,r},e.prototype.drawRectangle=function(e,t,i,n){var r,o=e.chart;if((o.requireInvertedAxis?i.height:i.width)<=0)return null;r=0===t.y?this.calculateRoundedRectPath(i,0,0,0,0):this.calculateRoundedRectPath(i,e.cornerRadius.topLeft,e.cornerRadius.topRight,e.cornerRadius.bottomLeft,e.cornerRadius.bottomRight);var a="Indicator"===e.category?o.element.id+"_Indicator_"+e.index+"_"+e.name+"_Point_"+t.index:o.element.id+"_Series_"+e.index+"_Point_"+t.index,s=jk(o.redraw,a),l=s?s.getAttribute("d"):"",u=new Dw(a,n.fill,n.border.width,n.border.color,e.opacity,e.dashArray,r),c=o.renderer.drawPath(u,new Int32Array([e.clipRect.x,e.clipRect.y]));switch(e.seriesType){case"XY":c.setAttribute("aria-label",t.x.toString()+":"+t.yValue.toString());break;case"HighLow":c.setAttribute("aria-label",t.x.toString()+":"+t.high.toString()+":"+t.low.toString())}Ek(e.chart.enableCanvas,e.seriesElement,c,o.redraw),e.chart.enableCanvas||dk(c,r,o.redraw,l,o.duration)},e.prototype.animate=function(e){for(var t=e.seriesElement.childNodes,i="Indicator"===e.category?0:1,n=0,r=jS(e);n<r.length;n++){var o=r[n];(o.symbolLocations.length||"BoxAndWhisker"===e.type&&o.regions.length)&&(this.animateRect(t[i],e,o),i++)}},e.prototype.animateRect=function(e,t,i){var n,r,o,a,s,l=t.animation,u=t.chart.animated?t.chart.duration:l.duration,c=uk("Linear"),h=i.yValue<0,d=+i.regions[0].height,p=+i.regions[0].width;t.chart.requireInvertedAxis?(r=+i.regions[0].y,t.type.indexOf("Stacking")>-1?(n=tk(0,t.yAxis)*t.yAxis.rect.width,o=n,a=r):(n=+i.regions[0].x,a=h?r:r+d,o=-1!==t.seriesType.indexOf("HighLow")||-1!==t.type.indexOf("Waterfall")?n+p/2:h!==t.yAxis.isAxisInverse?n+p:n)):(n=+i.regions[0].x,t.type.indexOf("Stacking")>-1?(r=(1-tk(0,t.yAxis))*t.yAxis.rect.height,o=n,a=r):(r=+i.regions[0].y,a=-1!==t.seriesType.indexOf("HighLow")||-1!==t.type.indexOf("Waterfall")?r+d/2:h!==t.yAxis.isAxisInverse?r:r+d,o=h?n:n+p)),wb(e)||(e.style.visibility="hidden",new Kx({}).animate(e,{duration:u,delay:l.delay,progress:function(i){i.timeStamp>=i.delay&&(e.style.visibility="visible",t.chart.requireInvertedAxis?(p=p||1,s=c(i.timeStamp-i.delay,0,p,i.duration),e.setAttribute("transform","translate("+o+" "+a+") scale("+s/p+", 1) translate("+-o+" "+-a+")")):(d=d||1,s=c(i.timeStamp-i.delay,0,d,i.duration),e.setAttribute("transform","translate("+o+" "+a+") scale(1,"+s/d+") translate("+-o+" "+-a+")")))},end:function(){e.setAttribute("transform","translate(0,0)");var n=t.seriesElement;if((e===n.lastElementChild||i.index===t.points.length-1||"Waterfall"===t.type&&e===n.children[n.childElementCount-2])&&(t.chart.trigger("animationComplete",{series:t.chart.isBlazor?{}:t}),"Waterfall"===t.type))for(var r=n.childNodes,o=0;o<r.length;o++)-1!==r[o].id.indexOf("Connector")&&(r[o].style.visibility="visible",r[o].setAttribute("transform","translate(0,0)"))}}))},e.prototype.calculateRoundedRectPath=function(e,t,i,n,r){return"M "+e.x+" "+(t+e.y)+" Q "+e.x+" "+e.y+" "+(e.x+t)+" "+e.y+" L "+(e.x+e.width-i)+" "+e.y+" Q "+(e.x+e.width)+" "+e.y+" "+(e.x+e.width)+" "+(e.y+i)+" L "+(e.x+e.width)+" "+(e.y+e.height-r)+" Q "+(e.x+e.width)+" "+(e.y+e.height)+" "+(e.x+e.width-r)+" "+(e.y+e.height)+" L "+(e.x+n)+" "+(e.y+e.height)+" Q "+e.x+" "+(e.y+e.height)+" "+e.x+" "+(e.y+e.height-n)+" L "+e.x+" "+(t+e.y)+" Z"},e}(),DP=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),zP=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return DP(t,e),t.prototype.render=function(e){for(var t,i,n=this.getSideBySideInfo(e),r=Math.max(e.yAxis.visibleRange.min,0),o=0,a=e.points;o<a.length;o++){var s=a[o];if(s.symbolLocations=[],s.regions=[],s.visible&&ZS(e.points[s.index-1],s,e.points[s.index+1],e)){(t=this.getRectangle(s.xValue+n.start,s.yValue,s.xValue+n.end,r,e)).width=e.columnWidthInPixel?e.columnWidthInPixel:t.width,t.x=e.columnWidthInPixel?t.x-(e.columnWidthInPixel/2*e.rectCount-e.columnWidthInPixel*e.index):t.x;var l="Indicator"===e.category?s.color:e.interior;(i=this.triggerEvent(e,s,l,{width:e.border.width,color:e.border.color})).cancel||(this.updateSymbolLocation(s,t,e),this.drawRectangle(e,s,t,i))}}this.renderMarker(e)},t.prototype.doAnimation=function(e){this.animate(e)},t.prototype.getModuleName=function(){return"ColumnSeries"},t.prototype.destroy=function(){},t}(IP),BP=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),FP=function(e){function t(t){var i=e.call(this,t)||this;return i.library=i,i.addEventListener(),i}return BP(t,e),t.prototype.addEventListener=function(){this.chart.isDestroyed||(this.chart.on(mx.touchMoveEvent,this.mouseMove,this),this.chart.on("click",this.click,this),this.chart.on(mx.touchEndEvent,this.mouseEnd,this))},t.prototype.removeEventListener=function(){this.chart.isDestroyed||(this.chart.off(mx.touchMoveEvent,this.mouseMove),this.chart.off("click",this.click),this.chart.off(mx.touchEndEvent,this.mouseEnd))},t.prototype.mouseMove=function(e){if(this.chart.legendSettings.visible&&!this.chart.isTouch&&(this.move(e),this.chart.highlightModule&&"None"!==this.chart.highlightMode))for(var t=[this.legendID+"_text_",this.legendID+"_shape_marker_",this.legendID+"_shape_"],i=e.target.id,n=void 0,r=0,o=t;r<o.length;r++){var a=o[r];if(i.indexOf(a)>-1){n=parseInt(i.split(a)[1],10),this.chart.highlightModule.legendSelection(this.chart,n,e);break}}},t.prototype.mouseEnd=function(e){this.chart.legendSettings.visible&&this.chart.isTouch&&this.move(e)},t.prototype.getLegendOptions=function(e,t){var i,n;this.legendCollections=[];var r=[];this.isRtlEnable=t.enableRtl,this.isReverse=!this.isRtlEnable&&t.legendSettings.reverse,e.length>1&&(this.legend.mode="Series");for(var o=0,a=e;o<a.length;o++){var s=a[o];if("Series"===this.legend.mode)"Indicator"!==s.category&&(i="PolarRadar"===t.chartAreaType?s.drawType:s.type,n=s.pointColorMapping&&s.points.length>0&&s.points[0].interior?s.points[0].interior:s.interior,this.legendCollections.push(new $C(s.name,n,s.legendShape,"TrendLine"===s.category?this.chart.series[s.sourceIndex].trendlines[s.index].visible:s.visible,i,s.legendImageUrl,s.marker.shape,s.marker.visible)));else if("Point"===this.legend.mode)for(var l=function(e){i="PolarRadar"===t.chartAreaType?s.drawType:s.type,n=e.interior?e.interior:s.interior,0===u.legendCollections.filter((function(t){return t.text===e.x.toString()})).length&&u.legendCollections.push(new $C(e.x.toString(),n,s.legendShape,"TrendLine"===s.category?u.chart.series[s.sourceIndex].trendlines[s.index].visible:e.visible,i,"",s.marker.shape,s.marker.visible))},u=this,c=0,h=s.points;c<h.length;c++){l(f=h[c])}else if("Range"===this.legend.mode)for(var d=0,p=s.points;d<p.length;d++){var f=p[d];i="PolarRadar"===t.chartAreaType?s.drawType:s.type,n=f.interior?f.interior:s.interior;var m="Others";if(r.indexOf(n)<0&&(r.push(n),t.rangeColorSettings.length>=1&&1===t.rangeColorSettings[0].colors.length)){for(var g=0,y=t.rangeColorSettings;g<y.length;g++){var v=y[g];v.colors[0]===n&&(m=v.label)}this.legendCollections.push(new $C(m,n,s.legendShape,"TrendLine"===s.category?this.chart.series[s.sourceIndex].trendlines[s.index].visible:f.visible,i,"",s.marker.shape,s.marker.visible))}}else if(0===this.legendCollections.length&&t.rangeColorSettings.length>0){var b=t.rangeColorSettings[0].start.toString(),x=t.rangeColorSettings[t.rangeColorSettings.length-1].end.toString();this.legendCollections.push(new $C(b,s.interior,"Rectangle",!0,i,"",s.marker.shape,s.marker.visible)),this.legendCollections.push(new $C(x,s.interior,"Rectangle",!0,i,"",s.marker.shape,s.marker.visible))}}this.isReverse&&"Gradient"!==t.legendSettings.mode&&this.legendCollections.reverse()},t.prototype.getLegendBounds=function(e,t,i){this.calculateLegendTitle(i,t),this.isTitle=!!i.title;var n=i.padding,r=i.titlePosition,o=0,a=0,s=this.arrowWidth,l=this.arrowHeight,u=this.isVertical&&!i.enablePages?l:0,c=this.isTitle&&"Top"===r?this.legendTitleSize.height+this.fivePixel:0;c=this.isTitle&&this.isVertical&&"Top"!==r?this.legendTitleSize.height+this.fivePixel:c,this.isVertical?a=i.width?0:e.width/100*5:o=i.height?0:e.height/100*5,t.height+=o,t.width+=a;var h,d=i.shapeWidth,p=i.shapePadding,f=0,m=0,g=0,y=0,v=0,b=0;this.maxItemHeight=Math.max(Cw("MeasureText",i.textStyle).height,i.shapeHeight);for(var x=!1,_=0,w=this.legendCollections;_<w.length;_++){var S=w[_];pS.test(S.text)&&(S.text=Zk(S.text,pS)),fS.test(S.text)&&(S.text=Zk(S.text,fS)),h={fill:S.fill,text:S.text,shape:S.shape,markerShape:S.markerShape,name:Xw,cancel:!1},this.chart.trigger(Xw,h),S.render=!h.cancel,S.text=h.text,S.fill=h.fill,S.shape=h.shape,S.markerShape=h.markerShape,S.textSize=Cw(S.text,i.textStyle),d=S.text?i.shapeWidth:0,p=S.text?i.shapePadding:0,S.render&&S.text&&(x=!0,m+=g=d+p+S.textSize.width+n,i.enablePages||this.isVertical||(b=this.isTitle&&"Top"!==r?this.legendTitleSize.width+this.fivePixel:0,b+=s),(t.width<n+m+b||this.isVertical)&&(f=Math.max(f,m+n+b-(this.isVertical?0:g)),0===v&&g!==m&&(v=1),m=this.isVertical?0:g,y=++v*(this.maxItemHeight+n)+n+c+u))}y=Math.max(y,this.maxItemHeight+n+n+c),this.isPaging=t.height<y,this.isPaging&&!i.enablePages&&(y=this.isVertical?y:this.maxItemHeight+n+n+("Top"===r?c:0)),this.totalPages=v,this.isPaging||this.isVertical||(m+=this.isTitle&&"Top"!==r?this.fivePixel+this.legendTitleSize.width+this.fivePixel:0),x?this.setBounds(Math.max(m+n,f),y,i,t):this.setBounds(0,0,i,t)},t.prototype.getRenderPoint=function(e,t,i,n,r,o,a){var s=this.legend.padding,l=i+n.textSize.width,u=n.location.x+(this.isRtlEnable?-l:l);this.isWithinBounds(u,e.textSize.width+i,r)||this.isVertical?(e.location.x=t.x,e.location.y=o===a?n.location.y:n.location.y+this.maxItemHeight+s):(e.location.x=o===a?n.location.x:u,e.location.y=n.location.y);var c=this.isRtlEnable?e.location.x-i+this.legend.shapeWidth/2-this.legendBounds.x:this.legendBounds.x+this.legendBounds.width-(e.location.x+i-this.legend.shapeWidth/2);e.text=Fk(+c.toFixed(4),e.text,this.legend.textStyle)},t.prototype.isWithinBounds=function(e,t,i){return this.isRtlEnable?e-t<i.x-this.legend.shapeWidth/2:e+t>i.x+i.width+this.legend.shapeWidth/2},t.prototype.LegendClick=function(e,t){var i=this.chart,n="Series"===i.legendSettings.mode?e:0,r=this.isReverse?this.legendCollections.length-1-e:e,o=i.visibleSeries[n],a=this.legendCollections[r],s="isProtectedOnChange";if("Series"===i.legendSettings.mode){var l={legendText:a.text,legendShape:a.shape,chart:i.isBlazor?{}:i,series:o,points:o.points,name:qw,cancel:!1};this.chart.trigger(qw,l),o.legendShape=l.legendShape,null!==o.fill&&(i.visibleSeries[e].interior=o.fill),i.legendSettings.toggleVisibility?("TrendLine"===o.category?i.series[o.sourceIndex].trendlines[o.index].visible?i.series[o.sourceIndex].trendlines[o.index].visible=!1:i.series[o.sourceIndex].trendlines[o.index].visible=!0:(o.chart[s]=!0,this.changeSeriesVisiblity(o,o.visible)),a.visible="TrendLine"===o.category?i.series[o.sourceIndex].trendlines[o.index].visible:o.visible,this.refreshLegendToggle(i,o)):i.highlightModule?i.highlightModule.legendSelection(i,e,t):i.selectionModule&&i.selectionModule.legendSelection(i,e,t),o.chart[s]=!1}else if("Point"===i.legendSettings.mode){var u=o.points[e];l={legendText:a.text,legendShape:a.shape,chart:i.isBlazor?{}:i,series:o,points:[u],name:qw,cancel:!1};if(this.chart.trigger(qw,l),i.legendSettings.toggleVisibility)u.visible=!u.visible,(h=this.legendCollections[e]).visible=u.visible,this.refreshLegendToggle(i,o)}else if("Range"===i.legendSettings.mode){for(var c=[],h=this.legendCollections[e],d=0,p=o.points;d<p.length;d++){u=p[d];h.fill===(u.interior||o.interior)&&c.push(u)}l={legendText:a.text,legendShape:a.shape,chart:i.isBlazor?{}:i,series:o,points:c,name:qw,cancel:!1};if(this.chart.trigger(qw,l),i.legendSettings.toggleVisibility){h.visible=!h.visible;for(var f=0,m=c;f<m.length;f++){(u=m[f]).visible=!u.visible}this.refreshLegendToggle(i,o)}}},t.prototype.refreshLegendToggle=function(e,t){var i=[];if(e.selectionModule&&(i=_b([],e.selectionModule.selectedDataIndexes,null,!0)),e.svgObject.childNodes.length>0&&!e.enableAnimation&&!e.enableCanvas){for(;e.svgObject.lastChild;)e.svgObject.removeChild(e.svgObject.lastChild);kx(e.svgObject)}e.animateSeries=!1,e.redraw=e.enableAnimation,e.rotatedDataLabelCollections=[],VS(Ow(e.element.id+"_Secondary_Element").querySelectorAll(".ejSVGTooltip")[0]),Xk(e),this.redrawSeriesElements(t,e),e.removeSvg(),e.refreshAxis(),t.refreshAxisLabel(),this.refreshSeries(e.visibleSeries),e.markerRender.removeHighlightedMarker(),e.refreshBound(),e.trigger("loaded",{chart:e}),i.length>0&&(e.selectionModule.selectedDataIndexes=i,e.selectionModule.redrawSelection(e,e.selectionMode)),e.highlightModule&&"None"!==e.highlightMode&&e.highlightModule.redrawSelection(e,e.highlightMode),e.redraw=!1},t.prototype.changeSeriesVisiblity=function(e,t){e.visible=!t,this.isSecondaryAxis(e.xAxis)&&(e.xAxis.internalVisibility=e.xAxis.series.some((function(e){return e.visible}))),this.isSecondaryAxis(e.yAxis)&&(e.yAxis.internalVisibility=e.yAxis.series.some((function(e){return e.visible})))},t.prototype.isSecondaryAxis=function(e){return this.chart.axes.indexOf(e)>-1},t.prototype.redrawSeriesElements=function(e,t){if(!t.redraw)return null;VS(t.element.id+"_Series_"+(void 0===e.index?e.category:e.index)+"_DataLabelCollections")},t.prototype.refreshSeries=function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t];if(n.type.indexOf("Spline")>-1){var r=n.type.indexOf("Area")>-1||n.drawType.indexOf("Area")>-1,o=n.type.indexOf("Range")>-1;this.chart["spline"+(r?o?"RangeArea":"Area":"")+"SeriesModule"].findSplinePoint(n)}n.position=void 0}},t.prototype.click=function(e){var t=this;if(this.chart.legendSettings.visible){for(var i,n,r=this.chart.mouseX,o=this.chart.mouseY,a=e.target.id,s=0,l=[this.legendID+"_text_",this.legendID+"_shape_marker_",this.legendID+"_shape_"];s<l.length;s++){var u=l[s];if(a.indexOf(u)>-1){n=parseInt(a.split(u)[1],10),this.LegendClick(n,e);break}}a.indexOf(this.legendID+"_pageup")>-1?this.changePage(e,!0):a.indexOf(this.legendID+"_pagedown")>-1&&this.changePage(e,!1),this.chart.enableCanvas&&this.pagingRegions.length&&this.checkWithinBounds(r,o),(i=this.legendRegions.filter((function(e){return ok(r,o+(t.isPaging?(t.currentPageNumber-1)*t.translatePage(null,1,2):0),e.rect)}))).length&&this.chart.enableCanvas&&this.LegendClick(i[0].index,e)}},t.prototype.checkWithinBounds=function(e,t){var i=this.chart.renderer,n=this.legendBounds,r=this.chart.legendSettings.border.width,o=new Aw(n.x,n.y,n.width,n.height);return o.x=o.x-r/2,o.y=o.y-r/2,o.width=o.width+r,o.height=o.height+r,ok(e,t,this.pagingRegions[0])?(this.isRtlEnable?this.canvasPageUp(i,o,n):this.canvasPageDown(i,o,n),null):ok(e,t,this.pagingRegions[1])?(this.isRtlEnable?this.canvasPageDown(i,o,n):this.canvasPageUp(i,o,n),null):void 0},t.prototype.canvasPageDown=function(e,t,i){--this.currentPageNumber>0?(this.legendRegions=[],e.clearRect(t),e.canvasClip(new $k("legendClipPath","transparent",{width:0,color:""},null,t)),this.renderLegend(this.chart,this.legend,i),e.canvasRestore()):++this.currentPageNumber},t.prototype.canvasPageUp=function(e,t,i){++this.currentPageNumber>0&&this.currentPageNumber<=this.totalNoOfPages?(this.legendRegions=[],e.clearRect(t),e.canvasClip(new $k("legendClipPath","transpaent",{width:0,color:""},null,t)),this.renderLegend(this.chart,this.legend,i),e.canvasRestore()):--this.currentPageNumber},t.prototype.getModuleName=function(){return"Legend"},t.prototype.destroy=function(){this.removeEventListener()},t}(YC),NP=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),jP=function(e){function t(t){var i=e.call(this,t)||this;return i.element=i.chart.element,i.textStyle=t.tooltip.textStyle,i.control=t,i.template=t.tooltip.template,i}return NP(t,e),t.prototype.getElement=function(e){return document.getElementById(e)},t.prototype.getTooltipElement=function(e){this.inverted=this.chart.requireInvertedAxis,this.header=null===this.control.tooltip.header?this.control.tooltip.shared?"<b>${point.x}</b>":"<b>${series.name}</b>":this.control.tooltip.header,this.formattedText=[];var t=document.getElementById(this.chart.element.id+"_tooltip"),i=this.chart.element.id.indexOf("stockChart")>-1;return!e&&!t||i?this.createElement():null},t.prototype.createElement=function(){var e=document.createElement("div");return e.id=this.element.id+"_tooltip",e.className="ejSVGTooltip",e.style.pointerEvents="none",e.style.position="absolute",e.style.zIndex="1",e},t.prototype.pushData=function(e,t,i,n){return!!e.series.enableTooltip&&(this.currentPoints.push(e),this.stopAnimation(),i&&!document.getElementById(i.id)&&(this.chart.stockChart?document.getElementById(this.chart.stockChart.element.id+"_Secondary_Element").appendChild(i):document.getElementById(this.element.id+"_Secondary_Element").appendChild(i)),!0)},t.prototype.removeHighlight=function(){for(var e,t=0,i=this.previousPoints.length;t<i;t++)(e=this.previousPoints[t]).series.isRectSeries?e.series.visible&&this.highlightPoint(e.series,e.point.index,!1):e.series.marker.visible||"Scatter"===e.series.type||"Bubble"===e.series.type||(this.previousPoints.shift(),i-=1)},t.prototype.highlightPoint=function(e,t,i){var n=this.getElement(this.element.id+"_Series_"+e.index+"_Point_"+t),r=this.control.accumulationSelectionModule,o=!!(r&&r.selectedDataIndexes.length>0);n&&(!o||o&&n.getAttribute("class")&&-1===n.getAttribute("class").indexOf("_ej2_chart_selection_series_")?""===this.chart.highlightColor||wb(this.chart.highlightColor)?n.setAttribute("opacity",(i?e.opacity/2:e.opacity).toString()):n.setAttribute("fill",i?this.chart.highlightColor:""!==e.pointColorMapping?e.points[0].color:e.interior):n.setAttribute("opacity",e.opacity.toString()))},t.prototype.highlightPoints=function(){for(var e=0,t=this.currentPoints;e<t.length;e++){var i=t[e];i.series.isRectSeries&&"Series"===i.series.category&&this.highlightPoint(i.series,i.point.index,!0)}},t.prototype.createTooltip=function(e,t,i,n,r,o,a,s,l,u,c){void 0===l&&(l=null),void 0===u&&(u=null);var h=this.currentPoints[0].series,d=e.tooltipModule||e.accumulationTooltipModule;d&&null!==i&&(t?this.svgTooltip=new Ww({opacity:e.tooltip.opacity,header:this.headerText,content:this.text,fill:e.tooltip.fill,border:e.tooltip.border,enableAnimation:e.tooltip.enableAnimation,location:i,shared:e.tooltip.shared,shapes:o,clipBounds:"PolarRadar"===this.chart.chartAreaType?new Jk(0,0):n,areaBounds:s,palette:this.findPalette(),template:c||this.template,data:u,theme:e.theme,offset:a,textStyle:e.tooltip.textStyle,isNegative:h.isRectSeries&&"Waterfall"!==h.type&&r&&r.y<0,inverted:this.chart.requireInvertedAxis&&h.isRectSeries,arrowPadding:this.text.length>1||this.chart.stockChart?0:12,availableSize:e.availableSize,duration:this.chart.tooltip.duration,isCanvas:this.chart.enableCanvas,isTextWrap:e.tooltip.enableTextWrap&&"chart"===e.getModuleName(),blazorTemplate:{name:"Template",parent:this.chart.tooltip},controlInstance:this.chart,enableRTL:e.enableRtl,tooltipRender:function(){d.removeHighlight(),d.highlightPoints(),d.updatePreviousPoint(l)},animationComplete:function(e){e.tooltip.fadeOuted&&d.fadeOut(d.previousPoints)}},"#"+this.element.id+"_tooltip"):this.svgTooltip&&(this.svgTooltip.location=i,this.svgTooltip.content=this.text,this.svgTooltip.header=this.headerText,this.svgTooltip.offset=a,this.svgTooltip.palette=this.findPalette(),this.svgTooltip.shapes=o,this.svgTooltip.data=u,this.svgTooltip.template=this.template,this.svgTooltip.textStyle=e.tooltip.textStyle,this.svgTooltip.isNegative=h.isRectSeries&&"Waterfall"!==h.type&&r&&r.y<0,this.svgTooltip.clipBounds="PolarRadar"===this.chart.chartAreaType?new Jk(0,0):n,this.svgTooltip.arrowPadding=this.text.length>1||this.chart.stockChart?0:12,this.svgTooltip.dataBind()),this.chart.isReact&&this.chart.renderReactTemplates())},t.prototype.findPalette=function(){for(var e=[],t=0,i=this.currentPoints;t<i.length;t++){var n=i[t];e.push(this.findColor(n,n.series))}return e},t.prototype.findColor=function(e,t){return!t.isRectSeries||"Candle"!==t.type&&"Hilo"!==t.type&&"HiloOpenClose"!==t.type?(e.point.color&&"#ffffff"!==e.point.color?e.point.color:e.point.interior)||t.marker.fill||t.interior:e.point.color},t.prototype.updatePreviousPoint=function(e){e&&(this.currentPoints=this.currentPoints.concat(e)),this.previousPoints=_b([],this.currentPoints,null,!0)},t.prototype.fadeOut=function(e){var t=this.chart.enableCanvas?this.getElement(this.element.id+"_tooltip_group"):this.getElement(this.element.id+"_tooltip_svg");t&&parseInt(t.getAttribute("opacity"),10)>0||(this.valueX=null,this.valueY=null,this.currentPoints=[],this.removeHighlight(),this.removeHighlightedMarker(e),this.svgTooltip=null,this.control.trigger("animationComplete",{}))},t.prototype.removeHighlightedMarker=function(e){if(this.chart.markerRender){for(var t=0,i=e;t<i.length;t++){var n=i[t];VS(this.element.id+"_Series_"+n.series.index+"_Point_"+n.point.index+"_Trackball")}this.chart.markerRender.removeHighlightedMarker()}this.previousPoints=[]},t.prototype.removeText=function(){this.textElements=[];var e=this.getElement(this.element.id+"_tooltip_group");if(e&&e.childNodes.length>0)for(;e.lastChild&&1!==e.childNodes.length;)e.removeChild(e.lastChild)},t.prototype.stopAnimation=function(){Pk(this.toolTipInterval)},t.prototype.removeTooltip=function(e){var t=this,i=this.getElement(this.element.id+"_tooltip"),n=i?this.getElement(i.id+"parent_template"):null,r=n&&"<div></div>"!==n.innerHTML;this.stopAnimation(),this.chart.isReact&&r&&this.chart.clearTemplate([n.id],[0]),i&&this.previousPoints.length>0&&(this.toolTipInterval=+setTimeout((function(){t.svgTooltip&&t.svgTooltip.fadeOut()}),e))},t}(AC),VP=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),UP=function(e){function t(t){var i=e.call(this,t)||this;return i.commonXvalues=[],i.addEventListener(),i}return VP(t,e),t.prototype.addEventListener=function(){if(!this.chart.isDestroyed){var e=mx.isPointer?"pointerleave":"mouseleave";this.chart.on(e,this.mouseLeaveHandler,this),this.chart.on("tapHold",this.longPress,this),this.chart.on(mx.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(mx.touchEndEvent,this.mouseUpHandler,this)}},t.prototype.mouseUpHandler=function(){var e=this.control,t=this.getData();t.lierIndex=this.lierIndex,e.isTouch&&!this.isSelected(e)&&(ok(e.mouseX,e.mouseY,e.chartAxisLayoutPanel.seriesClipRect)&&e.tooltip.shared||!e.tooltip.shared)?e.crosshair.enable?e.startMove&&"Move"===e.tooltip.fadeOutMode&&this.removeTooltip(2e3):(this.tooltip(),"Move"===e.tooltip.fadeOutMode&&this.removeTooltip(e.tooltip.fadeOutDuration)):this.findData(t,this.previousPoints[0])||"Click"!==e.tooltip.fadeOutMode||this.removeTooltip(0)},t.prototype.mouseLeaveHandler=function(){this.removeTooltip(this.chart.tooltip.fadeOutDuration)},t.prototype.mouseMoveHandler=function(){var e=this.chart;e.disableTrackTooltip||this.isSelected(e)||(e.tooltip.shared||e.isTouch&&!e.startMove||this.tooltip(),ok(e.mouseX,e.mouseY,e.chartAxisLayoutPanel.seriesClipRect)?!e.tooltip.shared||e.isTouch&&!e.startMove||this.tooltip():e.tooltip.shared&&"Move"===e.tooltip.fadeOutMode&&this.removeTooltip(this.chart.tooltip.fadeOutDuration))},t.prototype.longPress=function(){var e=this.chart;return e.crosshair.enable&&ok(e.mouseX,e.mouseY,e.chartAxisLayoutPanel.seriesClipRect)&&this.tooltip(),!1},t.prototype.tooltip=function(){if(this.chart.stockChart&&this.chart.stockChart.onPanning)return this.removeTooltip(1e3),null;var e=this.chart.enableCanvas?this.element.id+"_tooltip_group":this.element.id+"_tooltip_svg",t=this.getElement(e),i=this.chart.stockChart&&t&&t.firstChild.childNodes.length>1,n=t&&parseInt(t.getAttribute("opacity"),10)>0&&!i,r=this.getTooltipElement(n);this.chart.enableCanvas&&r&&(document.getElementById(this.chart.element.id+"_Secondary_Element").appendChild(r),r.appendChild(document.getElementById(this.chart.element.id+"_tooltip_svg"))),this.chart.tooltip.shared?this.renderGroupedTooltip(this.chart,!n,r):this.renderSeriesTooltip(this.chart,!n,r)},t.prototype.findHeader=function(e){return""===this.header?"":(this.header=this.parseTemplate(e.point,e.series,this.header,e.series.xAxis,e.series.yAxis),""!==this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim()?this.header:"")},t.prototype.findShapes=function(){if(!this.chart.tooltip.enableMarker)return[];for(var e=[],t=0,i=this.currentPoints;t<i.length;t++){var n=i[t];e.push(n.point.marker.shape||n.series.marker.shape)}return e},t.prototype.renderSeriesTooltip=function(e,t,i){var n=this.getData();if(n.lierIndex=this.lierIndex,this.currentPoints=[],this.findData(n,this.previousPoints[0])){if((!e.dataEditingModule||!e.dataEditingModule.isPointDragging)&&this.previousPoints[0]&&n.point.index===this.previousPoints[0].point.index&&n.series.index===this.previousPoints[0].series.index)return null;this.pushData(n,t,i,!0)&&this.triggerTooltipRender(n,t,this.getTooltipText(n),this.findHeader(n))}else if(!n.point&&this.isRemove&&"Move"===e.tooltip.fadeOutMode)this.removeTooltip(this.chart.tooltip.fadeOutDuration),this.isRemove=!1;else for(var r=this.mergeXvalues(this.chart.visibleSeries),o=0,a=e.visibleSeries;o<a.length;o++){var s=a[o];s.visible&&"TrendLine"!==s.category&&(n=this.getClosestX(e,s,r)||n)}n&&n.point&&this.findMouseValue(n,e)},t.prototype.triggerTooltipRender=function(e,t,i,n){var r=this,o={cancel:!1,name:tS,text:i,headerText:n,template:undefined,series:this.chart.isBlazor?{}:e.series,textStyle:this.textStyle,point:e.point,data:{pointX:e.point.x,pointY:e.point.y,seriesIndex:e.series.index,seriesName:e.series.name,pointIndex:e.point.index,pointText:e.point.text}},a=function(i){i.cancel?(r.removeHighlight(),kx(r.getElement(r.element.id+"_tooltip"))):("BoxAndWhisker"===e.series.type&&(r.removeText(),t=!0),r.headerText=i.headerText,r.formattedText=r.formattedText.concat(i.text),r.text=r.formattedText,r.createTooltip(r.chart,t,r.getSymbolLocation(e),e.series.clipRect,e.point,r.findShapes(),r.findMarkerHeight(r.currentPoints[0]),r.chart.chartAxisLayoutPanel.seriesClipRect,null,r.getTemplateText(e),r.template?i.template:"")),r.isRemove=!0};a.bind(this,e),this.chart.trigger(tS,o,a)},t.prototype.findMarkerHeight=function(e){if(!this.chart.tooltip.enableMarker)return 0;var t=e.series;return(t.marker.visible||this.chart.tooltip.shared&&(!t.isRectSeries||t.marker.visible)||"Scatter"===t.type||"Scatter"===t.drawType)&&"Candle"!==t.type&&"Hilo"!==t.type&&"HiloOpenClose"!==t.type?(t.marker.height+2)/2+2*t.marker.border.width:0},t.prototype.findData=function(e,t){return e.point&&(!t||t.point!==e.point||t&&t.lierIndex>3&&t.lierIndex!==this.lierIndex||t.point===e.point)},t.prototype.getSymbolLocation=function(e){var t;if("BoxAndWhisker"!==e.series.type){if(!e.point.symbolLocations[0])return null;t=new Jk(e.point.symbolLocations[0].x,e.point.symbolLocations[0].y)}switch(e.series.type){case"BoxAndWhisker":return this.getBoxLocation(e);case"Waterfall":return this.getWaterfallRegion(e,t);case"RangeArea":case"SplineRangeArea":return this.getRangeArea(e,t);default:return t}},t.prototype.getRangeArea=function(e,t){return e.point.regions[0]&&(this.inverted?t.x=e.point.regions[0].x+e.point.regions[0].width/2:t.y=e.point.regions[0].y+e.point.regions[0].height/2),t},t.prototype.getWaterfallRegion=function(e,t){return this.inverted?t.x=e.point.y<0?t.x+e.point.regions[0].width:t.x:t.y=e.point.y<0?t.y-e.point.regions[0].height:t.y,t},t.prototype.getTooltipText=function(e){var t=e.series;return this.parseTemplate(e.point,t,this.getFormat(this.chart,t),t.xAxis,t.yAxis)},t.prototype.getTemplateText=function(e){if(this.template){var t=_b({},e.point);return t.x=this.formatPointValue(e.point,e.series.xAxis,"x",!0,!1),"XY"===e.series.seriesType?t.y=this.formatPointValue(e.point,e.series.yAxis,"y",!1,!0):(t.low=this.formatPointValue(e.point,e.series.yAxis,"low",!1,!0),t.high=this.formatPointValue(e.point,e.series.yAxis,"high",!1,!0)),t}return e.point},t.prototype.findMouseValue=function(e,t){t.requireInvertedAxis?(this.valueY=(1-tk(e.point.xValue,e.series.xAxis))*e.series.xAxis.rect.height+e.series.xAxis.rect.y,this.valueX=t.mouseX):("PolarRadar"===t.chartAreaType?this.valueX=rk(e.point.xValue,e.series.xAxis)*e.series.xAxis.rect.width+e.series.xAxis.rect.x:this.valueX="TrendLine"===e.series.category&&t.tooltip.shared?this.valueX:tk(e.point.xValue,e.series.xAxis)*e.series.xAxis.rect.width+e.series.xAxis.rect.x,this.valueY=t.mouseY)},t.prototype.renderGroupedTooltip=function(e,t,i){var n,r,o=[],a="PolarRadar"===e.chartAreaType?this.getData():null;this.stopAnimation(),this.removeHighlight(),this.currentPoints=[];var s=[];t&&(e.stockChart?i&&!Ow(i.id)&&document.getElementById(e.stockChart.element.id+"_Secondary_Element").appendChild(i):i&&document.getElementById(this.element.id+"_Secondary_Element").appendChild(i)),this.removeText();for(var l={text:[],cancel:!1,name:Kw,data:[],point:[],series:[],headerText:"",textStyle:this.textStyle},u=this.mergeXvalues(this.chart.visibleSeries),c=0,h=0,d=e.visibleSeries;h<d.length;h++){var p=d[h];p.enableTooltip&&p.visible&&("Cartesian"===e.chartAreaType&&p.visible?n=this.getClosestX(e,p,u):"PolarRadar"===e.chartAreaType&&p.visible&&null!==a.point&&(n=new iC(p.points[a.point.index],p)),n&&(l.data.push({pointX:n.point.x,pointY:n.point.y,seriesIndex:n.series.index,seriesName:n.series.name,pointIndex:n.point.index,pointText:n.point.text}),l.series[c]=n.series,l.point[c]=n.point,l.headerText=this.findHeader(n),this.currentPoints.push(n),l.text.push(this.getTooltipText(n)),r="TrendLine"===n.series.category&&e.tooltip.shared?r:n,o.push(n)),c++)}o.length>0&&this.triggerSharedTooltip(l,r,s,e,t),this.currentPoints.length>0?this.createTooltip(e,t,this.findSharedLocation(),1===this.currentPoints.length?this.currentPoints[0].series.clipRect:null,1===o.length?o[0].point:null,this.findShapes(),this.findMarkerHeight(this.currentPoints[0]),e.chartAxisLayoutPanel.seriesClipRect,s,this.template?this.getTemplateText(o[0]):null,this.template?l.template:""):this.getElement(this.element.id+"_tooltip_path")&&this.getElement(this.element.id+"_tooltip_path").setAttribute("d","")},t.prototype.triggerSharedTooltip=function(e,t,i,n,r){var o=this,a={cancel:!1,name:Kw,text:e.text,headerText:e.headerText,textStyle:e.textStyle,template:undefined,point:e.point,series:e.series,data:e.data},s=function(e){e.cancel?i.push(t):("BoxAndWhisker"===t.series.type&&(o.removeText(),!0),o.formattedText=o.formattedText.concat(e.text),o.text=e.text,o.headerText=e.headerText,o.findMouseValue(t,o.chart),t=null)};s.bind(this,t,i),this.chart.trigger(Kw,a,s),a.template&&(this.template=a.template)},t.prototype.findSharedLocation=function(){var e=this.chart.stockChart;if(e){1===this.text.length&&this.text.push("");var t=e.enablePeriodSelector?e.toolbarHeight:0,i=document.getElementById(e.element.id+"_ChartTitle"),n=""!==e.title?i.getBoundingClientRect().height+10:0;return new Jk(this.chart.chartAxisLayoutPanel.seriesClipRect.x+5,this.chart.chartAxisLayoutPanel.seriesClipRect.y+t+5+n)}return this.currentPoints.length>1?new Jk(this.valueX,this.valueY):this.getSymbolLocation(this.currentPoints[0])},t.prototype.getBoxLocation=function(e){return this.lierIndex>3?e.point.symbolLocations[this.lierIndex-4]:{x:e.point.regions[0].x+e.point.regions[0].width/2,y:e.point.regions[0].y+e.point.regions[0].height/2}},t.prototype.parseTemplate=function(e,t,i,n,r){for(var o,a,s=0,l=Object.keys(e);s<l.length;s++){var u=l[s];o=new RegExp("${point."+u+"}","gm"),i=i.replace(o.source,this.formatPointValue(e,"${point.x}"===o.source?n:r,u,"${point.x}"===o.source,"${point.high}"===o.source||"${point.open}"===o.source||"${point.close}"===o.source||"${point.low}"===o.source||"${point.y}"===o.source||"${point.minimum}"===o.source||"${point.maximum}"===o.source||"${point.outliers}"===o.source||"${point.upperQuartile}"===o.source||"${point.lowerQuartile}"===o.source||"${point.median}"===o.source))}for(var c=0,h=Object.keys(Object.getPrototypeOf(t));c<h.length;c++){u=h[c];o=new RegExp("${series."+u+"}","gm"),a=t[u],i=i.replace(o.source,a)}return i},t.prototype.formatPointValue=function(e,t,i,n,r){var o,a,s;return"Category"!==t.valueType&&n?o=(a=t.labelFormat&&null!==t.labelFormat.match("{value}"))?t.labelFormat.replace("{value}",t.format(e[i])):t.format(e[i]):r&&!wb(e[i])?(a=t.labelFormat&&null!==t.labelFormat.match("{value}"),s="outliers"===i?t.format(e[i][this.lierIndex-4]):t.format(e[i]),o=a?t.labelFormat.replace("{value}",s):s):o=e[i],o},t.prototype.getFormat=function(e,t){if(t.tooltipFormat)return"XY"===t.seriesType&&"Indicator"===t.category?this.getIndicatorTooltipFormat(t,e,e.tooltip.format):t.tooltipFormat;if(!t.tooltipFormat&&e.tooltip.format)return"XY"===t.seriesType&&"Indicator"===t.category?this.getIndicatorTooltipFormat(t,e,e.tooltip.format):e.tooltip.format;var i="Histogram"===t.type?"${point.minimum}-${point.maximum}":"${point.x}",n=e.tooltip.shared?"${series.name}":i;switch(t.seriesType){case"XY":return"Indicator"===t.category&&this.getIndicatorTooltipFormat(t,e,e.tooltip.format),n+" : "+("Bubble"===t.type?"<b>${point.y}</b>  Size : <b>${point.size}</b>":"<b>${point.y}</b>");case"HighLow":return n+"<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b>";case"HighLowOpenClose":return n+"<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b><br/>Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>";case"BoxPlot":return n+"<br/>"+(this.lierIndex>3?"Outliers : <b>${point.outliers}</b>":"Maximum : <b>${point.maximum}</b><br/>Q3 : <b>${point.upperQuartile}</b><br/>Median : <b>${point.median}</b><br/>Q1 : <b>${point.lowerQuartile}</b><br/>Minimum : <b>${point.minimum}</b>");default:return""}},t.prototype.getIndicatorTooltipFormat=function(e,t,i){return"XY"===e.seriesType?e.name+" : <b>${point.y}</b>":i},t.prototype.removeHighlightedMarker=function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t];VS(this.element.id+"_Series_"+n.series.index+"_Point_"+n.point.index+"_Trackball")}this.chart.markerRender&&this.chart.markerRender.removeHighlightedMarker(),this.previousPoints=[]},t.prototype.getModuleName=function(){return"Tooltip"},t.prototype.destroy=function(){},t}(jP),WP=function(){function e(e){this.errorHeight=0,this.chart=e}return e.prototype.initPrivateVariables=function(e,t){var i="",n="",r=e.chart.renderer,o=void 0===e.index?e.category:e.index;"Cartesian"===e.chart.chartAreaType&&(i="translate("+e.clipRect.x+","+e.clipRect.y+")",n="url(#"+this.chart.element.id+"_ChartSeriesClipRect_"+o+")"),t.dataLabel.visible&&(e.shapeElement=r.createGroup({id:this.chart.element.id+"ShapeGroup"+o,transform:i,"clip-path":"url(#"+this.chart.element.id+"_ChartSeriesClipRect_"+o+")"}),e.textElement=r.createGroup({id:this.chart.element.id+"TextGroup"+o,transform:i,"clip-path":n})),this.markerHeight="Scatter"===e.type||t.visible?t.height/2:0,this.commonId=this.chart.element.id+"_Series_"+o+"_Point_",this.calculateErrorHeight(e,e.marker.dataLabel.position),this.chartBackground="transparent"===this.chart.chartArea.background?this.chart.background||this.chart.themeStyle.background:this.chart.chartArea.background},e.prototype.calculateErrorHeight=function(e,t){if(!e.errorBar.visible)return null;if(e.errorBar.visible&&"PolarRadar"!==this.chart.chartAreaType){var i=e.errorBar.direction,n=this.chart.errorBarModule.positiveHeight,r=this.chart.errorBarModule.negativeHeight;this.isRectSeries(e)?("Top"!==t&&"Auto"!==t||(this.errorHeight="Both"===i||"Minus"===i?r:0),"Outer"!==t&&"Auto"!==t||(this.errorHeight="Both"===i||"Plus"===i?n:0)):("Top"!==t&&"Outer"!==t&&"Auto"!==t||("Both"!==i&&"Plus"!==i||e.chart.isTransposed?this.errorHeight=0:this.errorHeight=n),"Bottom"!==t&&"Auto"!==t||(this.errorHeight="Both"===i||"Minus"===i?r:0))}else this.errorHeight=0},e.prototype.isRectSeries=function(e){return e.isRectSeries||"RangeArea"===e.type||"SplineRangeArea"===e.type},e.prototype.render=function(e,t,i){var n;this.initPrivateVariables(e,e.marker);var r,o,a,s,l,u,c,h={x:0,y:0};this.inverted=t.requireInvertedAxis,this.yAxisInversed=e.yAxis.isAxisInverse;for(var d,p,f,m=t.redraw,g=!1,y=[],v=vx("div",{id:t.element.id+"_Series_"+(void 0===e.index?e.category:e.index)+"_DataLabelCollections"}),b=jS(e),x=0;x<b.length;x++){if(d=b[x],!i.showZero&&(0!==d.y||0===d.y&&"Zero"===e.emptyPointSettings.mode))return null;this.margin=i.margin;var _=[],w=void 0,S=void 0,k=void 0,C=void 0,T=void 0,E=!0,A=e.clipRect,P=void 0;g=!1,u=c=i.angle,s={width:i.border.width,color:i.border.color};var M=_b({},yb("properties",i.font),null,!0);if(d.symbolLocations.length&&d.symbolLocations[0]||"BoxAndWhisker"===e.type&&d.regions.length){w=(_=Ak(d,e,t)).length;for(var L=0;L<w;L++)if(a={cancel:!1,name:Yw,series:e,point:d,text:_[L],border:s,color:i.fill,template:i.template,font:M,location:h,textSize:Cw(_[L],i.font)},t.trigger(Yw,a),!a.cancel)if(this.fontBackground=a.color,this.isDataLabelShape(a),this.markerHeight="Bubble"===e.type?d.regions[0].height/2:this.markerHeight,null!==a.template)this.createDataLabelTemplate(v,e,i,d,a,L,m);else{if(l=Cw(a.text,i.font),n=this.calculateTextPosition(d,e,l,i,L),"PolarRadar"===t.chartAreaType)for(var O=0,R=t.chartAxisLayoutPanel.visibleAxisLabelRect;O<R.length;O++){var I=R[O];if(Lk(new Aw(n.x,n.y,n.width,n.height),I)){E=!1;break}}var D=new Aw(n.x+A.x,n.y+A.y,n.width,n.height);if(i.enableRotation){if(y=QS(this.getRectanglePoints(n),p=n.x+n.width/2,f=n.y+n.height/2,u),!(g=this.isDataLabelOverlapWithChartBound(y,t,A))){this.chart.rotatedDataLabelCollections.push(y);for(var z=this.chart.rotatedDataLabelCollections.length-1,B=z;B>=0;B--)if(this.chart.rotatedDataLabelCollections[z]&&this.chart.rotatedDataLabelCollections[B-1]&&JS(this.chart.rotatedDataLabelCollections[z],this.chart.rotatedDataLabelCollections[B-1])){g=!0,this.chart.rotatedDataLabelCollections[z]=null;break}}}else g=Mk(n,t.dataLabelCollections,A);g&&"None"!==i.labelIntersectAction||!E||(t.dataLabelCollections.push(D),this.isShape&&(P=t.renderer.drawRectangle(new $k(this.commonId+d.index+"_TextShape_"+L,a.color,a.border,i.opacity,n,i.rx,i.ry),new Int32Array([A.x,A.y])),e.shapeElement&&e.shapeElement.appendChild(P)),r=Dk(zk(this.fontBackground)),o=Math.round((299*r.r+587*r.g+114*r.b)/1e3),S=n.x+this.margin.left+l.width/2+h.x,k=n.y+this.margin.top+3*l.height/4+h.y,h={x:0,y:0},0!==u&&i.enableRotation?(C=p,T=f,c=u>360?u-360:u<-360?u+360:u):(c=0,C=n.x,T=n.y),Vk(t.renderer,new Lw(this.commonId+d.index+"_Text_"+L,S,k,"middle",a.text,"rotate("+c+","+C+","+T+")","auto",c),a.font,a.font.color||(o>=128||"Hilo"===e.type?"black":"white"),e.textElement,!1,m,!0,!1,e.chart.duration,e.clipRect,0,null,t.enableCanvas))}}}v.childElementCount&&(t.enableCanvas?xk(t.element.id+"_Secondary_Element").appendChild(v):Ek(t.enableCanvas,xk(t.element.id+"_Secondary_Element"),v,t.redraw,!1,"x","y",null,"",!1,!1,null,t.duration))},e.prototype.getRectanglePoints=function(e){return[new Jk(e.x,e.y),new Jk(e.x+e.width,e.y),new Jk(e.x+e.width,e.y+e.height),new Jk(e.x,e.y+e.height)]},e.prototype.isDataLabelOverlapWithChartBound=function(e,t,i){for(var n=0;n<e.length;n++)if(!ok(e[n].x+i.x,e[n].y+i.y,t.initialClipRect))return!0;return!1},e.prototype.createDataLabelTemplate=function(e,t,i,n,r,o,a){this.margin={left:0,right:0,bottom:0,top:0};var s=t.clipRect,l=Sk(vx("div",{id:this.chart.element.id+"_Series_"+(void 0===t.index?t.category:t.index)+"_DataLabel_"+n.index+(o?"_"+o:""),styles:"position: absolute;background-color:"+r.color+";"+kk(i.font)+";border:"+r.border.width+"px solid "+r.border.color+";"}),n.index,r.template,this.chart,n,t,this.chart.element.id+"_DataLabel",o);this.calculateTemplateLabelSize(e,l,n,t,i,o,s,a)},e.prototype.calculateTemplateLabelSize=function(e,t,i,n,r,o,a,s,l){var u=Ck(t,s,l),c=this.calculateTextPosition(i,n,{width:u.width,height:u.height},r,o),h=!1;l&&(h=0===u.width||0===u.height),t.style.left=("PolarRadar"===this.chart.chartAreaType?0:n.clipRect.x)+c.x-0+"px",t.style.top=("PolarRadar"===this.chart.chartAreaType?0:n.clipRect.y)+c.y+0+"px";var d=Dk(zk(this.fontBackground)),p=n.chart.requireInvertedAxis?n.xAxis:n.yAxis,f=n.chart.requireInvertedAxis?n.yAxis:n.xAxis;t.style.color=r.font.color||(Math.round((299*d.r+587*d.g+114*d.b)/1e3)>=128?"black":"white"),t.childElementCount&&!h&&(!Mk(c,this.chart.dataLabelCollections,a)||"None"===r.labelIntersectAction)&&("XY"!==n.seriesType||void 0===i.yValue||GS(i.yValue,n.yAxis.visibleRange)||n.type.indexOf("Stacking")>-1||n.type.indexOf("100")>-1&&GS(n.stackedValues.endValues[i.index],n.yAxis.visibleRange))&&GS(i.xValue,n.xAxis.visibleRange)&&parseFloat(t.style.top)>=p.rect.y&&parseFloat(t.style.left)>=f.rect.x&&parseFloat(t.style.top)<=p.rect.y+p.rect.height&&parseFloat(t.style.left)<=f.rect.x+f.rect.width&&(this.chart.dataLabelCollections.push(new Aw(c.x+a.x,c.y+a.y,c.width,c.height)),Ek(this.chart.enableCanvas,e,t,s,!0,"left","top"),n.animation.enable&&this.chart.animateSeries&&!this.chart.enableCanvas?this.doDataLabelAnimation(n,t):this.chart.enableCanvas&&e.appendChild(t))},e.prototype.calculateTextPosition=function(e,t,i,n,r){var o,a=r>1&&"Candle"===t.type?e.regions[1]:e.regions[0];r>1&&"HiloOpenClose"===t.type&&(a=2===r?e.regions[1]:e.regions[2]),o=this.getLabelLocation(e,t,i,r);var s=t.clipRect;if(this.chart.requireInvertedAxis&&this.isRectSeries(t)&&"BoxAndWhisker"!==t.type){this.locationY=o.y;l=i.width+this.borderWidth+this.margin.left+this.margin.right-5;o.x="Auto"===n.position?o.x:this.calculateAlignment(l,o.x,n.alignment,e.yValue<0),o.x=this.calculateRectPosition(o.x,a,e.yValue<0!==this.yAxisInversed,n.position,t,i,r,e)}else{this.locationX=o.x;var l=i.height+2*this.borderWidth+this.markerHeight+this.margin.bottom+this.margin.top+5;o.y="Auto"===n.position?o.y:this.calculateAlignment(l,o.y,n.alignment,!!this.isRectSeries(t)&&e.yValue<0),o.y=this.isRectSeries(t)&&"BoxAndWhisker"!==t.type?this.calculateRectPosition(o.y,a,e.yValue<0!==this.yAxisInversed,n.position,t,i,r,e):this.calculatePathPosition(o.y,n.position,t,e,i,r),this.isRectSeries(t)&&"PolarRadar"===this.chart.chartAreaType&&(o=this.calculatePolarRectPosition(o,n.position,t,e,i,r,n.alignment,l))}var u=Ok(o,i,this.margin);return!0===n.enableRotation&&0!==n.angle||u.y>s.y+s.height||u.x>s.x+s.width||u.x+u.width<0||u.y+u.height<0||(u.x=u.x<0?5:u.x,u.y=u.y<0&&"None"!==n.labelIntersectAction?5:u.y,u.x-=u.x+u.width>s.x+s.width?u.x+u.width-(s.x+s.width)+5:0,u.y-=u.y+u.height>s.y+s.height?u.y+u.height-(s.y+s.height)+5:0,this.fontBackground="transparent"===this.fontBackground?this.chartBackground:this.fontBackground),u},e.prototype.calculatePolarRectPosition=function(e,t,i,n,r,o,a,s){var l,u=this.chart.availableSize.width,c="Center"===a?0:"Far"===a?1:-1,h=n.regionData.startAngle-.5*Math.PI+(n.regionData.endAngle-n.regionData.startAngle)/2;return l=0===o?n.regionData.radius<n.regionData.innerRadius?n.regionData.innerRadius:n.regionData.radius:n.regionData.radius>n.regionData.innerRadius?n.regionData.innerRadius:n.regionData.radius,this.fontBackground="transparent"===this.fontBackground?this.chartBackground:this.fontBackground,i.drawType.indexOf("Stacking")>-1?t="Outer"===t?"Top":t:i.drawType.indexOf("Range")>-1&&(t="Outer"===t||"Top"===t?t:"Auto"),"Outer"===t?l=0===o?l+10+this.markerHeight:l-10-this.markerHeight:"Middle"===t?(l=l/2+5,"StackingColumn"===i.drawType&&(l=n.regionData.innerRadius+(n.regionData.radius-n.regionData.innerRadius)/2+5-r.height/2)):"Top"===t?l=0===o?l-10-this.markerHeight:l+10+this.markerHeight:"Bottom"===t?(l=10,l+="StackingColumn"===i.drawType?n.regionData.innerRadius+this.markerHeight:0):l=0===o?l>=i.chart.radius?l-5:"StackingColumn"===i.drawType?l-10:l+10:l>=i.chart.radius?l+5:l-10,l+=s*c,e.x=i.clipRect.width/2+i.clipRect.x+l*Math.cos(h),"StackingColumn"===i.drawType?e.x=e.x<u/2?e.x+r.width/2:e.x>u/2?e.x-r.width/2:e.x:"Column"===i.drawType&&(e.x=e.x<u/2?e.x-r.width/2:e.x>u/2?e.x+r.width/2:e.x),e.y=i.clipRect.height/2+i.clipRect.y+l*Math.sin(h),e},e.prototype.getLabelLocation=function(e,t,i,n){var r=new Jk(0,0),o="Candle"===t.type&&n>1?e.regions[1]:e.regions[0];"HiloOpenClose"===t.type&&(o=2===n?e.regions[1]:e.regions[2]);var a=t.xAxis,s=t.yAxis,l=t.chart.requireInvertedAxis;if("BoxAndWhisker"===t.type){switch(this.markerHeight=0,n){case 0:r=Tk(e.xValue,e.median,a,s,l);break;case 1:r=Tk(e.xValue,e.maximum,a,s,l);break;case 2:r=Tk(e.xValue,e.minimum,a,s,l);break;case 3:r=Tk(e.xValue,e.upperQuartile,a,s,l);break;case 4:r=Tk(e.xValue,e.lowerQuartile,a,s,l);break;default:r=Tk(e.xValue,e.outliers[n-5],a,s,l),this.markerHeight=t.marker.height/2}l?r.y=e.regions[0].y+e.regions[0].height/2:r.x=e.regions[0].x+e.regions[0].width/2}else r=0===n||1===n?new Jk(e.symbolLocations[0].x,e.symbolLocations[0].y):2!==n&&3!==n||"Candle"!==t.type?l?{x:o.x+o.width/2,y:o.y}:{x:o.x+o.width,y:o.y+o.height/2}:new Jk(e.symbolLocations[1].x,e.symbolLocations[1].y);if(n>1&&"HiloOpenClose"===t.type)if(t.chart.requireInvertedAxis){var u=o.height;r.y=o.y+u/2+2*(2===n?1:-1)}else{var c=o.width;r.x=o.x+c/2+2*(2===n?1:-1)}return r},e.prototype.calculateRectPosition=function(e,t,i,n,r,o,a,s){if("PolarRadar"===r.chart.chartAreaType)return null;var l=this.margin,u=this.inverted?o.width:o.height,c=this.borderWidth+u/2+("Outer"!==n&&r.type.indexOf("Column")>-1&&Math.abs(t.height-o.height)<5?0:5);switch("StackingColumn100"===r.type||"StackingBar100"===r.type?n="Outer"===n?"Top":n:r.type.indexOf("Range")>-1?n="Outer"===n||"Top"===n?n:"Auto":"Waterfall"===r.type&&(n="Auto"===n?"Middle":n),n){case"Bottom":e=this.inverted?i?e+t.width-c-l.left:e-t.width+c+l.right:i?e-t.height+c+l.top:e+t.height-c-l.bottom;break;case"Middle":e=e=this.inverted?i?e+t.width/2:e-t.width/2:i?e-t.height/2:e+t.height/2;break;case"Auto":e=this.calculateRectActualPosition(e,t,i,r,o,a,s);break;default:c+=this.errorHeight,e=this.calculateTopAndOuterPosition(e,t,n,r,a,c,i)}var h=this.inverted?e<t.x||e>t.x+t.width:e<t.y||e>t.y+t.height;this.fontBackground=h?"transparent"===this.fontBackground?this.chartBackground:this.fontBackground:"transparent"===this.fontBackground?s.color||r.interior:this.fontBackground;var d=r.chart.series.length;if("Outer"===n&&r.type.indexOf("Stacking")>-1&&d-1>r.index)for(var p=void 0,f=void 0,m=r.index+1;m<d;m++)if(f=(p=r.chart.series[m]).points[s.index],p.type.indexOf("Stacking")>-1&&-1===p.type.indexOf("100")){this.fontBackground=f&&(f.yValue<0&&s.yValue<0||f.yValue>0&&s.yValue>0)?f?f.color:p.interior:this.fontBackground;break}return e},e.prototype.calculatePathPosition=function(e,t,i,n,r,o){switch(i.type.indexOf("Area")>-1&&"RangeArea"!==i.type&&"SplineRangeArea"!==i.type&&this.yAxisInversed&&"Auto"!==i.marker.dataLabel.position&&(t="Top"===t?"Bottom":"Bottom"===t?"Top":t),this.fontBackground="transparent"===this.fontBackground?this.chartBackground:this.fontBackground,t){case"Top":case"Outer":e=e-this.markerHeight-this.borderWidth-r.height/2-this.margin.bottom-5-this.errorHeight;break;case"Bottom":e=e+this.markerHeight+this.borderWidth+r.height/2+this.margin.top+5+this.errorHeight;break;case"Auto":e=this.calculatePathActualPosition(e,this.markerHeight,i,n,r,o)}return e},e.prototype.isDataLabelShape=function(e){this.isShape="transparent"!==e.color||e.border.width>0,this.borderWidth=e.border.width,this.isShape||(this.margin={left:0,right:0,bottom:0,top:0})},e.prototype.calculateRectActualPosition=function(e,t,i,n,r,o,a){for(var s,l,u=!0,c=0,h=this.chart.dataLabelCollections,d=-1!==n.type.indexOf("Range")||"Hilo"===n.type?2:4;u&&c<d;){var p=this.getPosition(c);n.type.indexOf("Stacking")>-1&&"Outer"===p&&(p="Top",c++),s=this.calculateRectPosition(e,t,i,p,n,r,o,a),u=this.inverted?(l=Ok(new Jk(s,this.locationY),r,this.margin)).x<0||Mk(l,h,n.clipRect)||l.x+l.width>n.clipRect.width:(l=Ok(new Jk(this.locationX,s),r,this.margin)).y<0||Mk(l,h,n.clipRect)||l.y>n.clipRect.height,c++}return s},e.prototype.calculateAlignment=function(e,t,i,n){switch(i){case"Far":t=this.inverted?n?t-e:t+e:n?t+e:t-e;break;case"Near":t=this.inverted?n?t+e:t-e:n?t-e:t+e;break;case"Center":t=t}return t},e.prototype.calculateTopAndOuterPosition=function(e,t,i,n,r,o,a){var s,l=this.margin;switch(n.type){case"RangeColumn":case"RangeArea":case"SplineRangeArea":case"Hilo":s=0===r&&!this.yAxisInversed||1===r&&this.yAxisInversed,e=this.updateLabelLocation(i,e,o,l,t,s);break;case"Candle":s=(0===r||2===r)&&!this.yAxisInversed||(1===r||3===r)&&this.yAxisInversed,e=this.updateLabelLocation(i,e,o,l,t,s,r>1);break;case"HiloOpenClose":r<=1?(s=0===r&&!this.yAxisInversed||1===r&&this.yAxisInversed,e=this.updateLabelLocation(i,e,o,l,t,s)):e=this.yAxisInversed?this.inverted?e-o-l.right:e+o+l.top:this.inverted?e+o+l.left:e-o-l.bottom;break;default:e=a&&"Top"===i||!a&&"Outer"===i?this.inverted?e+o+l.left+this.markerHeight:e-o-l.bottom-this.markerHeight:this.inverted?e-o-l.right-this.markerHeight:e+o+l.top+this.markerHeight}return e},e.prototype.updateLabelLocation=function(e,t,i,n,r,o,a){return void 0===a&&(a=!1),t=this.inverted?o?"Outer"!==e||a?t-i-n.right-this.markerHeight:t+i+n.left+this.markerHeight:"Outer"!==e||a?t-r.width+i+n.left+this.markerHeight:t-r.width-i-n.right-this.markerHeight:o?"Outer"!==e||a?t+i+n.top+this.markerHeight:t-i-n.bottom-this.markerHeight:"Outer"!==e||a?t+r.height-i-n.bottom-this.markerHeight:t+r.height+i+n.top+this.markerHeight},e.prototype.calculatePathActualPosition=function(e,t,i,n,r,o){var a,s,l,u,c,h=i.points,d=n.index,p=h[d].yValue,f=h.length-1>d?h[d+1]:null,m=d>0?h[d-1]:null,g=!0,y=this.chart.dataLabelCollections;if("Bubble"===i.type)a="Top";else if(i.type.indexOf("Step")>-1)a="Top",d&&(a=m&&m.visible&&p>m.yValue===this.yAxisInversed&&p!==m.yValue?"Bottom":"Top");else if("BoxAndWhisker"===i.type)1===o||3===o||o>4?a=i.yAxis.isAxisInverse?"Bottom":"Top":2===o||4===o?a=i.yAxis.isAxisInverse?"Top":"Bottom":(g=!1,a="Middle",s=this.calculatePathPosition(e,a,i,n,r,o));else if(0===d)a=!f||!f.visible||p>f.yValue||p<f.yValue&&this.yAxisInversed?"Top":"Bottom";else if(d===h.length-1)a=!m||!m.visible||p>m.yValue||p<m.yValue&&this.yAxisInversed?"Top":"Bottom";else if(f.visible||m&&m.visible)if(f.visible&&m){var v=(f.yValue-m.yValue)/2,b=v*d+(f.yValue-v*(d+1));a=this.yAxisInversed?b<p?"Bottom":"Top":b<p?"Top":"Bottom"}else a=f.yValue>p||m&&m.yValue>p?"Bottom":"Top";else a="Top";for(u="Bottom"===a,c=["Outer","Top","Bottom","Middle","Auto"].indexOf(a);g&&c<4;)s=this.calculatePathPosition(e,this.getPosition(c),i,n,r,o),g=(l=Ok(new Jk(this.locationX,s),r,this.margin)).y<0||Mk(l,y,i.clipRect)||l.y+l.height>i.clipRect.height,c=u?c-1:c+1,u=!1;return s},e.prototype.doDataLabelAnimation=function(e,t){for(var i,n,r=e.shapeElement.childNodes,o=e.textElement.childNodes,a=e.animation.delay+e.animation.duration,s=e.chart.animated?e.chart.duration:200,l=t?1:o.length,u=0;u<l;u++)n=o[u],t?(t.style.visibility="hidden",vk(t,a,s,"ZoomIn")):(i=new Jk(+n.getAttribute("x")+ +n.getAttribute("width")/2,+n.getAttribute("y")+ +n.getAttribute("height")/2),hk(n,a,s,e,null,i,!0),r[u]&&(n=r[u],i=new Jk(+n.getAttribute("x")+ +n.getAttribute("width")/2,+n.getAttribute("y")+ +n.getAttribute("height")/2),hk(n,a,s,e,null,i,!0)))},e.prototype.getPosition=function(e){return["Outer","Top","Bottom","Middle","Auto"][e]},e.prototype.getModuleName=function(){return"DataLabel"},e.prototype.destroy=function(){},e}(),HP=function(){function e(e){this.chart=e}return e.prototype.enableComplexProperty=function(e){for(var t,i=[],n=[],r=e.xAxis.visibleRange,o=e.yAxis.visibleRange,a=e.points,s=e.clipRect,l=Math.abs(r.delta/s.width),u=Math.abs(o.delta/s.height),c=a[0]&&a[0].x>l?0:l,h=a[0]&&a[0].y>u?0:u,d=0,p=0,f=0,m=a;f<m.length;f++){var g=m[f];g.symbolLocations=[],d=g.xValue?g.xValue:r.min,p=g.yValue?g.yValue:o.min,(Math.abs(c-d)>=l||Math.abs(h-p)>=u)&&(i.push(g),c=d,h=p)}for(var y=0;y<i.length;y++)wb((t=i[y]).x)||""===t.x||"Indicator"===e.category&&(isNaN(t.xValue)||isNaN(t.yValue))||n.push(t);return n},e.prototype.getLineDirection=function(e,t,i,n,r,o){var a="";if(null!=e){var s=r(e.xValue,e.yValue,i.xAxis,i.yAxis,n,i),l=r(t.xValue,t.yValue,i.xAxis,i.yAxis,n,i);a=o+" "+s.x+" "+s.y+" L "+l.x+" "+l.y+" "}return a},e.prototype.appendLinePath=function(e,t,i){var n=xk(e.id),r=t.chart,o=n?n.getAttribute("d"):null,a=t.chart.renderer.drawPath(e,new Int32Array([t.clipRect.x,t.clipRect.y]));a&&a.setAttribute("clip-path",i),t.pathElement=a,t.chart.enableCanvas||t.seriesElement.appendChild(a),t.isRectSeries=!1,dk(n,e.d,t.chart.redraw,o,r.duration)},e.prototype.renderMarker=function(e){e.marker&&e.marker.visible&&e.chart.markerRender.render(e)},e.prototype.doProgressiveAnimation=function(e,t){var i,n=new Kx({}),r=e.pathElement,o=r.getAttribute("stroke-dasharray"),a=e.pathElement.getTotalLength();r.style.visibility="hidden",n.animate(r,{duration:t.duration,delay:t.delay,progress:function(e){e.timeStamp>=e.delay&&(r.style.visibility="visible",i=Math.abs(Math.round((e.timeStamp-e.delay)*a/e.duration)),r.setAttribute("stroke-dasharray",i+","+a))},end:function(){r.setAttribute("stroke-dasharray",o),e.chart.trigger("animationComplete",{series:e.chart.isBlazor?{}:e})}})},e.prototype.storePointLocation=function(e,t,i,n){var r=t.marker&&t.marker.width?t.marker.width:0,o=t.marker&&t.marker.height?t.marker.height:0;e.symbolLocations.push(n(e.xValue,e.yValue,t.xAxis,t.yAxis,i,t)),e.regions.push(new Aw(e.symbolLocations[0].x-r,e.symbolLocations[0].y-o,2*r,2*o))},e.prototype.withinYRange=function(e,t){return e.yValue>=t.visibleRange.min&&e.yValue<=t.visibleRange.max},e.prototype.getFirstLastVisiblePoint=function(e){for(var t=null,i=null,n=0,r=e;n<r.length;n++){var o=r[n];null===t&&o.visible&&(t=i=o),i=o.visible?o:i}return{first:t||e[0],last:i||e[e.length-1]}},e.prototype.doLinearAnimation=function(e,t){var i,n=e.clipRectElement.childNodes[0].childNodes[0],r=e.chart.animated?e.chart.duration:t.duration,o=uk("Linear"),a=+n.getAttribute("height"),s=+n.getAttribute("width"),l=+n.getAttribute("x"),u=e.chart.requireInvertedAxis?+n.getAttribute("height")+ +n.getAttribute("y"):+n.getAttribute("y");n.style.visibility="hidden",new Kx({}).animate(n,{duration:r,delay:t.delay,progress:function(t){t.timeStamp>=t.delay&&(n.style.visibility="visible",e.chart.requireInvertedAxis?(i=o(t.timeStamp-t.delay,0,a,t.duration),n.setAttribute("transform","translate("+l+" "+u+") scale(1,"+i/a+") translate("+-l+" "+-u+")")):(i=o(t.timeStamp-t.delay,0,s,t.duration),n.setAttribute("transform","translate("+l+" "+u+") scale("+i/s+", 1) translate("+-l+" "+-u+")")))},end:function(){n.setAttribute("transform","translate(0,0)"),e.chart.trigger("animationComplete",{series:e.chart.isBlazor?{}:e})}})},e}(),GP=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),qP=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return GP(t,e),t.prototype.render=function(e,t,i,n){for(var r,o,a="",s=null,l="M",u=e.chart&&"PolarRadar"===e.chart.chartAreaType,c=e.emptyPointSettings&&"Drop"===e.emptyPointSettings.mode,h=u?ik:Tk,d="TrendLine"===e.category?e.points:this.enableComplexProperty(e),p=0,f=d;p<f.length;p++){var m=f[p];m.regions=[],m.symbolLocations=[],m.visible&&ZS(d[m.index-1],m,d[m.index+1],e)?(a+=this.getLineDirection(s,m,e,n,h,l),l=s?"L":l,s=m,this.storePointLocation(m,e,n,h)):(s=c?s:null,l=c?l:"M")}if(u&&e.isClosed){var g=this.getFirstLastVisiblePoint(d);o=h(g.last.xValue,g.last.yValue,t,i,n,e),r=h(g.first.xValue,g.first.yValue,t,i,n,e),a=a.concat(l+" "+o.x+" "+o.y+" L "+r.x+" "+r.y)}var y="Indicator"===e.category?e.chart.element.id+"_Indicator_"+e.index+"_"+e.name:"TrendLine"===e.category?e.chart.element.id+"_Series_"+e.sourceIndex+"_TrendLine_"+e.index:e.chart.element.id+"_Series_"+(void 0===e.index?e.category:e.index),v=new Dw(y,"none",e.width,e.interior,e.opacity,e.dashArray,a);this.appendLinePath(v,e,""),this.renderMarker(e)},t.prototype.doAnimation=function(e){var t=e.animation;this.doProgressiveAnimation(e,t)},t.prototype.getModuleName=function(){return"LineSeries"},t.prototype.destroy=function(){},t}(HP),ZP=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),XP=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ZP(t,e),t.prototype.calculateDateTimeNiceInterval=function(e,t,i,n,r){void 0===r&&(r=!0);var o,a=new Date(i),s=new Date(n),l=Math.abs((a.getTime()-s.getTime())/864e5);switch(e.actualIntervalType=e.intervalType,e.intervalType){case"Years":o=this.calculateNumericNiceInterval(e,l/365,t);break;case"Quarter":o=this.calculateNumericNiceInterval(e,l/365*4,t);break;case"Months":o=this.calculateNumericNiceInterval(e,l/30,t);break;case"Weeks":o=this.calculateNumericNiceInterval(e,l/7,t);break;case"Days":o=this.calculateNumericNiceInterval(e,l,t);break;case"Hours":o=this.calculateNumericNiceInterval(e,24*l,t);break;case"Minutes":o=this.calculateNumericNiceInterval(e,24*l*60,t);break;case"Seconds":o=this.calculateNumericNiceInterval(e,24*l*60*60,t);break;case"Auto":return(o=this.calculateNumericNiceInterval(e,l/365,t))>=1?(e.actualIntervalType="Years",o):(o=this.calculateNumericNiceInterval(e,l/365*4,t))>=1&&!r?(e.actualIntervalType="Quarter",o):(o=this.calculateNumericNiceInterval(e,l/30,t))>=1?(e.actualIntervalType="Months",o):(o=this.calculateNumericNiceInterval(e,l/7,t))>=1&&!r?(e.actualIntervalType="Weeks",o):(o=this.calculateNumericNiceInterval(e,l,t))>=1?(e.actualIntervalType="Days",o):(o=this.calculateNumericNiceInterval(e,24*l,t))>=1?(e.actualIntervalType="Hours",o):(o=this.calculateNumericNiceInterval(e,24*l*60,t))>=1?(e.actualIntervalType="Minutes",o):(o=this.calculateNumericNiceInterval(e,24*l*60*60,t),e.actualIntervalType="Seconds",o)}return o},t.prototype.getSkeleton=function(e,t,i,n){var r,o=e.actualIntervalType;return e.skeleton?e.skeleton:("Years"===o?r=n?e.isChart?(e.valueType,"y"):"y":e.isChart?"DateTime"===e.valueType&&e.isIntervalInDecimal?"y":"yMMM":"y":"Quarter"===o?r=n?"y":"yMMM":"Months"===o?n?(e.isChart,r="m"):r=e.isChart?"MMMd":"MMM":r="Weeks"===o?n?"m":"MEd":"Days"===o?n?"d":e.isChart?this.getDayFormat(e,t,i):"MMMd":"Hours"===o?n?"t":e.isChart?"DateTime"===e.valueType?"Hm":"EHm":"h":"Minutes"===o?n?"T":e.isChart?"Hms":"hm":n?"T":e.isChart?"Hms":"hms",r)},t.prototype.getMonthFormat=function(e,t,i){return new Date(t).getFullYear()===new Date(i).getFullYear()?e.isIntervalInDecimal?"MMM":"MMM d":"y MMM"},t.prototype.getDayFormat=function(e,t,i){return"DateTime"===e.valueType?new Date(t).getMonth()!==new Date(i).getMonth()?"MMMd":e.isIntervalInDecimal?"d":"Ehm":"yMd"},t.prototype.findCustomFormats=function(e,t,i){var n=e.labelFormat?e.labelFormat:"";return!e.isChart||e.skeleton||"Months"!==e.actualIntervalType||n||(n="DateTime"===e.valueType?this.getMonthFormat(e,t,i):"yMMM"),n},t}(Gw),YP=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),$P=function(e){function t(t){return e.call(this,t)||this}return YP(t,e),t.prototype.calculateRangeAndInterval=function(e,t){this.calculateRange(t),this.getActualRange(t,e),this.applyRangePadding(t,e),this.calculateVisibleLabels(t)},t.prototype.getActualRange=function(e,t){this.initializeDoubleRange(e),e.actualRange={},e.interval?e.actualRange.interval=Math.ceil(e.interval):e.actualRange.interval=Math.max(1,Math.floor(e.doubleRange.delta/yk(t,e))),e.actualRange.min=e.doubleRange.start,e.actualRange.max=e.doubleRange.end,e.actualRange.delta=e.doubleRange.delta},t.prototype.applyRangePadding=function(e,t){var i="BetweenTicks"===e.labelPlacement&&"PolarRadar"!==this.chart.chartAreaType?.5:0;i>0?(e.actualRange.min-=i,e.actualRange.max+=i):e.actualRange.max+=e.actualRange.max?0:.5,e.doubleRange=new Hw(e.actualRange.min,e.actualRange.max),e.actualRange.delta=e.doubleRange.delta,this.calculateVisibleRange(t,e)},t.prototype.calculateVisibleLabels=function(e){e.visibleLabels=[];var t,i,n=Math.ceil(e.visibleRange.min);for((e.zoomFactor<1||e.zoomPosition>0)&&(n=e.visibleRange.min-e.visibleRange.min%e.visibleRange.interval),e.startLabel=e.labels[Math.round(e.visibleRange.min)],e.endLabel=e.labels[Math.floor(e.visibleRange.max)];n<=e.visibleRange.max;n+=e.visibleRange.interval)t=_b({},yb("properties",e.labelStyle),null,!0),GS(n,e.visibleRange)&&e.labels.length>0&&(i=Math.round(n),fk(this.chart,i,e.labels[i]?e.labels[i].toString():i.toString(),t,e));e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)},t.prototype.getModuleName=function(){return"Category"},t.prototype.destroy=function(){},t}(XP),KP=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),QP=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return KP(t,e),t.moduleName="series",t.complexTemplate={dataLabelTemplate:"dataLabel.template"},t}(AP),JP=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return KP(t,e),t.propertyName="series",t.moduleName="seriesCollection",t}(AP);function eM(){var t=jo(),i=t.isOpen,n=t.onToggle,r=ry(),o=(0,e.useContext)(wy);return(0,Lo.jsxs)(Ur,{children:[(0,Lo.jsxs)($r,{bg:Ve("white","gray.800"),color:Ve("gray.600","white"),minH:"60px",py:{base:2},px:{base:4},borderBottom:1,borderStyle:"solid",borderColor:Ve("gray.200","gray.900"),align:"center",children:[(0,Lo.jsx)($r,{flex:{base:1,md:"auto"},ml:{base:-2},display:{base:"flex",md:"none"},children:(0,Lo.jsx)(Ca,{onClick:n,icon:i?(0,Lo.jsx)(Fg,{w:3,h:3}):(0,Lo.jsx)(Ng,{w:5,h:5}),variant:"ghost","aria-label":"Toggle Navigation"})}),(0,Lo.jsxs)($r,{flex:{base:1},justify:{base:"center",md:"start"},children:[(0,Lo.jsx)(wa,{textAlign:Da({base:"center",md:"left"}),fontFamily:"Poppins",fontSize:"xl",colorScheme:"transparent",textColor:"gray.800",onClick:function(){r("/")},children:"Home"}),(0,Lo.jsx)($r,{display:{base:"none",md:"flex"},ml:10,alignItems:"center",children:(0,Lo.jsx)(oM,{})})]}),(0,Lo.jsx)(uo,{flex:{base:1,md:0},justify:"flex-end",direction:"row",spacing:6,children:(0,Lo.jsx)(wa,{display:{base:"none",md:"inline-flex"},fontSize:"sm",fontWeight:400,fontFamily:"Poppins",color:"white",bg:"pink.400",onClick:function(){o.value&&localStorage.clear(),r("/login")},_hover:{bg:"pink.300"},children:o.value?"Log Out":"Log In"})})]}),(0,Lo.jsx)(Df,{in:i,animateOpacity:!0,children:(0,Lo.jsx)(sM,{})})]})}var tM,iM,nM,rM,oM=function(){var e=Ve("gray.600","gray.200"),t=Ve("gray.800","white"),i=Ve("white","gray.800"),n=ry();return(0,Lo.jsx)(uo,{direction:"row",spacing:8,children:uM.map((function(r){return(0,Lo.jsx)(Ur,{children:(0,Lo.jsxs)(Lg,{trigger:"hover",placement:"bottom-start",children:[(0,Lo.jsx)(Og,{children:(0,Lo.jsx)(io,{p:2,onClick:function(){n(r.href)},fontSize:"md",fontWeight:375,fontFamily:"Poppins",color:e,_hover:{textDecoration:"none",color:t},children:r.label})}),r.children&&(0,Lo.jsx)(Rg,{border:0,boxShadow:"xl",bg:i,p:4,rounded:"xl",minW:"sm",children:(0,Lo.jsx)(uo,{children:r.children.map((function(e){return(0,Lo.jsx)(aM,aa({},e),e.label)}))})})]})},r.label)}))})},aM=function(e){var t=e.label,i=e.href,n=e.subLabel,r=ry();return(0,Lo.jsx)(io,{onClick:function(){r(i)},role:"group",display:"block",p:2,rounded:"md",_hover:{bg:Ve("pink.50","gray.900")},children:(0,Lo.jsxs)(uo,{direction:"row",align:"center",children:[(0,Lo.jsxs)(Ur,{children:[(0,Lo.jsx)(fo,{transition:"all .3s ease",_groupHover:{color:"pink.400"},fontWeight:500,children:t}),(0,Lo.jsx)(fo,{fontSize:"sm",children:n})]}),(0,Lo.jsx)($r,{transition:"all .3s ease",transform:"translateX(-10px)",opacity:0,_groupHover:{opacity:"100%",transform:"translateX(0)"},justify:"flex-end",align:"center",flex:1,children:(0,Lo.jsx)(Br,{color:"pink.400",w:5,h:5,as:zg})})]})})},sM=function(){return(0,Lo.jsx)(uo,{bg:Ve("white","gray.800"),p:4,display:{md:"none"},children:uM.map((function(e){return(0,Lo.jsx)(lM,aa({},e),e.label)}))})},lM=function(e){var t=e.label,i=e.children,n=e.href,r=jo(),o=r.isOpen,a=r.onToggle;return(0,Lo.jsxs)(uo,{spacing:4,onClick:i&&a,children:[(0,Lo.jsxs)($r,{py:2,as:io,href:null!==n&&void 0!==n?n:"#",justify:"space-between",align:"center",_hover:{textDecoration:"none"},children:[(0,Lo.jsx)(fo,{fontWeight:600,color:Ve("gray.600","gray.200"),children:t}),i&&(0,Lo.jsx)(Br,{as:Bg,transition:"all .25s ease-in-out",transform:o?"rotate(180deg)":"",w:6,h:6})]}),(0,Lo.jsx)(Df,{in:o,animateOpacity:!0,style:{marginTop:"0!important"},children:(0,Lo.jsx)(uo,{mt:2,pl:4,borderLeft:1,borderStyle:"solid",borderColor:Ve("gray.200","gray.700"),align:"start",children:i&&i.map((function(e){return(0,Lo.jsx)(io,{py:2,href:e.href,children:e.label},e.label)}))})})]})},uM=[{label:"Research & Innovations",href:"/researchpublication/0",children:[{label:"Publications",href:"/researchpublication/0"},{label:"Grants",href:"/researchpublication/1"},{label:"Research Projects",href:"/researchpublication/2"},{label:"Patents",href:"/researchpublication/3"}]},{label:"Student Corner",children:[{label:"Curricular",href:"/curr"},{label:"Student Clubs",href:"/card"}]}],cM=function(){var t=(0,e.useContext)(wy);return(0,Lo.jsxs)(Lo.Fragment,{children:[t.value?(0,Lo.jsx)(Sy,{}):(0,Lo.jsx)(eM,{}),(0,Lo.jsx)(hM,{children:(0,Lo.jsxs)("div",{style:{backgroundImage:"url(".concat("/bg1.png",")"),backgroundSize:"contain",backgroundPositionX:"center",backgroundRepeat:"no-repeat",width:.957*window.screen.width},children:[(0,Lo.jsx)(Ur,{height:String(window.screen.height/20)}),(0,Lo.jsx)(Wr,{children:(0,Lo.jsx)(ia,{src:"/logo512.png",style:{width:window.screen.width/7.5},borderRadius:"50%"})}),(0,Lo.jsxs)(dM,{children:[(0,Lo.jsx)("h1",{style:{margin:0,marginBottom:20,fontSize:60,color:"white",fontWeight:"bold"},children:" School of Computer Engineering & Technology "}),(0,Lo.jsx)(pM,{style:{color:"white"},children:(0,Lo.jsx)("p",{})})]}),(0,Lo.jsxs)(fM,{children:[(0,Lo.jsxs)("div",{className:"row1-container",children:[(0,Lo.jsxs)("div",{className:"box blue",style:{background:"white"},children:[(0,Lo.jsx)("h2",{style:{fontWeight:"bold",fontSize:35},children:"3154"}),(0,Lo.jsx)("p",{color:"black",children:"Research Paper citations in Journals"}),(0,Lo.jsx)("img",{src:"https://assets.codepen.io/2301174/icon-calculator.svg",alt:""})]}),(0,Lo.jsxs)("div",{className:"box orange",style:{background:"white"},children:[(0,Lo.jsx)("h2",{style:{fontWeight:"bold",fontSize:35},children:"202"}),(0,Lo.jsx)("p",{children:"Research Paper citations in Books"}),(0,Lo.jsx)("img",{src:"https://assets.codepen.io/2301174/icon-karma.svg",alt:""})]}),(0,Lo.jsxs)("div",{className:"box cyan",style:{background:"white"},children:[(0,Lo.jsx)("h2",{style:{fontWeight:"bold",fontSize:35},children:"2629"}),(0,Lo.jsx)("p",{children:"Research Paper citations in Conference "}),(0,Lo.jsx)("img",{src:"https://assets.codepen.io/2301174/icon-supervisor.svg",alt:""})]})]}),(0,Lo.jsxs)("div",{className:"row2-container",children:[" "," "," "," "," "," "]})]}),(0,Lo.jsx)(Wr,{children:(0,Lo.jsx)(Ur,{children:(0,Lo.jsxs)(RP,{palettes:["#035ff0"],border:{width:2,color:"#000000"},title:"Total Citations by type",subTitle:"Citations since 2017",chartArea:{background:"skyblue",width:"90%"},primaryXAxis:{valueType:"Category"},width:String(window.screen.width/2),height:String(window.screen.height/2),children:[(0,Lo.jsx)(MP,{services:[zP,FP,UP,WP,qP,$P]}),(0,Lo.jsx)(JP,{children:(0,Lo.jsx)(QP,{dataSource:mM,xName:"CitationType",animation:{enable:!0,duration:1200,delay:100},yName:"Citations",type:"Column",name:"Citations",marker:{dataLabel:{visible:!0}}})})]})})}),(0,Lo.jsx)(Ur,{p:"50",children:(0,Lo.jsx)(Wr,{children:(0,Lo.jsxs)(co,{spacing:"30",children:[(0,Lo.jsx)(Ur,{children:(0,Lo.jsxs)(RP,{palettes:["#000000"],border:{width:2,color:"#000000"},chartArea:{background:"skyblue",width:"90%"},title:"Journal Citations",subTitle:"Citations since 2017",primaryXAxis:{valueType:"Category"},width:String(window.screen.width/3.5),height:String(2*window.screen.height/5),children:[(0,Lo.jsx)(MP,{services:[zP,FP,UP,WP,qP,$P]}),(0,Lo.jsx)(JP,{children:(0,Lo.jsx)(QP,{dataSource:gM,xName:"Year",yName:"Citations",animation:{enable:!0,duration:1200,delay:100},type:"Line",name:"Citations",marker:{visible:!0,dataLabel:{visible:!0}}})})]})}),(0,Lo.jsx)(Ur,{children:(0,Lo.jsxs)(RP,{palettes:["#000000"],border:{width:2,color:"#000000"},chartArea:{background:"skyblue",width:"90%"},title:"Book Citations",subTitle:"Citations since 2017",primaryXAxis:{valueType:"Category"},width:String(window.screen.width/3.5),height:String(2*window.screen.height/5),children:[(0,Lo.jsx)(MP,{services:[zP,FP,UP,WP,qP,$P]}),(0,Lo.jsx)(JP,{children:(0,Lo.jsx)(QP,{dataSource:yM,xName:"Year",yName:"Citations",animation:{enable:!0,duration:1200,delay:100},type:"Line",name:"Citations",marker:{visible:!0,dataLabel:{visible:!0}}})})]})}),(0,Lo.jsx)(Ur,{children:(0,Lo.jsxs)(RP,{palettes:["#000000"],border:{width:2,color:"#000000"},chartArea:{background:"skyblue",width:"90%"},title:"Conference Citations",subTitle:"Citations since 2017",primaryXAxis:{valueType:"Category"},width:String(window.screen.width/3.5),height:String(2*window.screen.height/5),children:[(0,Lo.jsx)(MP,{services:[zP,FP,UP,WP,qP,$P]}),(0,Lo.jsx)(JP,{children:(0,Lo.jsx)(QP,{dataSource:vM,xName:"Year",yName:"Citations",animation:{enable:!0,duration:1200,delay:100},type:"Line",name:"Citations",marker:{visible:!0,dataLabel:{visible:!0}}})})]})})]})})})]})}),(0,Lo.jsx)(Ny,{})]})},hM=pb.div(tM||(tM=Vy(["\n  width: 100%;\n  background: white;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  padding-top: 2vh;\n  height: auto;\n  overflow: auto;\n\n  @media only screen and (max-width: 968px) {\n    height: fit-content;\n  }\n"]))),dM=pb.div(iM||(iM=Vy(["\n  width: 100%;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 15px;\n\n  h1 {\n    color: black;\n    font-size: 4em;\n    margin: 20px 0;\n  }\n"]))),pM=pb.div(nM||(nM=Vy(["\n  width: 70%;\n  text-align: center;\n\n  p {\n    padding: 0;\n    margin: 0;\n    font-size: 1em;\n  }\n"]))),fM=pb.div(rM||(rM=Vy(["\n  margin: 5px auto;\n"]))),mM=[{CitationType:"Books",Citations:202},{CitationType:"Conferences",Citations:2629},{CitationType:"Journal",Citations:3154}],gM=[{Year:"2017",Citations:"418"},{Year:"2018",Citations:"565"},{Year:"2019",Citations:"636"},{Year:"2020",Citations:"700"},{Year:"2021",Citations:"835"}],yM=[{Year:"2017",Citations:"10"},{Year:"2018",Citations:"23"},{Year:"2019",Citations:"32"},{Year:"2020",Citations:"58"},{Year:"2021",Citations:"79"}],vM=[{Year:"2017",Citations:"311"},{Year:"2018",Citations:"449"},{Year:"2019",Citations:"555"},{Year:"2020",Citations:"633"},{Year:"2021",Citations:"681"}];function bM(){return bM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},bM.apply(this,arguments)}function xM(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}var _M=nr({strict:!1,name:"FormControlContext"}),wM=(_M[0],_M[1]);var SM=["isDisabled","isInvalid","isReadOnly","isRequired"],kM=["id","disabled","readOnly","required","isRequired","isInvalid","isReadOnly","isDisabled","onFocus","onBlur"];function CM(e){var t=function(e){var t,i,n,r=wM(),o=e.id,a=e.disabled,s=e.readOnly,l=e.required,u=e.isRequired,c=e.isInvalid,h=e.isReadOnly,d=e.isDisabled,p=e.onFocus,f=e.onBlur,m=xM(e,kM),g=e["aria-describedby"]?[e["aria-describedby"]]:[];null!=r&&r.hasFeedbackText&&null!=r&&r.isInvalid&&g.push(r.feedbackId);null!=r&&r.hasHelpText&&g.push(r.helpTextId);return bM({},m,{"aria-describedby":g.join(" ")||void 0,id:null!=o?o:null==r?void 0:r.id,isDisabled:null!=(t=null!=a?a:d)?t:null==r?void 0:r.isDisabled,isReadOnly:null!=(i=null!=s?s:h)?i:null==r?void 0:r.isReadOnly,isRequired:null!=(n=null!=l?l:u)?n:null==r?void 0:r.isRequired,isInvalid:null!=c?c:null==r?void 0:r.isInvalid,onFocus:te(null==r?void 0:r.onFocus,p),onBlur:te(null==r?void 0:r.onBlur,f)})}(e),i=t.isDisabled,n=t.isInvalid,r=t.isReadOnly,o=t.isRequired;return bM({},xM(t,SM),{disabled:i,readOnly:r,required:o,"aria-invalid":N(n),"aria-required":N(o),"aria-readonly":N(r)})}function TM(){return TM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},TM.apply(this,arguments)}var EM=Mr((function(t,i){var n=Rr("Input",t),r=CM(_r(t)),o=j("chakra-input",t.className);return e.createElement(Pr.input,TM({},r,{__css:n.field,ref:i,className:o}))}));function AM(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}EM.id="Input";var PM=["placement"],MM={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},LM=Pr("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),OM=Mr((function(t,i){var n,r=t.placement,o=void 0===r?"left":r,a=AM(t,PM),s=null!=(n=MM[o])?n:{},l=br();return e.createElement(LM,TM({ref:i},a,{__css:TM({},l.addon,s)}))}));var RM=Mr((function(t,i){return e.createElement(OM,TM({ref:i,placement:"left"},t,{className:j("chakra-input__left-addon",t.className)}))}));RM.id="InputLeftAddon";var IM=Mr((function(t,i){return e.createElement(OM,TM({ref:i,placement:"right"},t,{className:j("chakra-input__right-addon",t.className)}))}));IM.id="InputRightAddon";var DM=["placement"],zM=["className"],BM=["className"],FM=Pr("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),NM=Mr((function(t,i){var n,r,o,a=t.placement,s=void 0===a?"left":a,l=AM(t,DM),u=br().field,c=((o={})["left"===s?"insetStart":"insetEnd"]="0",o.width=null!=(n=null==u?void 0:u.height)?n:null==u?void 0:u.h,o.height=null!=(r=null==u?void 0:u.height)?r:null==u?void 0:u.h,o.fontSize=null==u?void 0:u.fontSize,o);return e.createElement(FM,TM({ref:i,__css:c},l))}));NM.id="InputElement";var jM=Mr((function(t,i){var n=t.className,r=AM(t,zM),o=j("chakra-input__left-element",n);return e.createElement(NM,TM({ref:i,placement:"left",className:o},r))}));jM.id="InputLeftElement";var VM=Mr((function(t,i){var n=t.className,r=AM(t,BM),o=j("chakra-input__right-element",n);return e.createElement(NM,TM({ref:i,placement:"right",className:o},r))}));VM.id="InputRightElement";var UM=i(4569),WM=i.n(UM);function HM(t){var i=localStorage.getItem("token"),n="https://identitytoolkit.googleapis.com/v1/accounts:lookup?key=AIzaSyD_IpvEOmupo-tfIcWtkJ7nQSeLfuqiiwQ",r=(0,e.useContext)(wy);(0,e.useEffect)((function(){WM().post(n,{idToken:i}).then((function(e){r.setter(!0),t(e.data.users[0].localId)})).catch((function(e){r.setter(!1),console.log("Not Logged In")}))}),[n])}var GM=function(){var t=o((0,e.useState)(""),2),i=t[0],n=t[1],r=o((0,e.useState)(""),2),a=r[0],s=r[1],l=o((0,e.useState)(null),2),u=l[0],c=l[1],h=ry(),d=(0,e.useContext)(wy);HM(c),(0,e.useEffect)((function(){console.log("uid is",u)}),[u]);var p={backgroundImage:"url(".concat("/banner.png",")"),backgroundRepeat:"no-repeat",position:"fixed",height:"100%",width:"100%"};return(0,Lo.jsxs)("div",{style:p,children:[(0,Lo.jsx)(eM,{}),u?h("/about"):void 0,(0,Lo.jsx)(Gr,{margin:"auto",children:(0,Lo.jsx)(Ur,{margin:"150px auto 100px",padding:"35px",bg:"white",height:"360px",width:"400px",borderRadius:"10px",colorScheme:"teal",px:"5",children:(0,Lo.jsxs)(uo,{spacing:6,padding:"15px",children:[(0,Lo.jsx)(Wr,{children:(0,Lo.jsx)(Dg,{w:70,h:70})}),(0,Lo.jsx)(EM,{size:"md",placeholder:"Email",type:"email",onChange:function(e){return n(e.target.value)}}),(0,Lo.jsx)(EM,{size:"md",placeholder:"Password",type:"password",onChange:function(e){return s(e.target.value)}}),(0,Lo.jsx)(wa,{colorScheme:"blue",onClick:function(){console.log(function(e){var t={email:e.email,password:e.password,returnSecureToken:!0};WM().post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyD_IpvEOmupo-tfIcWtkJ7nQSeLfuqiiwQ",t).then((function(e){var t=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.idToken),localStorage.setItem("expirationDate",t),window.location.reload(),console.log("LOGGED IN")})).catch((function(e){console.log(e.response.data.error.message);var t=e.response.data.error.message;t=t.replace("_"," "),alert(t)}))}({email:i,password:a,setter:d.setter})),console.log(HM(c))},children:"Log In"})]})})}),(0,Lo.jsx)(Ur,{w:"100%",p:4,position:"fixed",bottom:"0",color:"white",overflowX:"hidden",textAlign:"center",bgColor:"rgba(66, 153, 225)",children:"System-SCET@MITWPU"})]})};var qM=function(t){var i=(0,e.useContext)(wy),n=ry();return console.log(i),(0,e.useEffect)((function(){i.value||n("/login")}),[i.value]),(0,Lo.jsxs)(Lo.Fragment,{children:[(0,Lo.jsx)(Sy,{}),(0,Lo.jsxs)(uo,{direction:["column","row"],spacing:"100px",padding:"80px",marginLeft:"150px",children:[(0,Lo.jsxs)(Ur,{w:"300px",alignItems:"center",boxShadow:"md",bg:"gray.200",overflow:"hidden",rounded:"20px",padding:"1px",height:"420px",children:[(0,Lo.jsx)(ia,{src:"./landscape-logo.jpg"}),(0,Lo.jsx)(Ur,{padding:"5px",paddingTop:"20px",display:"inline-block",alignItems:"center",marginLeft:"13px"}),(0,Lo.jsx)(fo,{fontFamily:"initial",fontWeight:"semibold",textAlign:"center",paddingTop:"20px",fontSize:"20px",textColor:"black",children:"MOM of BOS - 03/12/21"}),(0,Lo.jsx)(fo,{isTruncated:!0,padding:"10px",textColor:"gray",children:"Submission of BOS meeting - SCET held on 03.12.21 to the Registrar"}),(0,Lo.jsx)(wa,{colorScheme:"pink",variant:"outline",width:"90px",onClick:function(){return window.open("https://drive.google.com/file/d/1fI9Siljvzjf4UHXprK-w0qjxJ-oH2lw7/view")},padding:"2px",height:"30px",fontSize:"12px",marginLeft:"90px",marginTop:"10px",_hover:{bg:"white",outline:"none",variant:"solid",transform:"translateY(-5px)",transition:"0.5s"},children:"READ MORE"})]}),(0,Lo.jsxs)(Ur,{w:"300px",alignItems:"center",boxShadow:"md",bg:"gray.200",overflow:"hidden",rounded:"20px",padding:"1px",height:"420px",children:[(0,Lo.jsx)(ia,{src:"/landscape-logo.jpg"}),(0,Lo.jsx)(Ur,{padding:"5px",paddingTop:"20px",display:"inline-block",alignItems:"center",marginLeft:"13px"}),(0,Lo.jsx)(fo,{fontFamily:"initial",fontWeight:"semibold",textAlign:"center",paddingTop:"20px",fontSize:"20px",textColor:"black",children:"Board Of Studies in Engineering"}),(0,Lo.jsxs)(fo,{isTruncated:!0,padding:"10px",textColor:"gray",children:["Day of Date - Tuesday, 28/01/2020 ",(0,Lo.jsx)("br",{})," Time - 2pm onwards ",(0,Lo.jsx)("br",{})," ","Venue - Amdocs conference"]}),(0,Lo.jsx)(wa,{colorScheme:"pink",variant:"outline",width:"90px",padding:"2px",height:"30px",onClick:function(){return window.open("https://drive.google.com/file/d/1EY1OS5PT1P5-9N6D0tjUH1-MOKG1-sJB/view")},fontSize:"12px",marginLeft:"90px",marginTop:"10px",_hover:{bg:"white",outline:"none",variant:"solid",transform:"translateY(-5px)",transition:"0.5s"},children:"READ MORE"})]}),(0,Lo.jsxs)(Ur,{w:"300px",alignItems:"center",boxShadow:"md",bg:"gray.200",overflow:"hidden",rounded:"20px",padding:"1px",height:"420px",children:[(0,Lo.jsx)(ia,{src:"./landscape-logo.jpg"}),(0,Lo.jsx)(Ur,{padding:"5px",paddingTop:"20px",display:"inline-block",alignItems:"center",marginLeft:"13px"}),(0,Lo.jsx)(fo,{fontFamily:"initial",fontWeight:"semibold",textAlign:"center",paddingTop:"20px",fontSize:"20px",textColor:"black",children:"Credit Hour Calculation"}),(0,Lo.jsx)(fo,{isTruncated:!0,padding:"10px",textColor:"gray",children:"Trimester-wise credit division, theory and lab-wise for every subject"}),(0,Lo.jsx)(wa,{colorScheme:"pink",variant:"outline",width:"90px",padding:"2px",height:"30px",fontSize:"12px",marginLeft:"90px",marginTop:"10px",onClick:function(){return window.open("https://docs.google.com/spreadsheets/d/1VHewADL28j9ZEsMJEWwDub-YlymgnIH4/edit#gid=2119904433")},_hover:{bg:"white",outline:"none",variant:"solid",transform:"translateY(-5px)",transition:"0.5s"},children:"READ MORE"})]})]}),(0,Lo.jsx)(Ny,{})]})},ZM=[{name:"First Year",image:"https://images.collegedunia.com/public/college_data/images/appImage/1518500807mitbuilding6.jpg?mode=stretch",summary:"Our comprehensive first year curriculum has a variety of subjects that lay the foundations needed for the upcoming specific 3-year CSE course of the program.",link:"https://drive.google.com/file/d/1XeQkWHlhuLbeScVpVl_sggYCZGZWkovp/view?usp=sharing"},{name:"Second Year",image:"https://images.collegedunia.com/public/college_data/images/appImage/1518500807mitbuilding6.jpg?mode=stretch",summary:"The Second Year curriculum provides subject-wise beginnings and basics of programming languages through subjects like OOPs, DS and more hard-ware based coding .",link:"https://drive.google.com/file/d/1NZBCqMtxIfebPYTAH3r8o_CgvzdvisVY/view?usp=sharing"},{name:"Third Year",image:"https://images.collegedunia.com/public/college_data/images/appImage/1518500807mitbuilding6.jpg?mode=stretch",summary:"The 3rd Year of our CSE program includes core computer science subjects that enables our aspiring engineers to explore their specific fields of interest.",link:"https://drive.google.com/file/d/1htpPCqTaUBTbWcNKbQcvqZFBMd8fOQHI/view?usp=sharing"},{name:"Fourth Year",image:"https://images.collegedunia.com/public/college_data/images/appImage/1518500807mitbuilding6.jpg?mode=stretch",summary:"The Final Year of our 4-year program marks the end of the complete rounding of  our market-ready skilled engineers with their final projects and electives.",link:"https://drive.google.com/file/d/1HEr0TV2cBD1iQAhoM1buxvXRbBD9RMRg/view?usp=sharing"}];var XM=function(){var t=(0,e.useContext)(wy);return console.log(t),(0,Lo.jsxs)(Lo.Fragment,{children:[t.value?(0,Lo.jsx)(Sy,{}):(0,Lo.jsx)(eM,{}),(0,Lo.jsx)(uo,{direction:["column","row"],spacing:"100px",padding:"80px",marginLeft:"30px",children:ZM.map((function(e){return(0,Lo.jsxs)(Ur,{w:"300px",alignItems:"center",boxShadow:"md",bg:"gray.200",overflow:"hidden",rounded:"20px",padding:"1px",height:"400px",children:[(0,Lo.jsx)(ia,{src:e.image}),(0,Lo.jsx)(Ur,{paddingTop:"20px",display:"inline-block",alignItems:"center",marginLeft:"10px",children:(0,Lo.jsx)(fo,{fontFamily:"poppins",fontWeight:"semibold",textAlign:"center",paddingTop:"10px",fontSize:"20px",textColor:"black",children:e.name})}),(0,Lo.jsx)(fo,{padding:"10px",textColor:"gray",children:e.summary}),(0,Lo.jsx)(wa,{onClick:function(){return window.open(e.link)},colorScheme:"pink",variant:"outline",width:"90px",padding:"2px",height:"30px",fontSize:"12px",marginLeft:"50px",marginTop:"10px",_hover:{bg:"white",outline:"none",variant:"solid",transform:"translateY(-5px)",transition:"0.5s"},children:"READ MORE"})]})}))}),(0,Lo.jsx)(Ny,{})]})},YM=function(t){var i=(0,e.useContext)(wy);return(0,Lo.jsxs)(Lo.Fragment,{children:[i.value?(0,Lo.jsx)(Sy,{}):(0,Lo.jsx)(eM,{}),(0,Lo.jsx)(oo,{minChildWidth:"300px",spacing:"200px",children:(0,Lo.jsx)(uo,{direction:["column","row"],spacing:"100px",padding:"80px",marginLeft:"150px",children:t.cards.map((function(e){return(0,Lo.jsxs)(Ur,{w:"300px",alignItems:"center",boxShadow:"md",bg:"gray.200",overflow:"hidden",rounded:"20px",padding:"1px",height:"450px",children:[(0,Lo.jsx)(ia,{src:e.image,width:"300px",height:"200px"}),(0,Lo.jsxs)(Ur,{padding:"5px",paddingTop:"20px",display:"inline-block",alignItems:"center",marginLeft:"13px",children:[(0,Lo.jsxs)(uo,{isInline:!0,marginLeft:"40px",spacing:"20px",children:[(0,Lo.jsx)(Vr,{colorScheme:"pink",variant:"outline",width:"50px",p:1,textAlign:"center",children:"SCET"}),(0,Lo.jsx)(Vr,{colorScheme:"blue",variant:"outline",p:1,textAlign:"center",children:e.department}),(0,Lo.jsx)(Vr,{colorScheme:"blue",variant:"outline",p:1,textAlign:"center",children:e.type})]}),(0,Lo.jsx)(fo,{fontFamily:"initial",fontWeight:"semibold",textAlign:"center",paddingTop:"20px",paddingLeft:"25px",fontSize:"30px",textColor:"black",children:e.name})]}),(0,Lo.jsx)(fo,{isTruncated:!0,padding:"10px",textColor:"gray",marginLeft:"10px",children:e.summary}),(0,Lo.jsx)(Iy,{to:"".concat(e.clubNo),children:(0,Lo.jsx)(wa,{colorScheme:"pink",variant:"outline",width:"90px",padding:"2px",height:"30px",fontSize:"12px",marginLeft:"90px",marginTop:"10px",_hover:{bg:"white",outline:"none",variant:"solid",transform:"translateY(-5px)",transition:"0.5s"},children:"READ MORE"})})]})}))})}),(0,Lo.jsx)(Ny,{})]})};function $M(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var i=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),i&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function KM(e){return Math.min(1,Math.max(0,e))}function QM(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function JM(e){return e<=1?100*Number(e)+"%":e}function eL(e){return 1===e.length?"0"+e:String(e)}function tL(e,t,i){e=$M(e,255),t=$M(t,255),i=$M(i,255);var n=Math.max(e,t,i),r=Math.min(e,t,i),o=0,a=0,s=(n+r)/2;if(n===r)a=0,o=0;else{var l=n-r;switch(a=s>.5?l/(2-n-r):l/(n+r),n){case e:o=(t-i)/l+(t<i?6:0);break;case t:o=(i-e)/l+2;break;case i:o=(e-t)/l+4}o/=6}return{h:o,s:a,l:s}}function iL(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*i*(t-e):i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function nL(e,t,i){e=$M(e,255),t=$M(t,255),i=$M(i,255);var n=Math.max(e,t,i),r=Math.min(e,t,i),o=0,a=n,s=n-r,l=0===n?0:s/n;if(n===r)o=0;else{switch(n){case e:o=(t-i)/s+(t<i?6:0);break;case t:o=(i-e)/s+2;break;case i:o=(e-t)/s+4}o/=6}return{h:o,s:l,v:a}}function rL(e,t,i,n){var r=[eL(Math.round(e).toString(16)),eL(Math.round(t).toString(16)),eL(Math.round(i).toString(16))];return n&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function oL(e){return Math.round(255*parseFloat(e)).toString(16)}function aL(e){return sL(e)/255}function sL(e){return parseInt(e,16)}var lL={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function uL(e){var t={r:0,g:0,b:0},i=1,n=null,r=null,o=null,a=!1,s=!1;return"string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(lL[e])e=lL[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var i=pL.rgb.exec(e);if(i)return{r:i[1],g:i[2],b:i[3]};if(i=pL.rgba.exec(e))return{r:i[1],g:i[2],b:i[3],a:i[4]};if(i=pL.hsl.exec(e))return{h:i[1],s:i[2],l:i[3]};if(i=pL.hsla.exec(e))return{h:i[1],s:i[2],l:i[3],a:i[4]};if(i=pL.hsv.exec(e))return{h:i[1],s:i[2],v:i[3]};if(i=pL.hsva.exec(e))return{h:i[1],s:i[2],v:i[3],a:i[4]};if(i=pL.hex8.exec(e))return{r:sL(i[1]),g:sL(i[2]),b:sL(i[3]),a:aL(i[4]),format:t?"name":"hex8"};if(i=pL.hex6.exec(e))return{r:sL(i[1]),g:sL(i[2]),b:sL(i[3]),format:t?"name":"hex"};if(i=pL.hex4.exec(e))return{r:sL(i[1]+i[1]),g:sL(i[2]+i[2]),b:sL(i[3]+i[3]),a:aL(i[4]+i[4]),format:t?"name":"hex8"};if(i=pL.hex3.exec(e))return{r:sL(i[1]+i[1]),g:sL(i[2]+i[2]),b:sL(i[3]+i[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(fL(e.r)&&fL(e.g)&&fL(e.b)?(t=function(e,t,i){return{r:255*$M(e,255),g:255*$M(t,255),b:255*$M(i,255)}}(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):fL(e.h)&&fL(e.s)&&fL(e.v)?(n=JM(e.s),r=JM(e.v),t=function(e,t,i){e=6*$M(e,360),t=$M(t,100),i=$M(i,100);var n=Math.floor(e),r=e-n,o=i*(1-t),a=i*(1-r*t),s=i*(1-(1-r)*t),l=n%6;return{r:255*[i,a,o,o,s,i][l],g:255*[s,i,i,a,o,o][l],b:255*[o,o,s,i,i,a][l]}}(e.h,n,r),a=!0,s="hsv"):fL(e.h)&&fL(e.s)&&fL(e.l)&&(n=JM(e.s),o=JM(e.l),t=function(e,t,i){var n,r,o;if(e=$M(e,360),t=$M(t,100),i=$M(i,100),0===t)r=i,o=i,n=i;else{var a=i<.5?i*(1+t):i+t-i*t,s=2*i-a;n=iL(s,a,e+1/3),r=iL(s,a,e),o=iL(s,a,e-1/3)}return{r:255*n,g:255*r,b:255*o}}(e.h,n,o),a=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(i=e.a)),i=QM(i),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:i}}var cL="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",hL="[\\s|\\(]+("+cL+")[,|\\s]+("+cL+")[,|\\s]+("+cL+")\\s*\\)?",dL="[\\s|\\(]+("+cL+")[,|\\s]+("+cL+")[,|\\s]+("+cL+")[,|\\s]+("+cL+")\\s*\\)?",pL={CSS_UNIT:new RegExp(cL),rgb:new RegExp("rgb"+hL),rgba:new RegExp("rgba"+dL),hsl:new RegExp("hsl"+hL),hsla:new RegExp("hsla"+dL),hsv:new RegExp("hsv"+hL),hsva:new RegExp("hsva"+dL),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function fL(e){return Boolean(pL.CSS_UNIT.exec(String(e)))}var mL=function(){function e(t,i){var n;if(void 0===t&&(t=""),void 0===i&&(i={}),t instanceof e)return t;"number"===typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var r=uL(t);this.originalInput=t,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(n=i.format)&&void 0!==n?n:r.format,this.gradientType=i.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,i=e.g/255,n=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=QM(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var e=nL(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=nL(this.r,this.g,this.b),t=Math.round(360*e.h),i=Math.round(100*e.s),n=Math.round(100*e.v);return 1===this.a?"hsv("+t+", "+i+"%, "+n+"%)":"hsva("+t+", "+i+"%, "+n+"%, "+this.roundA+")"},e.prototype.toHsl=function(){var e=tL(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=tL(this.r,this.g,this.b),t=Math.round(360*e.h),i=Math.round(100*e.s),n=Math.round(100*e.l);return 1===this.a?"hsl("+t+", "+i+"%, "+n+"%)":"hsla("+t+", "+i+"%, "+n+"%, "+this.roundA+")"},e.prototype.toHex=function(e){return void 0===e&&(e=!1),rL(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,i,n,r){var o=[eL(Math.round(e).toString(16)),eL(Math.round(t).toString(16)),eL(Math.round(i).toString(16)),eL(oL(n))];return r&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),i=Math.round(this.b);return 1===this.a?"rgb("+e+", "+t+", "+i+")":"rgba("+e+", "+t+", "+i+", "+this.roundA+")"},e.prototype.toPercentageRgb=function(){var e=function(e){return Math.round(100*$M(e,255))+"%"};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*$M(e,255))};return 1===this.a?"rgb("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%)":"rgba("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%, "+this.roundA+")"},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+rL(this.r,this.g,this.b,!1),t=0,i=Object.entries(lL);t<i.length;t++){var n=i[t],r=n[0];if(e===n[1])return r}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var i=!1,n=this.a<1&&this.a>=0;return t||!n||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(i=this.toRgbString()),"prgb"===e&&(i=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(i=this.toHexString()),"hex3"===e&&(i=this.toHexString(!0)),"hex4"===e&&(i=this.toHex8String(!0)),"hex8"===e&&(i=this.toHex8String()),"name"===e&&(i=this.toName()),"hsl"===e&&(i=this.toHslString()),"hsv"===e&&(i=this.toHsvString()),i||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var i=this.toHsl();return i.l+=t/100,i.l=KM(i.l),new e(i)},e.prototype.brighten=function(t){void 0===t&&(t=10);var i=this.toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(-t/100*255))),i.g=Math.max(0,Math.min(255,i.g-Math.round(-t/100*255))),i.b=Math.max(0,Math.min(255,i.b-Math.round(-t/100*255))),new e(i)},e.prototype.darken=function(t){void 0===t&&(t=10);var i=this.toHsl();return i.l-=t/100,i.l=KM(i.l),new e(i)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var i=this.toHsl();return i.s-=t/100,i.s=KM(i.s),new e(i)},e.prototype.saturate=function(t){void 0===t&&(t=10);var i=this.toHsl();return i.s+=t/100,i.s=KM(i.s),new e(i)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var i=this.toHsl(),n=(i.h+t)%360;return i.h=n<0?360+n:n,new e(i)},e.prototype.mix=function(t,i){void 0===i&&(i=50);var n=this.toRgb(),r=new e(t).toRgb(),o=i/100;return new e({r:(r.r-n.r)*o+n.r,g:(r.g-n.g)*o+n.g,b:(r.b-n.b)*o+n.b,a:(r.a-n.a)*o+n.a})},e.prototype.analogous=function(t,i){void 0===t&&(t=6),void 0===i&&(i=30);var n=this.toHsl(),r=360/i,o=[this];for(n.h=(n.h-(r*t>>1)+720)%360;--t;)n.h=(n.h+r)%360,o.push(new e(n));return o},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var i=this.toHsv(),n=i.h,r=i.s,o=i.v,a=[],s=1/t;t--;)a.push(new e({h:n,s:r,v:o})),o=(o+s)%1;return a},e.prototype.splitcomplement=function(){var t=this.toHsl(),i=t.h;return[this,new e({h:(i+72)%360,s:t.s,l:t.l}),new e({h:(i+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var i=this.toRgb(),n=new e(t).toRgb();return new e({r:n.r+(i.r-n.r)*i.a,g:n.g+(i.g-n.g)*i.a,b:n.b+(i.b-n.b)*i.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var i=this.toHsl(),n=i.h,r=[this],o=360/t,a=1;a<t;a++)r.push(new e({h:(n+a*o)%360,s:i.s,l:i.l}));return r},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function gL(e){if(void 0===e&&(e={}),void 0!==e.count&&null!==e.count){var t=e.count,i=[];for(e.count=void 0;t>i.length;)e.count=null,e.seed&&(e.seed+=1),i.push(gL(e));return e.count=t,i}var n=function(e,t){var i=vL(function(e){var t=parseInt(e,10);if(!Number.isNaN(t)&&t<360&&t>0)return[t,t];if("string"===typeof e){var i=xL.find((function(t){return t.name===e}));if(i){var n=bL(i);if(n.hueRange)return n.hueRange}var r=new mL(e);if(r.isValid){var o=r.toHsv().h;return[o,o]}}return[0,360]}(e),t);i<0&&(i=360+i);return i}(e.hue,e.seed),r=function(e,t){if("monochrome"===t.hue)return 0;if("random"===t.luminosity)return vL([0,100],t.seed);var i=yL(e).saturationRange,n=i[0],r=i[1];switch(t.luminosity){case"bright":n=55;break;case"dark":n=r-10;break;case"light":r=55}return vL([n,r],t.seed)}(n,e),o=function(e,t,i){var n=function(e,t){for(var i=yL(e).lowerBounds,n=0;n<i.length-1;n++){var r=i[n][0],o=i[n][1],a=i[n+1][0],s=i[n+1][1];if(t>=r&&t<=a){var l=(s-o)/(a-r);return l*t+(o-l*r)}}return 0}(e,t),r=100;switch(i.luminosity){case"dark":r=n+20;break;case"light":n=(r+n)/2;break;case"random":n=0,r=100}return vL([n,r],i.seed)}(n,r,e),a={h:n,s:r,v:o};return void 0!==e.alpha&&(a.a=e.alpha),new mL(a)}function yL(e){e>=334&&e<=360&&(e-=360);for(var t=0,i=xL;t<i.length;t++){var n=bL(i[t]);if(n.hueRange&&e>=n.hueRange[0]&&e<=n.hueRange[1])return n}throw Error("Color not found")}function vL(e,t){if(void 0===t)return Math.floor(e[0]+Math.random()*(e[1]+1-e[0]));var i=e[1]||1,n=e[0]||0,r=(t=(9301*t+49297)%233280)/233280;return Math.floor(n+r*(i-n))}function bL(e){var t=e.lowerBounds[0][0],i=e.lowerBounds[e.lowerBounds.length-1][0],n=e.lowerBounds[e.lowerBounds.length-1][1],r=e.lowerBounds[0][1];return{name:e.name,hueRange:e.hueRange,lowerBounds:e.lowerBounds,saturationRange:[t,i],brightnessRange:[n,r]}}var xL=[{name:"monochrome",hueRange:null,lowerBounds:[[0,0],[100,0]]},{name:"red",hueRange:[-26,18],lowerBounds:[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]},{name:"orange",hueRange:[19,46],lowerBounds:[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]},{name:"yellow",hueRange:[47,62],lowerBounds:[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]},{name:"green",hueRange:[63,178],lowerBounds:[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]},{name:"blue",hueRange:[179,257],lowerBounds:[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]},{name:"purple",hueRange:[258,282],lowerBounds:[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]},{name:"pink",hueRange:[283,334],lowerBounds:[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]}],_L=function(e,t,i){var n=w(e,"colors."+t,t);return new mL(n).isValid?n:i},wL=function(e){return function(t){var i=_L(t,e);return new mL(i).isDark()?"dark":"light"}},SL=function(e,t){return function(i){var n=_L(i,e);return new mL(n).setAlpha(t).toRgbString()}};function kL(e,t){return void 0===e&&(e="1rem"),void 0===t&&(t="rgba(255, 255, 255, 0.15)"),{backgroundImage:"linear-gradient(\n    45deg,\n    "+t+" 25%,\n    transparent 25%,\n    transparent 50%,\n    "+t+" 50%,\n    "+t+" 75%,\n    transparent 75%,\n    transparent\n  )",backgroundSize:e+" "+e}}function CL(e){var t=gL().toHexString();return!e||m(e)?t:e.string&&e.colors?function(e,t){var i=0;if(0===e.length)return t[0];for(var n=0;n<e.length;n+=1)i=e.charCodeAt(n)+((i<<5)-i),i&=i;return i=(i%t.length+t.length)%t.length,t[i]}(e.string,e.colors):e.string&&!e.colors?function(e){var t=0;if(0===e.length)return t.toString();for(var i=0;i<e.length;i+=1)t=e.charCodeAt(i)+((t<<5)-t),t&=t;for(var n="#",r=0;r<3;r+=1){n+=("00"+(t>>8*r&255).toString(16)).substr(-2)}return n}(e.string):e.colors&&!e.string?function(e){return e[Math.floor(Math.random()*e.length)]}(e.colors):t}function TL(e,t){return function(i){return"dark"===i.colorMode?t:e}}function EL(e){var t=e.orientation,i=e.vertical,n=e.horizontal;return t?"vertical"===t?i:n:{}}function AL(){return AL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},AL.apply(this,arguments)}var PL=function(e){return re({condition:!0,message:["[chakra-ui]: createBreakpoints(...) will be deprecated pretty soon","simply pass the breakpoints as an object. Remove the createBreakpoint(..) call"].join("")}),AL({base:"0em"},e)};function ML(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var LL=function(){function e(e){var t=this;this.map={},this.called=!1,this.assert=function(){if(t.called)throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?");t.called=!0},this.parts=function(){t.assert();for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];for(var r=0,o=i;r<o.length;r++){var a=o[r];t.map[a]=t.toPart(a)}return t},this.extend=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];for(var r=0,o=i;r<o.length;r++){var a=o[r];a in t.map||(t.map[a]=t.toPart(a))}return t},this.toPart=function(e){var i="chakra-"+(["container","root"].includes(null!=e?e:"")?[t.name]:[t.name,e]).filter(Boolean).join("__");return{className:i,selector:"."+i,toString:function(){return e}}},this.__type={}}var t,i,n;return t=e,(i=[{key:"selectors",get:function(){return T(Object.entries(this.map).map((function(e){return[e[0],e[1].selector]})))}},{key:"classNames",get:function(){return T(Object.entries(this.map).map((function(e){return[e[0],e[1].className]})))}},{key:"keys",get:function(){return Object.keys(this.map)}}])&&ML(t.prototype,i),n&&ML(t,n),e}();function OL(e){return new LL(e)}function RL(e){return f(e)&&e.reference?e.reference:String(e)}var IL=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return i.map(RL).join(" "+e+" ").replace(/calc/g,"")},DL=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return"calc("+IL.apply(void 0,["+"].concat(t))+")"},zL=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return"calc("+IL.apply(void 0,["-"].concat(t))+")"},BL=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return"calc("+IL.apply(void 0,["*"].concat(t))+")"},FL=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return"calc("+IL.apply(void 0,["/"].concat(t))+")"},NL=function(e){var t=RL(e);return null==t||Number.isNaN(parseFloat(t))?BL(t,-1):String(t).startsWith("-")?String(t).slice(1):"-"+t},jL=Object.assign((function(e){return{add:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return jL(DL.apply(void 0,[e].concat(i)))},subtract:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return jL(zL.apply(void 0,[e].concat(i)))},multiply:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return jL(BL.apply(void 0,[e].concat(i)))},divide:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return jL(FL.apply(void 0,[e].concat(i)))},negate:function(){return jL(NL(e))},toString:function(){return e.toString()}}}),{add:DL,subtract:zL,multiply:BL,divide:FL,negate:NL});function VL(e){var t=function(e,t){return void 0===t&&(t="-"),e.replace(/\s+/g,t)}(e.toString());return t.includes("\\.")?e:function(e){return!Number.isInteger(parseFloat(e.toString()))}(e)?t.replace(".","\\."):e}function UL(e,t){return"var("+VL(e)+(t?", "+t:"")+")"}function WL(e,t){return void 0===t&&(t=""),"--"+function(e,t){return void 0===t&&(t=""),[t,VL(e)].filter(Boolean).join("-")}(e,t)}function HL(e,t){var i=WL(e,null==t?void 0:t.prefix);return{variable:i,reference:UL(i,GL(null==t?void 0:t.fallback))}}function GL(e){return"string"===typeof e?e:null==e?void 0:e.reference}var qL=function(t){var i,n=ay().clubNo,r=t.clubDetails.filter((function(e){return e.clubNo==n})),o=(PL({sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"}),(0,e.useContext)(wy));return(0,Lo.jsxs)(Lo.Fragment,{children:[o.value?(0,Lo.jsx)(Sy,{}):(0,Lo.jsx)(eM,{}),(0,Lo.jsxs)(Ur,{height:"1000px",justifyItems:"center",overflow:"hidden",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",children:[(0,Lo.jsx)(Ur,(i={height:{base:"100%",md:"50%",xl:"25%"},fontSize:["sm","md","lg","xl"],backgroundColor:"blue.400"},ra(i,"height","80px"),ra(i,"overflow","hidden"),ra(i,"children",(0,Lo.jsx)(fo,{fontFamily:"poppins",fontSize:"xxx-large",textAlign:"center",padding:"20px",paddingTop:"4px",textColor:"whiteAlpha.900",letterSpacing:"4px",justify:"center",textShadow:"2xl",children:"STUDENT CLUBS"})),i)),(0,Lo.jsx)(Ur,{w:"500px",h:"300px",marginTop:"50px",marginLeft:"25rem",children:(0,Lo.jsx)(ia,{src:r[0].image,marginBottom:"20px",borderRadius:"50%",height:"300px"})}),(0,Lo.jsx)(Ur,{children:(0,Lo.jsx)(fo,{fontFamily:"poppins",fontSize:"xxx-large",textAlign:"center",paddingTop:"0px",letterSpacing:"4px",justify:"center",textShadow:"2xl",padding:"30px",borderBottom:"1px",children:r[0].name})}),(0,Lo.jsxs)(Ur,{marginTop:"0px",padding:"40px",textAlign:"center",paddingBottom:"0px",children:[(0,Lo.jsx)(fo,{children:r[0].summary}),(0,Lo.jsxs)(Ur,{marginTop:"50px",color:"whiteAlpha.800",textShadow:"md",children:[(0,Lo.jsx)(wa,{marginRight:"40px",backgroundColor:"blue.500",variant:"outline",colorScheme:"blue",textColor:"whiteAlpha.800",paddingRight:"40px",paddingLeft:"40px",onClick:function(){return window.open(r[0].events)},_hover:{cursor:"pointer",color:"black",border:"none",transition:"0.5s",background:"pink.500",transform:"translatey(-10px)"},children:"EVENTS"}),(0,Lo.jsx)(wa,{backgroundColor:"blue.500",variant:"outline",colorScheme:"green",onClick:function(){return window.open(r[0].achievements)},_hover:{cursor:"pointer",color:"black",border:"none",transition:"0.5s",background:"pink.500",transform:"translatey(-10px)"},textColor:"whiteAlpha.800",children:"ACHIEVEMENTS"})]})]})]}),(0,Lo.jsx)(Ny,{})]})};function ZL(){return ZL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ZL.apply(this,arguments)}var XL=["ref","isDisabled","isFocusable","clickOnEnter","clickOnSpace","onMouseDown","onMouseUp","onClick","onKeyDown","onKeyUp","tabIndex","onMouseOver","onMouseLeave"];function YL(e){var t=e.target,i=t.tagName,n=t.isContentEditable;return"INPUT"!==i&&"TEXTAREA"!==i&&!0!==n}function $L(t){void 0===t&&(t={});var i=t,n=i.ref,r=i.isDisabled,o=i.isFocusable,a=i.clickOnEnter,s=void 0===a||a,l=i.clickOnSpace,u=void 0===l||l,c=i.onMouseDown,h=i.onMouseUp,d=i.onClick,p=i.onKeyDown,f=i.onKeyUp,m=i.tabIndex,g=i.onMouseOver,y=i.onMouseLeave,v=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(i,XL),b=e.useState(!0),x=b[0],_=b[1],w=e.useState(!1),S=w[0],k=w[1],C=function(){var t=e.useRef(new Map),i=t.current,n=e.useCallback((function(e,i,n,r){t.current.set(n,{type:i,el:e,options:r}),e.addEventListener(i,n,r)}),[]),r=e.useCallback((function(e,i,n,r){e.removeEventListener(i,n,r),t.current.delete(n)}),[]);return e.useEffect((function(){return function(){i.forEach((function(e,t){r(e.el,e.type,t,e.options)}))}}),[r,i]),{add:n,remove:r}}(),T=x?m:m||0,E=r&&!o,A=e.useCallback((function(e){if(r)return e.stopPropagation(),void e.preventDefault();e.currentTarget.focus(),null==d||d(e)}),[r,d]),P=e.useCallback((function(e){S&&YL(e)&&(e.preventDefault(),e.stopPropagation(),k(!1),C.remove(document,"keyup",P,!1))}),[S,C]),M=e.useCallback((function(e){if(null==p||p(e),!(r||e.defaultPrevented||e.metaKey)&&YL(e.nativeEvent)&&!x){var t=s&&"Enter"===e.key;if(u&&" "===e.key&&(e.preventDefault(),k(!0)),t)e.preventDefault(),e.currentTarget.click();C.add(document,"keyup",P,!1)}}),[r,x,p,s,u,C,P]),L=e.useCallback((function(e){(null==f||f(e),r||e.defaultPrevented||e.metaKey)||YL(e.nativeEvent)&&!x&&u&&" "===e.key&&(e.preventDefault(),k(!1),e.currentTarget.click())}),[u,x,r,f]),O=e.useCallback((function(e){0===e.button&&(k(!1),C.remove(document,"mouseup",O,!1))}),[C]),R=e.useCallback((function(e){if(!H(e)){if(r)return e.stopPropagation(),void e.preventDefault();x||k(!0),e.currentTarget.focus({preventScroll:!0}),C.add(document,"mouseup",O,!1),null==c||c(e)}}),[r,x,c,C,O]),I=e.useCallback((function(e){H(e)||(x||k(!1),null==h||h(e))}),[h,x]),D=e.useCallback((function(e){r?e.preventDefault():null==g||g(e)}),[r,g]),z=e.useCallback((function(e){S&&(e.preventDefault(),k(!1)),null==y||y(e)}),[S,y]),B=ir(n,(function(e){e&&"BUTTON"!==e.tagName&&_(!1)}));return ZL({},v,x?{ref:B,type:"button","aria-disabled":E?void 0:r,disabled:E,onClick:A,onMouseDown:c,onMouseUp:h,onKeyUp:f,onKeyDown:p,onMouseOver:g,onMouseLeave:y}:{ref:B,role:"button","data-active":F(S),"aria-disabled":r?"true":void 0,tabIndex:E?void 0:T,onClick:A,onMouseDown:R,onMouseUp:I,onKeyUp:L,onKeyDown:M,onMouseOver:D,onMouseLeave:z})}function KL(){return KL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},KL.apply(this,arguments)}function QL(e){return e.sort((function(e,t){var i=e.compareDocumentPosition(t);if(i&Node.DOCUMENT_POSITION_FOLLOWING||i&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(i&Node.DOCUMENT_POSITION_PRECEDING||i&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(i&Node.DOCUMENT_POSITION_DISCONNECTED||i&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0}))}function JL(e,t,i){var n=e+1;return i&&n>=t&&(n=0),n}function eO(e,t,i){var n=e-1;return i&&n<0&&(n=t),n}var tO="undefined"!==typeof window?e.useLayoutEffect:e.useEffect,iO=function(){var e=this;this.descendants=new Map,this.register=function(t){var i;if(null!=t)return"object"==typeof(i=t)&&"nodeType"in i&&i.nodeType===Node.ELEMENT_NODE?e.registerNode(t):function(i){e.registerNode(i,t)}},this.unregister=function(t){e.descendants.delete(t);var i=QL(Array.from(e.descendants.keys()));e.assignIndex(i)},this.destroy=function(){e.descendants.clear()},this.assignIndex=function(t){e.descendants.forEach((function(e){var i=t.indexOf(e.node);e.index=i,e.node.dataset.index=e.index.toString()}))},this.count=function(){return e.descendants.size},this.enabledCount=function(){return e.enabledValues().length},this.values=function(){return Array.from(e.descendants.values()).sort((function(e,t){return e.index-t.index}))},this.enabledValues=function(){return e.values().filter((function(e){return!e.disabled}))},this.item=function(t){if(0!==e.count())return e.values()[t]},this.enabledItem=function(t){if(0!==e.enabledCount())return e.enabledValues()[t]},this.first=function(){return e.item(0)},this.firstEnabled=function(){return e.enabledItem(0)},this.last=function(){return e.item(e.descendants.size-1)},this.lastEnabled=function(){var t=e.enabledValues().length-1;return e.enabledItem(t)},this.indexOf=function(t){var i,n;return t&&null!=(i=null==(n=e.descendants.get(t))?void 0:n.index)?i:-1},this.enabledIndexOf=function(t){return null==t?-1:e.enabledValues().findIndex((function(e){return e.node.isSameNode(t)}))},this.next=function(t,i){void 0===i&&(i=!0);var n=JL(t,e.count(),i);return e.item(n)},this.nextEnabled=function(t,i){void 0===i&&(i=!0);var n=e.item(t);if(n){var r=JL(e.enabledIndexOf(n.node),e.enabledCount(),i);return e.enabledItem(r)}},this.prev=function(t,i){void 0===i&&(i=!0);var n=eO(t,e.count()-1,i);return e.item(n)},this.prevEnabled=function(t,i){void 0===i&&(i=!0);var n=e.item(t);if(n){var r=eO(e.enabledIndexOf(n.node),e.enabledCount()-1,i);return e.enabledItem(r)}},this.registerNode=function(t,i){if(t&&!e.descendants.has(t)){var n=QL(Array.from(e.descendants.keys()).concat(t));null!=i&&i.disabled&&(i.disabled=!!i.disabled);var r=KL({node:t,index:-1},i);e.descendants.set(t,r),e.assignIndex(n)}}};var nO=nr({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"}),rO=nO[0],oO=nO[1];function aO(){return aO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},aO.apply(this,arguments)}function sO(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}var lO=["defaultIndex","onChange","index","isManual","isLazy","lazyBehavior","orientation","direction"],uO=["isDisabled","isFocusable"],cO=["isSelected","id","children"],hO=[rO,function(){return oO()},function(){return function(){var t=(0,e.useRef)(new iO);return tO((function(){return function(){return t.current.destroy()}})),t.current}()},function(t){return function(t){var i=oO(),n=(0,e.useState)(-1),r=n[0],o=n[1],a=(0,e.useRef)(null);tO((function(){return function(){a.current&&i.unregister(a.current)}}),[]),tO((function(){if(a.current){var e=Number(a.current.dataset.index);r==e||Number.isNaN(e)||o(e)}}));var s=t?i.register(t):i.register;return{descendants:i,index:r,enabledIndex:i.enabledIndexOf(a.current),register:ir(s,a)}}(t)}],dO=hO[0],pO=hO[1],fO=hO[2],mO=hO[3];function gO(t){var i=t.defaultIndex,n=t.onChange,r=t.index,o=t.isManual,a=t.isLazy,s=t.lazyBehavior,l=void 0===s?"unmount":s,u=t.orientation,c=void 0===u?"horizontal":u,h=t.direction,d=void 0===h?"ltr":h,p=sO(t,lO),f=e.useState(null!=i?i:0),m=f[0],g=f[1],y=function(t){var i=t.value,n=t.defaultValue,r=t.onChange,o=t.shouldUpdate,a=void 0===o?function(e,t){return e!==t}:o,s=Io(r),l=Io(a),u=e.useState(n),c=u[0],h=u[1],d=void 0!==i,p=d?i:c,f=e.useCallback((function(e){var t=ee(e,p);l(p,t)&&(d||h(t),s(t))}),[d,s,p,l]);return[p,f]}({defaultValue:null!=i?i:0,value:r,onChange:n}),v=y[0],b=y[1];e.useEffect((function(){null!=r&&g(r)}),[r]);var x=fO();return{id:No(t.id,"tabs"),selectedIndex:v,focusedIndex:m,setSelectedIndex:b,setFocusedIndex:g,isManual:o,isLazy:a,lazyBehavior:l,orientation:c,descendants:x,direction:d,htmlProps:p}}var yO=nr({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"}),vO=yO[0],bO=yO[1];function xO(e,t){return e+"--tab-"+t}function _O(e,t){return e+"--tabpanel-"+t}var wO=["children","className"],SO=["htmlProps","descendants"],kO=Mr((function(t,i){var n=Rr("Tabs",t),r=_r(t),o=r.children,a=r.className,s=gO(sO(r,wO)),l=s.htmlProps,u=s.descendants,c=sO(s,SO),h=e.useMemo((function(){return c}),[c]),d=_(l,["isFitted"]);return e.createElement(dO,{value:u},e.createElement(vO,{value:h},e.createElement(vr,{value:n},e.createElement(Pr.div,aO({className:j("chakra-tabs",a),ref:i},d,{__css:n.root}),o))))}));var CO=Mr((function(t,i){var n=br(),r=function(e){var t=e.isDisabled,i=e.isFocusable,n=sO(e,uO),r=bO(),o=r.setSelectedIndex,a=r.isManual,s=r.id,l=r.setFocusedIndex,u=r.selectedIndex,c=mO({disabled:t&&!i}),h=c.index,d=c.register,p=h===u,f=$L(aO({},n,{ref:ir(d,e.ref),isDisabled:t,isFocusable:i,onClick:te(e.onClick,(function(){o(h)}))}));return aO({},f,{id:xO(s,h),role:"tab",tabIndex:p?0:-1,type:"button","aria-selected":p,"aria-controls":_O(s,h),onFocus:t?void 0:te(e.onFocus,(function(){l(h),!a&&(!t||!i)&&o(h)}))})}(aO({},t,{ref:i})),o=aO({outline:"0",display:"flex",alignItems:"center",justifyContent:"center"},n.tab);return e.createElement(Pr.button,aO({},r,{className:j("chakra-tabs__tab",t.className),__css:o}))}));var TO=Mr((function(t,i){var n=function(t){var i=bO(),n=i.focusedIndex,r=i.orientation,o=i.direction,a=pO(),s=e.useCallback((function(e){var t,i=function(){var e=a.nextEnabled(n);e&&oe(e.node)},s=function(){var e=a.prevEnabled(n);e&&oe(e.node)},l="horizontal"===r,u="vertical"===r,c=function(e){var t=e.key,i=e.keyCode;return i>=37&&i<=40&&0!==t.indexOf("Arrow")?"Arrow"+t:t}(e),h="ltr"===o?"ArrowRight":"ArrowLeft",d=((t={})["ltr"===o?"ArrowLeft":"ArrowRight"]=function(){return l&&s()},t[h]=function(){return l&&i()},t.ArrowDown=function(){return u&&i()},t.ArrowUp=function(){return u&&s()},t.Home=function(){var e=a.firstEnabled();e&&oe(e.node)},t.End=function(){var e=a.lastEnabled();e&&oe(e.node)},t),p=d[c];p&&(e.preventDefault(),p(e))}),[a,n,r,o]);return aO({},t,{role:"tablist","aria-orientation":r,onKeyDown:te(t.onKeyDown,s)})}(aO({},t,{ref:i})),r=aO({display:"flex"},br().tablist);return e.createElement(Pr.div,aO({},n,{className:j("chakra-tabs__tablist",t.className),__css:r}))}));var EO=Mr((function(t,i){var n=function(t){var i=t.isSelected,n=t.id,r=t.children,o=sO(t,cO),a=bO(),s=a.isLazy,l=a.lazyBehavior,u=e.useRef(!1);return i&&(u.current=!0),aO({tabIndex:0},o,{children:se({hasBeenSelected:u.current,isSelected:i,isLazy:s,lazyBehavior:l})?r:null,role:"tabpanel",hidden:!i,id:n})}(aO({},t,{ref:i})),r=br();return e.createElement(Pr.div,aO({outline:"0"},n,{className:j("chakra-tabs__tab-panel",t.className),__css:r.tabpanel}))}));var AO=Mr((function(t,i){var n=function(t){var i=bO(),n=i.id,r=i.selectedIndex,o=rr(t.children).map((function(t,i){return e.cloneElement(t,{isSelected:i===r,id:_O(n,i),"aria-labelledby":xO(n,i)})}));return aO({},t,{children:o})}(t),r=br();return e.createElement(Pr.div,aO({},n,{width:"100%",ref:i,className:j("chakra-tabs__tab-panels",t.className),__css:r.tabpanels}))}));var PO=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),MO=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},LO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return PO(t,e),MO([Ux(null)],t.prototype,"content",void 0),MO([Ux("0")],t.prototype,"x",void 0),MO([Ux("0")],t.prototype,"y",void 0),MO([Ux("Pixel")],t.prototype,"coordinateUnits",void 0),MO([Ux("Chart")],t.prototype,"region",void 0),MO([Ux("Middle")],t.prototype,"verticalAlignment",void 0),MO([Ux("Center")],t.prototype,"horizontalAlignment",void 0),MO([Ux(null)],t.prototype,"description",void 0),t}(e_),OO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return PO(t,e),MO([Ux(!1)],t.prototype,"visible",void 0),MO([Ux(!0)],t.prototype,"showZero",void 0),MO([Ux(null)],t.prototype,"name",void 0),MO([Ux("transparent")],t.prototype,"fill",void 0),MO([Ux("Inside")],t.prototype,"position",void 0),MO([Ux(5)],t.prototype,"rx",void 0),MO([Ux(5)],t.prototype,"ry",void 0),MO([Ux(0)],t.prototype,"angle",void 0),MO([Ux(!1)],t.prototype,"enableRotation",void 0),MO([Wx({width:null,color:null},uw)],t.prototype,"border",void 0),MO([Wx({size:"11px",color:"",fontStyle:"Normal",fontWeight:"Normal",fontFamily:"Segoe UI"},lw)],t.prototype,"font",void 0),MO([Wx({},sw)],t.prototype,"connectorStyle",void 0),MO([Ux(null)],t.prototype,"template",void 0),t}(e_),RO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return PO(t,e),MO([Ux("50%")],t.prototype,"x",void 0),MO([Ux("50%")],t.prototype,"y",void 0),t}(e_),IO=function(){this.visible=!0,this.symbolLocation=null,this.region=null,this.labelRegion=null,this.labelVisible=!0,this.regions=null,this.isExplode=!1,this.isClubbed=!1,this.isSliced=!1,this.argsData=null,this.isLabelUpdated=null,this.initialLabelRegion=null},DO=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.points=[],t.clubbedPoints=[],t.sumOfPoints=0,t.isRectSeries=!0,t.clipRect=new Aw(0,0,0,0),t.category="Series",t.rightSidePoints=[],t.leftSidePoints=[],t}return PO(t,e),t.prototype.refreshDataManager=function(e,t){var i=this,n=this.dataSource||e.dataSource;n instanceof SC||!wb(this.query)?this.dataModule.getData(this.dataModule.generateQuery().requiresCount()).then((function(t){return i.dataManagerSuccess(t,e)})):this.dataManagerSuccess({result:n,count:n.length},e,t)},t.prototype.dataManagerSuccess=function(e,t,i){void 0===i&&(i=!0);var n={name:Qw,series:this,data:e.result};t.allowServerDataBinding=!1,t.trigger(Qw,n),this.resultData=""!==e.result?e.result:[],t.isBlazor||i||this.getPoints(this.resultData,t),(++t.seriesCounts===t.visibleSeries.length&&i||window.Blazor&&!i&&1===t.seriesCounts)&&(this.getPoints(this.resultData,t),t.refreshChart())},t.prototype.getPoints=function(e,t){var i,n=Object.keys(e).length;if(this.sumOfPoints=0,0===n)return this.points=[],null;this.findSumOfPoints(e),this.points=[],this.clubbedPoints=[],this.sumOfClub=0;for(var r=this.palettes.length?this.palettes:nw(t.theme),o=Nk(this.groupTo,this.sumOfPoints),a=0;a<n;a++){(i=this.setPoints(e,a,r,t)).y;this.isClub(i,o,a)?(i.index=this.clubbedPoints.length,i.isExplode=!0,this.clubbedPoints.push(i),i.isSliced=!0):(wb(i.y)&&(i.visible=!1),this.pushPoints(i,r))}if(this.lastGroupTo=this.groupTo,this.sumOfClub>0){var s=this.generateClubPoint();this.pushPoints(s,r);var l=this.points.length-1;this.clubbedPoints.map((function(e){e.index+=l,e.color=s.color}))}this.clubbedPoints.length&&this.explode&&"Pie"===this.type&&(this.explodeAll||this.points[this.points.length-1].index===this.explodeIndex)&&(this.points.splice(this.points.length-1,1),this.points=this.points.concat(this.clubbedPoints))},t.prototype.generateClubPoint=function(){var e=new IO;return e.isClubbed=!0,e.x="Others",e.y=this.sumOfClub,e.text=e.originalText=e.x+": "+this.sumOfClub,e.sliceRadius="80%",e},t.prototype.pushPoints=function(e,t){e.index=this.points.length,e.isExplode=this.explodeAll||e.index===this.explodeIndex,e.color=e.color||t[e.index%t.length],this.points.push(e)},t.prototype.isClub=function(e,t,i){if(!wb(t)){if("Value"===this.groupMode&&Math.abs(e.y)<=t)return this.sumOfClub+=Math.abs(e.y),!0;if("Point"===this.groupMode&&i>=t)return this.sumOfClub+=Math.abs(e.y),!0}return!1},t.prototype.findSumOfPoints=function(e){for(var t=Object.keys(e).length,i=0;i<t;i++)wb(e[i])||wb(e[i][this.yName])||isNaN(e[i][this.yName])||(this.sumOfPoints+=Math.abs(e[i][this.yName]))},t.prototype.setPoints=function(e,t,i,n){var r=new IO;return r.x=yb(this.xName,e[t]),r.y=yb(this.yName,e[t]),r.percentage=+(r.y/this.sumOfPoints*100).toFixed(2),r.legendImageUrl=yb(this.legendImageUrl,e[t]),r.color=yb(this.pointColorMapping,e[t]),r.text=r.originalText=yb(this.dataLabel.name||"",e[t]),r.tooltip=yb(this.tooltipMappingName||"",e[t]),r.sliceRadius=yb(this.radius,e[t]),r.sliceRadius=wb(r.sliceRadius)?"80%":r.sliceRadius,r.separatorY=n.intl.formatNumber(r.y,{useGrouping:n.useGroupingSeparator}),this.setAccEmptyPoint(r,t,e,i),r},t.prototype.renderSeries=function(e,t){var i,n=t?xk(e.element.id+"_Series_"+this.index):e.renderer.createGroup({id:e.element.id+"_Series_"+this.index});this.renderPoints(e,n,t),e.accumulationDataLabelModule&&this.dataLabel.visible&&((i=e.renderer.createGroup({id:e.element.id+"_datalabel_Series_"+this.index})).style.visibility=this.animation.enable&&e.animateSeries&&"Pie"===this.type?"hidden":"visible",this.renderDataLabel(e,i,t)),"Pie"===this.type&&(this.findMaxBounds(this.labelBound,this.accumulationBound),e.pieSeriesModule.animateSeries(e,this.animation,this,n)),e.accumulationLegendModule&&(this.labelBound.x-=e.explodeDistance,this.labelBound.y-=e.explodeDistance,this.labelBound.height+=e.explodeDistance-this.labelBound.y,this.labelBound.width+=e.explodeDistance-this.labelBound.x)},t.prototype.renderPoints=function(e,t,i){for(var n,r=e.element.id+"_Series_"+this.index+"_Point_",o=0,a=this.points;o<a.length;o++){var s=a[o],l={cancel:!1,name:$w,series:this,point:s,fill:s.color,border:this.isEmpty(s)?{width:this.emptyPointSettings.border.width,color:this.emptyPointSettings.border.color}:{width:this.border.width,color:this.border.color}};e.trigger($w,l),s.color=l.fill,n=new Dw(r+s.index,s.color,l.border.width||1,l.border.color||s.color,this.opacity,"",""),e[sk(this.type)+"SeriesModule"].renderPoint(s,this,e,n,t,i)}Ek(!1,e.getSeriesElement(),t,i)},t.prototype.renderDataLabel=function(e,t,i){e.accumulationDataLabelModule.findAreaRect();var n=vx("div",{id:e.element.id+"_Series_0_DataLabelCollections"});this.leftSidePoints=[],this.rightSidePoints=[];for(var r=[],o=[],a=0,s=this.points;a<s.length;a++){var l=s[a];l.visible&&(this.dataLabel.showZero||!this.dataLabel.showZero&&(0!==l.y||0===l.y&&"Zero"===this.emptyPointSettings.mode))&&e.accumulationDataLabelModule.renderDataLabel(l,this.dataLabel,t,this.points,this.index,n,i),l.midAngle>=90&&l.midAngle<=270?this.leftSidePoints.push(l):l.midAngle>=0&&l.midAngle<=90?o.push(l):r.push(l)}if(r.sort((function(e,t){return e.midAngle-t.midAngle})),o.sort((function(e,t){return e.midAngle-t.midAngle})),this.leftSidePoints.sort((function(e,t){return e.midAngle-t.midAngle})),this.rightSidePoints=r.concat(o),e.accumulationDataLabelModule.drawDataLabels(this,this.dataLabel,t,n,i),null!==this.dataLabel.template&&n.childElementCount){var u=e.accumulationDataLabelModule.drawDataLabels.bind(e.accumulationDataLabelModule,this,this.dataLabel,t,n,i);e.isReact&&e.renderReactTemplates(u),Ek(!1,xk(e.element.id+"_Secondary_Element"),n,i)}Ek(!1,e.getSeriesElement(),t,i)},t.prototype.findMaxBounds=function(e,t){e.x=t.x<e.x?t.x:e.x,e.y=t.y<e.y?t.y:e.y,e.height=t.y+t.height>e.height?t.y+t.height:e.height,e.width=t.x+t.width>e.width?t.x+t.width:e.width},t.prototype.setAccEmptyPoint=function(e,t,i,n){if(!wb(e.y)&&!isNaN(e.y))return null;switch(e.color=this.emptyPointSettings.fill||e.color,this.emptyPointSettings.mode){case"Zero":e.y=0,e.visible=!0;break;case"Average":var r=i[t-1]&&i[t-1][this.yName]||0,o=i[t+1]&&i[t+1][this.yName]||0;e.y=(Math.abs(r)+Math.abs(o))/2,this.sumOfPoints+=e.y,e.visible=!0;break;default:e.visible=!1}},t.prototype.isEmpty=function(e){return e.color===this.emptyPointSettings.fill},MO([Ux("")],t.prototype,"dataSource",void 0),MO([Ux()],t.prototype,"query",void 0),MO([Ux("")],t.prototype,"xName",void 0),MO([Ux("")],t.prototype,"name",void 0),MO([Ux("")],t.prototype,"tooltipMappingName",void 0),MO([Ux("")],t.prototype,"yName",void 0),MO([Ux(!0)],t.prototype,"visible",void 0),MO([Wx({color:null,width:0},uw)],t.prototype,"border",void 0),MO([Wx(null,fw)],t.prototype,"animation",void 0),MO([Ux("SeriesType")],t.prototype,"legendShape",void 0),MO([Ux("")],t.prototype,"legendImageUrl",void 0),MO([Ux("")],t.prototype,"pointColorMapping",void 0),MO([Ux(null)],t.prototype,"selectionStyle",void 0),MO([Ux(null)],t.prototype,"groupTo",void 0),MO([Ux("Value")],t.prototype,"groupMode",void 0),MO([Wx({},OO)],t.prototype,"dataLabel",void 0),MO([Ux([])],t.prototype,"palettes",void 0),MO([Ux(0)],t.prototype,"startAngle",void 0),MO([Ux(null)],t.prototype,"endAngle",void 0),MO([Ux("80%")],t.prototype,"radius",void 0),MO([Ux("0")],t.prototype,"innerRadius",void 0),MO([Ux("Pie")],t.prototype,"type",void 0),MO([Ux(!0)],t.prototype,"enableTooltip",void 0),MO([Ux(!1)],t.prototype,"explode",void 0),MO([Ux("30%")],t.prototype,"explodeOffset",void 0),MO([Ux(!1)],t.prototype,"explodeAll",void 0),MO([Ux(null)],t.prototype,"explodeIndex",void 0),MO([Wx({mode:"Drop"},vw)],t.prototype,"emptyPointSettings",void 0),MO([Ux(0)],t.prototype,"gapRatio",void 0),MO([Ux("80%")],t.prototype,"width",void 0),MO([Ux("80%")],t.prototype,"height",void 0),MO([Ux("20%")],t.prototype,"neckWidth",void 0),MO([Ux("20%")],t.prototype,"neckHeight",void 0),MO([Ux("Linear")],t.prototype,"pyramidMode",void 0),MO([Ux(1)],t.prototype,"opacity",void 0),t}(e_);var zO=function(){function e(e){this.accumulation=e}return Object.defineProperty(e.prototype,"center",{get:function(){return this.pieCenter||("Pie"===this.accumulation.visibleSeries[0].type?this.accumulation.pieSeriesModule.pieBaseCenter:null)},set:function(e){this.pieCenter=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return void 0!==this.pieRadius?this.pieRadius:this.accumulation.pieSeriesModule.pieBaseRadius},set:function(e){this.pieRadius=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelRadius",{get:function(){return void 0!==this.pieLabelRadius?this.pieLabelRadius:this.accumulation.pieSeriesModule.pieBaseLabelRadius},set:function(e){this.pieLabelRadius=e},enumerable:!0,configurable:!0}),e.prototype.isCircular=function(){return"Pie"===this.accumulation.type},e.prototype.isVariousRadius=function(){return this.accumulation.pieSeriesModule.isRadiusMapped},e.prototype.processExplode=function(e){if(e.target.id.indexOf("_Series_")>-1||e.target.id.indexOf("_datalabel_")>-1){var t=nk(e.target.id).point;if(isNaN(t)||e.target.id.indexOf("_datalabel_")>-1&&"Outside"===this.accumulation.visibleSeries[0].points[t].labelPosition)return null;this.explodePoints(t,this.accumulation),this.deExplodeAll(t,this.accumulation.enableAnimation?300:0)}},e.prototype.invokeExplode=function(){for(var e=this.accumulation.visibleSeries[0],t=this.accumulation.enableAnimation?300:0,i=0,n=e.points;i<n.length;i++){var r=n[i];r.isExplode&&0!==r.y&&this.pointExplode(r.index,r,t)}if(this.accumulation.accumulationSelectionModule&&"None"!==this.accumulation.selectionMode&&this.accumulation.accumulationSelectionModule.selectedDataIndexes.length)for(var o=0,a=this.accumulation.accumulationSelectionModule.selectedDataIndexes;o<a.length;o++){var s=a[o];this.explodePoints(s.point,this.accumulation,!0),this.deExplodeAll(s.point,t)}},e.prototype.deExplodeAll=function(e,t){for(var i=this.accumulation.element.id+"_Series_0_Point_",n=0,r=this.accumulation.visibleSeries[0].points;n<r.length;n++){var o=r[n];(e!==o.index&&!o.isSliced||o.isClubbed)&&(o.isExplode=!1,this.deExplodeSlice(o.index,i,t))}},e.prototype.explodePoints=function(e,t,i){void 0===i&&(i=!1);var n=t.visibleSeries[0],r=n.points,o=function(e,t){for(var i=0,n=t;i<n.length;i++){var r=n[i];if(r.index===e)return r}return null}(e,r),a=!0,s=this.accumulation.enableAnimation?300:0;if(wb(o))return null;var l=!i&&(o.isSliced||n.clubbedPoints.length&&r[r.length-1].index===n.clubbedPoints[n.clubbedPoints.length-1].index);"Pie"===n.type&&(l||o.isClubbed)&&(a=this.clubPointExplode(e,o,n,r,t,s,l)),a&&0!==o.y&&this.pointExplode(e,o,s,i)},e.prototype.getSum=function(e){var t=0;return e.map((function(e){t+=e.visible?e.y:0})),t},e.prototype.clubPointExplode=function(e,t,i,n,r,o,a){if(void 0===a&&(a=!1),t.isClubbed)return r.animateSeries=!1,n.splice(n.length-1,1),i.clubbedPoints.map((function(e){e.visible=!0,e.isExplode=!0})),r.visibleSeries[0].points=n.concat(i.clubbedPoints),this.deExplodeAll(e,o),i.sumOfPoints=this.getSum(r.visibleSeries[0].points),r.refreshChart(),!1;if(a||t.isSliced){r.animateSeries=!1,n.splice(n.length-i.clubbedPoints.length,i.clubbedPoints.length);var s=i.generateClubPoint();if(s.index=n.length,s.color=i.clubbedPoints[0].color,n.push(s),i.sumOfPoints=this.getSum(n),this.deExplodeAll(e,o),s.isExplode=!1,r.visibleSeries[0].points=n,r.refreshChart(),this.pointExplode(s.index,n[s.index],0,!0),s.isExplode=!1,this.deExplodeSlice(s.index,r.element.id+"_Series_0_Point_",o),t.isSliced)return!1}return!0},e.prototype.pointExplode=function(e,t,i,n){var r,o=this.accumulation.element.id+"_Series_0_Point_",a=this.accumulation;r=this.isCircular()?$S(t.midAngle,a.explodeDistance,this.center):{x:t.labelRegion&&t.labelRegion.x<t.region.x?-a.explodeDistance:a.explodeDistance,y:0},this.isExplode(o+e)||n?(t.isExplode=!0,this.explodeSlice(e,r,o,this.center||{x:0,y:0},i)):(t.isExplode=!1,this.deExplodeSlice(e,o,i))},e.prototype.isExplode=function(e){var t=xk(e),i=t?t.getAttribute("transform"):null;return t&&("translate(0, 0)"===i||null===i||"translate(0)"===i)},e.prototype.deExplodeSlice=function(e,t,i){var n=xk(t+e);n&&(n.parentNode.lastChild.hasAttribute("transform")&&n.parentNode.lastChild.removeAttribute("transform"));var r=n?n.getAttribute("transform"):null;if(this.accumulation.enableAnimation&&n&&r&&"translate(0, 0)"!==r&&"translate(0)"!==r){var o=/translate\((-?\d+\.?\d*),?\s*(-?\d+[.]?\d*)?\)/.exec(r);this.performAnimation(e,t,0,0,+o[1],+o[2]||0,i,!0)}else this.performAnimation(e,t,0,0,0,0,i,!0)},e.prototype.setTranslate=function(e,t,i,n){this.setElementTransform(t+e,i),this.accumulation.visibleSeries[0].dataLabel.visible&&(t=this.accumulation.element.id+"_datalabel_Series_0_",this.setElementTransform(t+"shape_"+e,i),this.setElementTransform(t+"text_"+e,i+n),this.setElementTransform(t+"connector_"+e,i))},e.prototype.setElementTransform=function(e,t){var i=xk(e);i&&i.setAttribute("transform",t)},e.prototype.explodeSlice=function(e,t,i,n,r){this.performAnimation(e,i,0,0,t.x-n.x,t.y-n.y,r)},e.prototype.performAnimation=function(e,t,i,n,r,o,a,s){var l,u,c=this,h=this.accumulation,d=t.split("_"),p=parseInt(t.split("_")[d.length-3],10),f=h.visibleSeries[p].points[e];if(a<=0)return this.setTranslate(e,t,"translate("+r+", "+o+")",f.transform),null;new Kx({}).animate(vx("div"),{duration:a,progress:function(a){l=ck(a.timeStamp,i,r,a.duration),u=ck(a.timeStamp,n,o,a.duration),c.setTranslate(e,t,"translate("+(s?r-l:l)+", "+(s?o-u:u)+")",f.transform)},end:function(){c.setTranslate(e,t,"translate("+(s?i:r)+", "+(s?i:o)+")",f.transform)}})},e}(),BO=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),FO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return BO(t,e),t.prototype.initProperties=function(e,t){this.accumulation=e,this.size=Math.min(e.initialClipRect.width,e.initialClipRect.height),this.initAngles(t);var i=parseInt(t.radius,10);if(-1===t.radius.indexOf("%")&&"number"!==typeof i||isNaN(i)){var n=[];this.isRadiusMapped=!0;for(var r=0;r<Object.keys(t.points).length;r++)-1!==t.points[r].sliceRadius.indexOf("%")?n[r]=Nk(t.points[r].sliceRadius,this.size/2):n[r]=parseInt(t.points[r].sliceRadius,10);var o=Math.min.apply(null,n),a=Math.max.apply(null,n);this.pieBaseRadius=this.seriesRadius=a,this.innerRadius=Nk(t.innerRadius,this.seriesRadius),this.innerRadius=this.innerRadius>o?this.innerRadius/2:this.innerRadius}else this.isRadiusMapped=!1,this.pieBaseRadius=Nk(t.radius,this.size/2),this.innerRadius=Nk(t.innerRadius,this.pieBaseRadius),this.pieBaseLabelRadius="Inside"===t.dataLabel.position?(this.pieBaseRadius-this.innerRadius)/2+this.innerRadius:this.pieBaseRadius+Nk(t.dataLabel.connectorStyle.length||"4%",this.size/2);this.radius=this.pieBaseRadius,this.labelRadius=this.pieBaseLabelRadius,e.explodeDistance=t.explode?Nk(t.explodeOffset,this.pieBaseRadius):0,this.findCenter(e,t),this.center=this.pieBaseCenter,this.defaultLabelBound(t,t.dataLabel.visible,t.dataLabel.position),this.totalAngle-=.001},t.prototype.getLabelRadius=function(e,t){return"Inside"===e.dataLabel.position?(Nk(t.sliceRadius,this.pieBaseRadius)-this.innerRadius)/2+this.innerRadius:Nk(t.sliceRadius,this.seriesRadius)+Nk(e.dataLabel.connectorStyle.length||"4%",this.size/2)},t.prototype.findCenter=function(e,t){this.accumulation=e,this.pieBaseCenter={x:Nk(e.center.x,e.initialClipRect.width)+e.initialClipRect.x,y:Nk(e.center.y,e.initialClipRect.height)+e.initialClipRect.y};var i=this.getSeriesBound(t),n=new Jk(i.x+i.width/2,i.y+i.height/2);this.pieBaseCenter.x+=this.pieBaseCenter.x-n.x,this.pieBaseCenter.y+=this.pieBaseCenter.y-n.y,this.accumulation.origin=this.pieBaseCenter},t.prototype.initAngles=function(e){var t=wb(e.endAngle)?e.startAngle:e.endAngle;this.totalAngle=(t-e.startAngle)%360,this.startAngle=e.startAngle-90,this.totalAngle=this.totalAngle<=0?360+this.totalAngle:this.totalAngle,this.startAngle=(this.startAngle<0?this.startAngle+360:this.startAngle)%360},t.prototype.defaultLabelBound=function(e,t,i){var n=this.getSeriesBound(e);e.accumulationBound=n,e.labelBound=new Aw(n.x,n.y,n.width+n.x,n.height+n.y),t&&"Outside"===i&&(e.labelBound=new Aw(1/0,1/0,-1/0,-1/0))},t.prototype.getSeriesBound=function(e){var t=new Aw(1/0,1/0,-1/0,-1/0);this.initAngles(e);var i=this.startAngle,n=this.totalAngle,r=(this.startAngle+n)%360;r=0===r?360:r,e.findMaxBounds(t,this.getRectFromAngle(i)),e.findMaxBounds(t,this.getRectFromAngle(r)),e.findMaxBounds(t,new Aw(this.pieBaseCenter.x,this.pieBaseCenter.y,0,0));var o=(90*Math.floor(i/90)+90)%360,a=90*Math.floor(r/90)%360;a=0===a?360:a,(n>=90||a===o)&&(e.findMaxBounds(t,this.getRectFromAngle(o)),e.findMaxBounds(t,this.getRectFromAngle(a))),(0===i||i+n>=360)&&e.findMaxBounds(t,this.getRectFromAngle(0));for(var s=o===a?0:Math.floor(n/90),l=1;l<s;l++)((o+=90)<a||r<i||360===n)&&e.findMaxBounds(t,this.getRectFromAngle(o));return t.width-=t.x,t.height-=t.y,t},t.prototype.getRectFromAngle=function(e){var t=$S(e,this.pieBaseRadius,this.pieBaseCenter);return new Aw(t.x,t.y,0,0)},t.prototype.getPathArc=function(e,t,i,n,r){var o=i-t,a=(o=o<0?o+360:o)<180?0:1;return r||0!==r?this.getDoughnutPath(e,$S(t,n,e),$S(i,n,e),n,$S(t,r,e),$S(i,r,e),r,a):this.getPiePath(e,$S(t,n,e),$S(i,n,e),n,a)},t.prototype.getPiePath=function(e,t,i,n,r){return"M "+e.x+" "+e.y+" L "+t.x+" "+t.y+" A "+n+" "+n+" 0 "+r+" 1 "+i.x+" "+i.y+" Z"},t.prototype.getDoughnutPath=function(e,t,i,n,r,o,a,s){return"M "+t.x+" "+t.y+" A "+n+" "+n+" 0 "+s+" 1 "+i.x+" "+i.y+" L "+o.x+" "+o.y+" A "+a+" "+a+" 0 "+s+",0 "+r.x+" "+r.y+" Z"},t.prototype.doAnimation=function(e,t){var i,n=this,r=t.startAngle-90,o=this.accumulation.duration?this.accumulation.duration:t.animation.duration;this.pieBaseCenter.x+=1;var a=.75*Math.max(this.accumulation.availableSize.height,this.accumulation.availableSize.width);a+=.414*a;var s=uk("Linear");new Kx({}).animate(e,{duration:o,delay:t.animation.delay,progress:function(t){i=s(t.timeStamp,r,n.totalAngle,t.duration),e.setAttribute("d",n.getPathArc(n.pieBaseCenter,r,i,a,0))},end:function(){n.pieBaseCenter.x-=1,e.setAttribute("d",n.getPathArc(n.pieBaseCenter,0,359.99999,a,0)),n.accumulation.trigger("animationComplete",n.accumulation.isBlazor?{}:{series:t,accumulation:n.accumulation,chart:n.accumulation}),xk(n.accumulation.element.id+"_datalabel_Series_"+t.index).style.visibility=n.accumulation.isDestroyed?"hidden":"visible"}})},t}(zO),NO=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),jO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return NO(t,e),t.prototype.renderPoint=function(e,t,i,n,r,o){var a=t.sumOfPoints;e.startAngle=this.startAngle;var s=e.visible?e.y:0,l=a?Math.abs(s)/a*this.totalAngle:null,u=Math.PI/180*(90-(360-this.startAngle)-90);this.radius=this.isRadiusMapped?Nk(e.sliceRadius,this.seriesRadius):this.radius,n.d=this.getPathOption(e,l,this.startAngle%360),e.midAngle=(this.startAngle-l/2)%360,e.endAngle=this.startAngle%360,e.symbolLocation=$S(e.midAngle,(this.radius+this.innerRadius)/2,this.center),o?(r.appendChild(i.renderer.drawPath(n)),this.refresh(e,l,u,i,n)):(r.appendChild(i.renderer.drawPath(n)),e.degree=l,e.start=u)},t.prototype.findSeries=function(e){var t=0===this.innerRadius?this.radius+3:this.innerRadius-3,i=0===this.innerRadius?t+2:t-2;this.toggleInnerPoint(e,t,i)},t.prototype.toggleInnerPoint=function(e,t,i){var n,r=nk(e.target.id,!0),o=e.target.id.substring(0,e.target.id.indexOf("Series")-1),a=document.getElementById(this.accumulation.element.id+"PointHover_Border"),s=r.series,l=r.point,u=xk(o+"_Series_"+s+"_Point_"+l);if(!isNaN(r.series)&&u){if(!wb(s)&&!isNaN(s)&&!wb(l)&&!isNaN(l)){var c=this.accumulation.visibleSeries[0].points[l],h=u.getAttribute("class")===o+"_ej2_deselected"?this.accumulation.tooltip.enable?.5:.3:this.accumulation.tooltip.enable?.5:1,d=this.getPathArc(this.accumulation.pieSeriesModule.center,c.startAngle%360,(c.startAngle+c.degree)%360,t,i);a&&o===this.accumulation.element.id&&(a.getAttribute("d")!==d||c.isExplode)&&(a.parentNode.removeChild(a),a=null);var p=xk(o+"_Series_"+s);if(!a&&(!c.isExplode||c.isExplode&&"click"!==e.type)){var f=new Dw(o+"PointHover_Border",c.color,1,c.color,h,"",d);if((n=this.accumulation.renderer.drawPath(f)).removeAttribute("transform"),"None"!==this.accumulation.selectionMode&&e.target.hasAttribute("class")&&this.accumulation.accumulationSelectionModule.addSvgClass(n,e.target.getAttribute("class")),p.appendChild(n),c.isExplode&&n){var m=u.getAttribute("transform");n.setAttribute("transform",m)}}}}else a&&(this.removeBorder(a,1e3),a=null)},t.prototype.removeBorder=function(e,t){e&&setTimeout((function(){e.parentNode&&e.parentNode.removeChild(e)}),t)},t.prototype.refresh=function(e,t,i,n,r){var o=this,a=xk(r.id),s=n.duration?n.duration:300;new Kx({}).animate(vx("div"),{duration:s,delay:0,progress:function(r){var s=ck(r.timeStamp,e.degree,t-e.degree,r.duration),l=ck(r.timeStamp,e.start,i-e.start,r.duration);l=(l/(Math.PI/180)+360)%360,a.setAttribute("d",o.getPathOption(e,s,l)),e.isExplode&&n.accBaseModule.explodePoints(e.index,n,!0),a.style.visibility="visible"},end:function(){a.style.visibility=e.visible?"visible":"hidden",a.setAttribute("d",r.d),e.degree=t,e.start=i}})},t.prototype.getPathOption=function(e,t,i){if(!t)return"";var n=this.getPathArc(this.center,i%360,(i+t)%360,this.isRadiusMapped?Nk(e.sliceRadius,this.seriesRadius):this.radius,this.innerRadius);return this.startAngle+=t,n},t.prototype.animateSeries=function(e,t,i,n){var r=e.element.id+"SeriesGroup"+i.index;if(i.animation.enable&&e.animateSeries){var o=e.renderer.createClipPath({id:r+"_clipPath"}),a=new Dw(r+"_slice","transparent",1,"transparent",1,"",""),s=e.renderer.drawPath(a);o.appendChild(s),e.svgObject.appendChild(o),n.style.cssText="clip-path:url(#"+o.id+"); -webkit-clip-path:url(#"+o.id+");",this.doAnimation(s,i)}},t.prototype.getModuleName=function(){return"PieSeries"},t.prototype.destroy=function(){},t}(FO),VO=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),UO=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},WO=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.animateselected=!1,n.explodeDistance=0,n.chartid=57724,n}return VO(t,e),t.prototype.animate=function(e){this.duration=e||700,this.animateselected=!0,this.animateSeries=!1;var t=0,i=[],n=[],r=[],o=this.visibleSeries[0],a=[];if(a=o.dataSource,o.sumOfPoints=0,o.points.length<Object.keys(o.dataSource).length)this.refresh();else if(o.points.length>Object.keys(o.dataSource).length){var s=this.visibleSeries[0];s.points=s.points.filter((function(e){return e.visible=!1,n.push(e.index),i.push(e.color),a.some((function(i){var n=i;return e.x===n.x&&(e.visible=!0,r.push(e.index),e.index=t,t++),e.x===n.x}))}));for(var l=n.filter((function(e){return r.indexOf(e)<0})),u=n.length-l.length,c=n.length-1;c>=u;c--)VS("container_Series_0_Point_"+n[c]);for(c=0;c<s.points.length;c++)s.points[c].y=s.dataSource[c].y,s.points[c].color=i[c],s.sumOfPoints+=s.dataSource[c].y;this.redraw=this.enableAnimation,this.animateSeries=!1,this.calculateBounds(),this.renderElements()}else{for(c=0;c<o.points.length;c++)o.points[c].y=o.dataSource[c][o.yName],o.points[c].color=null!=o.dataSource[c][o.pointColorMapping]?o.dataSource[c][o.pointColorMapping]:o.points[c].color,o.sumOfPoints+=o.dataSource[c][o.yName];this.redraw=this.enableAnimation,this.animateSeries=!1,this.removeSvg(),this.refreshPoints(o.points),this.renderElements()}},Object.defineProperty(t.prototype,"type",{get:function(){return this.series&&this.series.length?this.series[0].type:"Pie"},enumerable:!0,configurable:!0}),t.prototype.preRender=function(){if(this.isBlazor=window.Blazor,this.allowServerDataBinding=!1,this.unWireEvents(),this.setCulture(),this.animateSeries=!0,""===this.element.id){var e=document.getElementsByClassName("e-accumulationchart").length;this.element.id="acc_chart_"+this.chartid+"_"+e}Uk(this),this.wireEvents(),this.element.setAttribute("dir",this.enableRtl?"rtl":"")},t.prototype.setTheme=function(){this.themeStyle=rw(this.theme)},t.prototype.render=function(){var e=this;-1===this.element.className.indexOf("e-accumulationchart")&&this.element.classList.add("e-accumulationchart");var t={chart:this.isBlazor?{}:this,accumulation:this.isBlazor?{}:this,theme:this.theme,name:Zw,cancel:!1};this.trigger(Zw,t,(function(){e.theme=e.isBlazor?t.theme:e.theme,e.setTheme(),e.accBaseModule=new zO(e),e.pieSeriesModule=new jO(e),e.calculateVisibleSeries(),e.processData(),e.renderComplete(),e.allowServerDataBinding=!0}))},t.prototype.unWireEvents=function(){var e=mx.isPointer,t=mx.touchStartEvent,i=mx.touchMoveEvent,n=mx.touchEndEvent,r=e?"pointerleave":"mouseleave";gx.remove(this.element,i,this.accumulationMouseMove),gx.remove(this.element,n,this.accumulationMouseEnd),gx.remove(this.element,t,this.accumulationMouseStart),gx.remove(this.element,"click",this.accumulationOnMouseClick),gx.remove(this.element,"dblclick",this.accumulationOnDoubleClick),gx.remove(this.element,"contextmenu",this.accumulationRightClick),gx.remove(this.element,r,this.accumulationMouseLeave),window.removeEventListener(mx.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.accumulationResizeBound)},t.prototype.wireEvents=function(){if(this.element){var e=mx.isPointer,t=mx.touchStartEvent,i=mx.touchEndEvent,n=mx.touchMoveEvent,r=e?"pointerleave":"mouseleave";gx.add(this.element,n,this.accumulationMouseMove,this),gx.add(this.element,i,this.accumulationMouseEnd,this),gx.add(this.element,t,this.accumulationMouseStart,this),gx.add(this.element,"click",this.accumulationOnMouseClick,this),gx.add(this.element,"dblclick",this.accumulationOnDoubleClick,this),gx.add(this.element,"contextmenu",this.accumulationRightClick,this),gx.add(this.element,r,this.accumulationMouseLeave,this),this.accumulationResizeBound=this.accumulationResize.bind(this),window.addEventListener(mx.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.accumulationResizeBound),new w_(this.element),this.setStyle(this.element)}},t.prototype.setMouseXY=function(e){var t,i,n=xk(this.element.id+"_svg");if(n&&this.element){var r=n.getBoundingClientRect(),o=this.element.getBoundingClientRect();if(e.type.indexOf("touch")>-1){this.isTouch=!0;var a=e;i=a.changedTouches[0].clientY,t=a.changedTouches[0].clientX}else this.isTouch="touch"===e.pointerType||"2"===e.pointerType,t=e.clientX,i=e.clientY;this.mouseY=i-o.top-Math.max(r.top-o.top,0),this.mouseX=t-o.left-Math.max(r.left-o.left,0)}},t.prototype.accumulationMouseEnd=function(e){return this.setMouseXY(e),this.trigger(uS,{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.isTouch&&(this.titleTooltip(e,this.mouseX,this.mouseY,this.isTouch),this.accumulationDataLabelModule&&this.visibleSeries[0].dataLabel.visible&&this.accumulationDataLabelModule.move(e,this.mouseX,this.mouseY,this.isTouch),this.accumulationLegendModule&&this.legendSettings.visible&&this.accumulationLegendModule.move(e)),this.notify(mx.touchEndEvent,e),!1},t.prototype.accumulationMouseStart=function(e){return this.setMouseXY(e),this.trigger(lS,{target:e.target.id,x:this.mouseX,y:this.mouseY}),!1},t.prototype.accumulationResize=function(){var e=this;this.animateSeries=!1;var t={accumulation:this.isBlazor?{}:this,previousSize:new Ew(this.availableSize.width,this.availableSize.height),name:cS,currentSize:new Ew(0,0),chart:this.isBlazor?{}:this},i={name:"beforeResize",cancelResizedEvent:!1};return this.resizeTo&&clearTimeout(this.resizeTo),this.trigger(hS,i),i.cancelResizedEvent||(this.resizeTo=+setTimeout((function(){e.isDestroyed?clearTimeout(e.resizeTo):(Uk(e),t.currentSize=e.availableSize,e.trigger(cS,t),e.refreshSeries(),e.refreshChart())}),500)),!1},t.prototype.print=function(e){var t=document.getElementById(this.element.id+"_Series_0").style.clipPath;document.getElementById(this.element.id+"_Series_0").style.clipPath="",new dP(this).print(e),document.getElementById(this.element.id+"_Series_0").style.clipPath=t},t.prototype.export=function(e,t){this.exportModule&&(this.exportModule.export(e,t),this.afterExport&&this.exportModule.getDataUrl(this))},t.prototype.setStyle=function(e){e.style.touchAction="element",e.style.msTouchAction="element",e.style.msContentZooming="none",e.style.msUserSelect="none",e.style.webkitUserSelect="none",e.style.position="relative",e.style.display="block"},t.prototype.setAnnotationValue=function(e,t){var i,n=this.annotations[e],r=xk(this.element.id+"_Annotation_Collections");t&&(n.content=t,r?(i=this.createElement("div"),VS(this.element.id+"_Annotation_"+e),this.annotationModule.processAnnotation(n,e,i),r.appendChild(i.children[0])):this.annotationModule.renderAnnotations(xk(this.element.id+"_Secondary_Element")))},t.prototype.accumulationMouseMove=function(e){return!!xk(this.element.id+"_svg")&&(this.setMouseXY(e),this.trigger(iS,{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.pointMove&&this.triggerPointEvent(aS,e.target,e),this.accumulationLegendModule&&this.legendSettings.visible&&this.accumulationLegendModule.move(e),this.accumulationDataLabelModule&&this.visibleSeries[0]&&this.visibleSeries[0].dataLabel.visible&&this.accumulationDataLabelModule.move(e,this.mouseX,this.mouseY),this.isTouch||this.titleTooltip(e,this.mouseX,this.mouseY),this.enableBorderOnMouseMove&&"Pie"===this.type&&this.pieSeriesModule&&ok(this.mouseX,this.mouseY,this.initialClipRect)&&this.pieSeriesModule.findSeries(e),this.notify(mx.touchMoveEvent,e),!1)},t.prototype.titleTooltip=function(e,t,i,n){var r=e.target.id,o=r===this.element.id+"_title"||r===this.element.id+"_subTitle"||r===this.element.id+"_chart_legend_title";e.target.textContent.indexOf("...")>-1&&o?WS(r===this.element.id+"_title"?this.title:r===this.element.id+"_subTitle"?this.subTitle:this.legendSettings.title,t,i,this.element.offsetWidth,this.element.id+"_EJ2_Title_Tooltip",xk(this.element.id+"_Secondary_Element"),n):VS(this.element.id+"_EJ2_Title_Tooltip")},t.prototype.accumulationOnDoubleClick=function(e){return this.trigger(rS,{target:e.target.id,x:this.mouseX,y:this.mouseY}),!1},t.prototype.accumulationOnMouseClick=function(e){return this.setMouseXY(e),this.accumulationLegendModule&&this.legendSettings.visible&&this.accumulationLegendModule.click(e),"None"!==this.selectionMode&&this.accumulationSelectionModule&&this.accumulationSelectionModule.calculateSelectedElements(this,e),this.visibleSeries[0].explode&&this.accBaseModule.processExplode(e),this.enableBorderOnMouseMove&&this.pieSeriesModule&&"Pie"===this.type&&this.pieSeriesModule.findSeries(e),this.trigger(nS,{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.pointClick&&this.triggerPointEvent(oS,e.target,e),!1},t.prototype.triggerPointEvent=function(e,t,i){var n=i,r=nk(t.id,!0);r.series>=0&&r.point>=0&&this.trigger(e,{series:this.isBlazor?{}:this.series[r.series],point:this.series[r.series].points[r.point],seriesIndex:r.series,pointIndex:r.point,x:this.mouseX,y:this.mouseY,pageX:n.pageX,pageY:n.pageY})},t.prototype.accumulationRightClick=function(e){return 2!==e.buttons&&"touch"!==e.pointerType||(e.preventDefault(),e.stopPropagation(),!1)},t.prototype.accumulationMouseLeave=function(e){this.setMouseXY(e),this.trigger(sS,{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.notify(mx.isPointer?"pointerleave":"mouseleave",e);var t=document.getElementById(this.element.id+"PointHover_Border");return t&&(this.pieSeriesModule.removeBorder(t,1e3),t=null),!1},t.prototype.setCulture=function(){this.intl=new tx},t.prototype.createPieSvg=function(){this.removeSvg(),Wk(this)},t.prototype.removeSvg=function(){if(this.redraw)return null;if(Xk(this),VS(this.element.id+"_Secondary_Element"),this.svgObject){for(;this.svgObject.childNodes.length>0;)this.svgObject.removeChild(this.svgObject.firstChild);!this.svgObject.hasChildNodes()&&this.svgObject.parentNode&&kx(this.svgObject)}VS("EJ2_legend_tooltip"),VS("EJ2_datalabel_tooltip"),VS(this.element.id+"PointHover_Border")},t.prototype.createSecondaryElement=function(){var e=jk(this.redraw,this.element.id+"_Secondary_Element")||this.createElement("div",{id:this.element.id+"_Secondary_Element",styles:"position: relative"});Ek(!1,this.element,e,this.redraw)},t.prototype.calculateVisibleSeries=function(){this.visibleSeries=[];for(var e=0,t=this.series.length;e<t;e++)if(this.series[e].index=e,this.series[e].type===this.type&&0===this.visibleSeries.length){this.visibleSeries.push(this.series[e]);break}},t.prototype.processData=function(e){void 0===e&&(e=!0),this.seriesCounts=0;for(var t=0,i=this.visibleSeries;t<i.length;t++){var n=i[t];n.dataModule=new jC(n.dataSource||this.dataSource,n.query),n.refreshDataManager(this,e)}},t.prototype.refreshChart=function(){this.doGrouppingProcess(),this.createPieSvg(),this.calculateBounds(),this.renderElements(),VS("chartmeasuretext")},t.prototype.doGrouppingProcess=function(){var e=this.visibleSeries[0];wb(e.resultData)||wb(e.lastGroupTo)||e.lastGroupTo===e.groupTo||e.getPoints(e.resultData,this)},t.prototype.calculateBounds=function(){this.initialClipRect=new Aw(this.margin.left,this.margin.top,this.availableSize.width,this.availableSize.height),this.titleCollection=[],this.subTitleCollection=[];var e,t,i=0,n=0,r=0,o=0;if(this.titleCollection=Hk(this.title,this.titleStyle,this.initialClipRect.width),i=this.title?Cw(this.title,this.titleStyle).height*this.titleCollection.length:i,this.subTitle){for(var a=0,s=this.titleCollection;a<s.length;a++){r=(o=Cw(s[a],this.titleStyle).width)>r?o:r}this.subTitleCollection=Hk(this.subTitle,this.subTitleStyle,r),n=Cw(this.subTitle,this.subTitleStyle).height*this.subTitleCollection.length}e=this.initialClipRect,t=new Aw(0,n+i,this.margin.right+this.margin.left,this.margin.bottom+this.margin.top),e.x+=t.x,e.y+=t.y,e.width-=t.x+t.width,e.height-=t.y+t.height,this.calculateLegendBounds()},t.prototype.calculateLegendBounds=function(){if(!this.accumulationLegendModule||!this.legendSettings.visible)return null;this.accumulationLegendModule.getLegendOptions(this,this.visibleSeries),this.accumulationLegendModule.calculateLegendBounds(this.initialClipRect,this.availableSize,null)},t.prototype.renderElements=function(){this.renderBorder(),this.createSecondaryElement(),this.renderSeries(),this.renderTitle(),this.renderLegend(),Ek(!1,this.element,this.svgObject,this.redraw),this.processSelection(),this.processExplode(),this.renderAnnotation(),this.setSecondaryElementPosition(),$_(this.element.id+"_DataLabel","Template",this.series[0].dataLabel),this.trigger("loaded",{accumulation:this.isBlazor?{}:this,chart:this.isBlazor?{}:this}),this.animateSeries=!1},t.prototype.setSecondaryElementPosition=function(){var e=xk(this.element.id+"_Secondary_Element");if(e){var t=this.element.getBoundingClientRect(),i=xk(this.element.id+"_svg").getBoundingClientRect();e.style.left=Math.max(i.left-t.left,0)+"px",e.style.top=Math.max(i.top-t.top,0)+"px"}},t.prototype.renderAnnotation=function(){this.annotationModule&&this.annotationModule.renderAnnotations(xk(this.element.id+"_Secondary_Element"))},t.prototype.processExplode=function(){return this.redraw?null:this.visibleSeries[0].explode?void this.accBaseModule.invokeExplode():null},t.prototype.renderSeries=function(){this.redraw||this.svgObject.appendChild(this.renderer.createGroup({id:this.element.id+"_SeriesCollection"}));for(var e=0,t=this.visibleSeries;e<t.length;e++){var i=t[e];i.visible&&this[sk(i.type)+"SeriesModule"]&&(this[sk(i.type)+"SeriesModule"].initProperties(this,i),i.renderSeries(this,this.redraw))}},t.prototype.renderBorder=function(){var e=this.border.width;Ek(!1,this.svgObject,this.renderer.drawRectangle(new $k(this.element.id+"_border",this.background||this.themeStyle.background,this.border,1,new Aw(e/2,e/2,this.availableSize.width-e,this.availableSize.height-e))),this.redraw);var t=this.backgroundImage;if(t){var i=new Kk(this.availableSize.height-e,this.availableSize.width-e,t,0,0,this.element.id+"_background","visible","none");Ek(!1,this.svgObject,this.renderer.drawImage(i),this.redraw)}},t.prototype.renderLegend=function(){if(!this.accumulationLegendModule||!this.legendSettings.visible)return null;this.accumulationLegendModule.legendCollections.length&&("Pie"===this.visibleSeries[0].type&&this.accumulationLegendModule.getSmartLegendLocation(this.visibleSeries[0].labelBound,this.accumulationLegendModule.legendBounds,this.margin),this.accumulationLegendModule.renderLegend(this,this.legendSettings,this.accumulationLegendModule.legendBounds,this.redraw))},t.prototype.processSelection=function(){var e=[];this.accumulationSelectionModule&&"None"!==this.selectionMode&&(e=_b([],this.accumulationSelectionModule.selectedDataIndexes,null,!0),this.accumulationSelectionModule.invokeSelection(this)),this.accumulationHighlightModule&&"None"!==this.highlightMode&&this.accumulationHighlightModule.invokeHighlight(this),e.length>0&&(this.accumulationSelectionModule.selectedDataIndexes=e,this.accumulationSelectionModule.redrawSelection(this))},t.prototype.renderTitle=function(){var e=this.margin;if(!this.title)return null;var t=oC(this.titleStyle.textAlignment,this.enableRtl),i=Cw(this.title,this.titleStyle),n=new Aw(e.left,0,this.availableSize.width-e.left-e.right,0),r=new Lw(this.element.id+"_title",Gk(n,this.titleStyle),this.margin.top+3*i.height/4,t,this.titleCollection,"","auto"),o=Vk(this.renderer,r,this.titleStyle,this.titleStyle.color||this.themeStyle.chartTitle,this.svgObject,!1,this.redraw);o&&o.setAttribute("aria-label",this.title),this.subTitle&&this.renderSubTitle(r)},t.prototype.renderSubTitle=function(e){for(var t=0,i=0,n=this.titleStyle.textAlignment,r=Cw(this.subTitle,this.subTitleStyle),o=0,a=this.titleCollection;o<a.length;o++){t=(i=Cw(a[o],this.titleStyle).width)>t?i:t}var s=new Aw("Center"===n?e.x-t/2:"Far"===n?e.x-t:e.x,0,t,0),l=new Lw(this.element.id+"_subTitle",Gk(s,this.subTitleStyle),e.y*e.text.length+3*r.height/4+10,oC(this.subTitleStyle.textAlignment,this.enableRtl),this.subTitleCollection,"","auto");Vk(this.renderer,l,this.subTitleStyle,this.subTitleStyle.color||this.themeStyle.chartTitle,this.svgObject,!1,this.redraw)},t.prototype.getSeriesElement=function(){return this.svgObject.getElementsByTagName("g")[0]},t.prototype.refreshSeries=function(){for(var e=0,t=this.visibleSeries;e<t.length;e++){var i=t[e];this.refreshPoints(i.points)}},t.prototype.refreshPoints=function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t];n.labelPosition=null,n.labelRegion=null,n.labelVisible=!0}},t.prototype.getModuleName=function(){return"accumulationchart"},t.prototype.destroy=function(){this.element&&(this.unWireEvents(),e.prototype.destroy.call(this),this.element.classList.remove("e-accumulationchart"),this.removeSvg(),this.svgObject=null)},t.prototype.requiredModules=function(){var e=[];return e.push({member:this.type+"Series",args:[this]}),this.legendSettings.visible&&e.push({member:"AccumulationLegend",args:[this]}),this.findDatalabelVisibility()&&e.push({member:"AccumulationDataLabel",args:[this]}),this.tooltip.enable&&e.push({member:"AccumulationTooltip",args:[this]}),"None"!==this.selectionMode&&e.push({member:"AccumulationSelection",args:[this]}),"None"!==this.highlightMode&&e.push({member:"AccumulationHighlight",args:[this]}),(this.enableExport||this.allowExport)&&e.push({member:"Export",args:[this]}),this.annotations.some((function(e){return null!==e.content}))&&e.push({member:"Annotation",args:[this]}),e},t.prototype.findDatalabelVisibility=function(){for(var e=0,t=this.series;e<t.length;e++){if(t[e].dataLabel.visible)return!0}return!1},t.prototype.changeVisibleSeries=function(e,t){for(var i=0,n=e;i<n.length;i++){var r=n[i];if(t===r.index)return r}return null},t.prototype.getPersistData=function(){return""},t.prototype.onPropertyChanged=function(t,i){for(var n={refreshElements:!1,refreshBounds:!1},r=0,o=Object.keys(t);r<o.length;r++){switch(o[r]){case"theme":this.animateSeries=!0;break;case"title":case"subTitle":case"height":case"width":case"margin":n.refreshBounds=!0;break;case"titleStyle":t.titleStyle&&(t.titleStyle.size||t.titleStyle.textOverflow)?n.refreshBounds=!0:n.refreshElements=!0;break;case"subTitleStyle":t.subTitleStyle&&(t.subTitleStyle.size||t.subTitleStyle.textOverflow)?n.refreshBounds=!0:n.refreshElements=!0;break;case"legendSettings":n.refreshBounds=!0,n.refreshElements=!0;break;case"dataSource":this.processData(!1),n.refreshBounds=!0;break;case"series":if(!this.animateselected){for(var a=this.series.length,s=!1,l=void 0,u=void 0,c=0;c<a;c++)l=t.series[c],this.isBlazor&&(l.startAngle||l.endAngle||l.explodeOffset||l.neckHeight||l.neckWidth||l.radius||l.innerRadius||l.groupMode||l.emptyPointSettings)&&(u=!0),t.series[c]&&(t.series[c].dataSource||t.series[c].yName||t.series[c].xName||t.series[c].dataLabel||u)&&(_b(this.changeVisibleSeries(this.visibleSeries,c),l,null,!0),s=!0),t.series[c]&&!wb(t.series[c].explodeIndex)&&t.series[c].explodeIndex>=0&&t.series[c].explodeIndex!==i.series[c].explodeIndex?(this.accBaseModule.explodePoints(t.series[c].explodeIndex,this),this.accBaseModule.deExplodeAll(t.series[c].explodeIndex,this.enableAnimation?300:0)):t.series[c].explodeIndex<0&&this.accBaseModule.deExplodeAll(t.series[c].explodeIndex,this.enableAnimation?300:0);s&&(this.processData(!1),n.refreshBounds=!0)}this.animateselected=!1,this.redraw=!1;break;case"locale":case"currencyCode":e.prototype.refresh.call(this);break;case"background":case"border":case"annotations":case"enableSmartLabels":n.refreshElements=!0;break;case"isMultiSelect":case"selectedDataIndexes":case"selectionMode":this.accumulationSelectionModule&&(wb(this.accumulationSelectionModule.selectedDataIndexes)?this.accumulationSelectionModule.invokeSelection(this):this.accumulationSelectionModule.redrawSelection(this))}}!n.refreshBounds&&n.refreshElements?(this.createPieSvg(),this.renderElements()):n.refreshBounds&&(this.refreshSeries(),this.createPieSvg(),this.calculateBounds(),this.renderElements())},UO([Ux(null)],t.prototype,"width",void 0),UO([Ux(null)],t.prototype,"height",void 0),UO([Ux(null)],t.prototype,"title",void 0),UO([Ux(null)],t.prototype,"backgroundImage",void 0),UO([Wx({},RO)],t.prototype,"center",void 0),UO([Ux("")],t.prototype,"dataSource",void 0),UO([Wx(Q_.chartTitleFont,lw)],t.prototype,"titleStyle",void 0),UO([Ux(null)],t.prototype,"subTitle",void 0),UO([Wx(Q_.chartSubTitleFont,lw)],t.prototype,"subTitleStyle",void 0),UO([Wx({},XC)],t.prototype,"legendSettings",void 0),UO([Wx({},xw)],t.prototype,"tooltip",void 0),UO([Ux("None")],t.prototype,"selectionMode",void 0),UO([Ux("None")],t.prototype,"highlightMode",void 0),UO([Ux("None")],t.prototype,"selectionPattern",void 0),UO([Ux("None")],t.prototype,"highlightPattern",void 0),UO([Ux(!0)],t.prototype,"enableBorderOnMouseMove",void 0),UO([Ux(!1)],t.prototype,"isMultiSelect",void 0),UO([Ux(!0)],t.prototype,"enableAnimation",void 0),UO([Hx([],mw)],t.prototype,"selectedDataIndexes",void 0),UO([Wx({},dw)],t.prototype,"margin",void 0),UO([Ux(!0)],t.prototype,"enableSmartLabels",void 0),UO([Wx({color:"#DDDDDD",width:0},uw)],t.prototype,"border",void 0),UO([Ux(null)],t.prototype,"background",void 0),UO([Hx([{}],DO)],t.prototype,"series",void 0),UO([Hx([{}],LO)],t.prototype,"annotations",void 0),UO([Ux("Material")],t.prototype,"theme",void 0),UO([Ux(!1)],t.prototype,"useGroupingSeparator",void 0),UO([Ux(!0)],t.prototype,"enableExport",void 0),UO([Ux(!1)],t.prototype,"allowExport",void 0),UO([Gx()],t.prototype,"loaded",void 0),UO([Gx()],t.prototype,"load",void 0),UO([Gx()],t.prototype,"seriesRender",void 0),UO([Gx()],t.prototype,"legendRender",void 0),UO([Gx()],t.prototype,"textRender",void 0),UO([Gx()],t.prototype,"tooltipRender",void 0),UO([Gx()],t.prototype,"pointRender",void 0),UO([Gx()],t.prototype,"annotationRender",void 0),UO([Gx()],t.prototype,"beforePrint",void 0),UO([Gx()],t.prototype,"chartMouseMove",void 0),UO([Gx()],t.prototype,"chartMouseClick",void 0),UO([Gx()],t.prototype,"chartDoubleClick",void 0),UO([Gx()],t.prototype,"pointClick",void 0),UO([Gx()],t.prototype,"pointMove",void 0),UO([Gx()],t.prototype,"animationComplete",void 0),UO([Gx()],t.prototype,"chartMouseDown",void 0),UO([Gx()],t.prototype,"chartMouseLeave",void 0),UO([Gx()],t.prototype,"chartMouseUp",void 0),UO([Gx()],t.prototype,"beforeResize",void 0),UO([Gx()],t.prototype,"resized",void 0),UO([Gx()],t.prototype,"afterExport",void 0),UO([Gx()],t.prototype,"selectionComplete",void 0),UO([Ux("USD")],t.prototype,"currencyCode",void 0),t=UO([qx],t)}(a_),HO=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),GO=function(e){function t(t){var i=e.call(this,t)||this;return i.initRenderCalled=!1,i.checkInjectedModules=!0,i.directivekeys={accumulationSeriesCollection:"accumulationSeries",accumulationAnnotations:"accumulationAnnotation"},i.immediateRender=!1,i.portals=[],i}return HO(t,e),t.prototype.render=function(){if(!(this.element&&!this.initRenderCalled||this.refreshing)||this.isReactForeceUpdate)return fb.createElement("div",this.getDefaultAttributes(),[].concat(this.props.children,this.portals));e.prototype.render.call(this),this.initRenderCalled=!0},t}(WO);CP(GO,[kP,fb.Component]);var qO=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ZO=function(e){function t(t){var i=e.call(this,t)||this;if(i.rightSideRenderingPoints=[],i.leftSideRenderingPoints=[],i.id=t.element.id+"_datalabel_Series_",t.title){var n=Cw(t.title,t.titleStyle);i.titleRect=new Aw(t.availableSize.width/2-n.width/2,t.margin.top,n.width,n.height)}return i}return qO(t,e),t.prototype.getDataLabelPosition=function(e,t,i,n){var r=this.isCircular()?this.isVariousRadius()?this.accumulation.pieSeriesModule.getLabelRadius(this.accumulation.visibleSeries[0],e):this.accumulation.pieSeriesModule.labelRadius:this.getLabelDistance(e,t);this.getLabelRegion(e,t.position,i,r,this.marginValue),e.labelAngle=e.midAngle,e.labelPosition=t.position,this.accumulation.enableSmartLabels&&this.getSmartLabel(e,t,i,n)},t.prototype.getLabelRegion=function(e,t,i,n,r,o){void 0===o&&(o=0);var a=o||e.midAngle,s=$S(a,n,this.isCircular()?this.center:this.getLabelLocation(e,t));s.y="Inside"===t?s.y-i.height/2:s.y,s.x="Inside"===t?s.x-i.width/2:s.x,e.labelRegion=new Aw(s.x,s.y,i.width+2*r,i.height+2*r),"Outside"===t&&(e.labelRegion.y-=e.labelRegion.height/2,a>=90&&a<=270?e.labelRegion.x-=e.labelRegion.width+10:e.labelRegion.x+=10)},t.prototype.getSmartLabel=function(e,t,i,n){var r=this.isCircular(),o=r?this.radius:this.getLabelDistance(e,t);o+=Nk(r?t.connectorStyle.length||"4%":"0px",o);var a,s,l=this.findPreviousPoint(n,e.index,e.labelPosition);if("Inside"===t.position?(e.labelRegion.height-=4,e.labelRegion.width-=4,(l&&l.labelRegion&&(Lk(e.labelRegion,l.labelRegion)||this.isOverlapping(e,n))||!r&&(a=e.region,s=e.labelRegion,!(a.x<=s.x&&a.x+a.width>=s.x+s.width&&a.y<=s.y&&a.height+a.y>=s.y+s.height)))&&(e.labelPosition="Outside",r||(o=this.getLabelDistance(e,t)),this.getLabelRegion(e,e.labelPosition,i,o,this.marginValue),(l=this.findPreviousPoint(n,e.index,e.labelPosition))&&(Lk(e.labelRegion,l.labelRegion)||this.isConnectorLineOverlapping(e,l))&&this.setOuterSmartLabel(l,e,t.border.width,o,i,this.marginValue))):l&&l.labelRegion&&(Lk(e.labelRegion,l.labelRegion)||this.isOverlapping(e,n)||this.isConnectorLineOverlapping(e,l))&&this.setOuterSmartLabel(l,e,t.border.width,o,i,this.marginValue),this.isOverlapping(e,n)&&("Pyramid"===this.accumulation.type||"Funnel"===this.accumulation.type)){var u=e.midAngle||0,c=r?this.radius:this.getLabelDistance(e,t),h=$S(u,-c,this.isCircular()?this.center:this.getLabelLocation(e,"OutsideLeft"));e.labelRegion=new Aw(h.x,h.y,i.width+2*this.marginValue,i.height+2*this.marginValue),e.labelRegion.y-=e.labelRegion.height/2,e.labelRegion.x=e.labelRegion.x-10-e.labelRegion.width,l&&l.labelRegion&&(Lk(e.labelRegion,l.labelRegion)||this.isOverlapping(e,n)||this.isConnectorLineOverlapping(e,l))&&this.setOuterSmartLabel(l,e,t.border.width,c,i,this.marginValue)}},t.prototype.move=function(e,t,i,n){var r=this;if(e.target.textContent.indexOf("...")>-1){var o=e.target.id.split(this.id);if(2===o.length){var a=parseInt(o[1].split("_text_")[0],10),s=parseInt(o[1].split("_text_")[1],10);if(!isNaN(a)&&!isNaN(s)){n&&VS(this.accumulation.element.id+"_EJ2_Datalabel_Tooltip");var l=function(e,t){for(var i=0,n=t;i<n.length;i++){var r=n[i];if(e===r.index)return r}return t[0]}(a,this.accumulation.visibleSeries).points[s];WS(l.text||l.y.toString(),t,i,this.areaRect.width,this.accumulation.element.id+"_EJ2_Datalabel_Tooltip",xk(this.accumulation.element.id+"_Secondary_Element"))}}}else VS(this.accumulation.element.id+"_EJ2_Datalabel_Tooltip");n&&(clearTimeout(this.clearTooltip),this.clearTooltip=+setTimeout((function(){VS(r.accumulation.element.id+"_EJ2_Datalabel_Tooltip")}),1e3))},t.prototype.findPreviousPoint=function(e,t,i){for(var n=e[0],r=t-1;r>=0;r--)if((n=e[r]).visible&&n.labelVisible&&n.labelRegion&&n.labelPosition===i)return n;return null},t.prototype.isOverlapping=function(e,t){for(var i=e.index-1;i>=0;i--)if(t[i].visible&&t[i].labelVisible&&t[i].labelRegion&&e.labelRegion&&e.labelVisible&&Lk(e.labelRegion,t[i].labelRegion))return!0;return!1},t.prototype.textTrimming=function(e,t,i,n){if(Lk(e.labelRegion,t)){var r=e.labelRegion.width;"Right"===n?r=t.x-e.labelRegion.x:"Left"===n?(r=e.labelRegion.x-(t.x+t.width))<0&&(r+=e.labelRegion.width,e.labelRegion.x=t.x+t.width):"InsideRight"===n?r=t.x+t.width-e.labelRegion.x:"InsideLeft"===n?(r=e.labelRegion.x+e.labelRegion.width-t.x)<e.labelRegion.width&&(e.labelRegion.x=t.x):this.setPointVisibileFalse(e),e.labelVisible&&e.labelRegion&&(r<e.labelRegion.width&&(e.label=Fk(r-2*this.marginValue,e.label,i),e.labelRegion.width=r),3===e.label.length&&e.label.indexOf("...")>-1&&this.setPointVisibileFalse(e))}},t.prototype.setPointVisibileFalse=function(e){e.labelVisible=!1,e.labelRegion=null},t.prototype.setPointVisibleTrue=function(e){e.labelVisible=!0},t.prototype.setOuterSmartLabel=function(e,t,i,n,r,o){if(this.isCircular()){var a=this.getOverlappedAngle(e.labelRegion,t.labelRegion,t.midAngle,2*i);for(this.getLabelRegion(t,"Outside",r,n,o,a),a>t.endAngle&&(a=t.midAngle),t.labelAngle=a;t.labelVisible&&(Lk(e.labelRegion,t.labelRegion)||a<=e.labelAngle||this.isConnectorLineOverlapping(t,e))&&!(a>t.endAngle);)t.labelAngle=a,this.getLabelRegion(t,"Outside",r,n,o,a),a+=.1}else this.setSmartLabelForSegments(t,e)},t.prototype.setSmartLabelForSegments=function(e,t){var i=e.labelRegion,n="Funnel"===this.accumulation.type?t.labelRegion.y-(i.y+i.height):e.labelRegion.y-(t.labelRegion.y+t.labelRegion.height);n<0&&(e.labelRegion.y+="Funnel"===this.accumulation.type?n:-n)},t.prototype.isConnectorLineOverlapping=function(e,t){var i;!this.isCircular()&&e.labelRegion.x<e.region.x&&(i="outsideLeft");var n=this.getLabelLocation(e,i),r=new Jk(0,0);this.getEdgeOfLabel(e.labelRegion,e.labelAngle,r,0,e);var o=this.getLabelLocation(t),a=new Jk(0,0);return this.getEdgeOfLabel(t.labelRegion,t.labelAngle,a,0,e),this.isLineRectangleIntersect(n,r,e.labelRegion)||this.isLineRectangleIntersect(n,r,t.labelRegion)||this.isLineRectangleIntersect(o,a,e.labelRegion)},t.prototype.isLineRectangleIntersect=function(e,t,i){var n=[new Jk(Math.round(i.x),Math.round(i.y)),new Jk(Math.round(i.x+i.width),Math.round(i.y)),new Jk(Math.round(i.x+i.width),Math.round(i.y+i.height)),new Jk(Math.round(i.x),Math.round(i.y+i.height))];e.x=Math.round(e.x),e.y=Math.round(e.y),t.x=Math.round(t.x),t.y=Math.round(t.y);for(var r=0;r<n.length;r++)if(this.isLinesIntersect(e,t,n[r],n[(r+1)%n.length]))return!0;return!1},t.prototype.isLinesIntersect=function(e,t,i,n){var r=t.y-e.y,o=e.x-t.x,a=r*e.x+o*e.y,s=n.y-i.y,l=i.x-n.x,u=s*i.x+l*i.y,c=r*l-s*o;if(0!==c){var h=(l*a-o*u)/c,d=(r*u-s*a)/c,p=Math.min(e.x,t.x)<=h&&h<=Math.max(e.x,t.x);return p=(p=(p=p&&Math.min(e.y,t.y)<=d&&d<=Math.max(e.y,t.y))&&Math.min(i.x,n.x)<=h&&h<=Math.max(i.x,n.x))&&Math.min(i.y,n.y)<=d&&d<=Math.max(i.y,n.y)}return!1},t.prototype.getOverlappedAngle=function(e,t,i,n){var r=e.x;return i>=90&&i<=270?(t.y=e.y-(n+t.height/2),r=e.x+e.width):t.y=e.y+e.height+n,function(e,t){var i=Math.atan2(t.y-e.y,t.x-e.x);return(i=i<0?6.283+i:i)*(180/Math.PI)}(this.center,new Jk(r,t.y))},t.prototype.getConnectorPath=function(e,t,i,n){void 0===n&&(n=0);var r=i.connectorStyle,o=this.isCircular()?this.isVariousRadius()?this.accumulation.pieSeriesModule.getLabelRadius(this.accumulation.visibleSeries[0],t):this.labelRadius:this.getLabelDistance(t,i),a=this.getConnectorStartPoint(t,r),s=this.accumulation.enableSmartLabels?t.midAngle:n||t.midAngle,l=new Jk(0,0),u=this.getEdgeOfLabel(e,s,l,r.width,t);if("Curve"===r.type){if(this.isCircular()){var c=o-(this.isVariousRadius()?Nk(t.sliceRadius,this.accumulation.pieSeriesModule.seriesRadius):this.radius);return t.isLabelUpdated?l=this.getPerpendicularDistance(a,t):(l=$S(s,o-c/2,this.center),"Outside"===t.labelPosition&&"Inside"===i.position&&(l=$S(s,o-1.25*c,this.center))),"M "+a.x+" "+a.y+" Q "+l.x+" "+l.y+" "+u.x+" "+u.y}return this.getPolyLinePath(a,u)}return"M "+a.x+" "+a.y+" L "+l.x+" "+l.y+" L "+u.x+" "+u.y},t.prototype.getPolyLinePath=function(e,t){var i=[e,t];if(e.y===t.y)return"M "+e.x+" "+e.y+" L "+t.x+" "+t.y;for(var n="M",r=0;r<=16;r++){var o=r/16,a=this.getBezierPoint(o,i,0,2);n+=a.x+","+a.y,16!==r&&(n+=" L")}return n},t.prototype.getBezierPoint=function(e,t,i,n){if(1===n)return t[i];var r=this.getBezierPoint(e,t,i,n-1),o=this.getBezierPoint(e,t,i+1,n-1),a=(r.x,r.x),s=(r.y,r.y),l=(1-e)*a+e*(o.x,o.x),u=(1-e)*s+e*(o.y,o.y);return r.x,{x:l,y:u}},t.prototype.getEdgeOfLabel=function(e,t,i,n,r){void 0===n&&(n=1);var o=new Jk(e.x,e.y);return t>=90&&t<=270?(o.x+=e.width+n/2,o.y+=e.height/2,i.x=o.x+10,i.y=o.y):r&&r.region&&r.region.x>r.labelRegion.x?(o.x+=2*n+e.width,o.y+=e.height/2,i.x=o.x+10,i.y=o.y):(o.x-=n/2,o.y+=e.height/2,i.x=o.x-10,i.y=o.y),o},t.prototype.getLabelDistance=function(e,t){if(e.labelPosition&&t.position!==e.labelPosition||t.connectorStyle.length){var i=Nk(t.connectorStyle.length||"70px",this.accumulation.initialClipRect.width);if(i<this.accumulation.initialClipRect.width)return i}var n,r=e.labelPosition||t.position,o=this.accumulation.visibleSeries[0],a=(this.accumulation.initialClipRect.width-o.triangleSize.width)/2;switch(r){case"Inside":return 0;case"Outside":return n=e.symbolLocation.x+e.labelOffset.x,this.accumulation.initialClipRect.width-n-a}},t.prototype.getLabelLocation=function(e,t){if(void 0===t&&(t="Outside"),"Pie"!==this.accumulation.type){t="OutsideLeft"===t?"OutsideLeft":e.labelPosition||t;var i={x:e.symbolLocation.x,y:e.symbolLocation.y-e.labelOffset.y};switch(t){case"Inside":i.y=e.region.y+e.region.height/2;break;case"Outside":i.x+=e.labelOffset.x;break;case"OutsideLeft":i.x-=e.labelOffset.x}return i}return $S(e.midAngle,this.isVariousRadius()?Nk(e.sliceRadius,this.accumulation.pieSeriesModule.seriesRadius):this.radius,this.center)},t.prototype.getConnectorStartPoint=function(e,t){var i;return!this.isCircular()&&e.region.x>e.labelRegion.x&&(i="OutsideLeft"),this.isCircular()?$S(e.midAngle,(this.isVariousRadius()?Nk(e.sliceRadius,this.accumulation.pieSeriesModule.seriesRadius):this.radius)-t.width,this.center):this.getLabelLocation(e,i)},t.prototype.findAreaRect=function(){this.areaRect=new Aw(0,0,this.accumulation.availableSize.width,this.accumulation.availableSize.height);var e=this.accumulation.margin;YS(this.areaRect,new eC(e.left,e.right,e.top,e.bottom))},t.prototype.renderDataLabel=function(e,t,i,n,r,o,a){var s=this.accumulation.element.id+"_datalabel_Series_"+r+"_",l=this.accumulation.renderer.createGroup({id:s+"g_"+e.index});e.label=e.originalText||e.y.toString();var u={width:t.border.width,color:t.border.color},c=_b({},yb("properties",t.font),null,!0),h={cancel:!1,name:Yw,series:this.accumulation.visibleSeries[0],point:e,text:e.label,border:u,color:t.fill,template:t.template,font:c};this.accumulation.trigger(Yw,h),e.argsData=h;var d=null!==h.template;e.labelVisible=!h.cancel,e.text=e.label=h.text,Number(e.label)&&(e.label=this.accumulation.intl.formatNumber(+e.label,{useGrouping:this.accumulation.useGroupingSeparator})),this.marginValue=h.border.width?5+h.border.width:1;var p=vx("div",{id:this.accumulation.element.id+"_Series_0_DataLabel_"+e.index,styles:"position: absolute;background-color:"+h.color+";"+kk(t.font)+";border:"+h.border.width+"px solid "+h.border.color+";"});this.calculateLabelSize(d,p,e,n,h,l,s,t,a)},t.prototype.calculateLabelSize=function(e,t,i,n,r,o,a,s,l,u,c){var h=e?c?{width:u.width,height:u.height}:this.getTemplateSize(t,i,r,l,e,n,o,a,s):Cw(i.label,s.font);h.height+=4,h.width+=4,i.textSize=h,i.templateElement=t,this.getDataLabelPosition(i,s,h,n),i.labelRegion&&this.correctLabelRegion(i.labelRegion,i.textSize)},t.prototype.drawDataLabels=function(e,t,i,n,r){var o,a,s=e.leftSidePoints.concat(e.rightSidePoints);s.sort((function(e,t){return e.index-t.index})),"Pie"===e.type&&this.accumulation.enableSmartLabels&&this.extendedLabelsCalculation();for(var l=0,u=s;l<u.length;l++){var c=u[l];if(!wb(c.argsData)&&!wb(c.y)){this.finalizeDatalabels(c,s,t);var h=this.accumulation.element.id+"_datalabel_Series_0_",d=this.accumulation.renderer.createGroup({id:h+"g_"+c.index}),p=void 0,f=void 0;if(c.visible&&c.labelVisible){if(o=a=t.angle,c.argsData.template)this.setTemplateStyle(c.templateElement,c,n,t.font.color,c.color,r);else{p=new Jk(c.labelRegion.x+this.marginValue,c.labelRegion.y+3*c.textSize.height/4+this.marginValue);var m=(f=xk(h+"shape_"+c.index))?new Jk(+f.getAttribute("x"),+f.getAttribute("y")):null;Ek(!1,d,this.accumulation.renderer.drawRectangle(new $k(h+"shape_"+c.index,c.argsData.color,c.argsData.border,1,c.labelRegion,t.rx,t.ry)),r,!0,"x","y",m,null,!1,!1,null,this.accumulation.duration);var g=c.textSize.width,y=c.textSize.height,v=void 0;v=0!==o&&t.enableRotation?"rotate("+(a="Outside"===c.labelPosition?0:c.midAngle>=90&&c.midAngle<=270?c.midAngle+180:c.midAngle)+","+(p.x+g/2)+","+(p.y-y/4)+")":"rotate("+(a=o?o>360?o-360:o<-360?o+360:o:0)+","+(p.x+g/2)+","+p.y+")",c.transform=v,Vk(this.accumulation.renderer,new Lw(h+"text_"+c.index,p.x,p.y,this.accumulation.enableRtl?"end":"start",c.label,v,"auto",a),c.argsData.font,c.argsData.font.color||this.getSaturatedColor(c,c.argsData.color),d,!1,r,!0,!1,this.accumulation.duration),f=null}if(this.accumulation.accumulationLegendModule&&this.accumulation.legendSettings.visible&&("Outside"===t.position||this.accumulation.enableSmartLabels)&&this.accumulation.visibleSeries[0].findMaxBounds(this.accumulation.visibleSeries[0].labelBound,c.labelRegion),"Outside"===c.labelPosition){var b=xk(h+"connector_"+c.index),x=b?b.getAttribute("d"):"";Ek(!1,d,this.accumulation.renderer.drawPath(new Dw(h+"connector_"+c.index,"transparent",t.connectorStyle.width,t.connectorStyle.color||c.color,1,t.connectorStyle.dashArray,this.getConnectorPath(_b({},c.labelRegion,null,!0),c,t,c.labelAngle))),r,!0,null,null,null,x,!1,!1,null,this.accumulation.duration)}Ek(!1,i,d,r)}}}},t.prototype.finalizeDatalabels=function(e,t,i){if((this.isOverlapping(e,t)||this.titleRect&&e.labelRegion&&Lk(e.labelRegion,this.titleRect))&&this.isCircular()&&"Outside"===e.labelPosition&&this.setPointVisibileFalse(e),this.accumulation.accumulationLegendModule&&this.accumulation.legendSettings.visible&&e.labelVisible&&e.labelRegion){var n=this.accumulation.accumulationLegendModule.legendBounds;"Pie"!=this.accumulation.visibleSeries[0].type&&"Left"==this.accumulation.legendSettings.position&&"Outside"===i.position&&(e.labelRegion.x=e.labelRegion.x+n.width);var r=this.accumulation.legendSettings.border.width/2;this.textTrimming(e,new Aw(n.x-r,n.y-r,n.width+2*r,n.height+2*r),i.font,this.accumulation.accumulationLegendModule.position)}if(e.labelVisible&&e.labelRegion){var o=this.isCircular()?e.labelRegion.x>=this.center.x?"InsideRight":"InsideLeft":e.labelRegion.x>=e.region.x?"InsideRight":"InsideLeft";this.textTrimming(e,this.areaRect,i.font,o)}e.labelVisible&&e.labelRegion&&(e.labelRegion.y+e.labelRegion.height>this.areaRect.y+this.areaRect.height||e.labelRegion.y<this.areaRect.y||e.labelRegion.x<this.areaRect.x||e.labelRegion.x+e.labelRegion.width>this.areaRect.x+this.areaRect.width)&&this.setPointVisibileFalse(e)},t.prototype.getTemplateSize=function(e,t,i,n,r,o,a,s,l){var u=Ck(e=Sk(e,t.index,i.template,this.accumulation,t,this.accumulation.visibleSeries[0],this.accumulation.element.id+"_DataLabel",0,i,r,o,a,s,l,n),n);return{width:u.width,height:u.height}},t.prototype.setTemplateStyle=function(e,t,i,n,r,o){if(e.style.left=t.labelRegion.x+"px",e.style.top=t.labelRegion.y+"px",e.style.color=n||this.getSaturatedColor(t,r),this.accumulation.isBlazor){var a=this.isCircular()?t.labelRegion.x>=this.center.x?"InsideRight":"InsideLeft":t.labelRegion.x>=t.region.x?"InsideRight":"InsideLeft";e.style.transform="InsideRight"===a?"translate(0%, -50%)":"translate(-100%, -50%)"}e.childElementCount&&(Ek(!1,i,e,o,!0,"left","top"),this.doTemplateAnimation(this.accumulation,e))},t.prototype.getSaturatedColor=function(e,t){var i,n=Dk(zk(i="transparent"===(i=this.marginValue>=1?"transparent"===t?this.getLabelBackground(e):t:this.getLabelBackground(e))?window.getComputedStyle(document.body,null).backgroundColor:i));return Math.round((299*n.r+587*n.g+114*n.b)/1e3)>=128?"black":"white"},t.prototype.doTemplateAnimation=function(e,t){var i=e.visibleSeries[0],n=i.animation.delay+i.animation.duration;i.animation.enable&&e.animateSeries&&(t.style.visibility="hidden",vk(t,n,200,"ZoomIn"))},t.prototype.getLabelBackground=function(e){return"Outside"===e.labelPosition?this.accumulation.background||this.accumulation.themeStyle.background:e.y?e.color:this.accumulation.theme.indexOf("dark")?"white":"black"},t.prototype.correctLabelRegion=function(e,t,i){void 0===i&&(i=4),e.height-=i,e.width-=i,e.x+=i/2,e.y+=i/2,t.height-=i,t.width-=i},t.prototype.getModuleName=function(){return"AccumulationDataLabel"},t.prototype.destroy=function(){},t.prototype.extendedLabelsCalculation=function(){var e=this,t=this.accumulation.series[0];t.rightSidePoints.forEach((function(t,i,n){t.initialLabelRegion=t.labelRegion,t.isLabelUpdated=0,e.skipPoints(t,n,i)})),t.leftSidePoints.forEach((function(t,i,n){t.initialLabelRegion=t.labelRegion,t.isLabelUpdated=0,e.skipPoints(t,n,i)})),this.arrangeLeftSidePoints(t),this.isIncreaseAngle=!1,this.arrangeRightSidePoints(t)},t.prototype.arrangeRightSidePoints=function(e){var t,i,n,r,o=e.rightSidePoints.filter((function(e){return e.labelVisible&&"Outside"===e.labelPosition}));this.rightSideRenderingPoints=o;var a,s=o[o.length-1];s&&s.labelAngle>90&&s.labelAngle<270&&(this.isIncreaseAngle=!0,this.changeLabelAngle(s,89));for(var l=o.length-1;l>=0;l--)if(r=o[l],a=o[l+1],this.isOverlapWithNext(r,o,l)&&r.labelVisible||!(r.labelAngle<=90||r.labelAngle>=270))if(n=s.labelAngle+10,i=!0,t?this.isIncreaseAngle=!1:n>90&&n<270&&a.isLabelUpdated&&(this.isIncreaseAngle=!0),this.isIncreaseAngle)for(u=l+1;u>0;u--)this.decreaseAngle(o[u],o[u-1],e,!0);else for(var u=l+1;u<o.length;u++)this.increaseAngle(o[u-1],o[u],e,!0);else i&&a&&!a.isLabelUpdated&&(t=!0)},t.prototype.arrangeLeftSidePoints=function(e){var t,i,n,r,o=this,a=e.leftSidePoints.filter((function(e){return e.labelVisible&&"Outside"===e.labelPosition}));this.leftSideRenderingPoints=a;for(var s=0;s<a.length;s++)if(i=a[s],t=a[s-1],this.isOverlapWithPrevious(i,a,s)&&i.labelVisible||!(i.labelAngle<270))if(n=!0,r&&(this.isIncreaseAngle=!1),this.isIncreaseAngle)for(l=s;l<a.length;l++)this.increaseAngle(a[l-1],a[l],e,!1);else for(var l=s;l>0;l--)this.decreaseAngle(a[l],a[l-1],e,!1),a.filter((function(e,t){e.isLabelUpdated&&a[t].labelAngle-10<100&&(o.isIncreaseAngle=!0)}));else n&&t&&t.isLabelUpdated&&(r=!0)},t.prototype.decreaseAngle=function(e,t,i,n){if(wb(e)||wb(t))return null;var r=1;if(n)for(;Lk(e.labelRegion,t.labelRegion)||!this.isVariousRadius()&&!(t.labelRegion.height+t.labelRegion.y<e.labelRegion.y);){if((o=t.midAngle-r)<0&&(o=360+o),o<=270&&o>=90){o=270,this.isIncreaseAngle=!0;break}this.changeLabelAngle(t,o),r++}else for(e.labelAngle>270&&(this.changeLabelAngle(e,270),t.labelAngle=270);Lk(e.labelRegion,t.labelRegion)||!this.isVariousRadius()&&e.labelRegion.y+e.labelRegion.height>t.labelRegion.y;){var o;if(!((o=t.midAngle-r)<=270&&o>=90)){o=90,this.isIncreaseAngle=!0;break}if(this.changeLabelAngle(t,o),Lk(e.labelRegion,t.labelRegion)&&!i.leftSidePoints.indexOf(t)&&o-1<90&&o-1>270){this.changeLabelAngle(e,e.labelAngle+1),this.arrangeLeftSidePoints(i);break}r++}},t.prototype.increaseAngle=function(e,t,i,n){if(wb(e)||wb(t))return null;var r=1;if(n)for(;Lk(e.labelRegion,t.labelRegion)||!this.isVariousRadius()&&!(e.labelRegion.y+e.labelRegion.height<t.labelRegion.y);){if((o=t.midAngle+r)<270&&o>90){o=90,this.isIncreaseAngle=!0;break}if(this.changeLabelAngle(t,o),Lk(e.labelRegion,t.labelRegion)&&o+1>90&&o+1<270&&this.rightSideRenderingPoints.indexOf(t)===this.rightSideRenderingPoints.length-1){this.changeLabelAngle(e,e.labelAngle-1),t.labelRegion=t.initialLabelRegion,this.arrangeRightSidePoints(i);break}r++}else for(;Lk(e.labelRegion,t.labelRegion)||!this.isVariousRadius()&&e.labelRegion.y<t.labelRegion.y+t.labelRegion.height;){var o;if(!((o=t.midAngle+r)<270&&o>90)){o=270,this.isIncreaseAngle=!1;break}this.changeLabelAngle(t,o),r++}},t.prototype.changeLabelAngle=function(e,t){var i,n=this.accumulation.series[0].dataLabel;this.isVariousRadius()&&(i=this.accumulation.pieSeriesModule.getLabelRadius(this.accumulation.visibleSeries[0],e));var r="Outside"===e.labelPosition&&this.accumulation.enableSmartLabels&&"Inside"===n.position?this.radius+Nk(n.connectorStyle.length||"4%",this.accumulation.pieSeriesModule.size/2):this.isVariousRadius()?i:this.accumulation.pieSeriesModule.labelRadius+10,o=this.isVariousRadius()?i:r;this.getLabelRegion(e,"Outside",e.textSize,o,this.marginValue,t),e.isLabelUpdated=1,e.labelAngle=t},t.prototype.isOverlapWithPrevious=function(e,t,i){for(var n=0;n<i;n++)if(n!==t.indexOf(e)&&t[n].visible&&t[n].labelVisible&&t[n].labelRegion&&e.labelRegion&&e.labelVisible&&Lk(e.labelRegion,t[n].labelRegion))return!0;return!1},t.prototype.isOverlapWithNext=function(e,t,i){for(var n=i;n<t.length;n++)if(n!==t.indexOf(e)&&t[n].visible&&t[n].labelVisible&&t[n].labelRegion&&e.labelRegion&&e.labelVisible&&Lk(e.labelRegion,t[n].labelRegion))return!0;return!1},t.prototype.skipPoints=function(e,t,i){if(i>0&&(e.midAngle<285&&e.midAngle>255||e.midAngle<105&&e.midAngle>75)){var n=t[i-1],r=e.endAngle%360-e.startAngle%360;(s=n.endAngle%360-n.startAngle%360)<=r&&r<5&&n.labelVisible&&this.setPointVisibleTrue(e)}else if(i>1&&(e.midAngle<300&&e.midAngle>240||e.midAngle<120&&e.midAngle>60)){var o=t[i-1],a=t[i-2],s=(r=e.endAngle%360-e.startAngle%360,o.endAngle%360-o.startAngle%360),l=a.endAngle%360-a.startAngle%360;r<3&&s<3&&l<3&&o.labelVisible&&e.labelVisible&&this.setPointVisibleTrue(e)}},t.prototype.getPerpendicularDistance=function(e,t){var i=10+10*Math.sin(t.midAngle*Math.PI/360);return t.midAngle>270&&t.midAngle<360?new Jk(e.x+i*Math.cos((360-t.midAngle)*Math.PI/180),e.y-i*Math.sin((360-t.midAngle)*Math.PI/180)):t.midAngle>0&&t.midAngle<90?new Jk(e.x+i*Math.cos(t.midAngle*Math.PI/180),e.y+i*Math.sin(t.midAngle*Math.PI/180)):t.midAngle>0&&t.midAngle<90?new Jk(e.x-i*Math.cos((t.midAngle-90)*Math.PI/180),e.y+i*Math.sin((t.midAngle-90)*Math.PI/180)):new Jk(e.x-i*Math.cos((t.midAngle-180)*Math.PI/180),e.y-i*Math.sin((t.midAngle-180)*Math.PI/180))},t}(zO),XO=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),YO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return XO(t,e),t.moduleName="accumulationSeries",t.complexTemplate={dataLabelTemplate:"dataLabel.template"},t}(AP),$O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return XO(t,e),t.propertyName="series",t.moduleName="accumulationSeriesCollection",t}(AP);function KO(){return(0,Lo.jsxs)(ho,{spacing:String(window.screen.height/50),children:[(0,Lo.jsx)(fo,{width:"100%",fontSize:48,fontWeight:"bold",children:"Publications"}),(0,Lo.jsx)(Ur,{borderRadius:"lg",shadow:"xl",padding:"1%",children:(0,Lo.jsxs)(co,{shouldWrapChildren:!0,spacing:String(window.screen.width/50),maxWidth:String(.9*window.screen.width),overflowX:"scroll",children:["// 2017-2021 journal and conference publications",(0,Lo.jsxs)(RP,{palettes:["#035ff0","purple"],border:{width:2,color:"#000000"},title:"Faculty publications",subTitle:"Publications since 2017",chartArea:{background:"skyblue",width:"90%"},primaryXAxis:{valueType:"Category"},width:String(window.screen.width/3),height:String(window.screen.height/2),children:[(0,Lo.jsx)(MP,{services:[zP,FP,UP,WP,qP,$P]}),(0,Lo.jsxs)(JP,{children:[(0,Lo.jsx)(QP,{dataSource:iR,xName:"Year",yName:"Publications",type:"Column",name:"Journal",marker:{dataLabel:{visible:!0}},animation:{enable:!0,duration:1200,delay:100}}),(0,Lo.jsx)(QP,{dataSource:nR,xName:"Year",yName:"Publications",type:"Column",name:"Conference",marker:{dataLabel:{visible:!0}},animation:{enable:!0,duration:1200,delay:100}})]})]}),"// 2020-2021 journal and conference publications",(0,Lo.jsxs)(RP,{palettes:["#035ff0","purple"],border:{width:2,color:"#000000"},title:"Recent publications",subTitle:"Publications 2020-2021",chartArea:{background:"skyblue",width:"90%"},primaryXAxis:{valueType:"Category"},width:String(window.screen.width/3),height:String(window.screen.height/2),children:[(0,Lo.jsx)(MP,{services:[zP,FP,UP,WP,qP,$P]}),(0,Lo.jsxs)(JP,{children:[(0,Lo.jsx)(QP,{dataSource:rR[0],xName:"Publication",yName:"value",type:"Column",name:"CY 2020",marker:{dataLabel:{visible:!0}},animation:{enable:!0,duration:1200,delay:100}}),(0,Lo.jsx)(QP,{dataSource:rR[1],xName:"Publication",yName:"value",type:"Column",name:"CY 2021",marker:{dataLabel:{visible:!0}},animation:{enable:!0,duration:1200,delay:100}})]})]})]})}),(0,Lo.jsx)(fo,{width:String(window.screen.width),alignSelf:"start",fontSize:48,fontWeight:"bold",children:"Citations"}),(0,Lo.jsx)(Ur,{borderRadius:"lg",shadow:"xl",padding:"1%",children:(0,Lo.jsxs)(co,{shouldWrapChildren:!0,spacing:String(window.screen.width/50),maxWidth:.9*String(window.screen.width),overflowX:"scroll",children:["// 2020-2021 citations for journal and conference publication",(0,Lo.jsxs)(RP,{palettes:["#035ff0","purple"],border:{width:2,color:"#000000"},title:"Journal citations",subTitle:"Citations 2020-2021",chartArea:{background:"skyblue",width:"90%"},primaryXAxis:{valueType:"Category"},width:String(window.screen.width/3),height:String(window.screen.height/2),children:[(0,Lo.jsx)(MP,{services:[zP,FP,UP,WP,qP,$P]}),(0,Lo.jsxs)(JP,{children:[(0,Lo.jsx)(QP,{dataSource:oR[0][0],xName:"Publication",yName:"value",type:"Column",name:"CY 2020",marker:{dataLabel:{visible:!0}},animation:{enable:!0,duration:1200,delay:100}}),(0,Lo.jsx)(QP,{dataSource:oR[1][0],xName:"Publication",yName:"value",type:"Column",name:"CY 2021",marker:{dataLabel:{visible:!0}},animation:{enable:!0,duration:1200,delay:100}})]})]}),(0,Lo.jsxs)(RP,{palettes:["#035ff0","purple"],border:{width:2,color:"#000000"},title:"Conference paper citations",subTitle:"Citations 2020-2021",chartArea:{background:"skyblue",width:"90%"},primaryXAxis:{valueType:"Category"},width:String(window.screen.width/3),height:String(window.screen.height/2),children:[(0,Lo.jsx)(MP,{services:[zP,FP,UP,WP,qP,$P]}),(0,Lo.jsxs)(JP,{children:[(0,Lo.jsx)(QP,{dataSource:oR[0][2],xName:"Publication",yName:"value",type:"Column",name:"CY 2020",marker:{dataLabel:{visible:!0}},animation:{enable:!0,duration:1200,delay:100}}),(0,Lo.jsx)(QP,{dataSource:oR[1][2],xName:"Publication",yName:"value",type:"Column",name:"CY 2021",marker:{dataLabel:{visible:!0}},animation:{enable:!0,duration:1200,delay:100}})]})]}),(0,Lo.jsxs)(RP,{palettes:["#035ff0","purple"],border:{width:2,color:"#000000"},title:"Books / Chapter citations",subTitle:"Citations 2020-2021",chartArea:{background:"skyblue",width:"90%"},primaryXAxis:{valueType:"Category"},width:String(window.screen.width/3),height:String(window.screen.height/2),children:[(0,Lo.jsx)(MP,{services:[zP,FP,UP,WP,qP,$P]}),(0,Lo.jsxs)(JP,{children:[(0,Lo.jsx)(QP,{dataSource:oR[0][1],xName:"Publication",yName:"value",type:"Column",name:"CY 2020",marker:{dataLabel:{visible:!0}},animation:{enable:!0,duration:1200,delay:100}}),(0,Lo.jsx)(QP,{dataSource:oR[1][1],xName:"Publication",yName:"value",type:"Column",name:"CY 2021",marker:{dataLabel:{visible:!0}},animation:{enable:!0,duration:1200,delay:100}})]})]})]})})]})}function QO(){return(0,Lo.jsxs)(ho,{spacing:String(window.screen.height/50),children:[(0,Lo.jsx)(fo,{width:"100%",fontSize:48,s:!0,fontWeight:"bold",children:"Grants & Revenue Generation"}),(0,Lo.jsx)(Ur,{borderRadius:"lg",shadow:"xl",padding:"1%",children:(0,Lo.jsx)(co,{shouldWrapChildren:!0,spacing:String(window.screen.width/50),maxWidth:.9*String(window.screen.width),children:(0,Lo.jsxs)(RP,{palettes:["#035ff0","purple"],border:{width:2,color:"#000000"},title:"Grants & other revenue generations",subTitle:"Grants applied since 2017",chartArea:{background:"skyblue",width:"90%"},primaryXAxis:{valueType:"Category"},width:String(window.screen.width/2),height:String(window.screen.height/2),children:[(0,Lo.jsx)(MP,{services:[zP,FP,UP,WP,qP,$P]}),(0,Lo.jsx)(JP,{children:(0,Lo.jsx)(QP,{dataSource:aR,xName:"GrantType",yName:"value",type:"Column",name:"Grants & other revenue generations",marker:{dataLabel:{visible:!0}},animation:{enable:!0,duration:1200,delay:100}})})]})})})]})}function JO(){return(0,Lo.jsxs)(ho,{spacing:String(window.screen.height/50),children:[(0,Lo.jsx)(fo,{width:"100%",fontSize:48,fontWeight:"bold",children:"Research Projects Sanctioned Grants"}),(0,Lo.jsx)(Ur,{borderRadius:"lg",shadow:"xl",padding:"1%",children:(0,Lo.jsxs)(co,{shouldWrapChildren:!0,spacing:String(window.screen.width/50),maxWidth:.9*String(window.screen.width),overflowX:"scroll",children:[(0,Lo.jsxs)(GO,{enableSmartLabels:"true",textRender:tR,children:[(0,Lo.jsx)(MP,{services:[ZO,jO]}),(0,Lo.jsx)($O,{children:(0,Lo.jsx)(YO,{dataSource:lR,xName:"Name",yName:"Amount",type:"Pie",dataLabel:{visible:!0,color:"black",position:"Outside",name:"text"},animation:{enable:!0,duration:1200,delay:100}})})]}),";"]})}),(0,Lo.jsx)(fo,{width:"100%",fontSize:48,s:!0,fontWeight:"bold",children:"Research Project Applied Grants"}),(0,Lo.jsx)(Ur,{borderRadius:"lg",shadow:"xl",padding:"1%",children:(0,Lo.jsx)(ia,{src:String("/researchgrantstable.png")})})]})}function eR(){return(0,Lo.jsxs)(ho,{spacing:String(window.screen.height/50),children:[(0,Lo.jsx)(fo,{width:"100%",fontSize:48,fontWeight:"bold",children:"Patents"}),(0,Lo.jsx)(Ur,{borderRadius:"lg",shadow:"xl",padding:"1%",children:(0,Lo.jsx)(co,{shouldWrapChildren:!0,spacing:String(window.screen.width/50),maxWidth:.9*String(window.screen.width),overflowX:"scroll",children:(0,Lo.jsxs)(RP,{palettes:["#035ff0","purple"],border:{width:2,color:"#000000"},title:"Total patents 2017-2021",subTitle:"Patents since 2017",chartArea:{background:"skyblue",width:"90%"},primaryXAxis:{valueType:"Category"},width:String(window.screen.width/2),height:String(window.screen.height/2),children:[(0,Lo.jsx)(MP,{services:[zP,FP,UP,WP,qP,$P]}),(0,Lo.jsx)(JP,{children:(0,Lo.jsx)(QP,{dataSource:sR,xName:"Year",yName:"Patents",type:"Column",name:"Patents",marker:{dataLabel:{visible:!0}},animation:{enable:!0,duration:1200,delay:100}})})]})})})]})}function tR(e){console.log(e),e.font.color="black",e.text=String(e.point.x)+":"+String(e.point.y)}var iR=[{Year:2017,Publications:63},{Year:2018,Publications:50},{Year:2019,Publications:58},{Year:2020,Publications:68},{Year:2021,Publications:78}],nR=[{Year:2017,Publications:154},{Year:2018,Publications:141},{Year:2019,Publications:117},{Year:2020,Publications:84},{Year:2021,Publications:102}],rR=[[{Publication:"Google Scholar",value:57},{Publication:"Scopus",value:47},{Publication:"SCI / SCIE / ESCI / WoS",value:48},{Publication:"Total",value:152}],[{Publication:"Google Scholar",value:40},{Publication:"Scopus",value:92},{Publication:"SCI / SCIE / ESCI / WoS",value:23},{Publication:"Total",value:155}]],oR=[[[{Publication:"WoS",value:88},{Publication:"Scopus",value:104},{Publication:"Google Scholar",value:508}],[{Publication:"WoS",value:2},{Publication:"Scopus",value:3},{Publication:"Google Scholar",value:53}],[{Publication:"WoS",value:53},{Publication:"Scopus",value:181},{Publication:"Google Scholar",value:399}]],[[{Publication:"WoS",value:77},{Publication:"Scopus",value:111},{Publication:"Google Scholar",value:647}],[{Publication:"WoS",value:18},{Publication:"Scopus",value:6},{Publication:"Google Scholar",value:55}],[{Publication:"WoS",value:37},{Publication:"Scopus",value:174},{Publication:"Google Scholar",value:470}]]],aR=[{GrantType:"Government Grant",value:1266800},{GrantType:"Revenue Generation",value:6768755}],sR=[{Year:"2017",Patents:"3"},{Year:"2018",Patents:"6"},{Year:"2019",Patents:"10"},{Year:"2020",Patents:"8"},{Year:"2021",Patents:"26"}],lR=[{Name:"BCUD",Amount:167e3},{Name:"IBM",Amount:1e6},{Name:"Innovation Grant",Amount:538840},{Name:"MITWPU SEED",Amount:14e4}],uR=function(){var t=(0,e.useContext)(wy),i=ay(),n=o((0,e.useState)(0),2),r=n[0],a=n[1],s=function(e){return a(e)};return(0,e.useEffect)((function(){return s(i.id)}),[i]),(0,Lo.jsxs)(Lo.Fragment,{children:[t.value?(0,Lo.jsx)(Sy,{}):(0,Lo.jsx)(eM,{}),(0,Lo.jsx)($r,{justify:"center",children:(0,Lo.jsx)(Ur,{flex:"1",children:(0,Lo.jsxs)(kO,{isLazy:!0,onChange:s,defaultIndex:Number(i.id),index:Number(r),isFitted:!0,textColor:"black",variant:"solid-rounded",borderRadius:"2%",children:[(0,Lo.jsxs)(TO,{marginTop:"30px",marginBottom:"40px",children:[(0,Lo.jsx)(CO,{children:"Publications"}),(0,Lo.jsx)(CO,{children:"Grants"}),(0,Lo.jsx)(CO,{children:"Research Projects"}),(0,Lo.jsx)(CO,{children:"Patents"})]}),(0,Lo.jsxs)(AO,{marginBottom:"40px",children:["// Publications",(0,Lo.jsx)(EO,{children:(0,Lo.jsx)(KO,{})}),"// Grants",(0,Lo.jsx)(EO,{children:(0,Lo.jsx)(QO,{})}),"// Research Projects",(0,Lo.jsx)(EO,{children:(0,Lo.jsx)(JO,{})}),"// Patents",(0,Lo.jsx)(EO,{children:(0,Lo.jsx)(eR,{})})]})]})})}),(0,Lo.jsx)(Ny,{})]})},cR=[{name:"Innovators Hub",image:"https://i.ibb.co/m9H2hW9/IH-logo.jpg",department:"CSE",type:"Tech",summary:"The major goal of Innovators Hub, which was founded in 2018, is to use technology, research, and innovation to address people's everyday concerns. Similarly, their goal is to establish an atmosphere in which students of our college can develop their projects, personalities, and ideas and make them market-ready. They provide students a platform where they may acquire the highly important personality development skill sets and the vital nontechnical talents that assist a student's profile stand out from the crowd, from project management to research to deployment. Their club is a space where students are free to explore, learn, and invent. ",events:"https://drive.google.com/file/d/1v6nVSLYhj73ygSfDKABOXUj1j-6cNbA3/view?usp=sharing",achievements:"https://drive.google.com/file/d/1B7nxJXGrhmZo40OU1Jy0zadeKfSLtPoz/view?usp=sharing",clubNo:1},{name:"SWE",image:"https://i.ibb.co/DPdQRHT/SWE-logo.jpg ",department:"CSE",type:"Tech",summary:"Summary : The Society of Women Engineers, is a non profit organization, a key to enhance the quality of life and carry ahead the value of diversity. The overall professional development is the ultimate mission of this affiliate group. It was inaugurated on 29th August 2018. It focuses on the development of students for a better professional life, enhanced career growth and networking.",events:"https://drive.google.com/file/d/11a-j0gFvAh-H4FwBuyQIrsxWrajrEyvQ/view?usp=sharing",achievements:"https://drive.google.com/file/d/1Q1vcpjucrEW_AI93yo76yED-YXJC3UvT/view?usp=sharing",clubNo:2},{name:"GDSC",image:"https://i.ibb.co/G2xRzc5/GDSC-logo.jpg",department:"CSE",type:"Tech",summary:"Google Developer Student Clubs (GDSC), MIT-WPU is a community group for college and university students interested in Google developer technologies. Students from all undergraduate or graduate programs with an interest in growing as a developer are welcomed by the chapter. By joining GDSC, students grow their knowledge in a peer-to-peer learning environment and build solutions for local businesses and their community.",events:"https://drive.google.com/file/d/1r__lObbHgpXFZFXRJs_swfQQ2C5EaxM5/view?usp=sharing",achievements:"# ",clubNo:3}];var hR=function(){var t=o((0,e.useState)(!1),2),i=t[0],n=t[1];return(0,Lo.jsxs)(wy.Provider,{value:{value:i,setter:n},children:[(0,Lo.jsx)(Ry,{children:(0,Lo.jsxs)(ey,{children:[(0,Lo.jsx)(Qg,{path:"/",element:(0,Lo.jsx)(cM,{})}),(0,Lo.jsx)(Qg,{path:"/login",element:(0,Lo.jsx)(GM,{})}),(0,Lo.jsx)(Qg,{path:"/about",element:(0,Lo.jsx)(jy,{})}),(0,Lo.jsx)(Qg,{path:"/test",element:(0,Lo.jsx)(qM,{})}),(0,Lo.jsx)(Qg,{path:"/curr",element:(0,Lo.jsx)(XM,{})}),(0,Lo.jsx)(Qg,{path:"/card",element:(0,Lo.jsx)(YM,{cards:cR})}),(0,Lo.jsx)(Qg,{path:"/card/:clubNo",element:(0,Lo.jsx)(qL,{clubDetails:cR})}),(0,Lo.jsx)(Qg,{path:"/club",element:(0,Lo.jsx)(qL,{})}),(0,Lo.jsx)(Qg,{path:"/researchpublication/:id",element:(0,Lo.jsx)(uR,{})})]})})," "]})},dR=function(){return e.createElement($n,{styles:'\n      html {\n        line-height: 1.5;\n        -webkit-text-size-adjust: 100%;\n        font-family: system-ui, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        text-rendering: optimizeLegibility;\n        -moz-osx-font-smoothing: grayscale;\n        touch-action: manipulation;\n      }\n\n      body {\n        position: relative;\n        min-height: 100%;\n        font-feature-settings: \'kern\';\n      }\n\n      *,\n      *::before,\n      *::after {\n        border-width: 0;\n        border-style: solid;\n        box-sizing: border-box;\n      }\n\n      main {\n        display: block;\n      }\n\n      hr {\n        border-top-width: 1px;\n        box-sizing: content-box;\n        height: 0;\n        overflow: visible;\n      }\n\n      pre,\n      code,\n      kbd,\n      samp {\n        font-family: SFMono-Regular,  Menlo, Monaco, Consolas, monospace;\n        font-size: 1em;\n      }\n\n      a {\n        background-color: transparent;\n        color: inherit;\n        text-decoration: inherit;\n      }\n\n      abbr[title] {\n        border-bottom: none;\n        text-decoration: underline;\n        -webkit-text-decoration: underline dotted;\n        text-decoration: underline dotted;\n      }\n\n      b,\n      strong {\n        font-weight: bold;\n      }\n\n      small {\n        font-size: 80%;\n      }\n\n      sub,\n      sup {\n        font-size: 75%;\n        line-height: 0;\n        position: relative;\n        vertical-align: baseline;\n      }\n\n      sub {\n        bottom: -0.25em;\n      }\n\n      sup {\n        top: -0.5em;\n      }\n\n      img {\n        border-style: none;\n      }\n\n      button,\n      input,\n      optgroup,\n      select,\n      textarea {\n        font-family: inherit;\n        font-size: 100%;\n        line-height: 1.15;\n        margin: 0;\n      }\n\n      button,\n      input {\n        overflow: visible;\n      }\n\n      button,\n      select {\n        text-transform: none;\n      }\n\n      button::-moz-focus-inner,\n      [type="button"]::-moz-focus-inner,\n      [type="reset"]::-moz-focus-inner,\n      [type="submit"]::-moz-focus-inner {\n        border-style: none;\n        padding: 0;\n      }\n\n      fieldset {\n        padding: 0.35em 0.75em 0.625em;\n      }\n\n      legend {\n        box-sizing: border-box;\n        color: inherit;\n        display: table;\n        max-width: 100%;\n        padding: 0;\n        white-space: normal;\n      }\n\n      progress {\n        vertical-align: baseline;\n      }\n\n      textarea {\n        overflow: auto;\n      }\n\n      [type="checkbox"],\n      [type="radio"] {\n        box-sizing: border-box;\n        padding: 0;\n      }\n\n      [type="number"]::-webkit-inner-spin-button,\n      [type="number"]::-webkit-outer-spin-button {\n        -webkit-appearance: none !important;\n      }\n\n      input[type="number"] {\n        -moz-appearance: textfield;\n      }\n\n      [type="search"] {\n        -webkit-appearance: textfield;\n        outline-offset: -2px;\n      }\n\n      [type="search"]::-webkit-search-decoration {\n        -webkit-appearance: none !important;\n      }\n\n      ::-webkit-file-upload-button {\n        -webkit-appearance: button;\n        font: inherit;\n      }\n\n      details {\n        display: block;\n      }\n\n      summary {\n        display: list-item;\n      }\n\n      template {\n        display: none;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      body,\n      blockquote,\n      dl,\n      dd,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6,\n      hr,\n      figure,\n      p,\n      pre {\n        margin: 0;\n      }\n\n      button {\n        background: transparent;\n        padding: 0;\n      }\n\n      fieldset {\n        margin: 0;\n        padding: 0;\n      }\n\n      ol,\n      ul {\n        margin: 0;\n        padding: 0;\n      }\n\n      textarea {\n        resize: vertical;\n      }\n\n      button,\n      [role="button"] {\n        cursor: pointer;\n      }\n\n      button::-moz-focus-inner {\n        border: 0 !important;\n      }\n\n      table {\n        border-collapse: collapse;\n      }\n\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        font-size: inherit;\n        font-weight: inherit;\n      }\n\n      button,\n      input,\n      optgroup,\n      select,\n      textarea {\n        padding: 0;\n        line-height: inherit;\n        color: inherit;\n      }\n\n      img,\n      svg,\n      video,\n      canvas,\n      audio,\n      iframe,\n      embed,\n      object {\n        display: block;\n      }\n\n      img,\n      video {\n        max-width: 100%;\n        height: auto;\n      }\n\n      [data-js-focus-visible] :focus:not([data-focus-visible-added]) {\n        outline: none;\n        box-shadow: none;\n      }\n\n      select::-ms-expand {\n        display: none;\n      }\n    '})},pR=nr({strict:!1,name:"PortalManagerContext"}),fR=pR[0],mR=pR[1];function gR(t){var i=t.children,n=t.zIndex;return e.createElement(fR,{value:{zIndex:n}},i)}function yR(){return yR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},yR.apply(this,arguments)}var vR=["containerRef"],bR=nr({strict:!1,name:"PortalContext"}),xR=bR[0],_R=bR[1],wR="chakra-portal",SR=function(t){return e.createElement("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:t.zIndex,top:0,left:0,right:0}},t.children)},kR=function(i){var n=i.appendToParentPortal,r=i.children,o=e.useRef(null),a=e.useRef(null),s=Xo(),l=_R(),u=mR();Ro((function(){if(o.current){var e=o.current.ownerDocument,t=n&&null!=l?l:e.body;if(t){a.current=e.createElement("div"),a.current.className=wR,t.appendChild(a.current),s();var i=a.current;return function(){t.contains(i)&&t.removeChild(i)}}}}),[]);var c=null!=u&&u.zIndex?e.createElement(SR,{zIndex:null==u?void 0:u.zIndex},r):r;return a.current?(0,t.createPortal)(e.createElement(xR,{value:a.current},c),a.current):e.createElement("span",{ref:o})},CR=function(i){var n=i.children,r=i.containerRef,o=i.appendToParentPortal,a=r.current,s=null!=a?a:B?document.body:void 0,l=e.useMemo((function(){var e=null==a?void 0:a.ownerDocument.createElement("div");return e&&(e.className=wR),e}),[a]),u=Xo();return Ro((function(){u()}),[]),Ro((function(){if(l&&s)return s.appendChild(l),function(){s.removeChild(l)}}),[l,s]),s&&l?(0,t.createPortal)(e.createElement(xR,{value:o?l:null},n),l):null};function TR(t){var i=t.containerRef,n=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(t,vR);return i?e.createElement(CR,yR({containerRef:i},n)):e.createElement(kR,n)}TR.defaultProps={appendToParentPortal:!0},TR.className=wR,TR.selector=".chakra-portal";var ER=OL("accordion").parts("container","item","button","panel").extend("icon"),AR=OL("alert").parts("title","description","container").extend("icon"),PR=OL("avatar").parts("label","badge","container").extend("excessLabel","group"),MR=OL("breadcrumb").parts("link","item","container").extend("separator"),LR=(OL("button").parts(),OL("checkbox").parts("control","icon","container").extend("label")),OR=(OL("progress").parts("track","filledTrack").extend("label"),OL("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer")),RR=OL("editable").parts("preview","input"),IR=OL("form").parts("container","requiredIndicator","helperText"),DR=OL("formError").parts("text","icon"),zR=OL("input").parts("addon","field","element"),BR=OL("list").parts("container","item","icon"),FR=OL("menu").parts("button","list","item").extend("groupTitle","command","divider"),NR=OL("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),jR=OL("numberinput").parts("root","field","stepperGroup","stepper"),VR=(OL("pininput").parts("field"),OL("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton")),UR=OL("progress").parts("label","filledTrack","track"),WR=OL("radio").parts("container","control","label"),HR=OL("select").parts("field","icon"),GR=OL("slider").parts("container","track","thumb","filledTrack"),qR=OL("stat").parts("container","label","helpText","number","icon"),ZR=OL("switch").parts("container","track","thumb"),XR=OL("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),YR=OL("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),$R=OL("tag").parts("container","label","closeButton");function KR(){return KR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},KR.apply(this,arguments)}var QR={container:{borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},button:{transitionProperty:"common",transitionDuration:"normal",fontSize:"1rem",_focus:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:4,py:2},panel:{pt:2,px:4,pb:5},icon:{fontSize:"1.25em"}},JR={parts:ER.keys,baseStyle:QR};function eI(e){var t=e.theme,i=e.colorScheme;return TL(_L(t,i+".100",i),SL(i+".200",.16)(t))(e)}var tI={subtle:function(e){var t=e.colorScheme;return{container:{bg:eI(e)},icon:{color:TL(t+".500",t+".200")(e)}}},"left-accent":function(e){var t=e.colorScheme;return{container:{paddingStart:3,borderStartWidth:"4px",borderStartColor:TL(t+".500",t+".200")(e),bg:eI(e)},icon:{color:TL(t+".500",t+".200")(e)}}},"top-accent":function(e){var t=e.colorScheme;return{container:{pt:2,borderTopWidth:"4px",borderTopColor:TL(t+".500",t+".200")(e),bg:eI(e)},icon:{color:TL(t+".500",t+".200")(e)}}},solid:function(e){var t=e.colorScheme;return{container:{bg:TL(t+".500",t+".200")(e),color:TL("white","gray.900")(e)}}}},iI={parts:AR.keys,baseStyle:{container:{px:4,py:3},title:{fontWeight:"bold",lineHeight:6,marginEnd:2},description:{lineHeight:6},icon:{flexShrink:0,marginEnd:3,w:5,h:6}},variants:tI,defaultProps:{variant:"subtle",colorScheme:"blue"}},nI={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},rI=KR({},nI,{max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem"},{container:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px"}}),oI=function(e){return{transform:"translate(25%, 25%)",borderRadius:"full",border:"0.2em solid",borderColor:TL("white","gray.800")(e)}},aI=function(e){return{bg:TL("gray.200","whiteAlpha.400")(e)}},sI=function(e){var t=e.name,i=e.theme,n=t?CL({string:t}):"gray.400",r=function(e){return function(t){return"dark"===wL(e)(t)}}(n)(i),o="white";return r||(o="gray.800"),{bg:n,color:o,borderColor:TL("white","gray.800")(e),verticalAlign:"top"}};function lI(e){var t=rI[e];return{container:{width:e,height:e,fontSize:"calc("+(null!=t?t:e)+" / 2.5)"},excessLabel:{width:e,height:e},label:{fontSize:"calc("+(null!=t?t:e)+" / 2.5)",lineHeight:"100%"!==e?null!=t?t:e:void 0}}}var uI,cI,hI,dI={"2xs":lI("4"),xs:lI("6"),sm:lI("8"),md:lI("12"),lg:lI("16"),xl:lI("24"),"2xl":lI("32"),full:lI("100%")},pI={parts:PR.keys,baseStyle:function(e){return{badge:oI(e),excessLabel:aI(e),container:sI(e)}},sizes:dI,defaultProps:{size:"md"}},fI={solid:function(e){var t=e.colorScheme,i=e.theme;return{bg:TL(t+".500",SL(t+".500",.6)(i))(e),color:TL("white","whiteAlpha.800")(e)}},subtle:function(e){var t=e.colorScheme,i=e.theme;return{bg:TL(t+".100",SL(t+".200",.16)(i))(e),color:TL(t+".800",t+".200")(e)}},outline:function(e){var t=e.colorScheme,i=e.theme,n=SL(t+".200",.8)(i),r=TL(_L(i,t+".500"),n)(e);return{color:r,boxShadow:"inset 0 0 0px 1px "+r}}},mI={baseStyle:{px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold"},variants:fI,defaultProps:{variant:"subtle",colorScheme:"gray"}},gI={link:{transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focus:{boxShadow:"outline"}}},yI={parts:MR.keys,baseStyle:gI},vI=function(e){var t=e.colorScheme,i=e.theme;if("gray"===t)return{color:TL("inherit","whiteAlpha.900")(e),_hover:{bg:TL("gray.100","whiteAlpha.200")(e)},_active:{bg:TL("gray.200","whiteAlpha.300")(e)}};var n=SL(t+".200",.12)(i),r=SL(t+".200",.24)(i);return{color:TL(t+".600",t+".200")(e),bg:"transparent",_hover:{bg:TL(t+".50",n)(e)},_active:{bg:TL(t+".100",r)(e)}}},bI={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},xI={ghost:vI,outline:function(e){var t=e.colorScheme,i=TL("gray.200","whiteAlpha.300")(e);return KR({border:"1px solid",borderColor:"gray"===t?i:"currentColor"},vI(e))},solid:function(e){var t,i=e.colorScheme;if("gray"===i){var n=TL("gray.100","whiteAlpha.200")(e);return{bg:n,_hover:{bg:TL("gray.200","whiteAlpha.300")(e),_disabled:{bg:n}},_active:{bg:TL("gray.300","whiteAlpha.400")(e)}}}var r=null!=(t=bI[i])?t:{},o=r.bg,a=void 0===o?i+".500":o,s=r.color,l=void 0===s?"white":s,u=r.hoverBg,c=void 0===u?i+".600":u,h=r.activeBg,d=void 0===h?i+".700":h,p=TL(a,i+".200")(e);return{bg:p,color:TL(l,"gray.800")(e),_hover:{bg:TL(c,i+".300")(e),_disabled:{bg:p}},_active:{bg:TL(d,i+".400")(e)}}},link:function(e){var t=e.colorScheme;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:TL(t+".500",t+".200")(e),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:TL(t+".700",t+".500")(e)}}},unstyled:{bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:0,p:0}},_I={baseStyle:{lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focus:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variants:xI,sizes:{lg:{h:12,minW:12,fontSize:"lg",px:6},md:{h:10,minW:10,fontSize:"md",px:4},sm:{h:8,minW:8,fontSize:"sm",px:3},xs:{h:6,minW:6,fontSize:"xs",px:2}},defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},wI=function(e){var t=e.colorScheme;return{w:"100%",transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:TL(t+".500",t+".200")(e),borderColor:TL(t+".500",t+".200")(e),color:TL("white","gray.900")(e),_hover:{bg:TL(t+".600",t+".300")(e),borderColor:TL(t+".600",t+".300")(e)},_disabled:{borderColor:TL("gray.200","transparent")(e),bg:TL("gray.200","whiteAlpha.300")(e),color:TL("gray.500","whiteAlpha.500")(e)}},_indeterminate:{bg:TL(t+".500",t+".200")(e),borderColor:TL(t+".500",t+".200")(e),color:TL("white","gray.900")(e)},_disabled:{bg:TL("gray.100","whiteAlpha.100")(e),borderColor:TL("gray.100","transparent")(e)},_focus:{boxShadow:"outline"},_invalid:{borderColor:TL("red.500","red.300")(e)}}},SI={userSelect:"none",_disabled:{opacity:.4}},kI={transitionProperty:"transform",transitionDuration:"normal"},CI={parts:LR.keys,baseStyle:function(e){return{icon:kI,control:wI(e),label:SI}},sizes:{sm:{control:{h:3,w:3},label:{fontSize:"sm"},icon:{fontSize:"0.45rem"}},md:{control:{w:4,h:4},label:{fontSize:"md"},icon:{fontSize:"0.625rem"}},lg:{control:{w:5,h:5},label:{fontSize:"lg"},icon:{fontSize:"0.625rem"}}},defaultProps:{size:"md",colorScheme:"blue"}},TI=HL("close-button-size"),EI={baseStyle:function(e){var t=TL("blackAlpha.100","whiteAlpha.100")(e),i=TL("blackAlpha.200","whiteAlpha.200")(e);return{w:[TI.reference],h:[TI.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{bg:t},_active:{bg:i},_focus:{boxShadow:"outline"}}},sizes:{lg:(uI={},uI[TI.variable]="40px",uI.fontSize="16px",uI),md:(cI={},cI[TI.variable]="32px",cI.fontSize="12px",cI),sm:(hI={},hI[TI.variable]="24px",hI.fontSize="10px",hI)},defaultProps:{size:"md"}},AI={baseStyle:{fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm"},variants:mI.variants,defaultProps:mI.defaultProps},PI={baseStyle:{w:"100%",mx:"auto",maxW:"60ch",px:"1rem"}},MI={baseStyle:{opacity:.6,borderColor:"inherit"},variants:{solid:{borderStyle:"solid"},dashed:{borderStyle:"dashed"}},defaultProps:{variant:"solid"}};function LI(e){return"full"===e?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:e}}}var OI={bg:"blackAlpha.600",zIndex:"overlay"},RI={display:"flex",zIndex:"modal",justifyContent:"center"},II=function(e){return KR({},e.isFullHeight&&{height:"100vh"},{zIndex:"modal",maxH:"100vh",bg:TL("white","gray.700")(e),color:"inherit",boxShadow:TL("lg","dark-lg")(e)})},DI={px:6,py:4,fontSize:"xl",fontWeight:"semibold"},zI={position:"absolute",top:2,insetEnd:3},BI={px:6,py:2,flex:1,overflow:"auto"},FI={px:6,py:4},NI={xs:LI("xs"),sm:LI("md"),md:LI("lg"),lg:LI("2xl"),xl:LI("4xl"),full:LI("full")},jI={parts:OR.keys,baseStyle:function(e){return{overlay:OI,dialogContainer:RI,dialog:II(e),header:DI,closeButton:zI,body:BI,footer:FI}},sizes:NI,defaultProps:{size:"xs"}},VI={preview:{borderRadius:"md",py:"3px",transitionProperty:"common",transitionDuration:"normal"},input:{borderRadius:"md",py:"3px",transitionProperty:"common",transitionDuration:"normal",width:"full",_focus:{boxShadow:"outline"},_placeholder:{opacity:.6}}},UI={parts:RR.keys,baseStyle:VI},WI=function(e){return{marginStart:1,color:TL("red.500","red.300")(e)}},HI=function(e){return{mt:2,color:TL("gray.500","whiteAlpha.600")(e),lineHeight:"normal",fontSize:"sm"}},GI={parts:IR.keys,baseStyle:function(e){return{container:{width:"100%",position:"relative"},requiredIndicator:WI(e),helperText:HI(e)}}},qI={baseStyle:{fontSize:"md",marginEnd:3,mb:2,fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}}},ZI={baseStyle:{fontFamily:"heading",fontWeight:"bold"},sizes:{"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},defaultProps:{size:"xl"}},XI={lg:{fontSize:"lg",px:4,h:12,borderRadius:"md"},md:{fontSize:"md",px:4,h:10,borderRadius:"md"},sm:{fontSize:"sm",px:3,h:8,borderRadius:"sm"},xs:{fontSize:"xs",px:2,h:6,borderRadius:"sm"}},YI={lg:{field:XI.lg,addon:XI.lg},md:{field:XI.md,addon:XI.md},sm:{field:XI.sm,addon:XI.sm},xs:{field:XI.xs,addon:XI.xs}};function $I(e){var t=e.focusBorderColor,i=e.errorBorderColor;return{focusBorderColor:t||TL("blue.500","blue.300")(e),errorBorderColor:i||TL("red.500","red.300")(e)}}var KI={outline:function(e){var t=e.theme,i=$I(e),n=i.focusBorderColor,r=i.errorBorderColor;return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:TL("gray.300","whiteAlpha.400")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_disabled:{opacity:.4,cursor:"not-allowed"},_invalid:{borderColor:_L(t,r),boxShadow:"0 0 0 1px "+_L(t,r)},_focus:{zIndex:1,borderColor:_L(t,n),boxShadow:"0 0 0 1px "+_L(t,n)}},addon:{border:"1px solid",borderColor:TL("inherit","whiteAlpha.50")(e),bg:TL("gray.100","whiteAlpha.300")(e)}}},filled:function(e){var t=e.theme,i=$I(e),n=i.focusBorderColor,r=i.errorBorderColor;return{field:{border:"2px solid",borderColor:"transparent",bg:TL("gray.100","whiteAlpha.50")(e),_hover:{bg:TL("gray.200","whiteAlpha.100")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_disabled:{opacity:.4,cursor:"not-allowed"},_invalid:{borderColor:_L(t,r)},_focus:{bg:"transparent",borderColor:_L(t,n)}},addon:{border:"2px solid",borderColor:"transparent",bg:TL("gray.100","whiteAlpha.50")(e)}}},flushed:function(e){var t=e.theme,i=$I(e),n=i.focusBorderColor,r=i.errorBorderColor;return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:0,px:0,bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:_L(t,r),boxShadow:"0px 1px 0px 0px "+_L(t,r)},_focus:{borderColor:_L(t,n),boxShadow:"0px 1px 0px 0px "+_L(t,n)}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:0,px:0,bg:"transparent"}}},unstyled:{field:{bg:"transparent",px:0,height:"auto"},addon:{bg:"transparent",px:0,height:"auto"}}},QI={parts:zR.keys,baseStyle:{field:{width:"100%",minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal"}},sizes:YI,variants:KI,defaultProps:{size:"md",variant:"outline"}},JI={baseStyle:function(e){return{bg:TL("gray.100","whiteAlpha")(e),borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"}}},eD={baseStyle:{transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focus:{boxShadow:"outline"}}},tD={container:{},item:{},icon:{marginEnd:"0.5rem",display:"inline",verticalAlign:"text-bottom"}},iD={parts:BR.keys,baseStyle:tD},nD=function(e){return{bg:TL("#fff","gray.700")(e),boxShadow:TL("sm","dark-lg")(e),color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px"}},rD=function(e){return{py:"0.4rem",px:"0.8rem",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{bg:TL("gray.100","whiteAlpha.100")(e)},_active:{bg:TL("gray.200","whiteAlpha.200")(e)},_expanded:{bg:TL("gray.100","whiteAlpha.100")(e)},_disabled:{opacity:.4,cursor:"not-allowed"}}},oD={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},aD={opacity:.6},sD={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"0.5rem",opacity:.6},lD={transitionProperty:"common",transitionDuration:"normal"},uD={parts:FR.keys,baseStyle:function(e){return{button:lD,list:nD(e),item:rD(e),groupTitle:oD,command:aD,divider:sD}}},cD={bg:"blackAlpha.600",zIndex:"modal"},hD=function(e){return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e.isCentered?"center":"flex-start",overflow:"inside"===e.scrollBehavior?"hidden":"auto"}},dD=function(e){var t=e.scrollBehavior;return{borderRadius:"md",bg:TL("white","gray.700")(e),color:"inherit",my:"3.75rem",zIndex:"modal",maxH:"inside"===t?"calc(100% - 7.5rem)":void 0,boxShadow:TL("lg","dark-lg")(e)}},pD={px:6,py:4,fontSize:"xl",fontWeight:"semibold"},fD={position:"absolute",top:2,insetEnd:3},mD=function(e){return{px:6,py:2,flex:1,overflow:"inside"===e.scrollBehavior?"auto":void 0}},gD={px:6,py:4};function yD(e){return"full"===e?{dialog:{maxW:"100vw",minH:"100vh","@supports(min-height: -webkit-fill-available)":{minH:"-webkit-fill-available"},my:0}}:{dialog:{maxW:e}}}var vD,bD,xD,_D={xs:yD("xs"),sm:yD("sm"),md:yD("md"),lg:yD("lg"),xl:yD("xl"),"2xl":yD("2xl"),"3xl":yD("3xl"),"4xl":yD("4xl"),"5xl":yD("5xl"),"6xl":yD("6xl"),full:yD("full")},wD={parts:NR.keys,baseStyle:function(e){return{overlay:cD,dialogContainer:hD(e),dialog:dD(e),header:pD,closeButton:fD,body:mD(e),footer:gD}},sizes:_D,defaultProps:{size:"md"}},SD={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},kD=QI.variants,CD=QI.defaultProps,TD=HL("number-input-stepper-width"),ED=HL("number-input-input-padding"),AD=jL(TD).add("0.5rem").toString(),PD=((vD={})[TD.variable]="24px",vD[ED.variable]=AD,vD),MD=null!=(bD=null==(xD=QI.baseStyle)?void 0:xD.field)?bD:{},LD={width:[TD.reference]},OD=function(e){return{borderStart:"1px solid",borderStartColor:TL("inherit","whiteAlpha.300")(e),color:TL("inherit","whiteAlpha.800")(e),_active:{bg:TL("gray.200","whiteAlpha.300")(e)},_disabled:{opacity:.4,cursor:"not-allowed"}}};function RD(e){var t,i,n=QI.sizes[e],r={lg:"md",md:"md",sm:"sm",xs:"sm"},o=null!=(t=null==(i=n.field)?void 0:i.fontSize)?t:"md",a=SD.fontSizes[o.toString()];return{field:KR({},n.field,{paddingInlineEnd:ED.reference,verticalAlign:"top"}),stepper:{fontSize:jL(a).multiply(.75).toString(),_first:{borderTopEndRadius:r[e]},_last:{borderBottomEndRadius:r[e],mt:"-1px",borderTopWidth:1}}}}var ID,DD={xs:RD("xs"),sm:RD("sm"),md:RD("md"),lg:RD("lg")},zD={parts:jR.keys,baseStyle:function(e){return{root:PD,field:MD,stepperGroup:LD,stepper:OD(e)}},sizes:DD,variants:kD,defaultProps:CD},BD={baseStyle:KR({},QI.baseStyle.field,{textAlign:"center"}),sizes:{lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},variants:{outline:function(e){var t;return null!=(t=QI.variants.outline(e).field)?t:{}},flushed:function(e){var t;return null!=(t=QI.variants.flushed(e).field)?t:{}},filled:function(e){var t;return null!=(t=QI.variants.filled(e).field)?t:{}},unstyled:null!=(ID=QI.variants.unstyled.field)?ID:{}},defaultProps:QI.defaultProps},FD=HL("popper-bg"),ND=HL("popper-arrow-bg"),jD=HL("popper-arrow-shadow-color"),VD={zIndex:10},UD=function(e){var t,i=TL("white","gray.700")(e),n=TL("gray.200","whiteAlpha.300")(e);return(t={})[FD.variable]="colors."+i,t.bg=FD.reference,t[ND.variable]=FD.reference,t[jD.variable]="colors."+n,t.width="xs",t.border="1px solid",t.borderColor="inherit",t.borderRadius="md",t.boxShadow="sm",t.zIndex="inherit",t._focus={outline:0,boxShadow:"outline"},t},WD={px:3,py:2,borderBottomWidth:"1px"},HD={px:3,py:2},GD={px:3,py:2,borderTopWidth:"1px"},qD={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},ZD={parts:VR.keys,baseStyle:function(e){return{popper:VD,content:UD(e),header:WD,body:HD,footer:GD,arrow:{},closeButton:qD}}};var XD={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},YD=function(e){return{bg:TL("gray.100","whiteAlpha.300")(e)}},$D=function(e){return KR({transitionProperty:"common",transitionDuration:"slow"},function(e){var t=e.colorScheme,i=e.theme,n=e.isIndeterminate,r=e.hasStripe,o=TL(kL(),kL("1rem","rgba(0,0,0,0.1)"))(e),a=TL(t+".500",t+".200")(e),s="linear-gradient(\n    to right,\n    transparent 0%,\n    "+_L(i,a)+" 50%,\n    transparent 100%\n  )";return KR({},!n&&r&&o,n?{bgImage:s}:{bgColor:a})}(e))},KD={parts:UR.keys,sizes:{xs:{track:{h:"0.25rem"}},sm:{track:{h:"0.5rem"}},md:{track:{h:"0.75rem"}},lg:{track:{h:"1rem"}}},baseStyle:function(e){return{label:XD,filledTrack:$D(e),track:YD(e)}},defaultProps:{size:"md",colorScheme:"blue"}},QD=function(e){var t=CI.baseStyle(e).control,i=void 0===t?{}:t;return KR({},i,{borderRadius:"full",_checked:KR({},i._checked,{_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}})})},JD={parts:WR.keys,baseStyle:function(e){return{label:CI.baseStyle(e).label,control:QD(e)}},sizes:{md:{control:{w:4,h:4},label:{fontSize:"md"}},lg:{control:{w:5,h:5},label:{fontSize:"lg"}},sm:{control:{width:3,height:3},label:{fontSize:"sm"}}},defaultProps:{size:"md",colorScheme:"blue"}},ez=function(e){return KR({},QI.baseStyle.field,{bg:TL("white","gray.700")(e),appearance:"none",paddingBottom:"1px",lineHeight:"normal","> option, > optgroup":{bg:TL("white","gray.700")(e)}})},tz={width:"1.5rem",height:"100%",insetEnd:"0.5rem",position:"relative",color:"currentColor",fontSize:"1.25rem",_disabled:{opacity:.5}},iz={paddingInlineEnd:"2rem"},nz=s()({},QI.sizes,{lg:{field:iz},md:{field:iz},sm:{field:iz},xs:{field:iz,icon:{insetEnd:"0.25rem"}}}),rz={parts:HR.keys,baseStyle:function(e){return{field:ez(e),icon:tz}},sizes:nz,variants:QI.variants,defaultProps:QI.defaultProps},oz=function(e,t){return Qn({from:{borderColor:e,background:e},to:{borderColor:t,background:t}})},az={baseStyle:function(e){var t=TL("gray.100","gray.800")(e),i=TL("gray.400","gray.600")(e),n=e.startColor,r=void 0===n?t:n,o=e.endColor,a=void 0===o?i:o,s=e.speed,l=e.theme,u=_L(l,r),c=_L(l,a);return{opacity:.7,borderRadius:"2px",borderColor:u,background:c,animation:s+"s linear infinite alternate "+oz(u,c)}}},sz={baseStyle:function(e){return{borderRadius:"md",fontWeight:"semibold",_focus:{boxShadow:"outline",padding:"1rem",position:"fixed",top:"1.5rem",insetStart:"1.5rem",bg:TL("white","gray.700")(e)}}}};var lz,uz,cz,hz,dz,pz,fz,mz,gz,yz,vz,bz,xz,_z=function(e){return KR({display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"}},EL({orientation:e.orientation,vertical:{h:"100%"},horizontal:{w:"100%"}}))},wz=function(e){return{overflow:"hidden",borderRadius:"sm",bg:TL("gray.200","whiteAlpha.200")(e),_disabled:{bg:TL("gray.300","whiteAlpha.300")(e)}}},Sz=function(e){return KR({display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focus:{boxShadow:"outline"},_disabled:{bg:"gray.300"}},function(e){return EL({orientation:e.orientation,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}})}(e))},kz=function(e){var t=e.colorScheme;return{width:"inherit",height:"inherit",bg:TL(t+".500",t+".200")(e)}},Cz={lg:function(e){return{thumb:{w:"16px",h:"16px"},track:EL({orientation:e.orientation,horizontal:{h:"4px"},vertical:{w:"4px"}})}},md:function(e){return{thumb:{w:"14px",h:"14px"},track:EL({orientation:e.orientation,horizontal:{h:"4px"},vertical:{w:"4px"}})}},sm:function(e){return{thumb:{w:"10px",h:"10px"},track:EL({orientation:e.orientation,horizontal:{h:"2px"},vertical:{w:"2px"}})}}},Tz={parts:GR.keys,sizes:Cz,baseStyle:function(e){return{container:_z(e),track:wz(e),thumb:Sz(e),filledTrack:kz(e)}},defaultProps:{size:"md",colorScheme:"blue"}},Ez=HL("spinner-size"),Az={baseStyle:{width:[Ez.reference],height:[Ez.reference]},sizes:{xs:(lz={},lz[Ez.variable]="0.75rem",lz),sm:(uz={},uz[Ez.variable]="1rem",uz),md:(cz={},cz[Ez.variable]="1.5rem",cz),lg:(hz={},hz[Ez.variable]="2rem",hz),xl:(dz={},dz[Ez.variable]="3rem",dz)},defaultProps:{size:"md"}},Pz={container:{},label:{fontWeight:"medium"},helpText:{opacity:.8,marginBottom:2},number:{verticalAlign:"baseline",fontWeight:"semibold"},icon:{marginEnd:1,w:"14px",h:"14px",verticalAlign:"middle"}},Mz={parts:qR.keys,baseStyle:Pz,sizes:{md:{label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}}},defaultProps:{size:"md"}},Lz=HL("switch-track-width"),Oz=HL("switch-track-height"),Rz=HL("switch-track-diff"),Iz=jL.subtract(Lz,Oz),Dz=HL("switch-thumb-x"),zz=function(e){var t=e.colorScheme;return{borderRadius:"full",p:"2px",width:[Lz.reference],height:[Oz.reference],transitionProperty:"common",transitionDuration:"fast",bg:TL("gray.300","whiteAlpha.400")(e),_focus:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{bg:TL(t+".500",t+".200")(e)}}},Bz={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[Oz.reference],height:[Oz.reference],_checked:{transform:"translateX("+Dz.reference+")"}},Fz={sm:{container:(pz={},pz[Lz.variable]="1.375rem",pz[Oz.variable]="0.75rem",pz)},md:{container:(fz={},fz[Lz.variable]="1.875rem",fz[Oz.variable]="1rem",fz)},lg:{container:(mz={},mz[Lz.variable]="2.875rem",mz[Oz.variable]="1.5rem",mz)}},Nz={parts:ZR.keys,baseStyle:function(e){var t,i;return{container:(i={},i[Rz.variable]=Iz,i[Dz.variable]=Rz.reference,i._rtl=(t={},t[Dz.variable]=jL(Rz).negate().toString(),t),i),track:zz(e),thumb:Bz}},sizes:Fz,defaultProps:{size:"md",colorScheme:"blue"}},jz={"&[data-is-numeric=true]":{textAlign:"end"}},Vz={simple:function(e){var t=e.colorScheme;return{th:KR({color:TL("gray.600","gray.400")(e),borderBottom:"1px",borderColor:TL(t+".100",t+".700")(e)},jz),td:KR({borderBottom:"1px",borderColor:TL(t+".100",t+".700")(e)},jz),caption:{color:TL("gray.600","gray.100")(e)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}},striped:function(e){var t=e.colorScheme;return{th:KR({color:TL("gray.600","gray.400")(e),borderBottom:"1px",borderColor:TL(t+".100",t+".700")(e)},jz),td:KR({borderBottom:"1px",borderColor:TL(t+".100",t+".700")(e)},jz),caption:{color:TL("gray.600","gray.100")(e)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:TL(t+".100",t+".700")(e)},td:{background:TL(t+".100",t+".700")(e)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}},unstyled:{}},Uz={parts:XR.keys,baseStyle:{table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}},variants:Vz,sizes:{sm:{th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}},md:{th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}},lg:{th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}}},defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}},Wz=function(e){return{display:"vertical"===e.orientation?"flex":"block"}},Hz=function(e){return{flex:e.isFitted?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focus:{zIndex:1,boxShadow:"outline"}}},Gz=function(e){var t=e.align,i=void 0===t?"start":t,n=e.orientation;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[i],flexDirection:"vertical"===n?"column":"row"}},qz={p:4},Zz={line:function(e){var t,i,n=e.colorScheme,r=e.orientation,o="vertical"===r?"borderStart":"borderBottom",a="vertical"===r?"marginStart":"marginBottom";return{tablist:(t={},t[o]="2px solid",t.borderColor="inherit",t),tab:(i={},i[o]="2px solid",i.borderColor="transparent",i[a]="-2px",i._selected={color:TL(n+".600",n+".300")(e),borderColor:"currentColor"},i._active={bg:TL("gray.200","whiteAlpha.300")(e)},i._disabled={opacity:.4,cursor:"not-allowed"},i)}},enclosed:function(e){var t=e.colorScheme;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",_selected:{color:TL(t+".600",t+".300")(e),borderColor:"inherit",borderBottomColor:TL("white","gray.800")(e)}},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}},"enclosed-colored":function(e){var t=e.colorScheme;return{tab:{border:"1px solid",borderColor:"inherit",bg:TL("gray.50","whiteAlpha.50")(e),mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{bg:TL("#fff","gray.800")(e),color:TL(t+".600",t+".300")(e),borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"}},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}},"soft-rounded":function(e){var t=e.colorScheme,i=e.theme;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:_L(i,t+".700"),bg:_L(i,t+".100")}}}},"solid-rounded":function(e){var t=e.colorScheme;return{tab:{borderRadius:"full",fontWeight:"semibold",color:TL("gray.600","inherit")(e),_selected:{color:TL("#fff","gray.800")(e),bg:TL(t+".600",t+".300")(e)}}}},unstyled:{}},Xz={parts:YR.keys,baseStyle:function(e){return{root:Wz(e),tab:Hz(e),tablist:Gz(e),tabpanel:qz}},sizes:{sm:{tab:{py:1,px:4,fontSize:"sm"}},md:{tab:{fontSize:"md",py:2,px:4}},lg:{tab:{fontSize:"lg",py:3,px:4}}},variants:Zz,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}},Yz={container:{fontWeight:"medium",lineHeight:1.2,outline:0,_focus:{boxShadow:"outline"}},label:{lineHeight:1.2,overflow:"visible"},closeButton:{fontSize:"18px",w:"1.25rem",h:"1.25rem",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"0.375rem",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focus:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}}},$z={subtle:function(e){return{container:mI.variants.subtle(e)}},solid:function(e){return{container:mI.variants.solid(e)}},outline:function(e){return{container:mI.variants.outline(e)}}},Kz={parts:$R.keys,variants:$z,baseStyle:Yz,sizes:{sm:{container:{minH:"1.25rem",minW:"1.25rem",fontSize:"xs",px:2,borderRadius:"md"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}},md:{container:{minH:"1.5rem",minW:"1.5rem",fontSize:"sm",borderRadius:"md",px:2}},lg:{container:{minH:8,minW:8,fontSize:"md",borderRadius:"md",px:3}}},defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}},Qz=KR({},QI.baseStyle.field,{paddingY:"8px",minHeight:"80px",lineHeight:"short",verticalAlign:"top"}),Jz={outline:function(e){var t;return null!=(t=QI.variants.outline(e).field)?t:{}},flushed:function(e){var t;return null!=(t=QI.variants.flushed(e).field)?t:{}},filled:function(e){var t;return null!=(t=QI.variants.filled(e).field)?t:{}},unstyled:null!=(gz=QI.variants.unstyled.field)?gz:{}},eB={baseStyle:Qz,sizes:{xs:null!=(yz=QI.sizes.xs.field)?yz:{},sm:null!=(vz=QI.sizes.sm.field)?vz:{},md:null!=(bz=QI.sizes.md.field)?bz:{},lg:null!=(xz=QI.sizes.lg.field)?xz:{}},variants:Jz,defaultProps:{size:"md",variant:"outline"}},tB=HL("tooltip-bg"),iB=HL("popper-arrow-bg"),nB={baseStyle:function(e){var t,i=TL("gray.700","gray.300")(e);return(t={})[tB.variable]="colors."+i,t.px="8px",t.py="2px",t.bg=[tB.reference],t[iB.variable]=[tB.reference],t.color=TL("whiteAlpha.900","gray.900")(e),t.borderRadius="sm",t.fontWeight="medium",t.fontSize="sm",t.boxShadow="md",t.maxW="320px",t.zIndex="tooltip",t}},rB=function(e){return{color:TL("red.500","red.300")(e),mt:2,fontSize:"sm",lineHeight:"normal"}},oB=function(e){return{marginEnd:"0.5em",color:TL("red.500","red.300")(e)}},aB={parts:DR.keys,baseStyle:function(e){return{text:rB(e),icon:oB(e)}}},sB={Accordion:JR,Alert:iI,Avatar:pI,Badge:mI,Breadcrumb:yI,Button:_I,Checkbox:CI,CloseButton:EI,Code:AI,Container:PI,Divider:MI,Drawer:jI,Editable:UI,Form:GI,FormLabel:qI,Heading:ZI,Input:QI,Kbd:JI,Link:eD,List:iD,Menu:uD,Modal:wD,NumberInput:zD,PinInput:BD,Popover:ZD,Progress:KD,Radio:JD,Select:rz,Skeleton:az,SkipLink:sz,Slider:Tz,Spinner:Az,Stat:Mz,Switch:Nz,Table:Uz,Tabs:Xz,Tag:Kz,Textarea:eB,Tooltip:nB,FormError:aB},lB={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},uB=KR({breakpoints:PL({sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"}),zIndices:{hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},radii:{none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},blur:{none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},colors:{transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}}},SD,{sizes:rI,shadows:{xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},space:nI,borders:lB,transition:{property:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},easing:{"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},duration:{"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"}}});var cB=KR({direction:"ltr"},uB,{components:sB,styles:{global:function(e){return{body:{fontFamily:"body",color:TL("gray.800","whiteAlpha.900")(e),bg:TL("white","gray.800")(e),transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:TL("gray.400","whiteAlpha.400")(e)},"*, *::before, &::after":{borderColor:TL("gray.200","whiteAlpha.300")(e),wordWrap:"break-word"}}}},config:{useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"}}),hB=function(t){var i=t.children,n=t.colorModeManager,r=t.portalZIndex,o=t.resetCSS,a=void 0===o||o,s=t.theme,l=void 0===s?{}:s,u=t.environment,c=t.cssVarsRoot,h=e.createElement(Te,{environment:u},i);return e.createElement(Fo,null,e.createElement(mr,{theme:l,cssVarsRoot:c},e.createElement(je,{colorModeManager:n,options:l.config},a&&e.createElement(dR,null),e.createElement(xr,null),r?e.createElement(gR,{zIndex:r},h):h)))};hB.defaultProps={theme:cB},t.render((0,Lo.jsxs)(e.StrictMode,{children:[(0,Lo.jsx)(hB,{children:(0,Lo.jsx)(hR,{})}),","]}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.09be3bf8.js.map